"use strict";(self.webpackChunkmomo_game=self.webpackChunkmomo_game||[]).push([[809],{809:function(n,t,e){e.r(t),e.d(t,{default:function(){return Wc}});e(7600);var i,o=e(7313),r=e(2135),a=e(8467),c=e(5422),s=e(7204),l=e(3303),u=e(168),d=e(244),f=e(5554),p=f.I0,x=f.v9,h=e(1046),g=e(6417);function m(){var n=(0,o.useRef)(null);p();return(0,o.useEffect)((function(){}),[]),(0,o.useEffect)((function(){return h.u.initDom(n.current),function(){}}),[n.current]),(0,o.useEffect)((function(){var t=function(){setTimeout((function(){h.u.initDom(n.current),h.u.resume()}),500)},e=function(){h.u.pause()};return t(),c.r.on(c.B.On_RESUME,t),c.r.on(c.B.On_PAUSE,e),c.r.on(c.B.ON_RESIZE,t),function(){e(),c.r.off(c.B.On_RESUME,t),c.r.off(c.B.On_PAUSE,e),c.r.off(c.B.ON_RESIZE,t)}}),[]),(0,g.jsx)(S,{className:"game",ref:n})}var v,b,w,Z,j,y,P,k,S=d.ZP.div(i||(i=(0,u.Z)(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n"]))),C=e(8197),T=e(9439),z=e(2749);function B(n){var t=(0,o.useState)(z.P.getInCache(n)||""),e=(0,T.Z)(t,2),i=e[0],r=e[1];return(0,o.useLayoutEffect)((function(){n&&z.P.cacheFile(n).then((function(n){r(n)}))}),[n]),i}var N,E,L,I,M,F,A,_,G,H,R,U,D,O,V,X,W,K,q,Y,J,Q,$,nn,tn,en,on,rn,an=d.ZP.div(v||(v=(0,u.Z)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n\n    width: 100%;\n    height: 100%;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]))),cn=(d.ZP.div(b||(b=(0,u.Z)(["\n    min-width: 80px;\n\n    border: 1px solid #000;\n    border-radius: 5px;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n\n    padding: 5px 10px;\n"]))),d.ZP.div(w||(w=(0,u.Z)(["\n    font-size: 20px;\n    color: #000;\n    text-align: center;\n    white-space: nowrap;\n"]))),d.ZP.div(Z||(Z=(0,u.Z)(["\n    background-image: url(",");\n    background-size: contain;\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n    width: ",";\n    height: ",";\n"])),(function(n){return n.src}),(function(n){return n.width||"unset"}),(function(n){return n.height||"unset"}))),sn=d.ZP.div(j||(j=(0,u.Z)(["\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n\n    background-color: ",";\n    z-index: 10;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"])),(function(n){return n.backgroundColor||"rgba(0, 0, 0, 0.8)"})),ln=(0,d.ZP)(cn)(y||(y=(0,u.Z)(["\n    width: ",";\n    height: ",";\n    min-width: 135px;\n\n    background-size: 100% 100%;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n\n    margin-top: ",";\n"])),(function(n){return n.width||"auto"}),(function(n){return n.height||"40px"}),(function(n){return n.marginTop||"unset"})),un=d.ZP.div(P||(P=(0,u.Z)(["\n    font-family: iCielUniSans;\n    font-size: ",";\n    font-weight: 900;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    text-align: center;\n    color: #fffbee;\n\n    margin: 2px 10px 0px;\n"])),(function(n){return n.fontSize||"18px"})),dn=d.ZP.div(k||(k=(0,u.Z)(["\n    width: ",";\n    height: ",";\n    background-image: ",";\n    background-size: 100% 100%;\n"])),(function(n){return n.width}),(function(n){return n.height}),(function(n){return'url("'.concat(n.src,'")')})),fn=e(4116),pn=e(2995),xn=function(n){var t=n.target,e=t.type,i=t.quantity,o=t.ball,r=B(pn.d.getTargetTypeImageUrl(e,o)||""),a=B(C.dN.general.checkIcon),c=x((function(n){return n.mainGame.targetChecker})),s=pn.d.getTargetCount(e,o,c),l=Math.max(i-s,0);return(0,g.jsxs)(hn,{children:[(0,g.jsx)(gn,{src:r}),(0,g.jsx)(mn,{children:l<=0?(0,g.jsx)(bn,{src:a}):(0,g.jsx)(vn,{children:l})})]})},hn=d.ZP.div(N||(N=(0,u.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-end;\n"]))),gn=(0,d.ZP)(cn)(E||(E=(0,u.Z)(["\n    width: ","vw;\n    height: ","vw;\n    flex: none;\n"])),28/375*100,28/375*100),mn=d.ZP.div(L||(L=(0,u.Z)(["\n    height: ","vw;\n    min-width: ","vw;\n    background-color: rgba(0, 0, 0, 0.3);\n    border-radius: ","vw;\n    flex: none;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    margin-top: ","vw;\n    padding-left: ","vw;\n    padding-right: ","vw;\n"])),4,22/375*100,7/375*100,-5/375*100,5/375*100,5/375*100),vn=d.ZP.div(I||(I=(0,u.Z)(["\n    font-family: iCielUniSans;\n    font-size: ","vw;\n    font-weight: 900;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    text-align: center;\n    color: #fffbee;\n\n    margin-top: ","vw;\n"])),3.2,2/375*100),bn=(0,d.ZP)(cn)(M||(M=(0,u.Z)(["\n    width: ","vw;\n    height: ","vw;\n    margin-top: ","vw;\n"])),16/375*100,16/375*100,-2/375*100),wn=function(n){var t=n.target,e=t.type,i=t.quantity,o=t.ball,r=B(pn.d.getTargetTypeImageUrl(e,o)||""),a=B(C.dN.general.checkIcon),c=x((function(n){return n.mainGame.targetChecker})),s=pn.d.getTargetCount(e,o,c),l=Math.max(i-s,0);return(0,g.jsxs)(hn,{children:[(0,g.jsx)(Zn,{src:r}),(0,g.jsx)(jn,{children:l<=0?(0,g.jsx)(bn,{src:a}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(yn,{children:"".concat(s)}),(0,g.jsx)(Pn,{children:"/".concat(i)})]})})]})},Zn=(0,d.ZP)(gn)(F||(F=(0,u.Z)(["\n    width: ","vw;\n    height: ","vw;\n"])),40/375*100,40/375*100),jn=(0,d.ZP)(mn)(A||(A=(0,u.Z)(["\n    margin-top: ","vw;\n    height: ","vw;\n"])),5/375*100,4.8),yn=(0,d.ZP)(vn)(_||(_=(0,u.Z)(["\n    font-size: ","vw;\n    color: #fe77cd;\n    margin-top: ","vw;\n"])),14/375*100,4/375*100),Pn=(0,d.ZP)(yn)(G||(G=(0,u.Z)(["\n    color: #fff;\n"]))),kn=function(){var n=x((function(n){return n.worldMap.chapters}));return(0,g.jsx)(g.Fragment,{children:n.length>0&&(0,g.jsx)(Sn,{})})},Sn=function(){var n=x((function(n){return n.worldMap.currentLevel})),t=x((function(n){return n.worldMap.chapters})),e=fn.Z.findLevelConfig(t,n);return(0,g.jsx)(Cn,{children:(0,g.jsx)(Tn,{children:function(){var n;return null===e||void 0===e||null===(n=e.targets)||void 0===n?void 0:n.map((function(n,t){return(0,g.jsx)(xn,{target:n},t)}))}()})})},Cn=d.ZP.div(H||(H=(0,u.Z)(["\n    position: absolute;\n    bottom: ","vw;\n    left: ","vw;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    align-items: flex-start;\n    gap: ","vw;\n"])),23/375*100,16/375*100,10/375*100),Tn=d.ZP.div(R||(R=(0,u.Z)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    gap: ","vw;\n"])),20/375*100),zn=function(){var n=x((function(n){return n.worldMap.chapters}));return(0,g.jsx)(g.Fragment,{children:n.length>0&&(0,g.jsx)(Bn,{})})},Bn=function(){var n=x((function(n){return n.worldMap.currentLevel})),t=x((function(n){return n.worldMap.chapters})),e=fn.Z.findLevelConfig(t,n);return(0,g.jsx)(Nn,{children:(0,g.jsx)(Tn,{children:function(){var n;return null===e||void 0===e||null===(n=e.targets)||void 0===n?void 0:n.map((function(n,t){return(0,g.jsx)(wn,{target:n},t)}))}()})})},Nn=d.ZP.div(U||(U=(0,u.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    align-items: flex-start;\n    gap: ","vw;\n    margin-top: ","vw;\n"])),10/375*100,13/375*100),En=function(n){var t=n.starScore,e=(n.maxScore,n.pos),i=x((function(n){return n.mainGame.currentGame.score})),o=B(C.dN.general.starIconDisable),r=B(C.dN.general.starIconAble);return(0,g.jsx)(Ln,{left:"".concat(100*e,"%"),children:(0,g.jsx)(In,{src:o,children:i>=t&&(0,g.jsx)(Fn,{src:r})})})},Ln=d.ZP.div(D||(D=(0,u.Z)(["\n    position: absolute;\n    left: ",";\n    top: 50%;\n    transform: translate(-50%, -50%);\n"])),(function(n){return n.left})),In=(0,d.ZP)(cn)(O||(O=(0,u.Z)(["\n    width: 16px;\n    height: 16px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]))),Mn=(0,d.F4)(V||(V=(0,u.Z)(["\n      0% {transform: translate(-50%, -50%) scale(0);}\n    100% {transform: translate(-50%, -50%) scale(1);}\n"]))),Fn=(0,d.ZP)(In)(X||(X=(0,u.Z)(["\n    width: 28px;\n    height: 28px;\n    transform: translate(-50%, -50%) scale(0);\n    animation-name: ",";\n    animation-duration: 0.3s;\n    animation-fill-mode: forwards;\n    animation-timing-function: cubic-bezier(0, 0.8, 0.8, 1.5);\n"])),Mn),An=function(){var n=x((function(n){return n.mainGame.currentGame})),t=n.score,e=n.star1Score,i=n.star2Score,o=n.star3Score,r=o/80*100,a=[0,e,i,o,r],c=[0,.2,.5,.8,1],s=100*pn.d.calcProgressBarPercent(a,c,t);return(0,g.jsxs)(_n,{children:[(0,g.jsx)(Hn,{src:B(C.dN.general.progressBarBg),children:(0,g.jsxs)(Rn,{children:[(0,g.jsx)(Un,{style:{clipPath:"polygon(0% 0%, ".concat(s,"% 0%, ").concat(s,"% 100%, 0 100%)")}}),[e,i,o].map((function(n,t){return(0,g.jsx)(En,{starScore:n,maxScore:r,pos:c[t+1]},t)}))]})}),(0,g.jsx)(Gn,{children:pn.d.convertNumberToScoreString(t)})]})},_n=d.ZP.div(W||(W=(0,u.Z)(["\n    position: absolute;\n    bottom: 21px;\n    right: 16px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    align-items: flex-end;\n"]))),Gn=d.ZP.div(K||(K=(0,u.Z)(["\n    -webkit-text-stroke: 1px #681c8d;\n    font-family: iCielUniSans;\n    font-size: 18px;\n    font-weight: 900;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    text-align: center;\n    color: #fffbee;\n"]))),Hn=(0,d.ZP)(cn)(q||(q=(0,u.Z)(["\n    width: 94px;\n    height: 16px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]))),Rn=d.ZP.div(Y||(Y=(0,u.Z)(["\n    width: 88px;\n    height: 4px;\n    position: relative;\n"]))),Un=d.ZP.div(J||(J=(0,u.Z)(["\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background-image: linear-gradient(90deg, #ff0000, #ffff00);\n    border-radius: 2px;\n    transition: 0.2s linear;\n"]))),Dn=function(){var n=x((function(n){return n.mainGame.isUIVisible}));return(0,g.jsx)(g.Fragment,{children:n&&(0,g.jsx)(On,{})})},On=function(){var n=x((function(n){return n.mainGame.topOpacity}));return(0,g.jsxs)(Vn,{src:B(C.dN.MainGame.headerBg),style:{opacity:n,transition:"opacity ".concat(1==n?2:.4,"s ease-in")},children:[(0,g.jsx)(kn,{}),(0,g.jsx)(An,{})]})},Vn=(0,d.ZP)(cn)(Q||(Q=(0,u.Z)(["\n    background-size: 100% 100%;\n    width: 100%;\n    height: 104px;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n"]))),Xn=e(5869);function Wn(){var n=B(C.dN.MainGame.boosterCage),t=B(C.dN.MainGame.boosterBase),e=(B(C.dN.MainGame.boosterLight),B(C.dN.MainGame.boosterLock));return(0,g.jsxs)(_t,{onClick:null,children:[(0,g.jsx)(Gt,{src:n}),(0,g.jsx)(Ht,{src:t}),(0,g.jsx)(Rt,{src:e})]})}var Kn,qn,Yn,Jn,Qn,$n,nt,tt,et,it,ot,rt,at,ct,st,lt,ut,dt,ft,pt,xt,ht,gt,mt,vt,bt,wt,Zt,jt,yt,Pt,kt,St,Ct,Tt,zt,Bt,Nt,Et,Lt,It,Mt,Ft,At,_t=d.ZP.div($||($=(0,u.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    position: relative;\n"]))),Gt=(0,d.ZP)(cn)(nn||(nn=(0,u.Z)(["\n    width: 48px;\n    height: 43px;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    box-sizing: border-box;\n    padding-top: 5px;\n"]))),Ht=(0,d.ZP)(cn)(tn||(tn=(0,u.Z)(["\n    width: 64px;\n    height: 24px;\n\n    margin-top: -16px;\n\n    font-family: iCielUniSans;\n    font-size: 12px;\n    font-weight: 900;\n    text-align: center;\n    color: #681c8d;\n\n    box-sizing: border-box;\n    padding-top: 7px;\n"]))),Rt=((0,d.ZP)(cn)(en||(en=(0,u.Z)(["\n    width: 32px;\n    height: 32px;\n\n    flex-shrink: 0;\n"]))),(0,d.ZP)(cn)(on||(on=(0,u.Z)(["\n    width: 62px;\n    height: 43px;\n\n    margin-top: -30px;\n    flex-shrink: 0;\n    \n"]))),(0,d.ZP)(cn)(rn||(rn=(0,u.Z)(["\n    width: 24px;\n    height: 24px;\n\n    position: absolute;\n    top: 17px;\n"])))),Ut=e(2243),Dt=e(1772),Ot=function(){var n=x((function(n){return n.mainGame.isUIVisible}));return(0,g.jsx)(g.Fragment,{children:n&&(0,g.jsx)(Vt,{})})},Vt=function(){var n=p(),t=(0,o.useRef)(null);(0,o.useEffect)((function(){return t.current&&Ut.ZP.set(t.current,{y:500}),c.r.on(c.B.SCROLL_FINISH,(function(){t.current&&Ut.ZP.to(t.current,{y:0,duration:.8,ease:"power4.out"})})),function(){c.r.removeAllListeners(c.B.SCROLL_FINISH)}}),[]);return(0,g.jsxs)(Xt,{ref:t,children:[(0,g.jsx)(Wt,{src:C.dN.MainGame.optionBtn,onClick:function(){n(Xn.T.actions.setSettingPopupVisible(!0)),s.t.play(C.gH.GoForward),Dt.Z.clickSettingOnMaingame()}}),(0,g.jsxs)(Kt,{children:[(0,g.jsx)(Wn,{}),(0,g.jsx)(Wn,{}),(0,g.jsx)(Wn,{})]})]})},Xt=d.ZP.div(Kn||(Kn=(0,u.Z)(["\n    position: absolute;\n    bottom: 0px;\n    left: 0px;\n    width: 100%;\n"]))),Wt=(0,d.ZP)(cn)(qn||(qn=(0,u.Z)(["\n    position: absolute;\n    left: 24px;\n    bottom: 45px;\n\n    width: 32px;\n    height: 32px;\n\n    z-index: 1;\n"]))),Kt=d.ZP.div(Yn||(Yn=(0,u.Z)(["\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    gap: 18px;\n\n    position: absolute;\n    bottom: 32px;\n"]))),qt=e(7653),Yt=function(n){var t=n.title,e=n.children,i=n.onClose,o=n.marginBottom,r=n.isAppear,a=void 0===r||r;return(0,g.jsx)($t,{isAppear:a,children:(0,g.jsxs)(ee,{marginBottom:o,isAppear:a,children:[(0,g.jsx)(ie,{src:B(C.dN.general.popupHeader),children:(0,g.jsx)(oe,{children:t})}),(0,g.jsxs)(re,{children:[(0,g.jsx)(ae,{src:B(C.dN.general.popupBody)}),(0,g.jsx)(ce,{src:B(C.dN.general.popupBody),children:e}),(0,g.jsx)(se,{src:B(C.dN.general.popupBody)})]}),(0,g.jsx)(le,{src:B(C.dN.general.exitBtn1),onClick:function(){null===i||void 0===i||i(),s.t.play(C.gH.GoBackward)}})]})})},Jt=(0,d.F4)(Jn||(Jn=(0,u.Z)(["\n    0% {opacity: 0}\n    100% {opacity: 1}\n"]))),Qt=(0,d.F4)(Qn||(Qn=(0,u.Z)(["\n    0% {opacity: 1}\n    100% {opacity: 0}\n"]))),$t=(0,d.ZP)(sn)($n||($n=(0,u.Z)(["\n    animation-name: ",";\n    animation-duration: 0.2s;\n    animation-timing-function: linear;\n    animation-fill-mode: forwards;\n"])),(function(n){return n.isAppear?Jt:Qt})),ne=(0,d.F4)(nt||(nt=(0,u.Z)(["\n    0% {transform: scale(0)}\n    100% {transform: scale(1)}\n"]))),te=(0,d.F4)(tt||(tt=(0,u.Z)(["\n    0% {transform: scale(1)}\n    100% {transform: scale(0)}\n"]))),ee=d.ZP.div(et||(et=(0,u.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    position: relative;\n    width: 327px;\n    margin-bottom: ",";\n\n    animation-name: ",";\n    animation-duration: ",";\n    animation-timing-function: ",";\n    animation-fill-mode: forwards;\n"])),(function(n){return n.marginBottom||"unset"}),(function(n){return n.isAppear?ne:te}),(function(n){return n.isAppear?"0.4s":"0.2s"}),(function(n){return n.isAppear?"cubic-bezier(0, 0.5, 0.5, 1.3)":"cubic-bezier(0, 0, 1, 0.5)"})),ie=(0,d.ZP)(cn)(it||(it=(0,u.Z)(["\n    flex: none;\n    width: 100%;\n    height: 63px;\n    margin-bottom: -9px;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]))),oe=d.ZP.div(ot||(ot=(0,u.Z)(["\n    text-shadow: 0 -1px 3px rgba(0, 0, 0, 0.5);\n    font-family: iCielUniSans;\n    font-size: 20px;\n    font-weight: 900;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    text-align: center;\n    color: #fffbee;\n\n    margin-top: 12px;\n"]))),re=d.ZP.div(rt||(rt=(0,u.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    width: 100%;\n"]))),ae=(0,d.ZP)(cn)(at||(at=(0,u.Z)(["\n    width: 100%;\n    height: 20px;\n    background-origin: border-box;\n    background-size: 100% auto;\n    background-position: 50% 0px;\n    background-repeat: no-repeat;\n"]))),ce=(0,d.ZP)(cn)(ct||(ct=(0,u.Z)(["\n    width: 100%;\n    background-origin: border-box;\n    background-size: 100% 200%;\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n    /* height: 50px; */\n\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]))),se=(0,d.ZP)(cn)(st||(st=(0,u.Z)(["\n    width: 100%;\n    height: 20px;\n    background-origin: border-box;\n    background-size: 100% auto;\n    background-position: 50% 100%;\n    background-repeat: no-repeat;\n"]))),le=(0,d.ZP)(cn)(lt||(lt=(0,u.Z)(["\n    width: 32px;\n    height: 32px;\n    position: absolute;\n    top: 15px;\n    right: 0px;\n"]))),ue=e(7920),de=function(n){var t=n.title,e=n.ctaText,i=n.onClose,o=n.onCta,r=x((function(n){return n.game.setting})),a=r.sound,c=r.vibrate,l=p(),u=B(C.dN.general.switchBtnOn),d=B(C.dN.general.switchBtnOff);return(0,g.jsx)(Yt,{title:t,onClose:i,children:(0,g.jsxs)(fe,{children:[(0,g.jsxs)(pe,{children:[(0,g.jsx)(xe,{src:B(C.dN.general.soundIcon)}),(0,g.jsx)(he,{children:"\xc2m thanh"}),(0,g.jsx)(ge,{src:a?u:d,onClick:function(){l(ue.LH.actions.setSound(!a)),s.t.play(C.gH.GoForward)}})]}),(0,g.jsx)(me,{}),(0,g.jsxs)(pe,{children:[(0,g.jsx)(xe,{src:B(C.dN.general.vibraIcon)}),(0,g.jsx)(he,{children:"Rung"}),(0,g.jsx)(ge,{src:c?u:d,onClick:function(){l(ue.LH.actions.setVibrate(!c)),s.t.play(C.gH.GoForward)}})]}),(0,g.jsx)(me,{}),(0,g.jsx)(pe,{children:(0,g.jsx)(he,{onClick:function(){qt.h.resetUserProfile()},children:"Reset User Profile"})}),(0,g.jsx)(pe,{children:(0,g.jsx)(ln,{src:B(C.dN.general.button_1),onClick:function(){null===o||void 0===o||o()},children:(0,g.jsx)(un,{children:e})})})]})})},fe=d.ZP.div(ut||(ut=(0,u.Z)(["\n    width: calc(100% - 50px);\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: 15px;\n\n    margin: 5px 0px;\n"]))),pe=d.ZP.div(dt||(dt=(0,u.Z)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n\n    width: 100%;\n"]))),xe=(0,d.ZP)(cn)(ft||(ft=(0,u.Z)(["\n    flex: none;\n    width: 32px;\n    height: 32px;\n"]))),he=d.ZP.div(pt||(pt=(0,u.Z)(["\n    flex: auto;\n\n    font-family: SFProText;\n    font-size: 14px;\n    font-weight: 600;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    color: #681c8d;\n"]))),ge=(0,d.ZP)(cn)(xt||(xt=(0,u.Z)(["\n    flex: none;\n    width: 60px;\n    height: 28px;\n"]))),me=d.ZP.div(ht||(ht=(0,u.Z)(["\n    width: 100%;\n    height: 2px;\n    background-color: #cba5ff;\n"]))),ve=e(3732),be=function(){var n=x((function(n){return n.mainGame.isSettingPopupVisible}));return(0,g.jsx)(g.Fragment,{children:n&&(0,g.jsx)(we,{})})},we=function(){var n=p();(0,o.useEffect)((function(){var e="".concat(Date.now());return n((0,ve.rR)(e)),c.r.on(e,(function(){t()})),function(){n((0,ve.Xz)(e)),c.r.removeAllListeners(e)}}),[]);var t=function(){n(Xn.T.actions.setSettingPopupVisible(!1))};return(0,g.jsx)(de,{title:"Thi\u1ebft l\u1eadp",ctaText:"D\u1eebng tr\u1eadn \u0111\u1ea5u",onClose:t,onCta:function(){n(Xn.T.actions.setSettingPopupVisible(!1)),n(Xn.T.actions.setConfirmExitPopupVisible(!0)),s.t.play(C.gH.GoBackward),Dt.Z.clickStopLevelPopupSetting()}})},Ze=function(){var n=x((function(n){return n.mainGame.isConfirmExitPopupVisible}));return(0,g.jsx)(g.Fragment,{children:n&&(0,g.jsx)(je,{})})},je=function(){var n=p();(0,o.useEffect)((function(){var e="".concat(Date.now());return n((0,ve.rR)(e)),c.r.on(e,(function(){t()})),function(){n((0,ve.Xz)(e)),c.r.removeAllListeners(e)}}),[]);var t=function(){n(Xn.T.actions.setConfirmExitPopupVisible(!1)),s.t.play(C.gH.GoForward),Dt.Z.clickContinuePopupEndLevel()};return(0,g.jsx)(Yt,{title:"K\u1ebft th\xfac tr\xf2 ch\u01a1i",onClose:t,children:(0,g.jsxs)(ye,{children:[(0,g.jsx)(Pe,{src:B(C.dN.general.closeGameBanner)}),(0,g.jsxs)(ke,{children:[(0,g.jsx)(Se,{children:"B\u1ea1n s\u1ebd b\u1ecb "}),(0,g.jsx)(Se,{children:"-1 "}),(0,g.jsx)(Ce,{src:B(C.dN.general.miniHeartIcon)}),(0,g.jsx)(Se,{children:" n\u1ebfu k\u1ebft th\xfac tr\xf2 ch\u01a1i m\xe0 ch\u01b0a ho\xe0n th\xe0nh m\u1ee5c ti\xeau"})]}),(0,g.jsxs)(Te,{children:[(0,g.jsx)(ln,{src:B(C.dN.general.button_2),onClick:function(){n(Xn.T.actions.setConfirmExitPopupVisible(!1)),h.u.map.endGame(-1),s.t.play(C.gH.GoBackward),Dt.Z.clickAgreePopupEndLevel()},children:(0,g.jsx)(un,{children:"\u0110\u1ed3ng \xfd"})}),(0,g.jsx)(ln,{src:B(C.dN.general.button_1),onClick:t,children:(0,g.jsx)(un,{children:"Ch\u01a1i ti\u1ebfp"})})]})]})})},ye=d.ZP.div(gt||(gt=(0,u.Z)(["\n    width: calc(100% - 50px);\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n\n    margin: 5px 0px;\n"]))),Pe=(0,d.ZP)(cn)(mt||(mt=(0,u.Z)(["\n    width: 283px;\n    height: 108px;\n"]))),ke=d.ZP.div(vt||(vt=(0,u.Z)(["\n    display: inline-block;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n"]))),Se=d.ZP.div(bt||(bt=(0,u.Z)(["\n    font-family: SFProText;\n    font-size: 12px;\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    color: #681c8d;\n\n    display: inline;\n"]))),Ce=(0,d.ZP)(cn)(wt||(wt=(0,u.Z)(["\n    width: 16px;\n    height: 16px;\n    display: inline-block;\n    margin-bottom: -3px;\n"]))),Te=d.ZP.div(Zt||(Zt=(0,u.Z)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n"]))),ze=e(1884),Be=e(9945),Ne=e(3231),Ee=function(){var n=x((function(n){return n.mainGame.isWinPopupVisible}));return(0,g.jsx)(g.Fragment,{children:n&&(0,g.jsx)(Le,{})})},Le=function(){var n=p(),t=x((function(n){return n.mainGame.currentGame})),e=t.score,i=t.level,r=t.star1Score,a=t.star2Score,l=t.star3Score,u=x((function(n){return n.worldMap.currentChapter})),d=x((function(n){return n.worldMap.chapters})).find((function(n){return n.id===u})),f=B(C.dN.general.button_1);(0,o.useEffect)((function(){var t="".concat(Date.now());return n((0,ve.rR)(t)),c.r.on(t,(function(){m()})),function(){n((0,ve.Xz)(t)),c.r.removeAllListeners(t)}}),[]),(0,o.useEffect)((function(){n((0,ze.GE)({chapterId:u,levelId:i,stars:e>=l?3:e>=a?2:e>=r?1:0,highScore:e})),Dt.Z.showWinPopup()}),[]);var m=function(){n(Xn.T.actions.setWinPopupVisible(!1)),h.u.setWinPopupVisible(!1),c.r.emit(c.B.Navigate,-1),s.t.play(C.gH.GoBackward),Dt.Z.clickClosePopupWin()};return(0,g.jsxs)(sn,{backgroundColor:"rgba(0, 0, 0, 0)",children:[(0,g.jsxs)(Ie,{children:[(0,g.jsx)(Me,{fontSize:"".concat(20/375*100,"vw"),marginTop:"".concat(21.6,"vw"),children:"V\u01b0\u1ee3t \u1ea3i th\xe0nh c\xf4ng"}),(0,g.jsx)(Me,{fontSize:"".concat(16/375*100,"vw"),marginTop:"".concat(8,"vw"),children:"\u0110i\u1ec3m"}),(0,g.jsx)(Fe,{fontSize:"".concat(32/375*100,"vw"),marginTop:"".concat(10/375*100,"vw"),children:pn.d.convertNumberToScoreString(e)})]}),(0,g.jsx)(ln,{src:f,width:"".concat(200/375*100,"vw"),height:"".concat(46/375*100,"vw"),marginTop:"28vw",onClick:function(){var t;(m(),console.error("check if this is the last level of the chapter"),n(Be.fp.actions.setCurrentLevel(i+1)),i<d.levels.at(-1).id)&&(i+1<(null===(t=Ne.Z.getState().user.profile)||void 0===t?void 0:t.currentLevel)?n(Be.fp.actions.setShowPlayLevelAgainPopup(!0)):n(Be.fp.actions.setShowPlayNewLevelPopup(!0)));s.t.play(C.gH.GoForward),Dt.Z.clickNextLevelPopupWin()},children:(0,g.jsx)(un,{children:"\u1ea2i ti\u1ebfp theo"})}),(0,g.jsx)(Ae,{src:B(C.dN.general.exitBtn2),onClick:m})]})},Ie=d.ZP.div(jt||(jt=(0,u.Z)(["\n    width: ","vw;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n"])),347/375*100),Me=(d.ZP.div(yt||(yt=(0,u.Z)(["\n    height: ",";\n"])),(function(n){return n.height})),d.ZP.div(Pt||(Pt=(0,u.Z)(["\n    -webkit-text-stroke: 1px #681c8d;\n    font-family: iCielUniSans;\n    font-size: ",";\n    font-weight: 900;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    text-align: center;\n    color: #fffbee;\n    margin-top: ",";\n"])),(function(n){return n.fontSize||"20px"}),(function(n){return n.marginTop||"unset"}))),Fe=d.ZP.div(kt||(kt=(0,u.Z)(["\n    text-shadow: 0 1px 8px rgba(231, 116, 255, 0.75);\n    -webkit-text-stroke: 1px rgba(207, 7, 240, 0.69);\n    font-family: iCielUniSans;\n    font-size: ",";\n    font-weight: 900;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    text-align: center;\n    color: #fffbee;\n    margin-top: ",";\n"])),(function(n){return n.fontSize||"20px"}),(function(n){return n.marginTop||"unset"})),Ae=(0,d.ZP)(cn)(St||(St=(0,u.Z)(["\n    width: 32px;\n    height: 32px;\n    position: absolute;\n    top: 53px;\n    right: 16px;\n"]))),_e=e(1299);function Ge(){var n=x((function(n){return n.game})).gameHubInfo,t=n||{},e=t.title,i=t.label,r=t.desc,a=t.ctaText,c=B(C.dN.general.gameHubBG),s=B(C.dN.general.stampTop);(0,o.useEffect)((function(){e&&l.x.trackEvent("service_screen_viewed",{screen_name:"scr_widget_home_".concat(_e.y.gameId),status:"success",action:"load_success_scr_widget_home_".concat(_e.y.gameId)})}),[e]);return e?(0,g.jsxs)(Ii,{src:c,children:[(0,g.jsx)(Mi,{children:(0,g.jsx)(Fi,{src:s,children:i})}),(0,g.jsx)(Ai,{children:e.toLocaleUpperCase()}),(0,g.jsx)(_i,{children:r}),(0,g.jsxs)(Gi,{children:[function(){var t;return null===n||void 0===n||null===(t=n.games)||void 0===t?void 0:t.map((function(n,t){return(0,g.jsx)(Ui,{src:n.icon},t)}))}(),(0,g.jsx)(Hi,{onClick:function(){console.log("ON GAME HUB LCIKC"),l.x.startFeatureCode(null===n||void 0===n?void 0:n.ctaRefId,{},(function(){})),l.x.trackEvent("service_icon_clicked",{screen_name:"scr_widget_home_".concat(_e.y.gameId),icon_name:"cta",action:"click_cta_scr_widget_home_".concat(_e.y.gameId)})},children:(0,g.jsx)(Ri,{children:a+" >"})})]})]}):null}var He,Re,Ue,De,Oe,Ve,Xe,We,Ke,qe,Ye,Je,Qe,$e,ni,ti,ei,ii,oi,ri,ai,ci,si,li,ui,di,fi,pi,xi,hi,gi,mi,vi,bi,wi,Zi,ji,yi,Pi,ki,Si,Ci,Ti,zi,Bi,Ni,Ei=d.ZP.div(Ct||(Ct=(0,u.Z)(["\n    background-image: ",";\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center;\n"])),(function(n){return'url("'.concat(n.src,'")')})),Li=(0,d.F4)(Tt||(Tt=(0,u.Z)(["\n    0% {opacity: 0}\n    100% {opacity: 1}\n"]))),Ii=d.ZP.div(zt||(zt=(0,u.Z)(["\n    width: calc(100% - 72px);\n    /* height: 133px; */\n    /* margin-left: 16px; */\n    background-image: url(",");\n    background-size: 100% 100%;\n    /* margin-top: 20px; */\n    /* margin-bottom: 20px; */\n    border-radius: 12px;\n    padding: 0 20px;\n\n    position: absolute;\n    bottom: -20px;\n    z-index: 10;\n\n    opacity: 0;\n    animation-name: ",";\n    animation-delay: 0.3s;\n    animation-duration: 0.5s;\n    animation-timing-function: linear;\n    animation-fill-mode: forwards;\n"])),(function(n){return n.src}),Li),Mi=d.ZP.div(Bt||(Bt=(0,u.Z)(["\n    display: flex;\n    justify-content: flex-end;\n"]))),Fi=(0,d.ZP)(Ei)(Nt||(Nt=(0,u.Z)(["\n    position: relative;\n    left: 20px;\n    height: 21px;\n    background-size: 100% 100%;\n\n    font-family: SFProText;\n    font-size: 10px;\n    text-align: center;\n    color: #fff;\n    display: inline-flex;\n    padding: 0 13px;\n"]))),Ai=d.ZP.div(Et||(Et=(0,u.Z)(["\n    font-family: SFProText;\n    font-size: 16px;\n    font-weight: 600;\n    line-height: 1.38;\n    color: #565656;\n"]))),_i=d.ZP.div(Lt||(Lt=(0,u.Z)(["\n    font-family: SFProText;\n    font-size: 12px;\n    line-height: 1.33;\n    color: #727272;\n"]))),Gi=d.ZP.div(It||(It=(0,u.Z)(["\n    padding-top: 16px;\n    display: flex;\n    justify-content: space-evenly;\n    align-items: flex-end;\n    padding-bottom: 28px;\n"]))),Hi=d.ZP.div(Mt||(Mt=(0,u.Z)(["\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    width: 100px;\n    height: 28px;\n    border-radius: 6px;\n    border: solid 1px #d82d8b;\n    background-color: #fff;\n"]))),Ri=d.ZP.div(Ft||(Ft=(0,u.Z)(["\n    font-family: SFProText;\n    font-size: 12px;\n    font-weight: bold;\n    line-height: 1.33;\n    text-align: center;\n    color: #eb2f96;\n"]))),Ui=(0,d.ZP)(Ei)(At||(At=(0,u.Z)(["\n    width: 45px;\n    height: 45px;\n    background-image: 100% 100%;\n"]))),Di=function(){var n=x((function(n){return n.mainGame.isLosePopupVisible}));return(0,g.jsx)(g.Fragment,{children:n&&(0,g.jsx)(Oi,{})})},Oi=function(){var n=p();(0,o.useEffect)((function(){Dt.Z.showLosePopup()}),[]),(0,o.useEffect)((function(){var e="".concat(Date.now());return n((0,ve.rR)(e)),c.r.on(e,(function(){t()})),function(){n((0,ve.Xz)(e)),c.r.removeAllListeners(e)}}),[]);var t=function(){console.log("onClose"),n(Xn.T.actions.setLosePopupVisible(!1)),h.u.setLosePopupVisible(!1),c.r.emit(c.B.Navigate,-1),s.t.play(C.gH.GoBackward)};return(0,g.jsxs)(Xi,{children:[(0,g.jsxs)(Wi,{children:[(0,g.jsx)(Ki,{fontSize:"".concat(20/375*100,"vw"),marginTop:"".concat(5/375*100,"vw"),children:"V\u01b0\u1ee3t \u1ea3i th\u1ea5t b\u1ea1i"}),(0,g.jsx)(qi,{fontSize:"".concat(3.2,"vw"),marginTop:"".concat(4,"vw"),children:"Ho\xe0n th\xe0nh t\u1ea5t c\xe1c m\u1ee5c ti\xeau c\u1ee7a \u1ea3i \u0111\u1ec3 chi\u1ebfn th\u1eafng"}),(0,g.jsx)(zn,{}),(0,g.jsx)(ln,{src:B(C.dN.general.button_1),marginTop:"".concat(70/375*100,"vw"),width:"".concat(200/375*100,"vw"),height:"".concat(46/375*100,"vw"),onClick:function(){t(),Ne.Z.getState().user.heartInfo.hearts>1?n(Be.fp.actions.setShowPlayNewLevelPopup(!0)):n(Be.fp.actions.setShowRecoveringHeartPopup(!0)),s.t.play(C.gH.GoForward),Dt.Z.clickPlayAgainPopupLose()},children:(0,g.jsx)(un,{fontSize:"".concat(4.8,"vw"),children:"Ch\u01a1i l\u1ea1i"})}),(0,g.jsx)(ln,{src:B(C.dN.general.button_2),marginTop:"".concat(16/375*100,"vw"),width:"".concat(200/375*100,"vw"),height:"".concat(46/375*100,"vw"),onClick:function(){t(),Dt.Z.clickHomePopupLose()},children:(0,g.jsx)(un,{fontSize:"".concat(4.8,"vw"),children:"Trang ch\u1ee7"})})]}),(0,g.jsx)(Yi,{src:B(C.dN.general.exitBtn2),onClick:function(){t(),Dt.Z.clickClosePopupLose()}}),(0,g.jsx)(Ge,{})]})},Vi=(0,d.F4)(He||(He=(0,u.Z)(["\n    0% {opacity: 0}\n    100% {opacity: 1}\n"]))),Xi=(0,d.ZP)(sn)(Re||(Re=(0,u.Z)(["\n    background-color: rgba(0, 0, 0, 0);\n    animation-name: ",";\n    animation-duration: 0.5s;\n    animation-timing-function: linear;\n    animation-fill-mode: forwards;\n"])),Vi),Wi=d.ZP.div(Ue||(Ue=(0,u.Z)(["\n    width: ","vw;\n    margin-top: ","vw;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"])),347/375*100,70/375*100),Ki=d.ZP.div(De||(De=(0,u.Z)(["\n    -webkit-text-stroke: 1px #681c8d;\n    font-family: iCielUniSans;\n    font-size: ",";\n    font-weight: 900;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    text-align: center;\n    color: #fffbee;\n    margin-top: ",";\n"])),(function(n){return n.fontSize||"20px"}),(function(n){return n.marginTop||"unset"})),qi=d.ZP.div(Oe||(Oe=(0,u.Z)(["\n    font-family: SFProText;\n    font-size: ",";\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    text-align: center;\n    color: #fff;\n    margin-top: ",";\n    width: 75%;\n"])),(function(n){return n.fontSize||"20px"}),(function(n){return n.marginTop||"unset"})),Yi=(0,d.ZP)(cn)(Ve||(Ve=(0,u.Z)(["\n    width: 32px;\n    height: 32px;\n    position: absolute;\n    top: 53px;\n    right: 16px;\n"]))),Ji=e(2072),Qi=function(n){var t=n.children;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)($i,{src:B(C.dN.onboarding.speechBubble)}),(0,g.jsxs)(to,{children:[(0,g.jsx)(eo,{src:B(C.dN.onboarding.speechBubble)}),t]}),(0,g.jsx)(no,{src:B(C.dN.onboarding.speechBubble)})]})},$i=(0,d.ZP)(cn)(Xe||(Xe=(0,u.Z)(["\n    width: 100%;\n    height: ","vw;\n    background-size: 100% auto;\n    background-position: 0px 0px;\n"])),25/375*100),no=(0,d.ZP)($i)(We||(We=(0,u.Z)(["\n    background-position: 0px 100%;\n"]))),to=d.ZP.div(Ke||(Ke=(0,u.Z)(["\n    width: 100%;\n    position: relative;\n    z-index: 1;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: ","vw;\n    margin-top: ","vw;\n    margin-bottom: ","vw;\n"])),5/375*100,-10/375*100,-10/375*100),eo=(0,d.ZP)(cn)(qe||(qe=(0,u.Z)(["\n    width: 100%;\n    /* height: 300px; */\n    background-size: 100% 1000%;\n    background-position: 0px 50%;\n    position: absolute;\n    left: 0;\n    top: ","vw;\n    bottom: ","vw;\n"])),10/375*100,10/375*100),io=d.ZP.div(Ye||(Ye=(0,u.Z)(["\n    font-family: ",";\n    font-size: ",";\n    font-weight: bold;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 130%;\n    letter-spacing: normal;\n    color: #681c8d;\n    position: relative;\n    z-index: 2;\n    margin: 0px 15px;\n    width: calc(100% - 30px);\n"])),(function(n){return n.fontFamily||"SFProText"}),(function(n){return n.fontSize||"12px"})),oo=d.ZP.div(Je||(Je=(0,u.Z)(["\n    width: ",";\n    position: absolute;\n    bottom: ",";\n    left: ",";\n"])),(function(n){return n.width||"240px"}),(function(n){return n.bottom||"130px"}),(function(n){return n.left||"20px"})),ro=(0,d.F4)(Qe||(Qe=(0,u.Z)(["\n    0% {opacity: 0}\n    100% {opacity: 1}\n"]))),ao=(0,d.ZP)(sn)($e||($e=(0,u.Z)(["\n    opacity: 0;\n\n    animation-name: ",";\n    animation-duration: 0.5s;\n    animation-fill-mode: forwards;\n    animation-delay: ",";\n\n    *{\n        pointer-events: none;\n    }\n"])),ro,(function(n){return n.animationDelay||"unset"})),co=(0,d.ZP)(cn)(ni||(ni=(0,u.Z)(["\n    width: 100%;\n    height: ",";\n    position: absolute;\n    bottom: 0px;\n    left: 0px;\n    background-size: 100% auto;\n    background-position: 50% 0%;\n"])),(function(n){return n.height||"286px"})),so=(d.ZP.div(ti||(ti=(0,u.Z)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]))),(0,d.ZP)(cn)(ei||(ei=(0,u.Z)(["\n    width: 100%;\n    height: 44px;\n    position: relative;\n    z-index: 1;\n    background-size: 100% 100%;\n"]))),(0,d.ZP)(cn)(ii||(ii=(0,u.Z)(["\n    width: 100%;\n    height: 92px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    z-index: 1;\n    background-size: 100% 100%;\n"]))),(0,d.ZP)(cn)(oi||(oi=(0,u.Z)(["\n    width: 116px;\n    height: 155px;\n    margin-bottom: 80px;\n    flex: none;\n"]))),d.ZP.div(ri||(ri=(0,u.Z)(["\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),d.ZP.div(ai||(ai=(0,u.Z)(["\n    width: 236px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: ",";\n"])),(function(n){return n.marginTop||"unset"})),function(n){var t=n.content,e=n.marginTop,i=n.fontSize,o=n.isVisible,r=n.atBottom,a=B(C.dN.onboarding.iIcon);return r?(0,g.jsxs)(lo,{opacity:o?1:0,children:[(0,g.jsx)(fo,{src:a}),(0,g.jsx)(po,{fontSize:i,children:t})]}):(0,g.jsxs)(uo,{marginTop:e,opacity:o?1:0,children:[(0,g.jsx)(fo,{src:a}),(0,g.jsx)(po,{fontSize:i,children:t})]})}),lo=d.ZP.div(ci||(ci=(0,u.Z)(["\n     width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    opacity: ",";\n    transition: opacity 1s;\n\n    position: absolute;\n    bottom: 47px;\n"])),(function(n){return n.opacity})),uo=d.ZP.div(si||(si=(0,u.Z)(["\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    margin-top: ",";\n    opacity: ",";\n    transition: opacity 1s;\n"])),(function(n){return n.marginTop||"unset"}),(function(n){return n.opacity})),fo=(0,d.ZP)(cn)(li||(li=(0,u.Z)(["\n    width: 15px;\n    height: 15px;\n    margin-right: 2px;\n    margin-bottom: -1px;\n"]))),po=d.ZP.div(ui||(ui=(0,u.Z)(["\n    font-family: SFProText;\n    font-size: ",";\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    color: #fffbee;\n"])),(function(n){return n.fontSize||"10px"})),xo=((0,d.ZP)(ao)(di||(di=(0,u.Z)(["\n    background-image: url(",");\n    background-size: 100% auto;\n    background-position: 50% 100%;\n    background-color: rgba(0, 0, 0, 0.3);\n    background-blend-mode: multiply;\n"])),(function(n){return n.src})),d.ZP.div(fi||(fi=(0,u.Z)(["\n    width: 100%;\n    min-height: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"])),(function(n){return n.minHeight})),function(n){var t=p(),e=n.step,i=(0,o.useState)(!1),r=(0,T.Z)(i,2),a=r[0],c=r[1];(0,o.useEffect)((function(){console.log("OnboardingStep",e);var n=setTimeout((function(){c(!0)}),2500);return function(){clearTimeout(n)}}),[e]);return(0,g.jsxs)(ao,{animationDelay:"".concat(1.5,"s"),children:[(0,g.jsx)(co,{src:B(C.dN.onboarding.step1Bottom)}),(0,g.jsx)(yo,{src:B(C.dN.onboarding.mascot)}),(0,g.jsxs)(ho,{children:[(0,g.jsxs)(go,{src:B(C.dN.onboarding.levelEffect),children:[(0,g.jsx)(mo,{src:B(C.dN.onboarding.level1),onClick:function(){a&&(console.log("on next step"),t(Ji.z.actions.nextStep()),s.t.play(C.gH.GoForward))}}),(0,g.jsx)(bo,{src:B(C.dN.onboarding.hand),opaicty:a?1:0})]}),(0,g.jsx)(Zo,{src:B(C.dN.onboarding.effectLightLeft)}),(0,g.jsx)(jo,{src:B(C.dN.onboarding.effectLightRight)})]}),(0,g.jsxs)(oo,{children:[(0,g.jsxs)(Qi,{children:[(0,g.jsx)(io,{children:"Ch\xe0o m\u1eebng b\u1ea1n \u0111\u1ebfn v\u1edbi h\xe0nh tr\xecnh kh\xe1m ph\xe1 \xe2m nh\u1ea1c"}),(0,g.jsx)(io,{children:"C\xf9ng ch\xfang m\xecnh \u0111\u1ebfn v\u1edbi th\u1eed th\xe1ch \u0111\u1ea7u ti\xean nh\xe9!"})]}),(0,g.jsx)(so,{isVisible:a,content:"Nh\u1ea5n v\xe0o m\xe0n ch\u01a1i theo h\u01b0\u1edbng ng\xf3n tay",marginTop:"5px"})]})]})}),ho=d.ZP.div(pi||(pi=(0,u.Z)(["\n    width: 100%;\n    height: 0;\n    position: absolute;\n    left: 0;\n    bottom: 300px;\n"]))),go=(0,d.ZP)(cn)(xi||(xi=(0,u.Z)(["\n    width: 94px;\n    height: 54px;\n    position: absolute;\n    bottom: 5px;\n    left: 57%;\n    transform: translate(-50%, 50%);\n"]))),mo=(0,d.ZP)(cn)(hi||(hi=(0,u.Z)(["\n    width: 51px;\n    height: 49px;\n    position: absolute;\n    bottom: 34px;\n    left: 51%;\n    transform: translate(-50%, 50%);\n    pointer-events: auto;\n"]))),vo=(0,d.F4)(gi||(gi=(0,u.Z)(["\n    0% {        transform: translate(calc(-50% + 50px), calc(50% + 10px)) rotate(15deg) scale(1.6);    }\n    20% {        transform: translate(calc(-50% + 30px), calc(50% + 0px)) rotate(-30deg) scale(1);    }\n    100% {        transform: translate(calc(-50% + 50px), calc(50% + 10px)) rotate(15deg) scale(1.6);    }\n"]))),bo=(0,d.ZP)(cn)(mi||(mi=(0,u.Z)(["\n    width: 45px;\n    height: 39px;\n    position: absolute;\n    bottom: 34px;\n    left: 51%;\n    transform: translate(-50%, 50%);\n    animation-name: ",";\n    animation-duration: 2s;\n    animation-iteration-count: infinite;\n    animation-timing-function: ease-in-out;\n\n    opacity: ",";\n    transition: opacity 1s;\n"])),vo,(function(n){return n.opaicty})),wo=(0,d.F4)(vi||(vi=(0,u.Z)(["\n    0% {\n        opacity: 1;\n        transform: rotate(-1deg) scale(1.05);\n    }\n    100% {\n        opacity: 0.7;\n        transform: rotate(1deg) scale(1);\n    }\n"]))),Zo=(0,d.ZP)(cn)(bi||(bi=(0,u.Z)(["\n    width: 227px;\n    height: 244px;\n    position: absolute;\n    bottom: -50px;\n    left: -45px;\n    transform-origin: 5% 5%;\n    animation-name: ",";\n    animation-duration: 2s;\n    animation-iteration-count: infinite;\n    animation-direction: alternate;\n    animation-timing-function: ease-in-out;\n"])),wo),jo=(0,d.ZP)(cn)(wi||(wi=(0,u.Z)(["\n    width: 227px;\n    height: 244px;\n    position: absolute;\n    bottom: -60px;\n    right: -25px;\n    transform-origin: 95% 5%;\n    animation-name: ",";\n    animation-duration: 2.3s;\n    animation-iteration-count: infinite;\n    animation-direction: alternate;\n    animation-timing-function: ease-in-out;\n"])),wo),yo=(0,d.ZP)(cn)(Zi||(Zi=(0,u.Z)(["\n    width: 112px;\n    height: 155px;\n    position: absolute;\n    right: 0px;\n    bottom: 120px;\n"]))),Po=function(n){var t=p(),e=n.step,i=(0,o.useState)(!1),r=(0,T.Z)(i,2),a=r[0],c=r[1];(0,o.useEffect)((function(){console.log("OnboardingStep",e);var n=setTimeout((function(){c(!0)}),1e3);return function(){clearTimeout(n)}}),[e]);return(0,g.jsxs)(ao,{children:[(0,g.jsx)(co,{src:B(C.dN.onboarding.step2Bottom)}),(0,g.jsxs)(ko,{children:[(0,g.jsx)(So,{children:(0,g.jsx)(Co,{src:B(C.dN.onboarding.ballBg),children:(0,g.jsx)(zo,{src:B(C.dN.onboarding.ball1)})})}),(0,g.jsx)(So,{children:(0,g.jsx)(Co,{src:B(C.dN.onboarding.ballBg),children:(0,g.jsx)(zo,{src:B(C.dN.onboarding.ball2),animationDelay:"0.5s"})})}),(0,g.jsx)(So,{children:(0,g.jsx)(Co,{src:B(C.dN.onboarding.ballBg),children:(0,g.jsx)(zo,{src:B(C.dN.onboarding.ball3),animationDelay:"1s"})})}),(0,g.jsx)(So,{children:(0,g.jsx)(Co,{src:B(C.dN.onboarding.ballBg),children:(0,g.jsx)(zo,{src:B(C.dN.onboarding.ball4),animationDelay:"1.5s"})})})]}),(0,g.jsx)(oo,{bottom:"215px",children:(0,g.jsxs)(Qi,{children:[(0,g.jsx)(io,{fontSize:"16px",fontFamily:"iCielUniSans",children:"Th\u1eed th\xe1ch \u0111\u1ea7u ti\xean"}),(0,g.jsx)(io,{children:"L\xe0m quen \xe2m nh\u1ea1c"})]})}),(0,g.jsx)(Bo,{src:B(C.dN.onboarding.step2CtaBtn),onClick:function(){a&&(console.log("on next step"),t(Ji.z.actions.nextStep()),t(Be.fp.actions.setCurrentChapter(1)),t(Be.fp.actions.setCurrentLevel(1)),t((0,ze.hU)(1)),s.t.play(C.gH.GoForward),Dt.Z.clickPlayPopupOnboarding())},children:(0,g.jsx)(un,{fontSize:"22px",children:"Ch\u01a1i ngay"})})]})},ko=d.ZP.div(ji||(ji=(0,u.Z)(["\n    position: absolute;\n    bottom: 145px;\n    left: 10px;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 10px;\n"]))),So=d.ZP.div(yi||(yi=(0,u.Z)(["\n    width: 56px;\n    height: 15px;\n    margin: 35px 0 0;\n    box-shadow: 0 0 0 0.5px #ffd8eb, inset 0 0 0 0.5px #ffd8eb, 0 0 0 1px #fff6fa, inset 0 0 0 1px #fff6fa, 0 0 4px 2px #ff89d5, 0 0 2px 1px rgba(255, 255, 255, 0.5);\n    border-radius: 50%;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]))),Co=(0,d.ZP)(cn)(Pi||(Pi=(0,u.Z)(["\n    width: 48px;\n    height: 40px;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    margin-bottom: 25px;\n"]))),To=(0,d.F4)(ki||(ki=(0,u.Z)(["\n    0% {transform: translateY(0px)}\n    100% {transform: translateY(-3px)}\n"]))),zo=(0,d.ZP)(cn)(Si||(Si=(0,u.Z)(["\n    width: 40px;\n    height: 40px;\n    margin-bottom: 28px;\n    flex: none;\n    animation-name: ",";\n    animation-duration: 1s;\n    animation-iteration-count: infinite;\n    animation-timing-function: ease-in-out;\n    animation-direction: alternate;\n    animation-delay: ",";\n"])),To,(function(n){return n.animationDelay||"unset"})),Bo=(0,d.ZP)(ln)(Ci||(Ci=(0,u.Z)(["\n    width: 336px;\n    height: 46px;\n    position: absolute;\n    bottom: 41px;\n    left: 50%;\n    transform: translateX(-50%);\n    pointer-events: auto;\n"]))),No=function(n){var t=p(),e=n.step,i=(0,o.useState)(!1),r=(0,T.Z)(i,2),a=r[0],c=r[1];(0,o.useEffect)((function(){return Ut.p8.to(h.u.map.gun,{alpha:0,duration:.3}),t(Xn.T.actions.setUIVisible(!1)),function(){Ut.p8.to(h.u.map.gun,{alpha:1,duration:.3,delay:1})}}),[]),(0,o.useEffect)((function(){console.log("OnboardingStep",e);var n=setTimeout((function(){c(!0)}),2e3);return function(){clearTimeout(n)}}),[e]);return(0,g.jsxs)(ao,{onClick:function(){a&&(console.log("on next step"),t(Ji.z.actions.nextStep()),s.t.play(C.gH.GoForward))},animationDelay:"".concat(1,"s"),backgroundColor:"rgba(0, 0, 0, 0)",children:[(0,g.jsx)(Eo,{}),(0,g.jsxs)(oo,{bottom:"calc(50% - 62vw)",left:"15px",width:"220px",children:[(0,g.jsx)(Qi,{children:(0,g.jsx)(io,{children:"B\u1eafn v\u1ee1 t\u1ea5t c\u1ea3 b\xf3ng \u0111\u1ec3 sang m\xe0n"})}),(0,g.jsx)(so,{isVisible:a,content:"Ch\u1ea1m v\xe0o m\xe0n h\xecnh \u0111\u1ec3 ti\u1ebfp t\u1ee5c"})]})]})},Eo=d.ZP.div(Ti||(Ti=(0,u.Z)(["\n    width: 100%;\n    height: 35vw;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0));\n"]))),Lo=function(n){var t=p(),e=n.desc,i=n.step,r=n.animationDelay,a=(0,o.useState)(!1),c=(0,T.Z)(a,2),l=c[0],u=c[1];(0,o.useEffect)((function(){var n=setTimeout((function(){h.u.onboarding.show(!0,i)}),1e3*r);return function(){clearTimeout(n),h.u.onboarding.show(!1,i)}}),[]),(0,o.useEffect)((function(){console.log("OnboardingStep",i);var n=setTimeout((function(){u(!0)}),1e3*r+1e3);return function(){clearTimeout(n)}}),[i]);return(0,g.jsxs)(ao,{onClick:function(){l&&(console.log("on next step"),t(Ji.z.actions.nextStep()),s.t.play(C.gH.GoForward))},backgroundColor:"rgba(0, 0, 0, 0)",animationDelay:"".concat(r,"s"),children:[(0,g.jsx)(Io,{children:(0,g.jsx)(Mo,{children:(0,g.jsx)(Qi,{children:(0,g.jsx)(io,{fontSize:"".concat(3.2,"vw"),children:e})})})}),(0,g.jsx)(so,{isVisible:l,content:"Ch\u1ea1m v\xe0o m\xe0n h\xecnh \u0111\u1ec3 ti\u1ebfp t\u1ee5c",fontSize:"".concat(10/375*100,"vw"),atBottom:!0})]})},Io=d.ZP.div(zi||(zi=(0,u.Z)(["\n    width: 100%;\n    position: absolute;\n    top: 50%;\n    left: 0%;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n"]))),Mo=d.ZP.div(Bi||(Bi=(0,u.Z)(["\n    position: relative;\n    margin-left: ","vw;\n    margin-right: ","vw;\n    margin-top: 4vw;\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"])),16/375*100,.328*100),Fo=function(n){var t,e=p(),i=n.steps,r=n.checkLevelId,a=x((function(n){return n.onboarding.currentStep})),c=i.find((function(n){return n==a})),s=x((function(n){return n.onboarding.finishSteps})),l=i[i.length-1],u=-1!=s.indexOf(l),d=x((function(n){return n.user.profile.chapters})),f=null===d||void 0===d||null===(t=d.map((function(n){return n.levels.find((function(n){return n.id==r}))})).filter((function(n){return n})))||void 0===t?void 0:t[0],h=(x((function(n){var t,e;return null===(t=n.user)||void 0===t||null===(e=t.heartInfo)||void 0===e?void 0:e.hearts}))||0)>0&&void 0!=c&&((null===f||void 0===f?void 0:f.highScore)||0)<=0&&!u;return(0,o.useEffect)((function(){e(Ji.z.actions.setStep((null===i||void 0===i?void 0:i[0])||0))}),[i]),console.log("Onboarding visible: ",h),(0,g.jsx)(g.Fragment,{children:h&&(0,g.jsx)(Ao,{step:c})})},Ao=function(n){var t=p(),e=n.step;(0,o.useEffect)((function(){var n="".concat(Date.now());return t((0,ve.rR)(n)),function(){t((0,ve.Xz)(n))}}),[]);return(0,g.jsx)(g.Fragment,{children:function(){switch(e){case 1:return(0,g.jsx)(xo,{step:e});case 2:return(0,g.jsx)(Po,{step:e});case 11:return(0,g.jsx)(No,{step:e});case 12:return(0,g.jsx)(Lo,{animationDelay:1,step:e,desc:"X\u1ebfp th\xe0nh \xedt nh\u1ea5t 3 qu\u1ea3 b\xf3ng c\xf9ng m\xe0u \u0111\u1ec3 ghi \u0111i\u1ec3m"});case 31:return(0,g.jsx)(Lo,{animationDelay:4,step:e,desc:"Nh\u1ea5n gi\u1eef \u0111i\u1ec1u ch\u1ec9nh h\u01b0\u1edbng m\u0169i t\xean v\xe0 th\u1ea3 tay \u0111\u1ec3 b\u1eafn"});case 51:return(0,g.jsx)(Lo,{animationDelay:4,step:e,desc:"Nh\u1ea5n v\xe0o m\xe1y b\u1eafn \u0111\u1ec3 \u0111\u1ed5i b\xf3ng"});case 101:return(0,g.jsx)(Lo,{animationDelay:1,step:e,desc:"B\u1eafn n\u1ed5 b\xf3ng \u0111\u1ec3 t\xedch lu\u1ef9 n\u0103ng l\u01b0\u1ee3ng v\xe0o b\xecnh ch\u1ee9a"});case 102:return(0,g.jsx)(Lo,{animationDelay:.3,step:e,desc:"Bomb gi\xfap b\u1ea1n k\xedch n\u1ed5 v\xf9ng b\xf3ng xung quanh n\xf3"},e);case 131:return(0,g.jsx)(Lo,{animationDelay:1,step:e,desc:"B\u1eafn v\xe0o \u0111\u1ea1n n\u1ed5 s\u1ebd n\u1ed5 lan ra c\xe1c b\xf3ng li\u1ec1n k\u1ec1 n\xf3"});case 161:return(0,g.jsx)(Lo,{animationDelay:1,step:e,desc:"B\u1eafn c\xe1c b\xf3ng li\xean k\u1ebft xung quanh \u0111\u1ec3 l\xe0m r\u01a1i \u0111\xe1"});case 181:return(0,g.jsx)(Lo,{animationDelay:1,step:e,desc:"B\xf3ng \u0111\u1ed5i m\xe0u s\u1ebd \u0111\u1ed5i m\xe0u theo b\xf3ng n\u1ed5 li\u1ec1n k\u1ec1 n\xf3"});default:return(0,g.jsx)(g.Fragment,{})}}()})};function _o(n){var t=p(),e=x((function(n){return n.worldMap.currentLevel}));(0,o.useEffect)((function(){return Dt.Z.showMaingame(),c.r.on(c.B.ON_BACK_KEY,(function(){t(Xn.T.actions.setSettingPopupVisible(!0))})),function(){c.r.removeAllListeners(c.B.ON_BACK_KEY)}}),[]);return(0,g.jsxs)(Ho,{children:[(0,g.jsx)(m,{}),(0,g.jsx)(Dn,{}),(0,g.jsx)(Ot,{}),(0,g.jsx)(be,{}),(0,g.jsx)(Ze,{}),(0,g.jsx)(Ee,{}),(0,g.jsx)(Di,{}),function(){switch(e){case 1:return(0,g.jsx)(Fo,{steps:[11,12],checkLevelId:e});case 3:return(0,g.jsx)(Fo,{steps:[31],checkLevelId:e});case 5:return(0,g.jsx)(Fo,{steps:[51],checkLevelId:e});case 10:return(0,g.jsx)(Fo,{steps:[101,102],checkLevelId:e});case 13:return(0,g.jsx)(Fo,{steps:[131],checkLevelId:e});case 16:return(0,g.jsx)(Fo,{steps:[161],checkLevelId:e});case 18:return(0,g.jsx)(Fo,{steps:[181],checkLevelId:e});default:return null}}()]})}var Go,Ho=d.ZP.div(Ni||(Ni=(0,u.Z)(["\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n"]))),Ro=function(){return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c.r.emit(c.B.Navigate,n,t)}};function Uo(){var n=(0,o.useRef)(null),t=(0,a.s0)(),e=(0,o.useState)(!1),i=(0,T.Z)(e,2),r=i[0],s=i[1],l=(0,o.useState)(""),u=(0,T.Z)(l,2),d=u[0],f=u[1],p=(0,o.useState)({}),x=(0,T.Z)(p,2),h=x[0],m=x[1];(0,o.useEffect)((function(){return c.r.on(c.B.Navigate,v),function(){c.r.removeAllListeners(c.B.Navigate)}}),[]),(0,o.useEffect)((function(){r&&(t(d,h),Ut.ZP.fromTo(n.current,{opacity:1},{opacity:0,duration:.5,onComplete:function(){s(!1)}}))}),[r,d]);var v=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(n),m(t),s(!0)};return r?(0,g.jsx)(Vo,{ref:n}):null}var Do,Oo,Vo=d.ZP.div(Go||(Go=(0,u.Z)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: #000;\n    z-index: 9999;\n"]))),Xo=function(n){var t=n.onStart,e=n.onEnd,i=n.onInitDom,r=n.onResume,a=n.onPause,s=(0,o.useRef)(null);return(0,o.useEffect)((function(){s.current&&(null===i||void 0===i||i(s.current))}),[s,i]),(0,o.useEffect)((function(){return null===t||void 0===t||t(),null===r||void 0===r||r(),c.r.on(c.B.On_RESUME,r),c.r.on(c.B.ON_RESIZE,r),c.r.on(c.B.On_PAUSE,a),function(){null===e||void 0===e||e(),null===a||void 0===a||a(),c.r.off(c.B.On_RESUME,r),c.r.off(c.B.ON_RESIZE,r),c.r.off(c.B.On_PAUSE,a)}}),[e,a,r,t]),(0,g.jsx)(Wo,{ref:s})},Wo=d.ZP.div(Do||(Do=(0,u.Z)(["\n    width: 100%;\n    height: 100%;\n\n    position: fixed;\n    top: 0;\n    left: 0;\n\n    overflow: hidden;\n"])));function Ko(n){var t=(0,o.useState)(Math.max(n.countdown,0)),e=(0,T.Z)(t,2),i=e[0],r=e[1],a=B(C.dN.worldMap.timeBubble),c=p();(0,o.useEffect)((function(){r(Math.max(n.countdown,0));var t=setInterval((function(){r((function(e){return e-1e3<=0&&(clearInterval(t),n.isBig||c((0,ze.vX)())),Math.max(e-1e3,0)}))}),1e3);return function(){clearInterval(t)}}),[n.countdown]);var s=pn.d.msToTime(i);return(0,g.jsx)(zr,{src:a,isBig:n.isBig,children:s})}var qo,Yo,Jo,Qo,$o,nr,tr,er,ir,or,rr,ar,cr,sr,lr,ur,dr,fr,pr,xr,hr,gr,mr,vr,br,wr,Zr,jr,yr,Pr,kr,Sr,Cr,Tr,zr=d.ZP.div(Oo||(Oo=(0,u.Z)(["\n    width: ",";\n    height: ",";\n\n    border-image-source: url(",");\n    border-image-slice: 6 0 fill;\n    border-image-width: 3px 0;\n\n    box-sizing: border-box;\n    display: flex;\n    justify-content: center;\n    /* align-items: center; */\n    padding-top: ",";\n\n    font-family: SFProText;\n    font-size: ",";\n    font-weight: bold;\n    color: #681c8d;\n\n    position: absolute;\n    left: 50%;\n    top: ",";\n    transform: translateX(-50%);\n"])),(function(n){return n.isBig?"80px":"54px"}),(function(n){return n.isBig?"28px":"20px"}),(function(n){return n.src}),(function(n){return n.isBig?"8px":"4px"}),(function(n){return n.isBig?"12px":"10px"}),(function(n){return n.isBig?"77px":"23px"})),Br=function(){var n=x((function(n){return n.user.heartInfo.hearts})),t=x((function(n){return n.user.heartInfo.heartReloadTime})),e=x((function(n){return n.user.heartInfo.heartLast})),i=x((function(n){return n.user.heartInfo.heartMax})),o=p();return(0,g.jsxs)(Nr,{src:B(C.dN.worldMap.topBg),children:[(0,g.jsx)(Er,{src:B(C.dN.worldMap.optionBtn),onClick:function(){console.log("onClickOptionBtn"),o(Be.fp.actions.setShowSettingPopup(!0)),s.t.play(C.gH.GoForward),Dt.Z.clickSettingOnMap()}}),(0,g.jsxs)(Lr,{children:[(0,g.jsx)(Ir,{src:B(C.dN.general.heartIcon),children:(0,g.jsx)(Mr,{children:n})}),(0,g.jsx)(Fr,{children:n>=i?"\u0110\u1ea7y":n>=0?"+1":""}),(0,g.jsx)(Ar,{src:B(C.dN.general.plusIcon),onClick:function(){console.log("onClickPlusIcon"),o(n===i?Be.fp.actions.setShowFullHeartPopup(!0):Be.fp.actions.setShowRecoveringHeartPopup(!0)),s.t.play(C.gH.GoForward)}}),n<i&&(0,g.jsx)(Ko,{countdown:t-(Date.now()-e),isBig:!1})]})]})},Nr=(0,d.ZP)(cn)(qo||(qo=(0,u.Z)(["\n    background-size: 100% 100%;\n    width: 100%;\n    height: 144px;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    pointer-events: none;\n"]))),Er=(0,d.ZP)(cn)(Yo||(Yo=(0,u.Z)(["\n    position: absolute;\n    right: 16px;\n    top: 53px;\n\n    width: 32px;\n    height: 32px;\n    pointer-events: auto;\n"]))),Lr=d.ZP.div(Jo||(Jo=(0,u.Z)(["\n    position: absolute;\n    left: 25px;\n    top: 53px;\n    height: 30px;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-start;\n    gap: 5px;\n\n    border-radius: 45px 34px 34px 15px;\n    background-color: rgba(36, 36, 36, 0.6);\n    pointer-events: auto;\n"]))),Ir=(0,d.ZP)(cn)(Qo||(Qo=(0,u.Z)(["\n    width: 40px;\n    height: 40px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    margin-left: -15px;\n    margin-top: -3px;\n"]))),Mr=d.ZP.div($o||($o=(0,u.Z)(["\n    -webkit-text-stroke: 1px rgba(149, 56, 56, 0.63);\n    font-family: iCielUniSans;\n    font-size: 16px;\n    font-weight: 900;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    color: #fffbee;\n    margin-top: 6px;\n"]))),Fr=d.ZP.div(nr||(nr=(0,u.Z)(["\n    font-family: iCielUniSans;\n    font-size: 16px;\n    font-weight: 900;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    text-align: center;\n    color: #fffbee;\n    min-width: 40px;\n    margin-top: 3px;\n    margin-left: 3px;\n"]))),Ar=(0,d.ZP)(cn)(tr||(tr=(0,u.Z)(["\n    width: 24px;\n    height: 24px;\n"]))),_r=function(){var n=x((function(n){return n.worldMap.showSettingPopup}));return(0,g.jsx)(g.Fragment,{children:n&&(0,g.jsx)(Gr,{})})},Gr=function(){var n=p();(0,o.useEffect)((function(){var e="".concat(Date.now());return n((0,ve.rR)(e)),c.r.on(e,(function(){t()})),function(){n((0,ve.Xz)(e)),c.r.removeAllListeners(e)}}),[]);var t=function(){n(Be.fp.actions.setShowSettingPopup(!1))};return(0,g.jsx)(de,{title:"Thi\u1ebft l\u1eadp",ctaText:"Tho\xe1t tr\xf2 ch\u01a1i",onClose:t,onCta:function(){console.log("EXIT GAME"),n(Be.fp.actions.setShowSettingPopup(!1)),n((0,ze.g_)()),l.x.request(l.w.dismiss),s.t.play(C.gH.GoBackward),Dt.Z.clickExitGamePopupSetting()}})},Hr=function(n){var t=n.target,e=t.type,i=(t.quantity,t.ball),o=B(pn.d.getTargetTypeImageUrl(e,i)||"");return(0,g.jsxs)(Rr,{children:[(0,g.jsx)(Ur,{src:o}),(0,g.jsx)(Dr,{src:B(C.dN.general.targetItemBg)})]})},Rr=d.ZP.div(er||(er=(0,u.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]))),Ur=(0,d.ZP)(cn)(ir||(ir=(0,u.Z)(["\n    width: 36px;\n    height: 36px;\n"]))),Dr=(d.ZP.div(or||(or=(0,u.Z)(["  \n    background-color: rgba(0, 0, 0, 0.4);\n    border-radius: 10px;\n    min-width: 30px;\n"]))),d.ZP.div(rr||(rr=(0,u.Z)(["\n    -webkit-text-stroke: 1px rgba(36, 36, 36, 0.6);\n    font-family: iCielUniSans;\n    font-size: 14px;\n    font-weight: 900;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    text-align: center;\n    color: #fffbee;\n    margin: 1px 6px -1px;\n"]))),(0,d.ZP)(cn)(ar||(ar=(0,u.Z)(["\n    width: 58px;\n    height: 46px;\n    margin-top: -22px;\n    position: relative;\n    z-index: -1;\n"])))),Or=function(n){var t=n.marginTop,e=B(C.dN.general.levelTargetBg),i=x((function(n){return n.worldMap.currentLevel})),o=x((function(n){return n.worldMap.chapters})),r=fn.Z.findLevelConfig(o,i);return(0,g.jsxs)(Vr,{marginTop:t,children:[(0,g.jsx)(Xr,{src:e}),(0,g.jsxs)(Kr,{children:[(0,g.jsx)(qr,{src:e}),(0,g.jsx)(Yr,{children:"B\u1eafn v\u1ee1 t\u1ea5t c\u1ea3 c\xe1c b\xf3ng"}),(0,g.jsx)(Jr,{children:function(){var n;return null===r||void 0===r||null===(n=r.targets)||void 0===n?void 0:n.map((function(n,t){return(0,g.jsx)(Hr,{target:n},t)}))}()})]}),(0,g.jsx)(Wr,{src:e})]})},Vr=d.ZP.div(cr||(cr=(0,u.Z)(["\n    width: 292px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: ",";\n\n    z-index: 1;\n"])),(function(n){return n.marginTop||"unset"})),Xr=(0,d.ZP)(cn)(sr||(sr=(0,u.Z)(["\n    width: 100%;\n    height: 50px;\n    background-size: 100% auto;\n    background-position: 0px 0px;\n"]))),Wr=(0,d.ZP)(Xr)(lr||(lr=(0,u.Z)(["\n    height: 30px;\n    background-position: 0px 100%;\n"]))),Kr=d.ZP.div(ur||(ur=(0,u.Z)(["\n    width: 100%;\n    position: relative;\n    z-index: 1;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-start;\n    gap: 5px;\n"]))),qr=(0,d.ZP)(cn)(dr||(dr=(0,u.Z)(["\n    width: 100%;\n    /* height: 300px; */\n    background-size: 100% ","%;\n    background-position: 0px ","%;\n    position: absolute;\n    left: 0;\n    top: 0px;\n    bottom: 0px;\n    z-index: -1;\n"])),95/15*100,57.5/95*100),Yr=d.ZP.div(fr||(fr=(0,u.Z)(["\n    font-family: SFProText;\n    font-size: 12px;\n    font-weight: 600;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    text-align: center;\n    color: #681c8d;\n    margin-top: -45px;\n"]))),Jr=d.ZP.div(pr||(pr=(0,u.Z)(["\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    margin-top: 15px;\n    margin-bottom: -31px;\n"]))),Qr=function(){var n=x((function(n){return n.worldMap.showPlayNewLevelPopup})),t=x((function(n){return n.worldMap.userAvatarInfo.isMoving}));return(0,g.jsx)(g.Fragment,{children:n&&!t&&(0,g.jsx)($r,{})})},$r=function(){var n=p(),t=x((function(n){return n.worldMap.currentLevel}));(0,o.useEffect)((function(){var t="".concat(Date.now());return n((0,ve.rR)(t)),c.r.on(t,(function(){e()})),function(){n((0,ve.Xz)(t)),c.r.removeAllListeners(t)}}),[]),(0,o.useEffect)((function(){h.u.worldMap.cameraTargetToLevelId(t)}),[t]);var e=function(){console.log("onClose"),n(Be.fp.actions.setShowPlayNewLevelPopup(!1))};return(0,g.jsxs)(Yt,{title:"M\xe0n ".concat(t),onClose:e,marginBottom:"20vh",children:[(0,g.jsx)(Or,{}),(0,g.jsx)(ln,{src:B(C.dN.general.button_1),width:"168px",height:"46px",marginTop:"15px",onClick:function(){console.log("onPlayGame"),n(Be.fp.actions.setShowPlayNewLevelPopup(!1)),Ne.Z.getState().user.heartInfo.hearts<1?Ne.Z.dispatch(Be.fp.actions.setShowRecoveringHeartPopup(!0)):n((0,ze.hU)(t)),s.t.play(C.gH.GoForward),Dt.Z.clickPlayPopupTarget(t)},children:(0,g.jsx)(un,{fontSize:"22px",children:"Ch\u01a1i ngay"})})]})},na=((0,d.ZP)(cn)(xr||(xr=(0,u.Z)(["\n    width: 253px;\n    height: 111px;\n    margin-top: -25px;\n"]))),d.ZP.div(hr||(hr=(0,u.Z)(["\n    font-family: iCielUniSans;\n    font-size: 12px;\n    font-weight: 900;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    text-align: center;\n    color: #fffbee;\n    margin-top: -108px;\n"]))),function(){var n=x((function(n){return n.worldMap.showPlayLevelAgainPopup}));return(0,g.jsx)(g.Fragment,{children:n&&(0,g.jsx)(ta,{})})}),ta=function(){var n=p(),t=x((function(n){return n.worldMap.currentLevel})),e=x((function(n){var t;return null===(t=n.user.profile)||void 0===t?void 0:t.chapters})),i=(null===e||void 0===e?void 0:e.map((function(n){var e;return null===(e=n.levels)||void 0===e?void 0:e.find((function(n){return(null===n||void 0===n?void 0:n.id)==t}))})).find((function(n){return(null===n||void 0===n?void 0:n.id)==t})))||{},r=i.stars,a=void 0===r?0:r,l=i.highScore,u=void 0===l?0:l,d=B(C.dN.general.bigStarAble);(0,o.useEffect)((function(){var t="".concat(Date.now());return n((0,ve.rR)(t)),c.r.on(t,(function(){f()})),function(){n((0,ve.Xz)(t)),c.r.removeAllListeners(t)}}),[]),(0,o.useEffect)((function(){h.u.worldMap.cameraTargetToLevelId(t)}),[t]);var f=function(){console.log("onClose"),n(Be.fp.actions.setShowPlayLevelAgainPopup(!1))};return(0,g.jsxs)(Yt,{title:"M\xe0n ".concat(t),onClose:f,children:[(0,g.jsx)(ua,{src:B(C.dN.worldMap.playAgainBase)}),(0,g.jsxs)(ia,{children:[(0,g.jsx)(oa,{src:B(C.dN.general.bigStarDisable),scale:.8,rotate:"-20deg",translateXY:"8px, 18px",children:a>=1&&(0,g.jsx)(ra,{src:d,animationDelay:"0.3s"})}),(0,g.jsx)(oa,{src:B(C.dN.general.bigStarDisable),scale:1,rotate:"0deg",translateXY:"0px, 0px",children:a>=2&&(0,g.jsx)(ra,{src:d,animationDelay:"0.5s"})}),(0,g.jsx)(oa,{src:B(C.dN.general.bigStarDisable),scale:.8,rotate:"20deg",translateXY:"-8px, 18px",children:a>=3&&(0,g.jsx)(ra,{src:d,animationDelay:"0.7s"})})]}),(0,g.jsx)(aa,{children:"\u0110i\u1ec3m"}),(0,g.jsxs)(ca,{children:[(0,g.jsx)(la,{children:pn.d.convertNumberToScoreString(u)}),(0,g.jsx)(sa,{children:pn.d.convertNumberToScoreString(u)})]}),(0,g.jsx)(Or,{marginTop:"24px"}),(0,g.jsx)(ln,{src:B(C.dN.general.button_1),width:"168px",height:"46px",marginTop:"15px",onClick:function(){console.log("onPlayGame"),n(Be.fp.actions.setShowPlayLevelAgainPopup(!1)),Ne.Z.getState().user.heartInfo.hearts<1?Ne.Z.dispatch(Be.fp.actions.setShowRecoveringHeartPopup(!0)):n((0,ze.hU)(t)),s.t.play(C.gH.GoForward),Dt.Z.clickReplayPopupTarget(t)},children:(0,g.jsx)(un,{fontSize:"22px",children:"Ch\u01a1i l\u1ea1i"})})]})},ea=(0,d.F4)(gr||(gr=(0,u.Z)(["\n    0%      {transform: translate(-50%, -50%) scale(0)}\n    100%    {transform: translate(-50%, -50%) scale(1)}\n"]))),ia=d.ZP.div(mr||(mr=(0,u.Z)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n"]))),oa=(0,d.ZP)(cn)(vr||(vr=(0,u.Z)(["\n    width: 72px;\n    height: 72px;\n    position: relative;\n    transform: translate(",") scale(",") rotate(",");\n"])),(function(n){return n.translateXY}),(function(n){return n.scale}),(function(n){return n.rotate})),ra=(0,d.ZP)(cn)(br||(br=(0,u.Z)(["\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%) scale(0);\n    animation-name: ",";\n    animation-duration: 0.4s;\n    animation-delay: ",";\n    animation-fill-mode: forwards;\n    animation-timing-function: cubic-bezier(0, 1.5, 0.5, 1.5);\n"])),ea,(function(n){return n.animationDelay||"unset"})),aa=d.ZP.div(wr||(wr=(0,u.Z)(["\n    font-family: iCielUniSans;\n    font-size: 14px;\n    font-weight: 900;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    text-align: center;\n    color: #681c8d;\n    margin-top: 8px;\n\n    z-index: 1;\n"]))),ca=d.ZP.div(Zr||(Zr=(0,u.Z)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),sa=d.ZP.div(jr||(jr=(0,u.Z)(["\n    background-image: linear-gradient(to bottom, #681c8d 50%, #e74cdf 99%);\n    font-family: iCielUniSans;\n    font-size: 28px;\n    font-weight: 900;\n    \n    text-align: center;\n    -webkit-background-clip: text;\n    background-clip: text;\n    -webkit-text-fill-color: transparent;\n\n    z-index: 1;\n"]))),la=d.ZP.div(yr||(yr=(0,u.Z)(["\n    background-image: white;\n    font-family: iCielUniSans;\n    font-size: 28px;\n    font-weight: 900;\n    \n    text-align: center;\n    -webkit-background-clip: text;\n    background-clip: text;\n    -webkit-text-fill-color: transparent;\n    -webkit-text-stroke: 2px rgba(255, 255, 255, 0.55);\n\n    position: absolute;\n"]))),ua=(0,d.ZP)(cn)(Pr||(Pr=(0,u.Z)(["\n    width: 281px;\n    height: 281px;\n\n    position: absolute;\n    top: -8px;\n"])));function da(){var n=x((function(n){return n.worldMap.showFullHeartPopup}));return(0,g.jsx)(g.Fragment,{children:n&&(0,g.jsx)(ma,{})})}var fa,pa,xa,ha,ga,ma=function(){var n=x((function(n){return n.user.heartInfo.heartReloadTime})),t=p(),e=B(C.dN.worldMap.fullHeart);(0,o.useEffect)((function(){var n="".concat(Date.now());return t((0,ve.rR)(n)),c.r.on(n,(function(){i()})),function(){t((0,ve.Xz)(n)),c.r.removeAllListeners(n)}}),[]);var i=function(){t(Be.fp.actions.setShowFullHeartPopup(!1))};return(0,g.jsx)(Yt,{title:"T\xecnh \u0111\u1ea7y tim",onClose:i,children:(0,g.jsxs)(va,{children:[(0,g.jsx)(ba,{src:e}),(0,g.jsx)(wa,{children:(0,g.jsxs)(Za,{children:["Tim c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u1ea7y. S\u1ed1 tim t\u01b0\u01a1ng \u1ee9ng v\u1edbi s\u1ed1 l\u01b0\u1ee3t ch\u01a1i. M\u1ed7i ",n/36e5," gi\u1edd s\u1ebd h\u1ed3i l\u1ea1i 1 tim"]})})]})})},va=d.ZP.div(kr||(kr=(0,u.Z)(["\n    width: calc(100% - 50px);\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n\n    margin: 5px 0px;\n"]))),ba=(0,d.ZP)(cn)(Sr||(Sr=(0,u.Z)(["\n    width: 283px;\n    height: 108px;\n"]))),wa=d.ZP.div(Cr||(Cr=(0,u.Z)(["\n    display: inline-block;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n"]))),Za=d.ZP.div(Tr||(Tr=(0,u.Z)(["\n    font-family: SFProText;\n    font-size: 12px;\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    color: #681c8d;\n\n    display: inline;\n"])));function ja(){var n=x((function(n){return n.worldMap.showRecoveringHeartPopup})),t=x((function(n){return n.user.heartInfo.hearts})),e=x((function(n){return n.user.heartInfo.heartMax}));return(0,g.jsx)(g.Fragment,{children:!(!n||t===e)&&(0,g.jsx)(Ca,{})})}var ya,Pa,ka,Sa,Ca=function(){var n=x((function(n){return n.user.heartInfo.heartReloadTime})),t=x((function(n){return n.user.heartInfo.heartLast})),e=p(),i=B(C.dN.worldMap.recoveringHeart);(0,o.useEffect)((function(){Dt.Z.showRecoveringHeartPopup()}),[]),(0,o.useEffect)((function(){var n="".concat(Date.now());return e((0,ve.rR)(n)),c.r.on(n,(function(){r()})),function(){e((0,ve.Xz)(n)),c.r.removeAllListeners(n)}}),[]);var r=function(){e(Be.fp.actions.setShowRecoveringHeartPopup(!1))};return console.log("heartReload: ",n,"heartLast: ",t),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Yt,{title:"Tim \u0111ang h\u1ed3i",onClose:r,children:(0,g.jsxs)(Ta,{children:[(0,g.jsx)(za,{src:i,children:(0,g.jsx)(Ko,{countdown:n-(Date.now()-t),isBig:!0})}),(0,g.jsx)(Ba,{children:(0,g.jsxs)(Na,{children:["Tim c\u1ee7a b\u1ea1n \u0111ang \u0111\u01b0\u1ee3c h\u1ed3i. S\u1ed1 tim t\u01b0\u01a1ng \u1ee9ng v\u1edbi s\u1ed1 l\u01b0\u1ee3t ch\u01a1i. M\u1ed7i ",n/36e5," gi\u1edd s\u1ebd h\u1ed3i l\u1ea1i 1 tim"]})})]})}),";",(0,g.jsx)(Ge,{})]})},Ta=d.ZP.div(fa||(fa=(0,u.Z)(["\n    width: calc(100% - 50px);\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n\n    margin: 5px 0px;\n"]))),za=(0,d.ZP)(cn)(pa||(pa=(0,u.Z)(["\n    width: 283px;\n    height: 108px;\n\n    position: relative;\n"]))),Ba=d.ZP.div(xa||(xa=(0,u.Z)(["\n    display: inline-block;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n"]))),Na=d.ZP.div(ha||(ha=(0,u.Z)(["\n    font-family: SFProText;\n    font-size: 12px;\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    color: #681c8d;\n\n    display: inline;\n"]))),Ea=(d.ZP.div(ga||(ga=(0,u.Z)(["\n    width: 80px;\n    height: 28px;\n\n    border-image-source: url(",");\n    border-image-slice: 6 0 fill;\n    border-image-width: 3px 0;\n\n    box-sizing: border-box;\n    display: flex;\n    justify-content: center;\n    /* align-items: center; */\n    padding-top: 8px;\n\n    font-family: SFProText;\n    font-size: 12px;\n    font-weight: bold;\n    color: #681c8d;\n\n    position: absolute;\n    left: 50%;\n    top: 77px;\n    transform: translateX(-50%);\n"])),(function(n){return n.src})),e(3542)),La=function(){var n=p(),t=x((function(n){return n.worldMap.userAvatarInfo})),e=t.x,i=t.y,r=t.levelId,a=t.isMoving,c=x((function(n){var t;return null===(t=n.user.profile)||void 0===t?void 0:t.avatar})),s=x((function(n){var t;return null===(t=n.user.profile)||void 0===t?void 0:t.currentLevel}))||0,l=(0,o.useState)(0),u=(0,T.Z)(l,2),d=u[0],f=u[1],m=(0,o.useState)(0),v=(0,T.Z)(m,2),b=v[0],w=v[1];return(0,o.useEffect)((function(){if(r<s){var t=h.u.worldMap.getAvatarPosAtLevelId(r),e=h.u.worldMap.getAvatarPosAtLevelId(s),i=t.x-e.x,o=t.y-e.y;f(i),w(o),n(Be.fp.actions.updateUserAvatarInfo({levelId:s,x:e.x,y:e.y,isMoving:!0}));var a={x:i,y:o};Ut.ZP.to(a,{x:0,duration:1,onUpdate:function(){f(a.x)}}),Ut.ZP.to(a,{y:0,duration:1,onUpdate:function(){w(a.y)},ease:Ea.t.create("custom","M0,0,C0,0,0.292,1.099,0.7,1.1,0.936,1.1,1,1,1,1")}),setTimeout((function(){n(Be.fp.actions.updateUserAvatarInfo({isMoving:!1}))}),1500)}}),[r,s]),(0,g.jsxs)(g.Fragment,{children:[a&&(0,g.jsx)(Ia,{}),(0,g.jsx)(Ma,{src:B(C.dN.general.userAvatarFrame),style:{left:"".concat(e+d,"%"),top:"".concat(i+b,"%")},children:(0,g.jsx)(Fa,{src:B(c||C.dN.general.defaultAvatar)})})]})},Ia=d.ZP.div(ya||(ya=(0,u.Z)(["\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    /* background-color: rgba(0, 0, 0, 0.5); */\n    z-index: 1;\n    pointer-events: auto;\n"]))),Ma=(0,d.ZP)(cn)(Pa||(Pa=(0,u.Z)(["\n    pointer-events: none;\n    width: 40px;\n    height: 40px;\n    position: absolute;\n    /* top: 50%;\n    left: 50%; */\n    transform: translate(-50%, calc(-100% - 12vw));\n\n    transition-property: top, left;\n    transition-duration: ","s;\n    transition-timing-function: linear;\n"])),1/60),Fa=(0,d.ZP)(cn)(ka||(ka=(0,u.Z)(["\n    width: 28px;\n    height: 28px;\n    position: relative;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, calc(-50% - 1px));\n    border-radius: 5px;\n    border: 1px solid #fff;\n    box-sizing: border-box;\n"]))),Aa=function(){var n=x((function(n){return n.worldMap.images})),t=x((function(n){return n.worldMap.chapters})),e=x((function(n){return n.worldMap.currentChapter})),i=(0,o.useState)(!1),r=(0,T.Z)(i,2),a=r[0],l=r[1],u=p();(0,o.useEffect)((function(){return c.r.on(c.B.ON_BACK_KEY,(function(){u(Be.fp.actions.setShowSettingPopup(!0))})),function(){c.r.removeAllListeners(c.B.ON_BACK_KEY)}}),[]),(0,o.useEffect)((function(){u((0,ze.vX)()),console.log("init WorldMapppppppppppp"),Dt.Z.showMap()}),[]),(0,o.useEffect)((function(){return s.t.pauseIngameMusic(e),s.t.resumeBgMusic(e),function(){s.t.pauseBgMusic(e),s.t.resumeIngameMusic(e)}}),[e]),(0,o.useEffect)((function(){n&&t&&e?(h.u.setChapters(n,t,e),l(!0)):l(!1)}),[n,t,e]);return(0,g.jsxs)(an,{children:[a&&(0,g.jsx)(Xo,{onStart:function(){h.u.startWorldMap()},onEnd:function(){h.u.endWorldMap()},onInitDom:function(n){h.u.initDom(n)},onResume:function(){h.u.resume()},onPause:function(){h.u.pause()}}),(0,g.jsx)(La,{}),(0,g.jsx)(Br,{}),(0,g.jsx)(_r,{}),(0,g.jsx)(Qr,{}),(0,g.jsx)(na,{}),(0,g.jsx)(da,{}),(0,g.jsx)(ja,{}),(0,g.jsx)(Fo,{steps:[1,2],checkLevelId:1})]})},_a=e(7903),Ga=e.n(_a),Ha=e(7762),Ra=e(6203),Ua=function(n){var t=(0,o.useState)(!1),e=(0,T.Z)(t,2),i=e[0],r=e[1],a=(0,o.useRef)(null);return(0,g.jsx)(Da,{ref:a,onClick:function(){i||a.current&&(r(!0),Ut.ZP.timeline().to(a.current,{scale:1.1,duration:.05}).to(a.current,{scale:1,duration:.05}).then((function(){r(!1)})).then(n.onClick))},children:n.children})},Da=d.ZP.div(Sa||(Sa=(0,u.Z)(["\n    min-height: 42px;\n    max-height: 42px;\n\n    padding: 5px 10px;\n    box-sizing: border-box;\n\n    background-color: white;\n    color: black;\n    font-size: 13px;\n\n    display: flex;\n    text-align: center;\n    align-items: center;\n\n    border-radius: 20px;\n\n    position: relative;\n"])));function Oa(n){return(0,g.jsx)(Ua,{onClick:n.onClick,children:n.children})}var Va,Xa=e(5661);function Wa(n){var t,e=p();return(0,g.jsx)(qa,{src:null===(t=Ra.de.colors[n.color])||void 0===t?void 0:t.baseTexture.cacheId,onClick:function(){e(Xa.J.actions.setBulletColor(n.num-1))},children:n.num})}var Ka,qa=(0,d.ZP)(dn)(Va||(Va=(0,u.Z)(["\n    width: 34px;\n    height: 34px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    font-size: 12px;\n    font-weight: bold;\n    color: white;\n"]))),Ya=e(8925);function Ja(){var n=x((function(n){return n.colorTool.showLoadBase64Popup})),t=p(),e=function(){t(Xa.J.actions.setShowLoadBase64Popup(!1))};return n?(0,g.jsxs)(Yt,{title:"Load Map From Base64",onClose:e,children:[(0,g.jsx)(dc,{autoComplete:"off",onChange:$a,placeholder:"Input base64 string here"}),(0,g.jsx)(Oa,{onClick:function(){h.u.map.colorTool.loadFromBase64(Qa),e()},children:"Load"})]}):null}var Qa=void 0;function $a(n){n.target.value&&(Qa=n.target.value)}var nc,tc,ec,ic,oc,rc,ac,cc,sc,lc,uc,dc=d.ZP.input(Ka||(Ka=(0,u.Z)(["\n    width: 90%;\n    height: 30px;\n\n    text-align: center;\n\n    margin-bottom: 20px;\n"])));function fc(n){var t=x((function(n){return n.colorTool.bubbleCount})),e=x((function(n){return n.colorTool.bullets})),i=x((function(n){return n.colorTool.colorBubbles})),r=x((function(n){return n.colorTool.specialBubbles})),a=(Ro(),p());(0,o.useLayoutEffect)((function(){a(Xa.J.actions.initCacheLevel(void 0))}),[]),(0,o.useEffect)((function(){setInterval((function(){void 0!==xc&&c(!1)}),3e3)}),[]);var c=function(){var n,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=[],i=h.u.map.colorTool.maxHeight,o=(0,Ha.Z)(h.u.map.data);try{for(o.s();!(n=o.n()).done;){var r=n.value;r.sprite.y>i||e.push(10*r.type+r.color)}}catch(l){o.e(l)}finally{o.f()}var c=Ne.Z.getState().colorTool.bullets.filter((function(n){return n>0})),s=(0,Ra.L9)(e,c,t);return a(Xa.J.actions.addCacheLevel({levelId:xc,base64:s})),s},s=function(){return e.map((function(n,t){return(0,g.jsx)(Wa,{num:t+1,color:n},t)}))},l=(0,g.jsxs)(zc,{children:["Choose level to edit",(0,g.jsxs)(Bc,{children:[(0,g.jsx)(Oa,{onClick:gc,children:"Choose"}),(0,g.jsx)(Sc,{id:"url",type:"number",autoComplete:"off",onChange:hc,defaultValue:xc})]})]});return void 0===pc?(0,g.jsxs)(kc,{children:[(0,g.jsx)(m,{}),(0,g.jsx)(Ec,{children:s()}),(0,g.jsx)(Tc,{children:l})]}):(0,g.jsxs)(kc,{children:[(0,g.jsx)(m,{}),(0,g.jsxs)(Cc,{children:[(0,g.jsx)(Oa,{onClick:mc,left:20,children:"Add Line"}),(0,g.jsx)(Oa,{onClick:vc,left:90,children:"Trim Lines"}),(0,g.jsx)(Oa,{onClick:function(){a(Xa.J.actions.addBullet(5))},left:160,children:"Add 5 Bullet"}),(0,g.jsx)(Oa,{onClick:function(){a(Xa.J.actions.setTrimBullet(void 0))},left:230,children:"Trim Bullet"})]}),(0,g.jsx)(Ec,{children:s()}),(0,g.jsxs)(Ic,{children:[(0,g.jsx)(Lc,{children:i[1]}),(0,g.jsx)(Lc,{children:i[2]}),(0,g.jsx)(Lc,{children:i[3]}),(0,g.jsx)(Lc,{children:i[5]})]}),(0,g.jsxs)(Mc,{children:[(0,g.jsx)(Lc,{children:r[4]}),(0,g.jsx)(Lc,{children:r[5]}),(0,g.jsx)(Lc,{children:r[6]}),(0,g.jsx)(Lc,{children:r[7]})]}),(0,g.jsxs)(Tc,{children:[l,(0,g.jsxs)(Oa,{onClick:function(){var n=c();window.isSecureContext&&navigator.clipboard&&(navigator.clipboard.writeText(n),window.alert("Copied"))},children:["Save & Copy",(0,g.jsxs)(Nc,{children:["Bubbles: ",t]})]}),(0,g.jsx)(Oa,{onClick:function(){var n=h.u.map.colorTool.drawMapForCapture();(0,Ya.saveAs)(n,"level".concat(xc,".jpg"))},children:"Export Map"}),(0,g.jsx)(Oa,{onClick:function(){a(Xa.J.actions.setShowLoadBase64Popup(!0))},children:"Load Base64"})]}),(0,g.jsx)(Ja,{})]})}var pc=void 0,xc=void 0;function hc(n){n.target.value&&(pc=parseInt(n.target.value))}function gc(){void 0!==pc&&pc!==xc&&(h.u.map.colorTool.loadLevel(pc),xc=pc)}function mc(){h.u.map.colorTool.addEmptyLine()}function vc(){h.u.map.colorTool.trimLine()}var bc,wc,Zc,jc,yc,Pc,kc=d.ZP.div(nc||(nc=(0,u.Z)(["\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n"]))),Sc=d.ZP.input(tc||(tc=(0,u.Z)(["\n    width: 50px;\n    height: 30px;\n\n    text-align: center;\n"]))),Cc=d.ZP.div(ec||(ec=(0,u.Z)(["\n    position: fixed;\n    top: 0px;\n\n    padding: 20px;\n\n    display: flex;\n    justify-content: center;\n    gap: 10px;\n"]))),Tc=d.ZP.div(ic||(ic=(0,u.Z)(["\n    position: fixed;\n    bottom: 0px;\n\n    width: 100%;\n    padding: 10px 10px;\n    box-sizing: border-box;\n\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    gap: 10px;\n\n    font-size: 13px;\n"]))),zc=d.ZP.div(oc||(oc=(0,u.Z)(["\n    color: white;\n    text-align: center;\n\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n"]))),Bc=d.ZP.div(rc||(rc=(0,u.Z)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 10px;\n"]))),Nc=d.ZP.div(ac||(ac=(0,u.Z)(["\n    color: white;\n    position: absolute;\n    top: -30px;\n"]))),Ec=d.ZP.div(cc||(cc=(0,u.Z)(["\n    width: 90%;\n    height: 34px;\n\n    display: flex;\n    flex-direction: column;\n    flex-wrap: wrap;\n    /* gap: 2px; */\n    align-content: flex-start;\n\n    overflow-x: scroll;\n    overflow-y: hidden;\n    &::-webkit-scrollbar {\n        display: none;\n    }\n\n    position: absolute;\n    bottom: 220px;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 1px dashed white;\n"]))),Lc=d.ZP.div(sc||(sc=(0,u.Z)(["\n    font-size: 16px;\n    font-weight: 900;\n    text-align: center;\n    color: #fffbee;\n"]))),Ic=d.ZP.div(lc||(lc=(0,u.Z)(["\n    display: flex;\n    gap: 42px;\n    position: absolute;\n    bottom: 183px;\n    box-sizing: border-box;\n    padding-left: 95px;\n"]))),Mc=d.ZP.div(uc||(uc=(0,u.Z)(["\n    display: flex;\n    gap: 42px;\n    position: absolute;\n    bottom: 130px;\n    box-sizing: border-box;\n    padding-left: 95px;\n"]))),Fc=function(){var n=x((function(n){return n.user.profile})),t=x((function(n){return n.worldMap.chapters})),e=B(C.dN.general.exitBtn);(0,o.useEffect)((function(){console.log("[LoadingView] ",n,t),n&&"{}"!=JSON.stringify(n)&&t.length>0&&setTimeout((function(){c.r.emit(c.B.Navigate,C.dI.WorldMap,{replace:!0})}),100)}),[n,t]);return(0,g.jsxs)(Ac,{src:"images/loading-bg.png",children:[(0,g.jsx)(Gc,{src:e,onClick:function(){l.x.request("dismiss")}}),(0,g.jsx)(_c,{children:"Ch\u1edd ch\xfat nha b\u1ea1n \u01a1i\u2026"})]})},Ac=d.ZP.div(bc||(bc=(0,u.Z)(["\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    left: 0px;\n    right: 0px;\n    \n    background-image: url(",");\n    background-size: cover;\n    background-position: center;\n\n    font-family: SFProText;\n    color: #70202c;\n"])),(function(n){return n.src})),_c=d.ZP.div(wc||(wc=(0,u.Z)(["\n    font-family: iCielUniSans;\n    font-size: 14px;\n    font-weight: 900;\n    text-align: center;\n    color: #fff;\n\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n    top: 52.5%;\n"]))),Gc=(0,d.ZP)(cn)(Zc||(Zc=(0,u.Z)(["\n    width: 28px;\n    height: 28px;\n\n    position: absolute;\n    top: 60px;\n    left: 16px;\n"]))),Hc=e(5703),Rc=function(){var n=x((function(n){return n.popup.popupErrorQueues}));return(0,g.jsx)(g.Fragment,{children:(null===n||void 0===n?void 0:n.length)>0&&(0,g.jsx)(Uc,{errorInfo:n[0]})})},Uc=function(n){var t=p(),e=n.errorInfo,i=e.title,r=e.desc,a=e.bannerUrl,s=e.onCloseClick,l=e.cta1Text,u=e.onCta1Click,d=e.cta2Text,f=e.onCta2Click,x=e.errorCode,h=(0,o.useState)(!0),m=(0,T.Z)(h,2),v=m[0],b=m[1],w=B(a);(0,o.useEffect)((function(){Dt.Z.showErrorPopup(x)}),[]),(0,o.useEffect)((function(){var n="".concat(Date.now());return t((0,ve.rR)(n)),c.r.on(n,(function(){Z(s)})),function(){t((0,ve.Xz)(n)),c.r.removeAllListeners(n)}}),[]);var Z=function(n){v&&(b(!1),null===n||void 0===n||n(),setTimeout((function(){t(Hc.k.actions.removeFirstErrorQueue()),b(!0)}),500))},j=x?r+" M\xe3 l\u1ed7i "+x+".":r;return(0,g.jsxs)(Yt,{title:i,onClose:function(){Z(s)},isAppear:v,children:[(0,g.jsx)(Dc,{src:w}),(0,g.jsx)(Oc,{children:j}),(0,g.jsxs)(Vc,{children:[l&&(0,g.jsx)(ln,{src:C.dN.general.button_2,marginTop:"15px",onClick:function(){Z(u)},children:(0,g.jsx)(un,{children:l})}),d&&(0,g.jsx)(ln,{src:C.dN.general.button_1,marginTop:"15px",onClick:function(){Z(f)},children:(0,g.jsx)(un,{children:d})})]})]})},Dc=(0,d.ZP)(cn)(jc||(jc=(0,u.Z)(["\n    width: 283px;\n    height: 108px;\n"]))),Oc=d.ZP.div(yc||(yc=(0,u.Z)(["\n    width: 283px;\n    margin: 10px 0 0;\n    font-family: SFProText;\n    font-size: 12px;\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    color: #681c8d;\n"]))),Vc=d.ZP.div(Pc||(Pc=(0,u.Z)(["\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    gap: 15px;\n"]))),Xc=function(){var n=x((function(n){return n.global.backStacks}));return(0,o.useEffect)((function(){var t=function(t){t&&"onBackPress"==t.data&&c.r.emit(n.length>0?n[n.length-1]:c.B.ON_BACK_KEY)};return window.addEventListener("message",t),function(){window.removeEventListener("message",t)}}),[n]),(0,g.jsx)(g.Fragment,{})};function Wc(n){var t=p();Ro();(0,o.useLayoutEffect)((function(){e()}),[]),(0,o.useEffect)((function(){return i(),function(){u()}}),[]),(0,o.useEffect)((function(){s.t.enable=Ne.Z.getState().game.setting.sound}),[]);var e=function(){l.x.request(l.w.stopTrace,window.traceScreenLoadId),window.onresize=d,l.x.listen("onFocusApp",f),l.x.listen("onBlurApp",x)},i=function(){l.x.request(l.w.stopTrace,window.traceScreenInterractionId),l.x.request(l.w.stopTrace,window.traceScreenGoalId),window.addEventListener("visibilitychange",h)},u=function(){window.removeEventListener("visibilitychange",h)},d=function(){c.r.emit(c.B.ON_RESIZE,window.innerWidth,window.innerHeight)};function f(){s.t.resumeAll(),c.r.emit(c.B.On_RESUME),console.log("[App.jsx] handleFocusMiniApp"),t((0,ze.XB)())}function x(){console.log("[App.jsx] handleBlurMiniApp"),s.t.stopAll(),c.r.emit(c.B.On_PAUSE),t(ze.Pl.actions.stopPing(void 0))}function h(n){"visible"===window.document.visibilityState?f():x()}return(0,g.jsxs)(r.VK,{children:[(0,g.jsxs)(a.Z5,{children:[(0,g.jsx)(a.AW,{path:"/*",element:(0,g.jsx)(fc,{})}),(0,g.jsx)(a.AW,{path:C.dI.Loading,element:(0,g.jsx)(Fc,{})}),(0,g.jsx)(a.AW,{path:C.dI.MainGame,element:(0,g.jsx)(_o,{})}),(0,g.jsx)(a.AW,{path:C.dI.WorldMap,element:(0,g.jsx)(Aa,{})}),(0,g.jsx)(a.AW,{path:C.dI.ColorTool,element:(0,g.jsx)(fc,{})})]}),(0,g.jsx)(Xc,{}),(0,g.jsx)(Uo,{}),(0,g.jsx)(Rc,{})]})}new(Ga()),l.x.initTracking(),s.t.init(C.dN.general.sound)}}]);