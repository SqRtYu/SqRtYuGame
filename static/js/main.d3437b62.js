/*! For license information please see main.d3437b62.js.LICENSE.txt */
(function(){var __webpack_modules__={7204:function(e,t,n){"use strict";n.d(t,{t:function(){return H}});var r,i=n(4165),a=n(5861),o=n(5671),s=n(3144);function u(){return r}var l=n(1413),c=n(9439),h=n(172),f=n(136),d=n(9388),p=0,v=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this)).id=p++,r.init(e),r}return(0,s.Z)(n,[{key:"set",value:function(e,t){if(void 0===this[e])throw new Error("Property with name ".concat(e," does not exist."));switch(e){case"speed":this.speed=t;break;case"volume":this.volume=t;break;case"paused":this.paused=t;break;case"loop":this.loop=t;break;case"muted":this.muted=t}return this}},{key:"progress",get:function(){return this._source.currentTime/this._duration}},{key:"paused",get:function(){return this._paused},set:function(e){this._paused=e,this.refreshPaused()}},{key:"_onPlay",value:function(){this._playing=!0}},{key:"_onPause",value:function(){this._playing=!1}},{key:"init",value:function(e){this._playing=!1,this._duration=e.source.duration;var t=this._source=e.source.cloneNode(!1);t.src=e.parent.url,t.onplay=this._onPlay.bind(this),t.onpause=this._onPause.bind(this),e.context.on("refresh",this.refresh,this),e.context.on("refreshPaused",this.refreshPaused,this),this._media=e}},{key:"_internalStop",value:function(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())}},{key:"stop",value:function(){this._internalStop(),this._source&&this.emit("stop")}},{key:"speed",get:function(){return this._speed},set:function(e){this._speed=e,this.refresh()}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=e,this.refresh()}},{key:"loop",get:function(){return this._loop},set:function(e){this._loop=e,this.refresh()}},{key:"muted",get:function(){return this._muted},set:function(e){this._muted=e,this.refresh()}},{key:"filters",get:function(){return console.warn("HTML Audio does not support filters"),null},set:function(e){console.warn("HTML Audio does not support filters")}},{key:"refresh",value:function(){var e=this._media.context,t=this._media.parent;this._source.loop=this._loop||t.loop;var n=e.volume*(e.muted?0:1),r=t.volume*(t.muted?0:1),i=this._volume*(this._muted?0:1);this._source.volume=i*n*r,this._source.playbackRate=this._speed*e.speed*t.speed}},{key:"refreshPaused",value:function(){var e=this._media.context,t=this._media.parent,n=this._paused||t.paused||e.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit("pause",n))}},{key:"play",value:function(e){var t=this,r=e.start,i=e.end,a=e.speed,o=e.loop,s=e.volume,u=e.muted;i&&console.assert(i>r,"End time is before start time"),this._speed=a,this._volume=s,this._loop=!!o,this._muted=u,this.refresh(),this.loop&&null!==i&&(console.warn('Looping not support when specifying an "end" time'),this.loop=!1),this._start=r,this._end=i||this._duration,this._start=Math.max(0,this._start-n.PADDING),this._end=Math.min(this._end+n.PADDING,this._duration),this._source.onloadedmetadata=function(){t._source&&(t._source.currentTime=r,t._source.onloadedmetadata=null,t.emit("progress",r,t._duration),h.vB.shared.add(t._onUpdate,t))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit("start")}},{key:"_onUpdate",value:function(){this.emit("progress",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()}},{key:"_onComplete",value:function(){h.vB.shared.remove(this._onUpdate,this),this._internalStop(),this.emit("progress",1,this._duration),this.emit("end",this)}},{key:"destroy",value:function(){h.vB.shared.remove(this._onUpdate,this),this.removeAllListeners();var e=this._source;e&&(e.onended=null,e.onplay=null,e.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off("refresh",this.refresh,this),this._media.context.off("refreshPaused",this.refreshPaused,this),this._media=null)}},{key:"toString",value:function(){return"[HTMLAudioInstance id=".concat(this.id,"]")}}]),n}(h.P6.EventEmitter),m=v;m.PADDING=.1;var g=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"init",value:function(e){this.parent=e,this._source=e.options.source||new Audio,e.url&&(this._source.src=e.url)}},{key:"create",value:function(){return new m(this)}},{key:"isPlayable",get:function(){return!!this._source&&4===this._source.readyState}},{key:"duration",get:function(){return this._source.duration}},{key:"context",get:function(){return this.parent.context}},{key:"filters",get:function(){return null},set:function(e){console.warn("HTML Audio does not support filters")}},{key:"destroy",value:function(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src="",this._source.load(),this._source=null)}},{key:"source",get:function(){return this._source}},{key:"load",value:function(e){var t=this._source,n=this.parent;if(4!==t.readyState)if(n.url){t.src=n.url;var r=function(){o(),n.isLoaded=!0;var t=n.autoPlayStart();e&&e(null,n,t)},i=function(){o(),e&&e(new Error("Sound loading has been aborted"))},a=function(){o();var n="Failed to load audio element (code: ".concat(t.error.code,")");e?e(new Error(n)):console.error(n)},o=function(){t.removeEventListener("canplaythrough",r),t.removeEventListener("load",r),t.removeEventListener("abort",i),t.removeEventListener("error",a)};t.addEventListener("canplaythrough",r,!1),t.addEventListener("load",r,!1),t.addEventListener("abort",i,!1),t.addEventListener("error",a,!1),t.load()}else e(new Error("sound.url or sound.source must be set"));else{n.isLoaded=!0;var s=n.autoPlayStart();e&&setTimeout((function(){e(null,n,s)}),0)}}}]),n}(h.P6.EventEmitter),y=function(){function e(t,n){(0,o.Z)(this,e),this.parent=t,Object.assign(this,n),this.duration=this.end-this.start,console.assert(this.duration>0,"End time must be after start time")}return(0,s.Z)(e,[{key:"play",value:function(e){return this.parent.play({complete:e,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})}},{key:"destroy",value:function(){this.parent=null}}]),e}(),b=["ogg","oga","opus","m4a","mp3","mpeg","wav","aiff","wma","mid","caf"],x={};!function(e){var t=(0,l.Z)({m4a:"audio/mp4",oga:"audio/ogg",opus:'audio/ogg; codecs="opus"',caf:'audio/x-caf; codecs="opus"'},e||{}),n=document.createElement("audio"),r={},i=/^no$/;b.forEach((function(e){var a=n.canPlayType("audio/".concat(e)).replace(i,""),o=t[e]?n.canPlayType(t[e]).replace(i,""):"";r[e]=!!a||!!o})),Object.assign(x,r)}();var _=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,null,[{key:"setParamValue",value:function(e,t){if(e.setValueAtTime){var n=u().context;e.setValueAtTime(t,n.audioContext.currentTime)}else e.value=t;return t}}]),e}(),w=0,k=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this)).id=w++,r._media=null,r._paused=!1,r._muted=!1,r._elapsed=0,r.init(e),r}return(0,s.Z)(n,[{key:"set",value:function(e,t){if(void 0===this[e])throw new Error("Property with name ".concat(e," does not exist."));switch(e){case"speed":this.speed=t;break;case"volume":this.volume=t;break;case"muted":this.muted=t;break;case"loop":this.loop=t;break;case"paused":this.paused=t}return this}},{key:"stop",value:function(){this._source&&(this._internalStop(),this.emit("stop"))}},{key:"speed",get:function(){return this._speed},set:function(e){this._speed=e,this.refresh(),this._update(!0)}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=e,this.refresh()}},{key:"muted",get:function(){return this._muted},set:function(e){this._muted=e,this.refresh()}},{key:"loop",get:function(){return this._loop},set:function(e){this._loop=e,this.refresh()}},{key:"filters",get:function(){return this._filters},set:function(e){var t;this._filters&&(null===(t=this._filters)||void 0===t||t.filter((function(e){return e})).forEach((function(e){return e.disconnect()})),this._filters=null,this._source.connect(this._gain));this._filters=null!==e&&void 0!==e&&e.length?e.slice(0):null,this.refresh()}},{key:"refresh",value:function(){if(this._source){var e=this._media.context,t=this._media.parent;this._source.loop=this._loop||t.loop;var n=e.volume*(e.muted?0:1),r=t.volume*(t.muted?0:1),i=this._volume*(this._muted?0:1);_.setParamValue(this._gain.gain,i*r*n),_.setParamValue(this._source.playbackRate,this._speed*t.speed*e.speed),this.applyFilters()}}},{key:"applyFilters",value:function(){var e;if(null!==(e=this._filters)&&void 0!==e&&e.length){this._source.disconnect();var t=this._source;this._filters.forEach((function(e){t.connect(e.destination),t=e})),t.connect(this._gain)}}},{key:"refreshPaused",value:function(){var e=this._media.context,t=this._media.parent,n=this._paused||t.paused||e.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit("pause",n))}},{key:"play",value:function(e){var t=e.start,n=e.end,r=e.speed,i=e.loop,a=e.volume,o=e.muted,s=e.filters;n&&console.assert(n>t,"End time is before start time"),this._paused=!1;var u=this._media.nodes.cloneBufferSource(),l=u.source,c=u.gain;this._source=l,this._gain=c,this._speed=r,this._volume=a,this._loop=!!i,this._muted=o,this._filters=s,this.refresh();var h=this._source.buffer.duration;this._duration=h,this._end=n,this._lastUpdate=this._now(),this._elapsed=t,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=n,this._source.loopStart=t,this._source.start(0,t)):n?this._source.start(0,t,n-t):this._source.start(0,t),this.emit("start"),this._update(!0),this.enableTicker(!0)}},{key:"enableTicker",value:function(e){h.vB.shared.remove(this._updateListener,this),e&&h.vB.shared.add(this._updateListener,this)}},{key:"progress",get:function(){return this._progress}},{key:"paused",get:function(){return this._paused},set:function(e){this._paused=e,this.refreshPaused()}},{key:"destroy",value:function(){var e;this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off("refresh",this.refresh,this),this._media.context.events.off("refreshPaused",this.refreshPaused,this),this._media=null),null===(e=this._filters)||void 0===e||e.forEach((function(e){return e.disconnect()})),this._filters=null,this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1}},{key:"toString",value:function(){return"[WebAudioInstance id=".concat(this.id,"]")}},{key:"_now",value:function(){return this._media.context.audioContext.currentTime}},{key:"_updateListener",value:function(){this._update()}},{key:"_update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._source){var t=this._now(),n=t-this._lastUpdate;if(n>0||e){var r=this._source.playbackRate.value;this._elapsed+=n*r,this._lastUpdate=t;var i,a=this._duration;if(this._source.loopStart){var o=this._source.loopEnd-this._source.loopStart;i=(this._source.loopStart+this._elapsed%o)/a}else i=this._elapsed%a/a;this._progress=i,this.emit("progress",this._progress,a)}}}},{key:"init",value:function(e){this._media=e,e.context.events.on("refresh",this.refresh,this),e.context.events.on("refreshPaused",this.refreshPaused,this)}},{key:"_internalStop",value:function(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.stop(0),this._source.disconnect();try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}this._source=null}}},{key:"_onComplete",value:function(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.disconnect();try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}}this._source=null,this._progress=1,this.emit("progress",1,this._duration),this.emit("end",this)}}]),n}(h.P6.EventEmitter),E=n(1752),T=n(1120),S=function(){function e(t,n){(0,o.Z)(this,e),this._output=n,this._input=t}return(0,s.Z)(e,[{key:"destination",get:function(){return this._input}},{key:"filters",get:function(){return this._filters},set:function(e){var t=this;if(this._filters&&(this._filters.forEach((function(e){e&&e.disconnect()})),this._filters=null,this._input.connect(this._output)),e&&e.length){this._filters=e.slice(0),this._input.disconnect();var n=null;e.forEach((function(e){null===n?t._input.connect(e.destination):n.connect(e.destination),n=e})),n.connect(this._output)}}},{key:"destroy",value:function(){this.filters=null,this._input=null,this._output=null}}]),e}(),A=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;(0,o.Z)(this,n);var i=e.audioContext,a=i.createBufferSource(),s=i.createGain(),u=i.createAnalyser();return a.connect(u),u.connect(s),s.connect(e.destination),(r=t.call(this,u,s)).context=e,r.bufferSource=a,r.gain=s,r.analyser=u,r}return(0,s.Z)(n,[{key:"script",get:function(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(n.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script}},{key:"destroy",value:function(){(0,E.Z)((0,T.Z)(n.prototype),"destroy",this).call(this),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null}},{key:"cloneBufferSource",value:function(){var e=this.bufferSource,t=this.context.audioContext.createBufferSource();t.buffer=e.buffer,_.setParamValue(t.playbackRate,e.playbackRate.value),t.loop=e.loop;var n=this.context.audioContext.createGain();return t.connect(n),n.connect(this.destination),{source:t,gain:n}}},{key:"bufferSize",get:function(){return this.script.bufferSize}}]),n}(S);A.BUFFER_SIZE=0;var M=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,[{key:"init",value:function(e){this.parent=e,this._nodes=new A(this.context),this._source=this._nodes.bufferSource,this.source=e.options.source}},{key:"destroy",value:function(){this.parent=null,this._nodes.destroy(),this._nodes=null;try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}this._source=null,this.source=null}},{key:"create",value:function(){return new k(this)}},{key:"context",get:function(){return this.parent.context}},{key:"isPlayable",get:function(){return!!this._source&&!!this._source.buffer}},{key:"filters",get:function(){return this._nodes.filters},set:function(e){this._nodes.filters=e}},{key:"duration",get:function(){return console.assert(this.isPlayable,"Sound not yet playable, no duration"),this._source.buffer.duration}},{key:"buffer",get:function(){return this._source.buffer},set:function(e){this._source.buffer=e}},{key:"nodes",get:function(){return this._nodes}},{key:"load",value:function(e){this.source?this._decode(this.source,e):this.parent.url?this._loadUrl(e):e?e(new Error("sound.url or sound.source must be set")):console.error("sound.url or sound.source must be set")}},{key:"_loadUrl",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parent.url,e.next=3,h.Xd.ADAPTER.fetch(n);case 3:return r=e.sent,e.t0=this,e.next=7,r.arrayBuffer();case 7:e.t1=e.sent,e.t2=t,e.t0._decode.call(e.t0,e.t1,e.t2);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_decode",value:function(e,t){var n=this,r=function(e,r){if(e)t&&t(e);else{n.parent.isLoaded=!0,n.buffer=r;var i=n.parent.autoPlayStart();t&&t(null,n.parent,i)}};e instanceof AudioBuffer?r(null,e):this.parent.context.decode(e,r)}}]),e}(),P=function(){function e(t,n){(0,o.Z)(this,e),this.media=t,this.options=n,this._instances=[],this._sprites={},this.media.init(this);var r=n.complete;this._autoPlayOptions=r?{complete:r}:null,this.isLoaded=!1,this._preloadQueue=null,this.isPlaying=!1,this.autoPlay=n.autoPlay,this.singleInstance=n.singleInstance,this.preload=n.preload||this.autoPlay,this.url=Array.isArray(n.url)?this.preferUrl(n.url):n.url,this.speed=n.speed,this.volume=n.volume,this.loop=n.loop,n.sprites&&this.addSprites(n.sprites),this.preload&&this._preload(n.loaded)}return(0,s.Z)(e,[{key:"preferUrl",value:function(e){var t=e.map((function(e){return{url:e,ext:h.P6.path.extname(e).slice(1)}})).sort((function(e,t){return b.indexOf(e.ext)-b.indexOf(t.ext)}));return(0,c.Z)(t,1)[0].url}},{key:"context",get:function(){return u().context}},{key:"pause",value:function(){return this.isPlaying=!1,this.paused=!0,this}},{key:"resume",value:function(){return this.isPlaying=this._instances.length>0,this.paused=!1,this}},{key:"paused",get:function(){return this._paused},set:function(e){this._paused=e,this.refreshPaused()}},{key:"speed",get:function(){return this._speed},set:function(e){this._speed=e,this.refresh()}},{key:"filters",get:function(){return this.media.filters},set:function(e){this.media.filters=e}},{key:"addSprites",value:function(e,t){if("object"===typeof e){var n={};for(var r in e)n[r]=this.addSprites(r,e[r]);return n}console.assert(!this._sprites[e],"Alias ".concat(e," is already taken"));var i=new y(this,t);return this._sprites[e]=i,i}},{key:"destroy",value:function(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null}},{key:"removeSprites",value:function(e){if(e){var t=this._sprites[e];void 0!==t&&(t.destroy(),delete this._sprites[e])}else for(var n in this._sprites)this.removeSprites(n);return this}},{key:"isPlayable",get:function(){return this.isLoaded&&this.media&&this.media.isPlayable}},{key:"stop",value:function(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(var e=this._instances.length-1;e>=0;e--)this._instances[e].stop();return this}},{key:"play",value:function(e,t){var n,r=this;"string"===typeof e?n={sprite:e,loop:this.loop,complete:t}:"function"===typeof e?(n={}).complete=e:n=e;if((n=(0,l.Z)({complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1},n||{})).sprite){var i=n.sprite;console.assert(!!this._sprites[i],"Alias ".concat(i," is not available"));var a=this._sprites[i];n.start=a.start+(n.start||0),n.end=a.end,n.speed=a.speed||1,n.loop=a.loop||n.loop,delete n.sprite}if(n.offset&&(n.start=n.offset),!this.isLoaded)return this._preloadQueue?new Promise((function(e){r._preloadQueue.push((function(){e(r.play(n))}))})):(this._preloadQueue=[],this.autoPlay=!0,this._autoPlayOptions=n,new Promise((function(e,t){r._preload((function(i,a,o){r._preloadQueue.forEach((function(e){return e()})),r._preloadQueue=null,i?t(i):(n.loaded&&n.loaded(i,a,o),e(o))}))})));(this.singleInstance||n.singleInstance)&&this._removeInstances();var o=this._createInstance();return this._instances.push(o),this.isPlaying=!0,o.once("end",(function(){n.complete&&n.complete(r),r._onComplete(o)})),o.once("stop",(function(){r._onComplete(o)})),o.play(n),o}},{key:"refresh",value:function(){for(var e=this._instances.length,t=0;t<e;t++)this._instances[t].refresh()}},{key:"refreshPaused",value:function(){for(var e=this._instances.length,t=0;t<e;t++)this._instances[t].refreshPaused()}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=e,this.refresh()}},{key:"muted",get:function(){return this._muted},set:function(e){this._muted=e,this.refresh()}},{key:"loop",get:function(){return this._loop},set:function(e){this._loop=e,this.refresh()}},{key:"_preload",value:function(e){this.media.load(e)}},{key:"instances",get:function(){return this._instances}},{key:"sprites",get:function(){return this._sprites}},{key:"duration",get:function(){return this.media.duration}},{key:"autoPlayStart",value:function(){var e;return this.autoPlay&&(e=this.play(this._autoPlayOptions)),e}},{key:"_removeInstances",value:function(){for(var e=this._instances.length-1;e>=0;e--)this._poolInstance(this._instances[e]);this._instances.length=0}},{key:"_onComplete",value:function(e){if(this._instances){var t=this._instances.indexOf(e);t>-1&&this._instances.splice(t,1),this.isPlaying=this._instances.length>0}this._poolInstance(e)}},{key:"_createInstance",value:function(){if(e._pool.length>0){var t=e._pool.pop();return t.init(this.media),t}return this.media.create()}},{key:"_poolInstance",value:function(t){t.destroy(),e._pool.indexOf(t)<0&&e._pool.push(t)}}],[{key:"from",value:function(t){var n={};return"string"===typeof t?n.url=t:t instanceof ArrayBuffer||t instanceof AudioBuffer||t instanceof HTMLAudioElement?n.source=t:Array.isArray(t)?n.url=t:n=t,n=(0,l.Z)({autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1},n),Object.freeze(n),new e(u().useLegacy?new g:new M,n)}}]),e}(),C=P;C._pool=[];var I=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).speed=1,e.muted=!1,e.volume=1,e.paused=!1,e}return(0,s.Z)(n,[{key:"refresh",value:function(){this.emit("refresh")}},{key:"refreshPaused",value:function(){this.emit("refreshPaused")}},{key:"filters",get:function(){return console.warn("HTML Audio does not support filters"),null},set:function(e){console.warn("HTML Audio does not support filters")}},{key:"audioContext",get:function(){return console.warn("HTML Audio does not support audioContext"),null}},{key:"toggleMute",value:function(){return this.muted=!this.muted,this.refresh(),this.muted}},{key:"togglePause",value:function(){return this.paused=!this.paused,this.refreshPaused(),this.paused}},{key:"destroy",value:function(){this.removeAllListeners()}}]),n}(h.P6.EventEmitter),R=n(7326),O=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;(0,o.Z)(this,n);var r=window,i=new n.AudioContext,a=i.createDynamicsCompressor(),s=i.createAnalyser();return s.connect(a),a.connect(i.destination),(e=t.call(this,s,a))._ctx=i,e._offlineCtx=new n.OfflineAudioContext(1,2,r.OfflineAudioContext?Math.max(8e3,Math.min(96e3,i.sampleRate)):44100),e.compressor=a,e.analyser=s,e.events=new h.P6.EventEmitter,e.volume=1,e.speed=1,e.muted=!1,e.paused=!1,e._locked="suspended"===i.state&&("ontouchstart"in globalThis||"onclick"in globalThis),e._locked&&(e._unlock(),e._unlock=e._unlock.bind((0,R.Z)(e)),document.addEventListener("mousedown",e._unlock,!0),document.addEventListener("touchstart",e._unlock,!0),document.addEventListener("touchend",e._unlock,!0)),e.onFocus=e.onFocus.bind((0,R.Z)(e)),e.onBlur=e.onBlur.bind((0,R.Z)(e)),globalThis.addEventListener("focus",e.onFocus),globalThis.addEventListener("blur",e.onBlur),e}return(0,s.Z)(n,[{key:"onFocus",value:function(){var e=this._ctx.state;"suspended"!==e&&"interrupted"!==e&&this._locked||this._ctx.resume()}},{key:"onBlur",value:function(){this._locked||this._ctx.suspend()}},{key:"_unlock",value:function(){this._locked&&(this.playEmptySound(),"running"===this._ctx.state&&(document.removeEventListener("mousedown",this._unlock,!0),document.removeEventListener("touchend",this._unlock,!0),document.removeEventListener("touchstart",this._unlock,!0),this._locked=!1))}},{key:"playEmptySound",value:function(){var e=this._ctx.createBufferSource();e.buffer=this._ctx.createBuffer(1,1,22050),e.connect(this._ctx.destination),e.start(0,0,0),"suspended"===e.context.state&&e.context.resume()}},{key:"destroy",value:function(){(0,E.Z)((0,T.Z)(n.prototype),"destroy",this).call(this);var e=this._ctx;"undefined"!==typeof e.close&&e.close(),globalThis.removeEventListener("focus",this.onFocus),globalThis.removeEventListener("blur",this.onBlur),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null}},{key:"audioContext",get:function(){return this._ctx}},{key:"offlineContext",get:function(){return this._offlineCtx}},{key:"paused",get:function(){return this._paused},set:function(e){e&&"running"===this._ctx.state?this._ctx.suspend():e||"suspended"!==this._ctx.state||this._ctx.resume(),this._paused=e}},{key:"refresh",value:function(){this.events.emit("refresh")}},{key:"refreshPaused",value:function(){this.events.emit("refreshPaused")}},{key:"toggleMute",value:function(){return this.muted=!this.muted,this.refresh(),this.muted}},{key:"togglePause",value:function(){return this.paused=!this.paused,this.refreshPaused(),this._paused}},{key:"decode",value:function(e,t){var n=function(e){t(new Error((null===e||void 0===e?void 0:e.message)||"Unable to decode file"))},r=this._offlineCtx.decodeAudioData(e,(function(e){t(null,e)}),n);r&&r.catch(n)}}],[{key:"AudioContext",get:function(){var e=window;return e.AudioContext||e.webkitAudioContext||null}},{key:"OfflineAudioContext",get:function(){var e=window;return e.OfflineAudioContext||e.webkitOfflineAudioContext||null}}]),n}(S),L=function(){function e(){(0,o.Z)(this,e),this.init()}return(0,s.Z)(e,[{key:"init",value:function(){return this.supported&&(this._webAudioContext=new O),this._htmlAudioContext=new I,this._sounds={},this.useLegacy=!this.supported,this}},{key:"context",get:function(){return this._context}},{key:"filtersAll",get:function(){return this.useLegacy?[]:this._context.filters},set:function(e){this.useLegacy||(this._context.filters=e)}},{key:"supported",get:function(){return null!==O.AudioContext}},{key:"add",value:function(e,t){if("object"===typeof e){var n={};for(var r in e){var i=this._getOptions(e[r],t);n[r]=this.add(r,i)}return n}if(console.assert(!this._sounds[e],"Sound with alias ".concat(e," already exists.")),t instanceof C)return this._sounds[e]=t,t;var a=this._getOptions(t),o=C.from(a);return this._sounds[e]=o,o}},{key:"_getOptions",value:function(e,t){var n;return n="string"===typeof e||Array.isArray(e)?{url:e}:e instanceof ArrayBuffer||e instanceof AudioBuffer||e instanceof HTMLAudioElement?{source:e}:e,n=(0,l.Z)((0,l.Z)({},n),t||{})}},{key:"useLegacy",get:function(){return this._useLegacy},set:function(e){this._useLegacy=e,this._context=!e&&this.supported?this._webAudioContext:this._htmlAudioContext}},{key:"remove",value:function(e){return this.exists(e,!0),this._sounds[e].destroy(),delete this._sounds[e],this}},{key:"volumeAll",get:function(){return this._context.volume},set:function(e){this._context.volume=e,this._context.refresh()}},{key:"speedAll",get:function(){return this._context.speed},set:function(e){this._context.speed=e,this._context.refresh()}},{key:"togglePauseAll",value:function(){return this._context.togglePause()}},{key:"pauseAll",value:function(){return this._context.paused=!0,this._context.refreshPaused(),this}},{key:"resumeAll",value:function(){return this._context.paused=!1,this._context.refreshPaused(),this}},{key:"toggleMuteAll",value:function(){return this._context.toggleMute()}},{key:"muteAll",value:function(){return this._context.muted=!0,this._context.refresh(),this}},{key:"unmuteAll",value:function(){return this._context.muted=!1,this._context.refresh(),this}},{key:"removeAll",value:function(){for(var e in this._sounds)this._sounds[e].destroy(),delete this._sounds[e];return this}},{key:"stopAll",value:function(){for(var e in this._sounds)this._sounds[e].stop();return this}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!!this._sounds[e];return t&&console.assert(n,"No sound matching alias '".concat(e,"'.")),n}},{key:"isPlaying",value:function(){for(var e in this._sounds)if(this._sounds[e].isPlaying)return!0;return!1}},{key:"find",value:function(e){return this.exists(e,!0),this._sounds[e]}},{key:"play",value:function(e,t){return this.find(e).play(t)}},{key:"stop",value:function(e){return this.find(e).stop()}},{key:"pause",value:function(e){return this.find(e).pause()}},{key:"resume",value:function(e){return this.find(e).resume()}},{key:"volume",value:function(e,t){var n=this.find(e);return void 0!==t&&(n.volume=t),n.volume}},{key:"speed",value:function(e,t){var n=this.find(e);return void 0!==t&&(n.speed=t),n.speed}},{key:"duration",value:function(e){return this.find(e).duration}},{key:"close",value:function(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this}}]),e}(),N=n(2963),B=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,v=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;(0,o.Z)(this,n);var m=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];e=t.call.apply(t,[r].concat(i))};if(u().useLegacy)return m(null),(0,N.Z)(e);var g=[{f:n.F32,type:"lowshelf",gain:i},{f:n.F64,type:"peaking",gain:a},{f:n.F125,type:"peaking",gain:s},{f:n.F250,type:"peaking",gain:l},{f:n.F500,type:"peaking",gain:c},{f:n.F1K,type:"peaking",gain:h},{f:n.F2K,type:"peaking",gain:f},{f:n.F4K,type:"peaking",gain:d},{f:n.F8K,type:"peaking",gain:p},{f:n.F16K,type:"highshelf",gain:v}].map((function(e){var t=u().context.audioContext.createBiquadFilter();return t.type=e.type,_.setParamValue(t.Q,1),t.frequency.value=e.f,_.setParamValue(t.gain,e.gain),t}));m(g[0],g[g.length-1]),e.bands=g,e.bandsMap={};for(var y=0;y<e.bands.length;y++){var b=e.bands[y];y>0&&e.bands[y-1].connect(b),e.bandsMap[b.frequency.value]=b}return(0,N.Z)(e)}return(0,s.Z)(n,[{key:"setGain",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.bandsMap[e])throw new Error("No band found for frequency ".concat(e));_.setParamValue(this.bandsMap[e].gain,t)}},{key:"getGain",value:function(e){if(!this.bandsMap[e])throw new Error("No band found for frequency ".concat(e));return this.bandsMap[e].gain.value}},{key:"f32",get:function(){return this.getGain(n.F32)},set:function(e){this.setGain(n.F32,e)}},{key:"f64",get:function(){return this.getGain(n.F64)},set:function(e){this.setGain(n.F64,e)}},{key:"f125",get:function(){return this.getGain(n.F125)},set:function(e){this.setGain(n.F125,e)}},{key:"f250",get:function(){return this.getGain(n.F250)},set:function(e){this.setGain(n.F250,e)}},{key:"f500",get:function(){return this.getGain(n.F500)},set:function(e){this.setGain(n.F500,e)}},{key:"f1k",get:function(){return this.getGain(n.F1K)},set:function(e){this.setGain(n.F1K,e)}},{key:"f2k",get:function(){return this.getGain(n.F2K)},set:function(e){this.setGain(n.F2K,e)}},{key:"f4k",get:function(){return this.getGain(n.F4K)},set:function(e){this.setGain(n.F4K,e)}},{key:"f8k",get:function(){return this.getGain(n.F8K)},set:function(e){this.setGain(n.F8K,e)}},{key:"f16k",get:function(){return this.getGain(n.F16K)},set:function(e){this.setGain(n.F16K,e)}},{key:"reset",value:function(){this.bands.forEach((function(e){_.setParamValue(e.gain,0)}))}},{key:"destroy",value:function(){this.bands.forEach((function(e){e.disconnect()})),this.bands=null,this.bandsMap=null}}]),n}(function(){function e(t,n){(0,o.Z)(this,e),this.init(t,n)}return(0,s.Z)(e,[{key:"init",value:function(e,t){this.destination=e,this.source=t||e}},{key:"connect",value:function(e){this.source.connect(e)}},{key:"disconnect",value:function(){this.source.disconnect()}},{key:"destroy",value:function(){this.disconnect(),this.destination=null,this.source=null}}]),e}()),D=B;D.F32=32,D.F64=64,D.F125=125,D.F250=250,D.F500=500,D.F1K=1e3,D.F2K=2e3,D.F4K=4e3,D.F8K=8e3,D.F16K=16e3;var F=n(3433),Z=n(5162),V=function(e){var t,n,r=e.src;return null!==(t=null===e||void 0===e||null===(n=e.alias)||void 0===n?void 0:n[0])&&void 0!==t?t:h.P6.path.basename(r,h.P6.path.extname(r))},j={extension:h.nw.Asset,detection:{test:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat((0,F.Z)(t),(0,F.Z)(b.filter((function(e){return x[e]})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return t.includes(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},loader:{extension:{type:[h.nw.LoadParser],priority:Z.Q2.High},test:function(e){var t=h.P6.path.extname(e).slice(1);return!!x[t]},load:function(e,t){return(0,a.Z)((0,i.Z)().mark((function n(){var r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n,r){return C.from((0,l.Z)((0,l.Z)({},t.data),{},{url:e,preload:!0,loaded:function(e,i){var a,o;e?r(e):n(i),null===(a=t.data)||void 0===a||null===(o=a.loaded)||void 0===o||o.call(a,e,i)}}))}));case 2:return r=n.sent,u().add(V(t),r),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},unload:function(e,t){return(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u().remove(V(t));case 1:case"end":return e.stop()}}),e)})))()}}};h.Rw.add(j);var U=function(e){return r=e,e}(new L),Y=n(2749),X=n(8197),G=n(2243),W=function(){function e(){(0,o.Z)(this,e),this.cdnUrl="",this.locked=!1,this.isIngame=!1,this.curChapter=1,this.soundOn=!1}return(0,s.Z)(e,[{key:"init",value:function(e){this.cdnUrl=e,this.play(X.gH.Drop,!1,0)}},{key:"enable",set:function(e){U.volumeAll=e?1:0,this.soundOn=e,e?this.resumeAll():this.stopAll()}},{key:"resumeAll",value:function(){this.isIngame?this.resumeIngameMusic(this.curChapter):this.resumeBgMusic(this.curChapter)}},{key:"stopAll",value:function(){this.locked=!1,U.stopAll()}},{key:"load",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U.exists(t)){e.next=2;break}return e.abrupt("return",U.find(t));case 2:return n=this.cdnUrl+t,e.next=5,Y.P.cacheFile(n);case 5:return n=e.sent,e.abrupt("return",U.add(t,n));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"play",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,r,a,o=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],r=o.length>2&&void 0!==o[2]?o[2]:1,e.next=4,this.load(t);case 4:return a=e.sent,e.abrupt("return",a.play({volume:r,loop:n}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stop",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load(t);case 2:return n=e.sent,e.abrupt("return",n.stop());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseIngameMusic",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=X.bw[t],U.exists(n)&&(U.stop(n),this.locked=!1);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeIngameMusic",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,r=this;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isIngame=!0,this.curChapter=t,!this.locked&&this.soundOn){e.next=4;break}return e.abrupt("return");case 4:return this.locked=!0,n=X.bw[t],e.next=8,this.load(n);case 8:e.sent.play({volume:.3,complete:function(){r.locked=!1,r.resumeIngameMusic(t)}}),this.fadeIn(n,.5);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseBgMusic",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=X.WM[t],U.exists(n)&&(U.stop(n),this.locked=!1);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeBgMusic",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,r=this;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isIngame=!1,this.curChapter=t,!this.locked&&this.soundOn){e.next=4;break}return e.abrupt("return");case 4:return this.locked=!0,n=X.WM[t],e.next=8,this.load(n);case 8:e.sent.play({volume:.5,complete:function(){r.locked=!1,r.resumeBgMusic(t)}}),this.fadeIn(n,.5);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fadeIn",value:function(e,t){var n={volume:0};G.ZP.to(n,{volume:t,duration:2,ease:"power4.in"}).eventCallback("onUpdate",(function(){U.volume(e,n.volume)}))}}]),e}(),H=new W},2995:function(e,t,n){"use strict";n.d(t,{d:function(){return f}});var r=n(4165),i=n(5861),a=n(5671),o=n(3144),s=n(2070),u=n(8197),l=n(6203),c=n(800),h=n(7650),f=(c.PY,function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"getDateTimeVN",value:function(e){var t=new Date(e),n=function(e){return e<10?"0"+e:e};return"".concat(n(t.getHours()),":").concat(n(t.getMinutes()),":").concat(n(t.getSeconds())," - ").concat([n(t.getDate()),n(t.getMonth()+1),t.getFullYear()].join("/"))}},{key:"getDateVN",value:function(e){var t=new Date(e),n=function(e){return e<10?"0"+e:e};return"".concat([n(t.getDate()),n(t.getMonth()+1),t.getFullYear()].join("/"))}},{key:"getTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new Date(e),r=function(e){return e<10?"0"+e:e},i="";if(t&&""!=t)switch(t){case"h":i="".concat(r(n.getUTCHours()));break;case"m":i="".concat(r(n.getUTCMinutes()));break;case"s":i="".concat(r(n.getUTCSeconds()))}else i="".concat(r(Math.floor(n.getUTCHours()/24)),":").concat(r(n.getUTCHours()%24),":").concat(r(n.getUTCMinutes()),":").concat(r(n.getUTCSeconds()));return i}},{key:"msToTime",value:function(e,t){var n=e/1e3,r=Math.floor(n/86400);n%=86400;var i=Math.floor(n/3600);n%=3600;var a=t?Math.ceil(n/60):Math.floor(n/60);return n=Math.floor(n%60),r<1?"".concat(i<10?"0"+i:i,":").concat(a<10?"0"+a:a,":").concat(n<10?"0"+n:n):"".concat(r<10?"0"+r:r,":").concat(i<10?"0"+i:i,":").concat(a<10?"0"+a:a,":").concat(n<10?"0"+n:n)}},{key:"msToTimeWithFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day:hour:minute:second",n=e/1e3,r=Math.floor(n),i=Math.floor(n/60),a=Math.floor(n/3600),o=Math.floor(n/86400);return t.includes("minute")&&(r%=60),t.includes("hour")&&(i%=60),t.includes("day")&&(a%=24),t.replace("day",this.formatNumber(o)).replace("hour",this.formatNumber(a)).replace("minute",this.formatNumber(i)).replace("second",this.formatNumber(r))}},{key:"formatNumber",value:function(e){return(e<0?"-":"")+(Math.abs(e)<10?"0":"")+Math.abs(e)}},{key:"msToReadable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";if(t&&""!=t)switch(t){case"h":n="".concat(Math.floor(e/36e5));break;case"m":var r=e%36e5;n="".concat(Math.floor(r/6e4));break;case"s":var i=e%36e5%6e4;n="".concat(Math.floor(i/1e3))}return n}},{key:"msToSocialTime",value:function(e){var t=(Date.now()-e)/1e3,n=(Math.floor(t),Math.floor(t/60)),r=Math.floor(t/3600),i=Math.floor(t/86400);return i>0?"".concat(i," ng\xe0y tr\u01b0\u1edbc"):r>0?"".concat(r," gi\u1edd tr\u01b0\u1edbc"):n>0?"".concat(n," ph\xfat tr\u01b0\u1edbc"):"V\u1eeba xong"}},{key:"reduceLengthString",value:function(e,t){if(e.length<=t)return e;var n=e.substring(0,t),r=n.lastIndexOf(" ");return n.substring(0,r)+"..."}},{key:"formatName",value:function(e){return e?e.trim().toLowerCase().replace(/(^| )./g,(function(e){return e.toUpperCase()})):""}},{key:"getFirstName",value:function(e){var t;return null===(t=this.formatName(e).match(/\S*$/))||void 0===t?void 0:t[0]}},{key:"convertToShortName",value:function(e,t){return e.length<=t?e:e.replace(/\S* /g,(function(e){return e.charAt(0)+"."}))}},{key:"convertToShortName2",value:function(e,t){if(e.length<=t)return e;var n=e;return n=n.replace(/\s.*\s/g,(function(e){return e.replace(/\S{1,}\s/g,(function(e){return e[0].toUpperCase()+"."})).replace(/.$/," ")}))}},{key:"convertToShortName3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:999;if(e.length<=t)return e;var n=e,r=n.split(" ");return n="".concat(r[0]).concat(r.length>1?" "+r[r.length-1]:"")}},{key:"convertToShortName4",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:999,n=e;return(n=n.split(" ").splice(-2).join(" ")).length<t?n:n.split(" ").splice(-1)[0]}},{key:"convertToShortName5",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:999,n=e;return n.length<t?n:n.split(" ").splice(-1)[0]}},{key:"getLastName",value:function(e){var t=e;return t.split(" ").splice(-1)[0]}},{key:"uuid",get:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}},{key:"convertDistanceToString",value:function(e){return Math.abs(e)<1?Math.round(1e3*e)+"m":Math.round(10*e)/10+"km"}},{key:"toggleClass",value:function(e,t){var n=" ".concat(e," ").replace(/  +/g," ");return n.includes(" ".concat(t," "))?n.replaceAll(" ".concat(t," ")," "):n+"".concat(t," ")}},{key:"randomInt",value:function(e,t){return Math.floor(e+Math.random()*(t-e+1))}},{key:"setSpriteTexture",value:function(e,t){t&&(e.texture=s.xEZ.from(t))}},{key:"isValidNumber",value:function(e){return/^[0-9\b]+$/.test(e)}},{key:"compareObjectOneLevel",value:function(e,t){return null!=e&&null!=t&&(Object.keys(e).length==Object.keys(t).length&&(Object.keys(e).sort().join(",")===Object.keys(t).sort().join(",")&&JSON.stringify(e,Object.keys(e).sort())===JSON.stringify(t,Object.keys(t).sort())))}},{key:"trimVNCode",value:function(e){return!e.startsWith("084")&&!e.startsWith("+84")||12!==e.length&&13!==e.length?!e.startsWith("84")||11!==e.length&&12!==e.length?e:"0"+e.substring(2):"0"+e.substring(3)}},{key:"formatPhoneNumber",value:function(e){return 11===(e=this.trimVNCode(e)).length||e.length<10?e:e=this.formatOldPhoneNumber(e)}},{key:"formatOldPhoneNumber",value:function(e){if(e.startsWith("03"))return"016"+e.substring(2);if(e.startsWith("07"))switch(e.charAt(2)){case"0":return"0120"+e.substring(3);case"9":return"0121"+e.substring(3);case"7":return"0122"+e.substring(3);case"6":return"0126"+e.substring(3);case"8":return"0128"+e.substring(3)}if(e.startsWith("08"))switch(e.charAt(2)){case"3":return"0123"+e.substring(3);case"4":return"0124"+e.substring(3);case"5":return"0125"+e.substring(3);case"1":return"0127"+e.substring(3);case"2":return"0129"+e.substring(3)}if(e.startsWith("05"))switch(e.charAt(2)){case"2":return"0182"+e.substring(3);case"6":return"0186"+e.substring(3);case"8":return"0188"+e.substring(3);case"9":return"0199"+e.substring(3)}return e}},{key:"numberToK",value:function(e){var t=Math.floor(e/1e3);return t>0?t+"k":e+""}},{key:"checkValueInRange",value:function(e,t,n){return e>=Math.min(t,n)&&e<=Math.max(t,n)}},{key:"convertStringToVND",value:function(e){if(!e)return"";var t=(e=(e=e.replace("\u0111","")).replaceAll(".","")).replace(/\B(?=(\d{3})+(?!\d))/g,".");return t+="\u0111"}},{key:"convertNumberToScoreString",value:function(e){var t=""+e;return t=t.replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"convertVNDToString",value:function(e){return e?e=(e=e.replace("\u0111","")).replaceAll(".",""):""}},{key:"convertVNDToNumber",value:function(e){return e?(e=(e=e.replace("\u0111","")).replaceAll(".",""),parseInt(e)):0}},{key:"moveToTarget",value:function(e,t,n,r){return n=Math.abs(n),e<t?Math.min(e+n*r,t):e>t?Math.max(e-n*r,t):e}},{key:"clamp",value:function(e,t,n){var r=Math.max(t,n),i=Math.min(t,n);return e>r?r:e<i?i:e}},{key:"getItemImageUrl",value:function(e){var t=phoenix.melody.MELODY_BALL_TYPE;switch(e.type){case t.MELODY_BALL_TYPE_NONE:case t.MELODY_BALL_TYPE_NORMAL:return l.de.colors[e.color];case t.MELODY_BALL_TYPE_ITEM:return l.de.itemColors[e.color];case t.MELODY_BALL_TYPE_BOOM:case t.MELODY_BALL_TYPE_LINE:case t.MELODY_BALL_TYPE_STONE:case t.MELODY_BALL_TYPE_EXPLODE:case t.MELODY_BALL_TYPE_WHITE:return l.de.types[e.type];default:return null}}},{key:"getTargetTypeImageUrl",value:function(e,t){var n,r,i,a=phoenix.melody.MELODY_LEVEL_TARGET_TYPE;switch(e){case a.MELODY_LEVEL_TARGET_ANY_BALL:return u.dN.general.levelTargetAnyBall;case a.MELODY_LEVEL_TARGET_SPECIFIC_BALL:return null===(n=this.getItemImageUrl(t))||void 0===n||null===(r=n.baseTexture)||void 0===r||null===(i=r.resource)||void 0===i?void 0:i.url;case a.MELODY_LEVEL_TARGET_SCORE:return u.dN.general.levelTargetScore;case a.MELODY_LEVEL_TARGET_ITEM:return u.dN.general.levelTargetItem;default:return null}}},{key:"getTargetCount",value:function(e,t,n){var r,i,a,o,s=phoenix.melody.MELODY_LEVEL_TARGET_TYPE;switch(e){case s.MELODY_LEVEL_TARGET_ANY_BALL:return n.totalBall;case s.MELODY_LEVEL_TARGET_SCORE:case s.MELODY_LEVEL_TARGET_ITEM:return(null===n||void 0===n||null===(r=n.ballType)||void 0===r||null===(i=r[e])||void 0===i?void 0:i.current)||0;case s.MELODY_LEVEL_TARGET_SPECIFIC_BALL:return(null===n||void 0===n||null===(a=n.ballColor)||void 0===a||null===(o=a[null===t||void 0===t?void 0:t.color])||void 0===o?void 0:o.current)||0;default:return 0}}},{key:"loadSpine",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,!this.spineDatas.has(n)){e.next=3;break}return e.abrupt("return",this.spineDatas.get(n));case 3:return e.next=5,s.deM.load(t);case 5:return i=e.sent,(a=i.spineData)&&this.spineDatas.set(n,a),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getScreenSize",value:function(){var e=h.o.width,t=h.o.height;return{screenWidth:e,screenHeight:t,offsetX:0,offsetY:(window.innerHeight/window.innerWidth*e-t)/2}}},{key:"calcDistance",value:function(e,t,n,r){var i=n-e,a=r-t;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}]),e}());f.spineDatas=new Map,f.calcProgressBarPercent=function(e,t,n){if(n<e[0])return 0;for(var r=0;r<e.length-1;r++)if(e[r]<=n&&n<=e[r+1])return(n-e[r])/(e[r+1]-e[r])*(t[r+1]-t[r])+t[r];return 1}},1772:function(e,t,n){"use strict";var r=n(5671),i=n(3144),a=n(3303),o=n(7653),s=n(1299),u=new(function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"service_name",get:function(){return"gamification_".concat(s.y.gameId)}},{key:"send",value:function(e,t){e.service_name=this.service_name,a.x.trackEvent(t,e)}},{key:"sendBE",value:function(e,t){e.serviceName=this.service_name,o.h.trackBE(t,e)}},{key:"showMap",value:function(){this.send({screen_name:"scr_map",status:"success"},"service_screen_viewed"),this.sendBE({screenName:"scr_map",status:"success"},"service_screen_viewed")}},{key:"clickPlayPopupOnboarding",value:function(){this.send({screen_name:"scr_map",component_name:"pu_onboarding",button_name:"play"},"service_component_clicked"),this.sendBE({screenName:"scr_map",componentName:"pu_onboarding",buttonName:"play"},"service_component_clicked")}},{key:"clickPlayPopupTarget",value:function(e){this.send({screen_name:"scr_map",component_name:"pu_target",level_id:e+"",button_name:"play"},"service_component_clicked"),this.sendBE({screenName:"scr_map",componentName:"pu_target",levelId:e+"",buttonName:"play"},"service_component_clicked")}},{key:"clickSettingOnMap",value:function(){this.send({screen_name:"scr_map",icon_name:"setting"},"service_icon_clicked")}},{key:"clickExitGamePopupSetting",value:function(){this.send({screen_name:"scr_map",component_name:"pu_setting",button_name:"exit"},"service_icon_clicked")}},{key:"clickLevelOnMap",value:function(e){this.send({screen_name:"scr_map",component_name:"level",level_id:e+""},"service_component_clicked")}},{key:"clickReplayPopupTarget",value:function(e){this.send({screen_name:"scr_map",component_name:"pu_target",level_id:e+"",button_name:"replay"},"service_component_clicked"),this.sendBE({screenName:"scr_map",componentName:"pu_target",levelId:e+"",buttonName:"replay"},"service_component_clicked")}},{key:"showMaingame",value:function(){this.send({screen_name:"scr_maingame",status:"success"},"service_screen_viewed")}},{key:"clickSettingOnMaingame",value:function(){this.send({screen_name:"scr_maingame",icon_name:"setting"},"service_icon_clicked")}},{key:"clickStopLevelPopupSetting",value:function(){this.send({screen_name:"scr_maingame",component_name:"pu_setting",button_name:"stop"},"service_component_clicked"),this.sendBE({screenName:"scr_maingame",componentName:"pu_setting",buttonName:"stop"},"service_component_clicked")}},{key:"clickAgreePopupEndLevel",value:function(){this.send({screen_name:"scr_maingame",component_name:"pu_endlevel",button_name:"end"},"service_component_clicked")}},{key:"clickContinuePopupEndLevel",value:function(){this.send({screen_name:"scr_maingame",component_name:"pu_endlevel",button_name:"continue"},"service_component_clicked"),this.sendBE({screenName:"scr_maingame",componentName:"pu_endlevel",buttonName:"continue"},"service_component_clicked")}},{key:"showWinPopup",value:function(){this.send({component_name:"pu_win",status:"success"},"service_screen_viewed")}},{key:"clickNextLevelPopupWin",value:function(){this.send({screen_name:"scr_maingame",component_name:"pu_win",button_name:"nextlevel"},"service_component_clicked"),this.sendBE({screenName:"scr_maingame",componentName:"pu_win",buttonName:"nextlevel"},"service_component_clicked")}},{key:"clickClosePopupWin",value:function(){this.send({screen_name:"scr_maingame",component_name:"pu_win",button_name:"close"},"service_component_clicked")}},{key:"showLosePopup",value:function(){this.send({component_name:"pu_lose",status:"success"},"service_screen_viewed")}},{key:"clickPlayAgainPopupLose",value:function(){this.send({screen_name:"scr_maingame",component_name:"pu_lose",button_name:"retry"},"service_component_clicked"),this.sendBE({screenName:"scr_maingame",componentName:"pu_lose",buttonName:"retry"},"service_component_clicked")}},{key:"clickHomePopupLose",value:function(){this.send({screen_name:"scr_maingame",component_name:"pu_lose",button_name:"home"},"service_component_clicked")}},{key:"clickClosePopupLose",value:function(){this.send({screen_name:"scr_maingame",component_name:"pu_lose",button_name:"close"},"service_component_clicked")}},{key:"showRecoveringHeartPopup",value:function(){this.send({screen_name:"src_map",component_name:"pu_recovering_heart"},"service_screen_viewed")}},{key:"showErrorPopup",value:function(e){this.send({error_code:e+"",component_name:"pu_error"},"service_screen_viewed")}}]),e}());t.Z=u},7653:function(e,t,n){"use strict";n.d(t,{h:function(){return y}});var r=n(1413),i=n(4165),a=n(5861),o=n(5671),s=n(3144),u=n(8197),l=n(3303),c=n(3231),h=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,[{key:"token",get:function(){return c.Z.getState().user.userToken}},{key:"userId",get:function(){return c.Z.getState().user.userId}},{key:"format",value:function(e,t){return e.replace(/{(\d+)}/g,(function(e,n){return encodeURIComponent(t[n])}))}},{key:"get",value:function(e,t){return t&&(e=this.format(e,t)),this.request(e,"GET")}},{key:"getWithJSON",value:function(e,t){return this.request(e,"GET",t)}},{key:"post",value:function(e,t){return this.request(e,"POST",t)}},{key:"request",value:function(e,t,n){var r=this;return new Promise(function(){var o=(0,a.Z)((0,i.Z)().mark((function a(o,s){var c,h;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!l.x.isBrowser){i.next=4;break}fetch(u.lT.DEV_HOST+e,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return o(e)})).catch((function(e){return o(null)})),i.next=16;break;case 4:if("GET"!=t){i.next=11;break}return i.next=7,l.x.getCloudMessage(e);case 7:c=i.sent,o(c),i.next=16;break;case 11:if("POST"!=t){i.next=16;break}return i.next=14,l.x.sendCloudMessage(e,n);case 14:h=i.sent,o(h);case 16:case"end":return i.stop()}}),a)})));return function(e,t){return o.apply(this,arguments)}}())}}]),e}(),f=new h,d=n(918),p=function(){function e(){(0,o.Z)(this,e),this.urlForward="https://m.mservice.io/phoenix-melody-gateway/v1/forward",console.log("[NetworkBinary] Url: ",this.urlForward)}return(0,s.Z)(e,[{key:"token",get:function(){return c.Z.getState().user.userToken}},{key:"sessionId",get:function(){return c.Z.getState().user.sessionId}},{key:"send",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n,r,a){var o,s,u,l,c,h,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.create(t),s=n.encode(o).finish(),u=this.prepareBuffer(s,a),e.next=5,this.sendRequest(u);case 5:if(l=e.sent,(c=phoenix.melody.MelodyMsg.decode(new Uint8Array(l))).error===phoenix.melody.MELODY_ERROR.MELODY_ERROR_NONE){e.next=12;break}return console.log("Cmd ",a,"is dead"),h=phoenix.melody.MelodyError.decode(c.body),console.log("Error code: ",c.error,", desc: ",h.content),e.abrupt("return",null);case 12:return e.prev=12,f=r.decode(c.body),e.abrupt("return",f);case 17:return e.prev=17,e.t0=e.catch(12),console.log("Decode to phoenix object",e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this,[[12,17]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";return new Promise(function(){var r=(0,a.Z)((0,i.Z)().mark((function r(a,o){var s;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:(s=new XMLHttpRequest).onreadystatechange=function(){4==s.readyState&&(200==s.status?a(s.response):a(null))},s.responseType="arraybuffer",s.timeout=5e3,s.open(n,t.urlForward),s.setRequestHeader("Content-type","application/octet-stream"),s.send(e);case 7:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())}},{key:"prepareBuffer",value:function(e,t){var n=new phoenix.melody.MelodyMsg;n.token=this.token,n.cmd=t,n.timestamp=Date.now(),n.body=e,n.endpoint="phoenix-melody-game",t!==phoenix.melody.MELODY_CMD.MELODY_CMD_LOGIN&&(n.sessionId=this.sessionId);var r=phoenix.melody.MelodyMsg.encode(n).finish();return d.lW.from(r)}}]),e}(),v=new p,m=n(1299),g=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,[{key:"getDeviceInfo",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){l.x.request("getDeviceInfo").then((function(t){e(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getGameHubInfo",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.get(u.lT.GET_GAME_HUB_INFO,[m.y.gameId]));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getLogin",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.send({},phoenix.melody.MelodyReqPlayerLogin,phoenix.melody.MelodyResPlayerLogin,phoenix.melody.MELODY_CMD.MELODY_CMD_LOGIN));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getLogout",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.send({},phoenix.melody.MelodyReqPlayerLogout,phoenix.melody.MelodyResPlayerLogout,phoenix.melody.MELODY_CMD.MELODY_CMD_PLAYER_LOG_OUT));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getPing",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.send({id:t,sendAt:Date.now()},phoenix.melody.MelodyPing,phoenix.melody.MelodyPing,phoenix.melody.MELODY_CMD.MELODY_CMD_PING));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.send({version:t},phoenix.melody.MelodyReqConfig,phoenix.melody.MelodyResConfig,phoenix.melody.MELODY_CMD.MELODY_CMD_CONFIG));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapter",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.send({chapterId:t,getConfig:!0},phoenix.melody.MelodyReqChapter,phoenix.melody.MelodyResChapter,phoenix.melody.MELODY_CMD.MELODY_CMD_PLAYER_CHAPTER_GET));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postPlaygame",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.send({levelId:t,getConfig:!0},phoenix.melody.MelodyReqPlay,phoenix.melody.MelodyResPlay,phoenix.melody.MELODY_CMD.MELODY_CMD_PLAYER_LEVEL_PLAY));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postEndgame",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.send({levelId:t,score:n,isComplete:r},phoenix.melody.MelodyReqEnd,phoenix.melody.MelodyResEnd,phoenix.melody.MELODY_CMD.MELODY_CMD_PLAYER_LEVEL_END));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"resetUserProfile",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.send({},phoenix.melody.MelodyReqProfileReset,phoenix.melody.MelodyResProfileReset,phoenix.melody.MELODY_CMD.MELODY_CMD_PROFILE_RESET);case 2:return t=e.sent,console.log("resetUserProfile",t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartInfo",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.send({},phoenix.melody.MelodyReqProfileHearts,phoenix.melody.MelodyResProfileHearts,phoenix.melody.MELODY_CMD.MELODY_CMD_PLAYER_HEATS));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"postHeartInfo",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.send({hearts:t,heartReloadTime:n,heartMax:r},phoenix.melody.MelodyReqProfileChangeHearts,phoenix.melody.MelodyResProfileChangeHearts,phoenix.melody.MELODY_CMD.MELODY_CMD_PROFILE_CHANGE_HEARTS));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"trackBE",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.send((0,r.Z)((0,r.Z)({},n),{},{eventName:t,agentId:c.Z.getState().user.agentId+""}),phoenix.melody.MelodyReqScreenTracking,phoenix.melody.MelodyResScreenTracking,phoenix.melody.MELODY_CMD.MELODY_CMD_SCREEN_TRACKING));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),y=new g},5473:function(e,t,n){"use strict";var r=n(3144),i=n(5671),a=new((0,r.Z)((function e(){(0,i.Z)(this,e),this.deviceInfo={instanceID:"FTWJFBDPQMYDQFAJB5VOPB",totalStorage:107209,totalRam:5584,countryCode:"084",devicePerformance:"high-end",bundleId:"vn.momo.platform.test",isEmulator:"false",BSSID:"02:00:00:00:00:00",deviceMCC:"452",firebaseToken:"ftwjFbDPQMydqfAjB5vOpb:APA91bF_DVNBUdmVH9JXcp9aGlZZMF2eVmvqj_5ksm7KRenkvSsRYGbTJRvdWjOR_I35rcQvZuuCUhdDDq0xwG3Rks_5taONd_x5vZVw9D15ceeRT87gXEMxqk3aGpeRiEc2GwqyNFpN",googlePlayServicesAvailable:!0,deviceSecureId:"230c8f27a54b97de",buildVersion:31040,deviceModelName:"Z818L",isDev:"true",deviceName:"Z818L",deviceManufacturer:"Xiaomi",AAID:"461b635f-1f94-4dea-90a0-cd04e3f6f2c9",deviceHardwareVersion:"qcom",appVersion:"3.1.4-debug",IDFA:"",deviceSoftwareVersion:"30",deviceNetworkOperatorName:"Viettel",icc:"",deviceImei:"20aef116-ae34-41be-abf3-fcb58da6c12d",countryName:"Vietnam",freeStorage:63899,deviceModelID:"xiaomi m2101k7agqcomnull"},this.APP_PROFILE={name:"user",userId:"id",token:"token",agentId:0},this.APP_CONFIG={feature:{featureID:"melody",params:{featureCode:"melody",refId:"",cdn:"https://img.mservice.com.vn/app",gameId:"melody",forceCache:!1}}},this.GEN_DEEPLINK={response_info:{error_message:"success",error_code:0,event_tracking:"add_deeplink"},item:{shortLink:"https://page.dev.mservice.io/GBexQcNxWll"}},this.GET_GAME_HUB_INFO={response_info:{error_message:"success",error_code:0,event_tracking:"v1_get_hub_block"},data:{label:"Kh\xe1m ph\xe1",title:"Trung t\xe2m tr\xf2 ch\u01a1i",desc:"Th\u01b0\u1edfng th\u1ee9c c\xe1c tr\xf2 ch\u01a1i gi\u1ea3i tr\xed v\xe0 khuy\u1ebfn m\xe3i.",ctaText:"Xem to\xe0n b\u1ed9",ctaRefId:"gami_hub",ctaExtra:"",games:[{name:"\u0110\u1eadp h\u1ed9p c\u1ef1c sung",icon:"https://img.mservice.com.vn/app/img/Gamification/Latthe/icon_app.2x.png",refId:"pick_01",refExtra:""},{name:"L\u1eafc X\xec 2023",icon:"https://atc-edge26.mservice.com.vn/app/img/lixi2023/lacxi2023_logo.2x.png",refId:"lacxi2023",refExtra:""},{name:"Lanh Chanh",icon:"https://img.mservice.com.vn/app/img/lixi2023/icon_hub_lanhchanh.png",refId:"lacxi2023",refExtra:'{"refId":"minigame", "gameId":"lanhchanh"}'},{name:"\u1ee6i \u1ee6i",icon:"https://img.mservice.com.vn/app/img/uiui/uiui_icon_v3.thumbnail.png",refId:"uiui_social",refExtra:""}]}},this.WORLD_MAP_IMAGES_DEFINE=[{id:"bg_1",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/background_v2.png",width:750,height:1e3,anchorX:.5,anchorY:1},{id:"deco_gate",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/deco_gate_v2.webp",width:750,height:280,anchorX:.5,anchorY:1},{id:"deco_l1",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/deco_l1_v2.png",width:0,height:476,anchorX:0,anchorY:1},{id:"deco_l2",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/deco_l2_v2.png",width:0,height:478,anchorX:0,anchorY:1},{id:"deco_l3",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/deco_l3_v2.png",width:0,height:476,anchorX:0,anchorY:1},{id:"deco_l4",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/deco_l4_v2.png",width:0,height:478,anchorX:0,anchorY:1},{id:"deco_l5",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/deco_l5_v2.png",width:0,height:476,anchorX:0,anchorY:1},{id:"deco_l6",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/deco_l6_v2.png",width:0,height:478,anchorX:0,anchorY:1},{id:"deco_r1",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/deco_r1_v2.png",width:0,height:612,anchorX:1,anchorY:1},{id:"deco_r2",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/deco_r2_v2.png",width:0,height:420,anchorX:1,anchorY:1},{id:"deco_r3",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/deco_r3_v2.png",width:0,height:612,anchorX:1,anchorY:1},{id:"deco_r4",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/deco_r4_v2.png",width:0,height:420,anchorX:1,anchorY:1},{id:"deco_r5",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/deco_r5_v2.png",width:0,height:612,anchorX:1,anchorY:1},{id:"deco_r6",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/deco_r6_v2.png",width:0,height:420,anchorX:1,anchorY:1},{id:"w2_bg_1",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/w2_background_v2.webp",width:750,height:1e3,anchorX:.5,anchorY:1},{id:"w2_deco_gate",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/w2_deco_gate.webp",width:750,height:280,anchorX:.5,anchorY:1},{id:"w2_deco_l1",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/w2_deco_l1.png",width:0,height:478,anchorX:0,anchorY:1},{id:"w2_deco_l2",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/w2_deco_l2.png",width:0,height:478,anchorX:0,anchorY:1},{id:"w2_deco_l3",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/w2_deco_l3.png",width:0,height:478,anchorX:0,anchorY:1},{id:"w2_deco_l4",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/w2_deco_l4.png",width:0,height:478,anchorX:0,anchorY:1},{id:"w2_deco_l5",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/w2_deco_l5.png",width:0,height:478,anchorX:0,anchorY:1},{id:"w2_deco_l6",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/w2_deco_l6.png",width:0,height:478,anchorX:0,anchorY:1},{id:"w2_deco_r1",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/w2_deco_r1.png",width:0,height:612,anchorX:1,anchorY:1},{id:"w2_deco_r2",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/w2_deco_r2.png",width:0,height:420,anchorX:1,anchorY:1},{id:"w2_deco_r3",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/w2_deco_r3.png",width:0,height:612,anchorX:1,anchorY:1},{id:"w2_deco_r4",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/w2_deco_r4.png",width:0,height:420,anchorX:1,anchorY:1},{id:"w2_deco_r5",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/w2_deco_r5.png",width:0,height:612,anchorX:1,anchorY:1},{id:"w2_deco_r6",url:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/w2_deco_r6.png",width:0,height:420,anchorX:1,anchorY:1}],this.WORLD_MAP_CHAPTERS=[{id:1,offsetTop:-550,offsetBottom:-280,backgrounds:[{imageId:"bg_1",x:0,y:280},{imageId:"bg_1",x:0,y:1280},{imageId:"bg_1",x:0,y:2280},{imageId:"bg_1",x:0,y:3280},{imageId:"bg_1",x:0,y:4280}],decors:[{imageId:"deco_gate",x:0,y:0},{imageId:"deco_l1",x:-375,y:280},{imageId:"deco_l2",x:-375,y:780},{imageId:"deco_l3",x:-375,y:1280},{imageId:"deco_l4",x:-375,y:1780},{imageId:"deco_l5",x:-375,y:2280},{imageId:"deco_l6",x:-375,y:2780},{imageId:"deco_l1",x:-375,y:3280},{imageId:"deco_l2",x:-375,y:3780},{imageId:"deco_r1",x:375,y:280},{imageId:"deco_r2",x:375,y:880},{imageId:"deco_r3",x:375,y:1280},{imageId:"deco_r4",x:375,y:1880},{imageId:"deco_r5",x:375,y:2280},{imageId:"deco_r6",x:375,y:2880},{imageId:"deco_r1",x:375,y:3280},{imageId:"deco_r2",x:375,y:3880}],checkpoints:[{id:1,imageId:"",x:60,y:380},{id:2,imageId:"",x:60,y:580},{id:3,imageId:"",x:40,y:780},{id:4,imageId:"",x:-30,y:980},{id:5,imageId:"",x:-60,y:1180},{id:6,imageId:"",x:60,y:1380},{id:7,imageId:"",x:60,y:1580},{id:8,imageId:"",x:40,y:1780},{id:9,imageId:"",x:-30,y:1980},{id:10,imageId:"",x:-60,y:2180},{id:11,imageId:"",x:60,y:2380},{id:12,imageId:"",x:60,y:2580},{id:13,imageId:"",x:40,y:2780},{id:14,imageId:"",x:-30,y:2980},{id:15,imageId:"",x:-60,y:3180},{id:16,imageId:"",x:60,y:3380},{id:17,imageId:"",x:60,y:3580},{id:18,imageId:"",x:40,y:3780},{id:19,imageId:"",x:-30,y:3980},{id:20,imageId:"",x:-60,y:4180}]},{id:2,offsetTop:-700,offsetBottom:-280,backgrounds:[{imageId:"w2_bg_1",x:0,y:6860},{imageId:"w2_bg_1",x:0,y:7860},{imageId:"w2_bg_1",x:0,y:8860},{imageId:"w2_bg_1",x:0,y:9860},{imageId:"w2_bg_1",x:0,y:10860},{imageId:"w2_bg_1",x:0,y:11860},{imageId:"w2_bg_1",x:0,y:12860}],decors:[{imageId:"w2_deco_gate",x:0,y:6580},{imageId:"w2_deco_l1",x:-375,y:6890},{imageId:"w2_deco_l2",x:-375,y:7360},{imageId:"w2_deco_l3",x:-375,y:7890},{imageId:"w2_deco_l4",x:-375,y:8360},{imageId:"w2_deco_l5",x:-375,y:8890},{imageId:"w2_deco_l6",x:-375,y:9360},{imageId:"w2_deco_l1",x:-375,y:9890},{imageId:"w2_deco_l2",x:-375,y:10360},{imageId:"w2_deco_l3",x:-375,y:10890},{imageId:"w2_deco_l4",x:-375,y:11360},{imageId:"w2_deco_l5",x:-375,y:11890},{imageId:"w2_deco_l6",x:-375,y:12360},{imageId:"w2_deco_l1",x:-375,y:12890},{imageId:"w2_deco_r1",x:375,y:6860},{imageId:"w2_deco_r2",x:375,y:7460},{imageId:"w2_deco_r3",x:375,y:7860},{imageId:"w2_deco_r4",x:375,y:8460},{imageId:"w2_deco_r5",x:375,y:8860},{imageId:"w2_deco_r6",x:375,y:9460},{imageId:"w2_deco_r1",x:375,y:9860},{imageId:"w2_deco_r2",x:375,y:10460},{imageId:"w2_deco_r3",x:375,y:10860},{imageId:"w2_deco_r4",x:375,y:11460},{imageId:"w2_deco_r5",x:375,y:11860},{imageId:"w2_deco_r6",x:375,y:12460},{imageId:"w2_deco_r1",x:375,y:12860}],checkpoints:[{id:31,imageId:"",x:20,y:6960},{id:32,imageId:"",x:40,y:7160},{id:33,imageId:"",x:20,y:7360},{id:34,imageId:"",x:-50,y:7560},{id:35,imageId:"",x:-30,y:7760},{id:36,imageId:"",x:20,y:7960},{id:37,imageId:"",x:40,y:8160},{id:38,imageId:"",x:20,y:8360},{id:39,imageId:"",x:-50,y:8560},{id:40,imageId:"",x:-30,y:8760},{id:41,imageId:"",x:20,y:8960},{id:42,imageId:"",x:40,y:9160},{id:43,imageId:"",x:20,y:9360},{id:44,imageId:"",x:-50,y:9560},{id:45,imageId:"",x:-30,y:9760},{id:46,imageId:"",x:20,y:9960},{id:47,imageId:"",x:40,y:10160},{id:48,imageId:"",x:20,y:10360},{id:49,imageId:"",x:-50,y:10560},{id:50,imageId:"",x:-30,y:10760},{id:51,imageId:"",x:20,y:10960},{id:52,imageId:"",x:40,y:11160},{id:53,imageId:"",x:20,y:11360},{id:54,imageId:"",x:-50,y:11560},{id:55,imageId:"",x:-30,y:11760},{id:56,imageId:"",x:20,y:11960},{id:57,imageId:"",x:40,y:12160},{id:58,imageId:"",x:20,y:12360},{id:59,imageId:"",x:-50,y:12560},{id:60,imageId:"",x:-30,y:12760}]}]})));t.Z=a},2749:function(e,t,n){"use strict";n.d(t,{P:function(){return h}});var r=n(4165),i=n(5861),a=n(5671),o=n(3144),s=n(3303),u=n(1299),l=function(e){return e[e.NONE=0]="NONE",e[e.FETCHING=1]="FETCHING",e[e.CACHED=2]="CACHED",e}(l||{}),c=function(){function e(){(0,a.Z)(this,e),this.isSupportWebP=!0,this.caches=new Map,this.status=new Map,this.init()}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkSupportsWebp();case 2:this.isSupportWebP=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cacheJson",value:function(e,t){return s.x.isBrowser?localStorage.setItem(e,JSON.stringify(t)):s.x.request(s.w.setItem,e,t)}},{key:"getJson",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.x.isBrowser){e.next=5;break}if(n=localStorage.getItem(t)){e.next=4;break}return e.abrupt("return",null);case 4:return e.abrupt("return",JSON.parse(n));case 5:return e.next=7,s.x.request(s.w.getItem,t);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getInCache",value:function(e){return this.caches.get(e)}},{key:"requestCache",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r;t=null===(r=t)||void 0===r?void 0:r.replace("img.mservice.io","img.mservice.com.vn"),fetch(t,{cache:"force-cache"}).then((function(t){t.ok?t.blob().then((function(t){e(URL.createObjectURL(t))})):e("")}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"cacheFile",value:function(e){var t=this;return this.isSupportWebP||-1===e.lastIndexOf(".webp")||(e=e.replace(".webp",".png")),new Promise((function(n,r){if(!u.y.forceCache)return n(e);(t.status.get(e)||l.NONE)===l.NONE?(t.status.set(e,l.FETCHING),t.requestCache(e).then((function(r){""===r?(t.status.set(e,l.NONE),n(e)):(t.caches.set(e,r),t.status.set(e,l.CACHED),n(r))}))):t.waitFetch(e,n)}))}},{key:"waitFetch",value:function(e,t){var n=this;this.status.get(e)===l.FETCHING?requestAnimationFrame((function(){return n.waitFetch(e,t)})):t(this.caches.get(e)||e)}},{key:"checkSupportsWebp",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(createImageBitmap){e.next=2;break}return e.abrupt("return",!0);case 2:return"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e.next=5,fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then((function(e){return e.blob()}));case 5:return t=e.sent,e.abrupt("return",createImageBitmap(t).then((function(){return!0}),(function(){return!1})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),h=new c},8197:function(e,t,n){"use strict";n.d(t,{Mi:function(){return p},WM:function(){return s},Zw:function(){return l},bw:function(){return u},dI:function(){return h},dN:function(){return d},gH:function(){return o},hE:function(){return v},jK:function(){return f},lT:function(){return c}});var r=n(3144),i=n(5671),a=(0,r.Z)((function e(){(0,i.Z)(this,e),this.MainGame={background:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/maingame/background.png",backgroundDeco1:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/maingame/background_deco_1.png",headerBg:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/maingame/maingame-header-bg-v2.png",optionBtn:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/maingame/option-btn.png",winBg:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/maingame/maingame-win-bg.png",loseBg:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/maingame/maingame-lose-bg.png",boosterCage:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/maingame/booster-cage.png",boosterBase:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/maingame/booster-base.png",boosterLight:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/maingame/booster-light.png",boosterLock:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/maingame/booster-lock.png"},this.general={sound:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/music/v4/",popupBody:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/popup-body.png",popupHeader:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/popup-header.png",exitBtn1:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/popup-exit-btn.png",exitBtn2:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/exitBtn2.png",soundIcon:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/sound-icon.png",vibraIcon:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/vibra-icon.png",switchBtnOff:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/switch-btn-off.png",switchBtnOn:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/switch-btn-on.png",button_1:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/button_1.png",button_2:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/button_2.png",closeGameBanner:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/close-game-banner-v3.webp",miniHeartIcon:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/mini-heart-icon.png",heartIcon:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/heart-icon-v2.png",plusIcon:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/plus-icon.png",ballBgIcon:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/ball-bg-icon.webp",checkIcon:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/check-icon.png",flagIcon:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/flag-icon.webp",progressBarBg:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/progress-bar-bg-v2.png",starIconAble:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/star-icon-able-v2.png",starIconDisable:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/star-icon-disable-v2.webp",levelTargetBg:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/level-target-bg.png",levelEffect:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/effect-lv.png",targetItemBg:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/target-item-bg.png",levelTargetAnyBall:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/any-ball.png",levelTargetItem:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/level-target-item.png",levelTargetScore:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/level-target-score.png",bigStarAble:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/big-star-able.webp",bigStarDisable:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/big-star-disable.webp",scoreBg:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/score-bg.webp",targetBg:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/target-bg.webp",bannerServerBusy:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/banner-server-busy.webp",userAvatarFrame:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/user-avatar-frame.png",defaultAvatar:"https://img.mservice.com.vn/app/img/Gamification/Melody/avatar_default.2x.webp",loadingBg:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/loading-bg.png",exitBtn:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/general/exit-btn.png",gameHubBG:"https://img.mservice.com.vn/app/img/Gamification/LacCayKhe/gameHubDecoFull.png",stampTop:"https://img.mservice.com.vn/app/img/Gamification/LacCayKhe/stampTop.png"},this.onboarding={step1Bottom:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/step1-bottom-v2.webp",effectLightLeft:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/effect-light-left.png",effectLightRight:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/effect-light-right.png",hand:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/hand.png",iIcon:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/i-icon.png",level1:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/level-1.png",levelEffect:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/level-effect.png",speechBubble:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/speech-bubble.png",ball1:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/ball-1.png",ball2:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/ball-2.png",ball3:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/ball-3.png",ball4:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/ball-4.png",ballBg:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/ball-bg.png",step2Bottom:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/step2-bottom-v2.webp",step2CtaBtn:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/step2-cta-btn.png",gunCircle:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/gun-circle.png",stageTop:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/stage-top-v2.png",stageBottom:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/stage-bottom-v2.png",mascot:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/mascot-v2.png",ob5:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/_ob5_v5.svg",ob6:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/_ob6_v3.svg",faceBgStep1:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/onboarding/face_bg_step_1.webp"},this.worldMap={topBg:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/world-map-top-bg.png",optionBtn:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/option-btn.png",fullHeart:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/full-heart.png",recoveringHeart:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/recovering-heart.png",levelDisable:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/level-disable.webp",level0Star:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/level-0-star.webp",level1Star:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/level-1-star.webp",level2Star:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/level-2-star.webp",level3Star:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/level-3-star.webp",timeBubble:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/time-bubble.png",playAgainBase:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/play-again-base-2.png",endBanner:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/ui/worldmap/end-banner.png"},this.spine={popupWin:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/spine/popup_win/v2/Melody_stage.json",mascot:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/spine/mascot/v2/Melody_mascot.json",power_effect:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/spine/power_effect/v3/Melody_power_effect.json",onboarding:"https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/spine/onboarding/v3/Melody_tutorials.json"}})),o=function(e){return e.Win="m-win.mp3",e.Lose="m-lose.mp3",e.Bubble="m-bubble.mp3",e.Cyclone="m-cyclone.mp3",e.Drop="m-drop-score.mp3",e.Boom_Explode="m-boom-explode.mp3",e.Boom="m-boom.mp3",e.Boom_Init="m-boom-init.mp3",e.Shoot="m-shoot.mp3",e.Swap="m-swap.mp3",e.Spawn="m-spawn.mp3",e.Combo1="m-combo1.mp3",e.Combo2="m-combo2.mp3",e.Combo3="m-combo3.mp3",e.GoForward="ui-forward.mp3",e.GoBackward="ui-backward.mp3",e}(o||{}),s=["","chap1-menu-theme.mp3"],u=["","chap1-lv-theme.mp3"],l=["","star-1.mp3","star-2.mp3","star-3.mp3"],c=function(e){return e.DEV_HOST="https://m.dev.mservice.io/",e.GEN_DEEPLINK="deeplink-universal/v1/content-dynamic",e.BE_TRACKING="catzilla-screen-tracking/v1/collect",e.LATENCY_REPORT="xpyxis-metrics/api/v1/latency",e.GET_GAME_HUB_INFO="gamehub-hub/v1/hub-block?appId={0}",e}(c||{}),h=function(e){return e.Loading="loading",e.MainGame="main-game",e.WorldMap="world-map",e.ColorTool="color-tool",e}(h||{}),f=function(e){return e[e.GET_LOGIN=101]="GET_LOGIN",e[e.PING=102]="PING",e[e.GET_GAME_CONFIG=103]="GET_GAME_CONFIG",e[e.GET_CHAPTER_CONFIG=104]="GET_CHAPTER_CONFIG",e[e.POST_PLAY_GAME=105]="POST_PLAY_GAME",e[e.POST_END_GAME=106]="POST_END_GAME",e[e.GET_HEART_INFO=107]="GET_HEART_INFO",e}(f||{}),d=new a,p={title:"C\xf3 l\u1ed7i x\u1ea3y ra",desc:"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i!",bannerUrl:d.general.bannerServerBusy,onCloseClick:null,cta1Text:"Tho\xe1t tr\xf2 ch\u01a1i",cta2Text:"Th\u1eed l\u1ea1i",errorCode:f.GET_LOGIN},v={title:"C\xf3 l\u1ed7i x\u1ea3y ra",desc:"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i!",bannerUrl:d.general.bannerServerBusy}},5422:function(e,t,n){"use strict";n.d(t,{B:function(){return a},r:function(){return o}});var r=n(8041),i=n.n(r),a=function(e){return e.Navigate="Navigate",e.ON_RESIZE="ON_RESIZE",e.ON_BACK_KEY="ON_BACK_KEY",e.On_RESUME="On_RESUME",e.On_PAUSE="On_PAUSE",e.SHOW_RETRY_POPUP="SHOW_RETRY_POPUP",e.SHOW_WIN_POPUP="SHOW_WIN_POPUP",e.SORT_GAMEOBJECT="SORT_GAMEOBJECT",e.PLAYER_PREPARE_TO_MOVE="PLAYER_PREPARE_TO_MOVE",e.PLAYER_MOVE="PLAYER_MOVE",e.PLAYER_RESUME_MOVE="PLAYER_RESUME_MOVE",e.PLAYER_IDLE="PLAYER_IDLE",e.SCROLL_FINISH="scroll-finish",e.FRIENDS_TRANSITION_IN="FRIENDS_TRANSITION_IN",e.FRIENDS_TRANSITION_OUT="FRIENDS_TRANSITION_OUT",e.ON_UPDATE_INFO="ON_UPDATE_INFO",e.FORCE_UPDATE_LIST="FORCE_UPDATE_LIST",e}(a||{}),o=new(i());o.setMaxListeners(100)},1299:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var r=n(5671),i=n(3144),a=n(5473),o=new(function(){function e(){(0,r.Z)(this,e),this.deviceInfo=a.Z.deviceInfo,this.appParams=a.Z.APP_CONFIG.feature;var t=this.getAppParams();this.appParams=t.feature}return(0,i.Z)(e,[{key:"getAppParams",value:function(){var e=localStorage.getItem("feature")||"",t=a.Z.APP_CONFIG;try{(t=JSON.parse(e)).feature.params=Object.assign(a.Z.APP_CONFIG.feature.params,t.feature.params)}catch(n){setTimeout((function(){console.log("[GlobalDefine] ",e)}),3e3)}return t}},{key:"gameId",get:function(){var e,t;return(null===(e=this.appParams)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.gameId)||a.Z.APP_CONFIG.feature.params.gameId}},{key:"cdn",get:function(){var e,t;return(null===(e=this.appParams)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.cdn)||a.Z.APP_CONFIG.feature.params.cdn}},{key:"forceCache",get:function(){var e,t;return(null===(e=this.appParams)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.forceCache)||a.Z.APP_CONFIG.feature.params.forceCache}}]),e}())},7650:function(e,t,n){"use strict";n.d(t,{o:function(){return s},q:function(){return u}});var r=n(5671),i=n(3144),a=n(2070),o=Math.min(2,window.devicePixelRatio||1),s={width:750,height:1334},u=function(){function e(t){var n=this;(0,r.Z)(this,e),this.app=void 0,this.options=void 0,this.canvas=void 0,this.view=void 0,this.stage=void 0,this.onUpdate=void 0,this.lastUpdateTime=Date.now(),this.fpsInterval=1e3/60,this.isPause=!1,this.update=function(){var e,t=Date.now(),r=.001*(t-n.lastUpdateTime);n.isPause||(n.app.render(),null===(e=n.onUpdate)||void 0===e||e.call(n,r));n.lastUpdateTime=t,requestAnimationFrame(n.update)},this.options=t;var i=this.options,u=i.maxFPS,l=void 0===u?45:u,c=i.trasparent,h=void 0===c?1:c,f=i.backgroundColor,d=void 0===f?0:f;this.fpsInterval=1e3/l,this.canvas=document.createElement("canvas"),this.app=new a.MxU({backgroundAlpha:h,backgroundColor:d,width:s.width,height:s.height,resolution:o,autoStart:!1,view:this.canvas}),globalThis.__PIXI_APP__=this.app,globalThis.__PIXI_APP__=this.app,this.view=this.app.view,this.view.style.width="100%",this.view.style.height="100%",this.stage=this.app.stage,this.app.ticker.remove(this.app.render,this.app),this.update()}return(0,i.Z)(e,[{key:"init",value:function(e){if(e){e.appendChild(this.canvas),this.app.resizeTo=e,this.app.resize();var t=this.options,n=t.alignCenter,r=t.fitWidth,i=t.fitHeight,a=s.height/s.width,u=s.width/s.height,l=this.app.renderer.width,c=this.app.renderer.height,h=c/s.height,f=l/s.width;if(r===i===!0||(r&&(h=l*a/s.height),i&&(f=c*u/s.width)),this.app.stage.scale.set(f/o,h/o),n){var d=(l-s.width*f)/2,p=(c-s.height*h)/2;this.app.stage.position.set(d/o,p/o)}}}},{key:"pause",value:function(){this.app.stop(),this.isPause=!0}},{key:"resume",value:function(){this.app.start(),this.isPause=!1}},{key:"destroy",value:function(){this.app.stop(),this.app.stage.destroy(!0),this.app.destroy(!0)}}]),e}()},6203:function(e,t,n){"use strict";n.d(t,{$b:function(){return I},A0:function(){return R},AS:function(){return c},Dv:function(){return P},Hu:function(){return L},IU:function(){return g},L9:function(){return N},Mx:function(){return l},NR:function(){return k},Q2:function(){return M},T6:function(){return u},Yx:function(){return b},ZR:function(){return h},_u:function(){return x},d:function(){return s},dT:function(){return C},de:function(){return O},eo:function(){return E},gX:function(){return A},kN:function(){return p},kW:function(){return y},kn:function(){return w},ld:function(){return m},m4:function(){return _},m7:function(){return T},n2:function(){return v},vC:function(){return f},x0:function(){return S},xJ:function(){return d},xY:function(){return B}});var r=n(7762),i=n(2070),a=n(918),o=(n(7600),Math.cos(30/180*Math.PI)),s=11,u=9,l=68,c=81,h=310,f=290,d=35,p=l*o,v=.7*p,m=p,g=m*o,y=67,b=10,x=10,_=25,w=25,k=50,E=250,T=500,S=1e3,A=1e3,M="power_explosion_effect",P="explosion_effect",C="change_color_effect",I=new i.pn8({fontFamily:"iCielUniSans",fontSize:31,fill:["#fffbee","#beebee"],stroke:"#fe33b5",strokeThickness:3}),R=new i.pn8({fontFamily:"iCielUniSans",fontSize:60,fill:["#fffbee","#beebee"],stroke:"#fe33b5",strokeThickness:3}),O={hover:i.xEZ.from("images/hover-ring.png"),ring:i.xEZ.from("images/Ring.png"),ring_light:i.xEZ.from("images/Ring_light.png"),item_light:i.xEZ.from("images/item_light.png"),colors:[null,i.xEZ.from("bubbles/red.png"),i.xEZ.from("bubbles/blue.png"),i.xEZ.from("bubbles/green.png"),null,i.xEZ.from("bubbles/yellow.png"),null,null],types:[null,i.xEZ.from("bubbles/yellow.png"),i.xEZ.from("bubbles/boom.png"),i.xEZ.from("bubbles/line.png"),i.xEZ.from("bubbles/red-item.png"),i.xEZ.from("bubbles/stone.png"),i.xEZ.from("bubbles/explode.png"),i.xEZ.from("bubbles/white.png")],itemColors:[null,i.xEZ.from("bubbles/red-item.png"),i.xEZ.from("bubbles/blue-item.png"),i.xEZ.from("bubbles/green-item.png"),null,i.xEZ.from("bubbles/yellow-item.png"),null,null],boom_empty:i.xEZ.from("images/boom_empty.png"),boom_holder:i.xEZ.from("images/boom_holder.png"),headline:i.xEZ.from("images/headline.png"),background:i.xEZ.from("images/background.png"),background_1:i.xEZ.from("images/background_deco_1.png"),background_2:i.xEZ.from("images/background_deco_2.png"),background_3:i.xEZ.from("images/background_deco_3.png"),star_particle:i.xEZ.from("effects/star_particle.png"),blaze_particle:i.xEZ.from("effects/blaze_particle.png"),dot_particle:i.xEZ.from("effects/dot_particle.png"),rayColor:[new i.Ilk("#ffffff"),new i.Ilk("#fc483d"),new i.Ilk("#4390dc"),new i.Ilk("#65f55e"),new i.Ilk("#000000"),new i.Ilk("#fdb52c")]};new i.Ilk;var L=function(e){var t=a.lW.from(e,"base64");return phoenix.melody.MelodyLevelConfig.decode(t)},N=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=phoenix.melody.MelodyLevelConfig.create();i.columns=s,i.rows=e.length/s,i.id=1;var o,u=(0,r.Z)(e);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=phoenix.melody.MelodyBall.create(),h=l%10,f=Math.floor(l/10);c.color=h,c.type=f,i.map.push(c)}}catch(_){u.e(_)}finally{u.f()}var d,p=(0,r.Z)(t);try{for(p.s();!(d=p.n()).done;){var v=d.value,m=phoenix.melody.MelodyBall.create(),g=v%10,y=Math.floor(v/10);m.color=g,m.type=y,i.bullets.push(m)}}catch(_){p.e(_)}finally{p.f()}i.star1Score=1,i.star2Score=2,i.star3Score=3,i.targets.push(function(e){var t=phoenix.melody.MelodyLevelTarget.create();t.type=phoenix.melody.MELODY_LEVEL_TARGET_TYPE.MELODY_LEVEL_TARGET_ANY_BALL;var n,i=0,a=(0,r.Z)(e);try{for(a.s();!(n=a.n()).done;){n.value>0&&i++}}catch(_){a.e(_)}finally{a.f()}return t.quantity=i,t}(e));var b=phoenix.melody.MelodyLevelConfig.encode(i).finish(),x=a.lW.from(b).toString("base64");return n&&console.log(x),x};var B=L("CAEoATACOANAAUgLUgQIABAAUgQIABAAUgQIABAAUgQIABAAUgQIABAAUgQIABAAUgQIABAAUgQIABAAUgQIABAAUgQIABAAUgQIABAAYgQIARAA")},4116:function(e,t,n){"use strict";n.d(t,{Z:function(){return yt}});var r=n(136),i=n(9388),a=n(7762),o=n(5671),s=n(3144),u=n(2243),l=n(1036),c=n(2070),h=n(1046),f=n(3231),d=n(5869),p=n(6203),v=n(7650),m=n(7204),g=n(8197),y=function(){function e(t,n){(0,o.Z)(this,e),this.x=0,this.y=0,this.set(t,n)}return(0,s.Z)(e,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copy",value:function(e){this.set(e.x,e.y)}},{key:"subtract",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"multiply",value:function(e){return this.x*=e,this.y*=e,this}},{key:"normalize",value:function(){var e=this.length();return this.x/=e,this.y/=e,this}},{key:"length",value:function(){return Math.sqrt(this.lengthSqr())}},{key:"lengthSqr",value:function(){return this.x*this.x+this.y*this.y}},{key:"rotate",value:function(e){var t=e/180*Math.PI,n=Math.cos(t),r=Math.sin(t),i=this.x*n-this.y*r,a=this.x*r+this.y*n;return this.x=i,this.y=a,this}}],[{key:"angle",value:function(e,t){var n=e.x*e.x+e.y*e.y,r=t.x*t.x+t.y*t.y;if(0===n||0===r)return 0;var i=(e.x*t.x+e.y*t.y)/Math.sqrt(n*r);return i=Math.max(Math.min(i,-1),1),Math.acos(i)}},{key:"fromPIXI",value:function(t){return new e(t.x,t.y)}}]),e}(),b=phoenix.melody.MELODY_BALL_TYPE,x=phoenix.melody.MELODY_BALL_COLOR,_=function(){function e(t,n){(0,o.Z)(this,e),this.sprite=null,this.hover=null,this.color=0,this.type=b.MELODY_BALL_TYPE_NONE,this.nextType=b.MELODY_BALL_TYPE_NONE,this.isOrigin=!1,this.isMarked=!1,this.neighbors=[null,null,null,null,null,null];var r=this.sprite=new c.jyi;r.width=p.Mx,r.height=p.Mx,r.anchor.set(.5),this.setPosition(t,n)}return(0,s.Z)(e,[{key:"setPosition",value:function(e,t){e=(1+e-.5*(1-t%2))*p.Mx,t=t*p.kN+.5*p.Mx,this.sprite.x=e,this.sprite.y=t}},{key:"isEmpty",get:function(){return this.nextType===b.MELODY_BALL_TYPE_NONE||this.type===b.MELODY_BALL_TYPE_NORMAL&&this.nextType!==this.type}},{key:"setColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.color=e,this.sprite.texture=p.de.colors[e],0===e&&(this.type=0,this.nextType=0),this.isOrigin=t}},{key:"setType",value:function(e){if(0===this.color)return this.type=0,void(this.nextType=0);if(this.type=e,this.nextType=e,!(e<=b.MELODY_BALL_TYPE_NORMAL)){var t=e===b.MELODY_BALL_TYPE_ITEM;this.sprite.texture=t?p.de.itemColors[this.color]:p.de.types[e],this.color=t?this.color:7}}},{key:"turn",value:function(e){var t=e===this.color;t&&!this.hover&&h.u.map.misc.turnOn(this),!t&&this.hover&&h.u.map.misc.turnOff(this)}}]),e}(),w=function(){function e(){(0,o.Z)(this,e),this.sprite=void 0,this.text=void 0,this.height=void 0,this.radius=void 0,this.angle=void 0,this.veclocity=new y(0,0);var t=this.sprite=new c.jyi;t.width=p.Mx,t.height=p.Mx,t.anchor.set(.5);var n=this.text=new c.xvT(p.NR+"",p.$b);n.anchor.set(.5),n.scale.set(1.3),n.visible=!1}return(0,s.Z)(e,[{key:"set",value:function(e,t,n){var r=this.sprite;r.visible=!0,r.texture=e.sprite.texture,this.angle=0,this.height=p.ZR,r.x=e.sprite.x+t,r.y=e.sprite.y+n,r.width=p.Mx,r.height=p.Mx,this.veclocity.x=900*(Math.random()-.5),this.veclocity.y=900*(Math.random()-.5)}},{key:"isPlaying",get:function(){return this.sprite.visible}},{key:"update",value:function(e){var t=this.sprite;if(t.y<-p.ZR){var n=this.veclocity,r=.5*(v.o.width-p.Mx);if((t.x>r||t.x<-r)&&(n.x=-n.x),t.x+=n.x*e,t.y+=n.y*e,n.y+=1300*e,t.y>=-p.ZR){t.x>0?this.angle=0:this.angle=Math.PI;var i=Math.abs(t.x);if(i<p.vC){var a=t.x/p.vC;this.angle=Math.acos(a),this.radius=p.vC}else this.angle=t.x>0?0:Math.PI,this.radius=i}}else{var o=this.angle+13*e,s=this.height-290*e,l=this.radius*Math.max(s/p.ZR,.1);if(s<20){t.visible=!1,m.t.play(g.gH.Drop);var c=this.text;c.visible=!0,h.u.map.addScore(p.NR,!1);var f=h.u.map.physicsBox,d=f.x,y=f.y;return c.x=200*(Math.random()-.5),c.y=t.y-50*Math.random()+20,u.ZP.to(c,{y:c.y-30,alpha:0}).duration(.5).then((function(){c.visible=!1,c.alpha=1,c.y=t.y})),void h.u.map.effect.spawnBlazeParticle(c.x+d,c.y+y)}this.angle=o,this.height=s,t.x=Math.cos(o)*l,t.y=-s;var b=p.Mx*(.25*Math.sin(o)+1);t.width=b,t.height=b}}}]),e}(),k=.2*p.Mx;function E(e,t,n){var r=h.u.map,i=r.container,a=i.x,o=i.y,s=e.sprite,l=u.ZP.timeline();return l.add(u.ZP.delayedCall(t,(function(){return r.misc.spawnBubbleEffect(e,p.Dv,.8)}))),l.add(u.ZP.delayedCall(.3,(function(){r.effect.spawnStarEffect(s.x+a,s.y+o),e.isOrigin&&r.targetChecker.countBall(e.color,e.type),e.setColor(0),s.width=p.Mx,s.height=p.Mx,r.addScore(n)}))),l.add(u.ZP.delayedCall(.7,(function(){r.misc.spawnScore(e).text=n}))),.1}function T(e,t,n){var r=h.u.map,i=r.container,a=i.x,o=i.y,s=e.sprite,l=u.ZP.timeline();return l.add(u.ZP.delayedCall(t,(function(){return r.misc.spawnBubbleEffect(e,p.Dv,.8)}))),l.add(u.ZP.delayedCall(.3,(function(){r.effect.spawnStarEffect(s.x+a,s.y+o),e.isOrigin&&r.targetChecker.countBall(e.color,e.type),e.setColor(0),s.width=p.Mx,s.height=p.Mx,r.addScore(n)}))),l.add(u.ZP.delayedCall(.7,(function(){r.misc.spawnScore(e).text=n}))),.1}function S(e,t){var n=h.u.map;return u.ZP.delayedCall(t,(function(){return n.misc.spawnBubbleEffect(e,p.dT,.8)})),e.setColor(e.color,e.isOrigin),.13}function A(e,t,n){var r=h.u.map,i=r.container,a=i.x,o=i.y,s=e.sprite;return u.ZP.delayedCall(t,(function(){r.misc.spawnBubbleEffect(e,p.Q2,1),u.ZP.delayedCall(2.3,(function(){m.t.play(g.gH.Boom_Explode),r.effect.spawnBoom(s.x+a,s.y+o),r.effect.shakeScreen(.5),e.setColor(0),s.width=p.Mx,s.height=p.Mx,r.addScore(n),r.misc.spawnScore(e).text=n}))})),2.3}var M={normal:function(e,t){var n=h.u.map.getGroup(e);if(n.length<3)return t;var r,i=(0,a.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.type&&(o.nextType=b.MELODY_BALL_TYPE_EXPLODE)}}catch(s){i.e(s)}finally{i.f()}return e.nextType=b.MELODY_BALL_TYPE_NONE,E(e,t,M.targetChecker.comboScore),t},boom:function(e,t){var n,r=h.u.map.getNeighborbyLevel(e,3),i=(0,a.Z)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.nextType!==b.MELODY_BALL_TYPE_NONE&&(o.nextType=b.MELODY_BALL_TYPE_NONE,o==e?t+=A(e,t,p.eo):E(o,t,p.eo))}}catch(s){i.e(s)}finally{i.f()}return t+.3},line:function(e,t){var n,r=h.u.map.getLineNeighbor(e,3),i=(0,a.Z)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.nextType!==b.MELODY_BALL_TYPE_NONE&&(o.nextType=b.MELODY_BALL_TYPE_NONE,o==e?t+=A(e,t,p.m7):E(o,t,p.m7))}}catch(s){i.e(s)}finally{i.f()}return t+.3},normal2normal:function(e,t,n){return t.nextType!==b.MELODY_BALL_TYPE_EXPLODE?0:(t.nextType=b.MELODY_BALL_TYPE_NONE,E(t,n,M.targetChecker.comboScore))},normal2item:function(e,t,n){return M.normal2normal(e,t,n)},normal2stone:function(e,t,n){return 0},normal2white:function(e,t,n){return e.nextType===b.MELODY_BALL_TYPE_NORMAL?0:t.nextType===b.MELODY_BALL_TYPE_WHITE?(t.nextType=b.MELODY_BALL_TYPE_NORMAL,t.color=e.color,S(t,n)):0},normal2explode:function(e,t,n){return e.isOrigin?0:(t.nextType=b.MELODY_BALL_TYPE_NONE,T(t,n,M.targetChecker.comboScore))},normal2boom:function(e,t,n){return 0},normal2line:function(e,t,n){return 0},boom2normal:function(e,t,n){return 0},boom2item:function(e,t,n){return M.boom2normal(e,t,n)},boom2stone:function(e,t,n){return M.boom2normal(e,t,n)},boom2white:function(e,t,n){return M.boom2normal(e,t,n)},boom2explode:function(e,t,n){return M.boom2normal(e,t,n)},boom2boom:function(e,t,n){return 0},boom2line:function(e,t,n){return 0},line2normal:function(e,t,n){return 0},line2item:function(e,t,n){return M.line2normal(e,t,n)},line2stone:function(e,t,n){return M.line2normal(e,t,n)},line2white:function(e,t,n){return M.line2normal(e,t,n)},line2explode:function(e,t,n){return M.line2normal(e,t,n)},line2boom:function(e,t,n){return 0},line2line:function(e,t,n){return 0},item2normal:function(e,t,n){return M.normal2normal(e,t,n)},item2item:function(e,t,n){return M.normal2item(e,t,n)},item2stone:function(e,t,n){return 0},item2white:function(e,t,n){return e.nextType===b.MELODY_BALL_TYPE_ITEM?0:t.nextType===b.MELODY_BALL_TYPE_WHITE?(t.nextType=b.MELODY_BALL_TYPE_NORMAL,t.color=e.color,S(t,n)):0},item2explode:function(e,t,n){return M.normal2explode(e,t,n)},item2boom:function(e,t,n){return 0},item2line:function(e,t,n){return 0},stone2normal:function(e,t,n){return 0},stone2item:function(e,t,n){return 0},stone2stone:function(e,t,n){return 0},stone2white:function(e,t,n){return 0},stone2explode:function(e,t,n){return 0},stone2boom:function(e,t,n){return 0},stone2line:function(e,t,n){return 0},explode2normal:function(e,t,n){return t.nextType=b.MELODY_BALL_TYPE_NONE,T(t,n,M.targetChecker.comboScore)},explode2item:function(e,t,n){return M.explode2normal(e,t,n)},explode2stone:function(e,t,n){return M.explode2normal(e,t,n)},explode2white:function(e,t,n){return t.color=x.MELODY_BALL_COLOR_RANDOM,M.explode2normal(e,t,n)},explode2explode:function(e,t,n){return M.explode2normal(e,t,n)},explode2boom:function(e,t,n){return 0},explode2line:function(e,t,n){return 0},white2normal:function(e,t,n){return 0},white2item:function(e,t,n){return 0},white2stone:function(e,t,n){return 0},white2white:function(e,t,n){return 0},white2explode:function(e,t,n){return 0},white2boom:function(e,t,n){return 0},white2line:function(e,t,n){return 0},targetChecker:null},P=["none","normal","boom","line","item","stone","explode","white"];function C(e,t){var n=M[P[e.nextType]];return n?n(e,t):t}function I(e,t,n){if(t.type===b.MELODY_BALL_TYPE_NONE||e.type===b.MELODY_BALL_TYPE_NONE||t.nextType===b.MELODY_BALL_TYPE_NONE)return 0;var r="".concat(P[e.type],"2").concat(P[t.type]);return M[r](e,t,n)}var R=n(7326),O=n(5661),L=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,o.Z)(this,n),(e=t.call(this)).select_color=void 0,e.select_type=void 0,e.deltaY=0,e.speed=0,e.target=void 0,e.colors=void 0,e.types=void 0,e.lines=[],e.maxHeight=0;var r=v.o.width,i=v.o.height,s=(p.de.colors.length,c.jyi.from("images/header.png"));s.y=.7*i,s.width=r,s.height=1e3,e.addChild(s);var u=100,l=e.colors=new c.W20;l.y=.86*i,e.addChild(l),(s=new c.jyi(p.de.hover)).anchor.set(.5),s.x=u,u+=100,s.width=1.2*p.Mx,s.height=1.2*p.Mx,s.interactive=!0,s.on("pointerup",e.onColorClick.bind((0,R.Z)(e))),l.addChild(s);var h,f=(0,a.Z)(p.de.colors);try{for(f.s();!(h=f.n()).done;){var d=h.value;d&&((s=new c.jyi(d)).anchor.set(.5),s.x=u,u+=100,s.width=p.Mx,s.height=p.Mx,s.interactive=!0,s.on("pointerup",e.onColorClick.bind((0,R.Z)(e))),l.addChild(s))}}catch(x){f.e(x)}finally{f.f()}var m=e.types=new c.W20;m.y=.94*i,e.addChild(m),u=100;var g,y=(0,a.Z)(p.de.types);try{for(y.s();!(g=y.n()).done;){var b=g.value;b&&b!==p.de.types[2]&&b!==p.de.types[3]&&((s=new c.jyi(b)).anchor.set(.5),s.x=u,u+=100,s.width=p.Mx,s.height=p.Mx,s.interactive=!0,s.on("pointerup",e.onTypeClick.bind((0,R.Z)(e))),m.addChild(s))}}catch(x){y.e(x)}finally{y.f()}return(s=c.jyi.from(c.xEZ.WHITE)).width=r,s.height=10,s.anchor.set(0,.5),s.x=0,s.y=p.T6*p.kN+p.n2,e.addChild(s),e.hitArea=new c.AeJ(0,0,r,i),e.interactive=!0,e.on("pointermove",e.onButtonOver.bind((0,R.Z)(e))),e.on("pointerdown",e.onButtonOver.bind((0,R.Z)(e))),e.on("pointermove",e.countBubble.bind((0,R.Z)(e))),e.on("pointerdown",e.countBubble.bind((0,R.Z)(e))),e}return(0,s.Z)(n,[{key:"getText",value:function(e,t){var n,r=null,i=(0,a.Z)(this.lines);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.y>=e.sprite.y){r=o;break}}}catch(s){i.e(s)}finally{i.f()}return r||((r=h.u.map.misc.spawnText(e)).text=t,this.lines.push(r)),r.visible=!0,r}},{key:"loadLevel",value:function(e){var t,n=h.u.map,r=f.Z.getState().colorTool.cacheLevels,i=void 0,o=(0,a.Z)(r);try{for(o.s();!(t=o.n()).done;){var s=t.value;s.levelId===e&&(i=(0,p.Hu)(s.base64))}}catch(u){o.e(u)}finally{o.f()}i?n.load(i):n.reload(e),this.initMap()}},{key:"loadFromBase64",value:function(e){try{var t=(0,p.Hu)(e);h.u.map.load(t),this.initMap()}catch(n){return void console.log("WRONG BASE64")}}},{key:"initMap",value:function(){var e=h.u.map;h.u.canvas.onwheel=this.onButtonWheel.bind(this),this.target=e.container;var t,n=0,r=(0,a.Z)(e.data);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=Math.floor(n/p.d),s=n%p.d;o%2===1&&s===p.d-1||(i.turn(i.color),0==s&&this.getText(i,o+1+"")),n++}}catch(u){r.e(u)}finally{r.f()}f.Z.dispatch(O.J.actions.initBullets(h.u.map.level.bullets.map((function(e){return e.color})))),this.trimLine()}},{key:"addEmptyLine",value:function(){var e=h.u.map.data;e[e.length-1].sprite.y<=this.maxHeight&&h.u.map.addEmptyLine(1);var t=Math.ceil(this.maxHeight/p.kN)*p.d,n=t+p.d,r=Math.floor(t/p.d);for(this.getText(e[t],r+1+"");t<n;t++){var i=e[t];r%2===1&&t===n-1||i.turn(i.color)}this.maxHeight=e[t-1].sprite.y}},{key:"trimLine",value:function(){for(var e=h.u.map.data,t=0,n=t+p.d,r=[];t<n;t++){var i=e[t];i.isEmpty||(r.push(i),i.isMarked=!0)}for(var o=0,s=e[0].sprite.y,u=s;o<r.length;){var l,c=r[o].neighbors,f=(0,a.Z)(c);try{for(f.s();!(l=f.n()).done;){var d=l.value;!d||d.isEmpty||d.isMarked||d.sprite.y<s||(r.push(d),d.isMarked=!0,d.sprite.y>u&&(u=d.sprite.y))}}catch(_){f.e(_)}finally{f.f()}o++}var v,m=(0,a.Z)(e);try{for(m.s();!(v=m.n()).done;){var g=v.value;g.sprite.y>u&&g.turn(-1),g.isMarked=!1}}catch(_){m.e(_)}finally{m.f()}var y,b=(0,a.Z)(this.lines);try{for(b.s();!(y=b.n()).done;){var x=y.value;x.y>u&&(x.visible=!1)}}catch(_){b.e(_)}finally{b.f()}this.maxHeight=u}},{key:"onButtonOver",value:function(e){if(void 0!==this.select_color&&void 0!==this.select_type){var t=h.u.map,n=e.data.global,r=h.u.scale;if(!(n.x+5>window.innerWidth||n.y>window.innerHeight-265)){n.y-=t.parent.y,n.x/=r.x,n.y/=r.y;var i=y.fromPIXI(t.container),a=p.d,o=t.data,s=n.y-i.y;s=Math.floor(s/p.kN);var u=Math.max(s%2?n.x-.5*p.Mx:n.x,0),l=o[(u=Math.floor(u/p.Mx))+s*a];l&&l.hover&&(l.setColor(p.de.colors.indexOf(this.select_color)),l.setType(p.de.types.indexOf(this.select_type)))}}}},{key:"onButtonWheel",value:function(e){this.deltaY=e.deltaY,this.speed=-1}},{key:"onColorClick",value:function(e){e.stopPropagation();var t=e.currentTarget;this.select_color=t.texture==p.de.hover?null:t.texture;for(var n=0,r=this.colors.children;n<r.length;n++){var i=r[n];i.width=p.Mx,i.height=p.Mx}t.width=1.4*p.Mx,t.height=1.4*p.Mx,console.log("maingame scale: ",h.u.scale.y),f.Z.dispatch(O.J.actions.setSelectedColor(p.de.colors.indexOf(this.select_color)))}},{key:"onTypeClick",value:function(e){e.stopPropagation();var t=e.currentTarget;this.select_type=t.texture==p.de.hover?null:t.texture;for(var n=0,r=this.types.children;n<r.length;n++){var i=r[n];i.width=p.Mx,i.height=p.Mx}t.width=1.4*p.Mx,t.height=1.4*p.Mx}},{key:"update",value:function(e){var t=Math.abs(this.speed);if(0!=t){var n=this.target.y+this.deltaY*t;n>p.n2&&(n=p.n2);var r=-Math.max(h.u.map.data.length/p.d-p.T6,0)*p.kN;n<r&&(n=r),this.target.y=n,this.speed<0&&(t-=e,this.speed=t<0?0:-t)}}},{key:"countBubble",value:function(){var e,t=0,n=this.maxHeight,r=[0,0,0,0,0,0,0,0],i=[0,0,0,0,0,0,0,0],o=(0,a.Z)(h.u.map.data);try{for(o.s();!(e=o.n()).done;){var s=e.value;if(s.sprite.y<=n&&!s.isEmpty)if(++t,s.type===phoenix.melody.MELODY_BALL_TYPE.MELODY_BALL_TYPE_NORMAL)++r[s.color];else++i[s.type]}}catch(u){o.e(u)}finally{o.f()}console.log(r,i),f.Z.dispatch(O.J.actions.setBubbleCount(t)),f.Z.dispatch(O.J.actions.setSpecificCount({colorBubbles:r,specialBubbles:i}))}},{key:"drawMapForCapture",value:function(){var e=h.u.map.data,t=new c.MxU({width:h.u.view.width/2,height:(this.maxHeight+p.Mx)*h.u.scale.y,backgroundColor:4078474}),n=new c.W20;t.stage.addChild(n),t.stage.scale=h.u.scale;var r,i=(0,a.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.hover){var s=new c.jyi(o.sprite.texture),u=o.sprite,l=u.x,f=u.y,d=u.width,v=u.height;s.x=l,s.y=f,s.anchor.set(.5),s.width=d,s.height=v,n.addChild(s)}if(o.hover){var m=new c.jyi(o.hover.texture),g=o.hover,y=g.x,b=g.y,x=g.width,_=g.height;m.x=y,m.y=b,m.anchor.set(.5),m.alpha=.5,m.width=x,m.height=_,n.addChild(m)}0}}catch(A){i.e(A)}finally{i.f()}var w,k=0,E=(0,a.Z)(this.lines);try{for(E.s();!(w=E.n()).done;){var T=w.value;if(T.visible){var S=new c.xvT("",p.A0);S.anchor.set(.5),S.scale.set(.5),S.text=(++k).toString(),S.x=T.x,S.y=T.y,n.addChild(S)}}}catch(A){E.e(A)}finally{E.f()}return t.render(),t.view.toDataURL("image/jpeg")}}]),n}(c.W20),N=n(9439),B=n(1752),D=n(1120),F=n(172),Z=n(7820),V=n(9815),j=n(4643),U=n(4175),Y=n(1378),X=function(){function e(t,n,r){(0,o.Z)(this,e),this.value=t,this.time=n,this.next=null,this.isStepped=!1,this.ease=r?"function"===typeof r?r:Q(r):null}return(0,s.Z)(e,null,[{key:"createList",value:function(t){if("list"in t){var n,r=t.list,i=r[0],a=i.value,o=i.time,s=n=new e("string"===typeof a?J(a):a,o,t.ease);if(r.length>2||2===r.length&&r[1].value!==a)for(var u=1;u<r.length;++u){var l=r[u],c=l.value,h=l.time;n.next=new e("string"===typeof c?J(c):c,h),n=n.next}return s.isStepped=!!t.isStepped,s}var f=new e("string"===typeof t.start?J(t.start):t.start,0);return t.end!==t.start&&(f.next=new e("string"===typeof t.end?J(t.end):t.end,1)),f}}]),e}(),G=F.xE.from,W=Math.PI/180;function H(e,t){if(e){var n=Math.sin(e),r=Math.cos(e),i=t.x*r-t.y*n,a=t.x*n+t.y*r;t.x=i,t.y=a}}function z(e,t,n){return e<<16|t<<8|n}function q(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function $(e){var t=1/q(e);e.x*=t,e.y*=t}function K(e,t){e.x*=t,e.y*=t}function J(e,t){var n;return t||(t={}),"#"===e.charAt(0)?e=e.substr(1):0===e.indexOf("0x")&&(e=e.substr(2)),8===e.length&&(n=e.substr(0,2),e=e.substr(2)),t.r=parseInt(e.substr(0,2),16),t.g=parseInt(e.substr(2,2),16),t.b=parseInt(e.substr(4,2),16),n&&(t.a=parseInt(n,16)),t}function Q(e){var t=e.length,n=1/t;return function(r){var i=t*r|0,a=(r-i*n)*t,o=e[i]||e[t-1];return o.s+a*(2*(1-a)*(o.cp-o.s)+a*(o.e-o.s))}}function ee(e){return e?(e=e.toUpperCase().replace(/ /g,"_"),Z.T$[e]||Z.T$.NORMAL):Z.T$.NORMAL}var te,ne=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this)).prevChild=r.nextChild=null,r.emitter=e,r.config={},r.anchor.x=r.anchor.y=.5,r.maxLife=0,r.age=0,r.agePercent=0,r.oneOverLife=0,r.next=null,r.prev=null,r.init=r.init,r.kill=r.kill,r}return(0,s.Z)(n,[{key:"init",value:function(e){this.maxLife=e,this.age=this.agePercent=0,this.rotation=0,this.position.x=this.position.y=0,this.scale.x=this.scale.y=1,this.tint=16777215,this.alpha=1,this.oneOverLife=1/this.maxLife,this.visible=!0}},{key:"kill",value:function(){this.emitter.recycle(this)}},{key:"destroy",value:function(){this.parent&&this.parent.removeChild(this),this.emitter=this.next=this.prev=null,(0,B.Z)((0,D.Z)(n.prototype),"destroy",this).call(this)}}]),n}(V.j);!function(e){e[e.Spawn=0]="Spawn",e[e.Normal=2]="Normal",e[e.Late=5]="Late"}(te||(te={}));var re=U.vB.shared,ie=Symbol("Position particle per emitter position"),ae=function(){function e(t,n){(0,o.Z)(this,e),this.initBehaviors=[],this.updateBehaviors=[],this.recycleBehaviors=[],this.minLifetime=0,this.maxLifetime=0,this.customEase=null,this._frequency=1,this.spawnChance=1,this.maxParticles=1e3,this.emitterLifetime=-1,this.spawnPos=new j.E9,this.particlesPerWave=1,this.rotation=0,this.ownerPos=new j.E9,this._prevEmitterPos=new j.E9,this._prevPosIsValid=!1,this._posChanged=!1,this._parent=null,this.addAtBack=!1,this.particleCount=0,this._emit=!1,this._spawnTimer=0,this._emitterLife=-1,this._activeParticlesFirst=null,this._activeParticlesLast=null,this._poolFirst=null,this._origConfig=null,this._autoUpdate=!1,this._destroyWhenComplete=!1,this._completeCallback=null,this.parent=t,n&&this.init(n),this.recycle=this.recycle,this.update=this.update,this.rotate=this.rotate,this.updateSpawnPos=this.updateSpawnPos,this.updateOwnerPos=this.updateOwnerPos}return(0,s.Z)(e,[{key:"frequency",get:function(){return this._frequency},set:function(e){this._frequency="number"===typeof e&&e>0?e:1}},{key:"parent",get:function(){return this._parent},set:function(e){this.cleanup(),this._parent=e}},{key:"init",value:function(t){if(t){this.cleanup(),this._origConfig=t,this.minLifetime=t.lifetime.min,this.maxLifetime=t.lifetime.max,t.ease?this.customEase="function"===typeof t.ease?t.ease:Q(t.ease):this.customEase=null,this.particlesPerWave=1,t.particlesPerWave&&t.particlesPerWave>1&&(this.particlesPerWave=t.particlesPerWave),this.frequency=t.frequency,this.spawnChance="number"===typeof t.spawnChance&&t.spawnChance>0?t.spawnChance:1,this.emitterLifetime=t.emitterLifetime||-1,this.maxParticles=t.maxParticles>0?t.maxParticles:1e3,this.addAtBack=!!t.addAtBack,this.rotation=0,this.ownerPos.set(0),t.pos?this.spawnPos.copyFrom(t.pos):this.spawnPos.set(0),this._prevEmitterPos.copyFrom(this.spawnPos),this._prevPosIsValid=!1,this._spawnTimer=0,this.emit=void 0===t.emit||!!t.emit,this.autoUpdate=!!t.autoUpdate;var n=t.behaviors.map((function(t){var n=e.knownBehaviors[t.type];return n?new n(t.config):(console.error("Unknown behavior: ".concat(t.type)),null)})).filter((function(e){return!!e}));n.push(ie),n.sort((function(e,t){return e===ie?t.order===te.Spawn?1:-1:t===ie?e.order===te.Spawn?-1:1:e.order-t.order})),this.initBehaviors=n.slice(),this.updateBehaviors=n.filter((function(e){return e!==ie&&e.updateParticle})),this.recycleBehaviors=n.filter((function(e){return e!==ie&&e.recycleParticle}))}}},{key:"getBehavior",value:function(t){return e.knownBehaviors[t]&&this.initBehaviors.find((function(n){return n instanceof e.knownBehaviors[t]}))||null}},{key:"fillPool",value:function(e){for(;e>0;--e){var t=new ne(this);t.next=this._poolFirst,this._poolFirst=t}}},{key:"recycle",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0;n<this.recycleBehaviors.length;++n)this.recycleBehaviors[n].recycleParticle(e,!t);e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next),e===this._activeParticlesLast&&(this._activeParticlesLast=e.prev),e===this._activeParticlesFirst&&(this._activeParticlesFirst=e.next),e.prev=null,e.next=this._poolFirst,this._poolFirst=e,e.parent&&e.parent.removeChild(e),--this.particleCount}},{key:"rotate",value:function(e){if(this.rotation!==e){var t=e-this.rotation;this.rotation=e,H(t,this.spawnPos),this._posChanged=!0}}},{key:"updateSpawnPos",value:function(e,t){this._posChanged=!0,this.spawnPos.x=e,this.spawnPos.y=t}},{key:"updateOwnerPos",value:function(e,t){this._posChanged=!0,this.ownerPos.x=e,this.ownerPos.y=t}},{key:"resetPositionTracking",value:function(){this._prevPosIsValid=!1}},{key:"emit",get:function(){return this._emit},set:function(e){this._emit=!!e,this._emitterLife=this.emitterLifetime}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){this._autoUpdate&&!e?re.remove(this.update,this):!this._autoUpdate&&e&&re.add(this.update,this),this._autoUpdate=!!e}},{key:"playOnceAndDestroy",value:function(e){this.autoUpdate=!0,this.emit=!0,this._destroyWhenComplete=!0,this._completeCallback=e}},{key:"playOnce",value:function(e){this.emit=!0,this._completeCallback=e}},{key:"update",value:function(e){if(this._autoUpdate&&(e=.001*re.elapsedMS),this._parent){for(var t,n=this._activeParticlesFirst;n;n=t)if(t=n.next,n.age+=e,n.age>n.maxLife||n.age<0)this.recycle(n);else{var r=n.age*n.oneOverLife;this.customEase&&(r=4===this.customEase.length?this.customEase(r,0,1,1):this.customEase(r)),n.agePercent=r;for(var i=0;i<this.updateBehaviors.length;++i)if(this.updateBehaviors[i].updateParticle(n,e)){this.recycle(n);break}}var a,o;this._prevPosIsValid&&(a=this._prevEmitterPos.x,o=this._prevEmitterPos.y);var s=this.ownerPos.x+this.spawnPos.x,u=this.ownerPos.y+this.spawnPos.y;if(this._emit)for(this._spawnTimer-=e<0?0:e;this._spawnTimer<=0;){if(this._emitterLife>=0&&(this._emitterLife-=this._frequency,this._emitterLife<=0)){this._spawnTimer=0,this._emitterLife=0,this.emit=!1;break}if(this.particleCount>=this.maxParticles)this._spawnTimer+=this._frequency;else{var l=void 0,c=void 0;if(this._prevPosIsValid&&this._posChanged){var h=1+this._spawnTimer/e;l=(s-a)*h+a,c=(u-o)*h+o}else l=s,c=u;for(var f=null,d=null,p=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount),v=0;v<p;++v)if(!(this.spawnChance<1&&Math.random()>=this.spawnChance)){var m=void 0;if(m=this.minLifetime===this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,!(-this._spawnTimer>=m)){var g=void 0;this._poolFirst?(g=this._poolFirst,this._poolFirst=this._poolFirst.next,g.next=null):g=new ne(this),g.init(m),this.addAtBack?this._parent.addChildAt(g,0):this._parent.addChild(g),f?(d.next=g,g.prev=d,d=g):d=f=g,++this.particleCount}}if(f){this._activeParticlesLast?(this._activeParticlesLast.next=f,f.prev=this._activeParticlesLast,this._activeParticlesLast=d):(this._activeParticlesFirst=f,this._activeParticlesLast=d);for(var y=0;y<this.initBehaviors.length;++y){var b=this.initBehaviors[y];if(b===ie)for(var x,_=f;_;_=x){x=_.next,0!==this.rotation&&(H(this.rotation,_.position),_.rotation+=this.rotation),_.position.x+=l,_.position.y+=c,_.age+=-this._spawnTimer;var w=_.age*_.oneOverLife;this.customEase&&(w=4===this.customEase.length?this.customEase(w,0,1,1):this.customEase(w)),_.agePercent=w}else b.initParticles(f)}for(var k,E=f;E;E=k){k=E.next;for(var T=0;T<this.updateBehaviors.length;++T)if(this.updateBehaviors[T].updateParticle(E,-this._spawnTimer)){this.recycle(E);break}}}this._spawnTimer+=this._frequency}}if(this._posChanged&&(this._prevEmitterPos.x=s,this._prevEmitterPos.y=u,this._prevPosIsValid=!0,this._posChanged=!1),!this._emit&&!this._activeParticlesFirst){if(this._completeCallback){var S=this._completeCallback;this._completeCallback=null,S()}this._destroyWhenComplete&&this.destroy()}}}},{key:"emitNow",value:function(){for(var e=this.ownerPos.x+this.spawnPos.x,t=this.ownerPos.y+this.spawnPos.y,n=null,r=null,i=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount),a=0;a<i;++a)if(!(this.spawnChance<1&&Math.random()>=this.spawnChance)){var o=void 0;this._poolFirst?(o=this._poolFirst,this._poolFirst=this._poolFirst.next,o.next=null):o=new ne(this);var s=void 0;s=this.minLifetime===this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,o.init(s),this.addAtBack?this._parent.addChildAt(o,0):this._parent.addChild(o),n?(r.next=o,o.prev=r,r=o):r=n=o,++this.particleCount}if(n){this._activeParticlesLast?(this._activeParticlesLast.next=n,n.prev=this._activeParticlesLast,this._activeParticlesLast=r):(this._activeParticlesFirst=n,this._activeParticlesLast=r);for(var u=0;u<this.initBehaviors.length;++u){var l=this.initBehaviors[u];if(l===ie)for(var c,h=n;h;h=c)c=h.next,0!==this.rotation&&(H(this.rotation,h.position),h.rotation+=this.rotation),h.position.x+=e,h.position.y+=t;else l.initParticles(n)}}}},{key:"cleanup",value:function(){var e,t;for(e=this._activeParticlesFirst;e;e=t)t=e.next,this.recycle(e,!0);this._activeParticlesFirst=this._activeParticlesLast=null,this.particleCount=0}},{key:"destroyed",get:function(){return!(this._parent&&this.initBehaviors.length)}},{key:"destroy",value:function(){var e;this.autoUpdate=!1,this.cleanup();for(var t=this._poolFirst;t;t=e)e=t.next,t.destroy();this._poolFirst=this._parent=this.spawnPos=this.ownerPos=this.customEase=this._completeCallback=null,this.initBehaviors.length=this.updateBehaviors.length=this.recycleBehaviors.length=0}}],[{key:"registerBehavior",value:function(t){e.knownBehaviors[t.type]=t}}]),e}();ae.knownBehaviors={};var oe=function(){function e(t){(0,o.Z)(this,e),this.x=t.x,this.y=t.y,this.w=t.w,this.h=t.h}return(0,s.Z)(e,[{key:"getRandPos",value:function(e){e.x=Math.random()*this.w+this.x,e.y=Math.random()*this.h+this.y}}]),e}();oe.type="rect",oe.editorConfig=null;var se=function(){function e(t){(0,o.Z)(this,e),this.x=t.x||0,this.y=t.y||0,this.radius=t.radius,this.innerRadius=t.innerRadius||0,this.rotation=!!t.affectRotation}return(0,s.Z)(e,[{key:"getRandPos",value:function(e){this.innerRadius!==this.radius?e.x=Math.random()*(this.radius-this.innerRadius)+this.innerRadius:e.x=this.radius,e.y=0;var t=Math.random()*Math.PI*2;this.rotation&&(e.rotation+=t),H(t,e.position),e.position.x+=this.x,e.position.y+=this.y}}]),e}();se.type="torus",se.editorConfig=null;var ue=function(){function e(t){(0,o.Z)(this,e),this.segments=[],this.countingLengths=[],this.totalLength=0,this.init(t)}return(0,s.Z)(e,[{key:"init",value:function(e){if(e&&e.length)if(Array.isArray(e[0]))for(var t=0;t<e.length;++t)for(var n=e[t],r=n[0],i=1;i<n.length;++i){var a=n[i];this.segments.push({p1:r,p2:a,l:0}),r=a}else for(var o=e[0],s=1;s<e.length;++s){var u=e[s];this.segments.push({p1:o,p2:u,l:0}),o=u}else this.segments.push({p1:{x:0,y:0},p2:{x:0,y:0},l:0});for(var l=0;l<this.segments.length;++l){var c=this.segments[l],h=c.p1,f=c.p2,d=Math.sqrt((f.x-h.x)*(f.x-h.x)+(f.y-h.y)*(f.y-h.y));this.segments[l].l=d,this.totalLength+=d,this.countingLengths.push(this.totalLength)}}},{key:"getRandPos",value:function(e){var t,n,r=Math.random()*this.totalLength;if(1===this.segments.length)t=this.segments[0],n=r;else for(var i=0;i<this.countingLengths.length;++i)if(r<this.countingLengths[i]){t=this.segments[i],n=0===i?r:r-this.countingLengths[i-1];break}n/=t.l||1;var a=t,o=a.p1,s=a.p2;e.x=o.x+n*(s.x-o.x),e.y=o.y+n*(s.y-o.y)}}]),e}();ue.type="polygonalChain",ue.editorConfig=null;var le={__proto__:null,Rectangle:oe,Torus:se,PolygonalChain:ue},ce=function(){function e(t){var n;(0,o.Z)(this,e),this.order=te.Late,this.minStart=t.minStart,this.maxStart=t.maxStart,this.accel=t.accel,this.rotate=!!t.rotate,this.maxSpeed=null!==(n=t.maxSpeed)&&void 0!==n?n:0}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;){var n=Math.random()*(this.maxStart-this.minStart)+this.minStart;t.config.velocity?t.config.velocity.set(n,0):t.config.velocity=new j.E9(n,0),H(t.rotation,t.config.velocity),t=t.next}}},{key:"updateParticle",value:function(e,t){var n=e.config.velocity,r=n.x,i=n.y;if(n.x+=this.accel.x*t,n.y+=this.accel.y*t,this.maxSpeed){var a=q(n);a>this.maxSpeed&&K(n,this.maxSpeed/a)}e.x+=(r+n.x)/2*t,e.y+=(i+n.y)/2*t,this.rotate&&(e.rotation=Math.atan2(n.y,n.x))}}]),e}();function he(e){return this.ease&&(e=this.ease(e)),(this.first.next.value-this.first.value)*e+this.first.value}function fe(e){this.ease&&(e=this.ease(e));var t=this.first.value,n=this.first.next.value;return z((n.r-t.r)*e+t.r,(n.g-t.g)*e+t.g,(n.b-t.b)*e+t.b)}function de(e){this.ease&&(e=this.ease(e));for(var t=this.first,n=t.next;e>n.time;)t=n,n=n.next;return e=(e-t.time)/(n.time-t.time),(n.value-t.value)*e+t.value}function pe(e){this.ease&&(e=this.ease(e));for(var t=this.first,n=t.next;e>n.time;)t=n,n=n.next;e=(e-t.time)/(n.time-t.time);var r=t.value,i=n.value;return z((i.r-r.r)*e+r.r,(i.g-r.g)*e+r.g,(i.b-r.b)*e+r.b)}function ve(e){this.ease&&(e=this.ease(e));for(var t=this.first;t.next&&e>t.next.time;)t=t.next;return t.value}function me(e){this.ease&&(e=this.ease(e));for(var t=this.first;t.next&&e>t.next.time;)t=t.next;var n=t.value;return z(n.r,n.g,n.b)}ce.type="moveAcceleration",ce.editorConfig=null;var ge=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,o.Z)(this,e),this.first=null,this.isColor=!!t,this.interpolate=null,this.ease=null}return(0,s.Z)(e,[{key:"reset",value:function(e){this.first=e,e.next&&e.next.time>=1?this.interpolate=this.isColor?fe:he:e.isStepped?this.interpolate=this.isColor?me:ve:this.interpolate=this.isColor?pe:de,this.ease=this.first.ease}}]),e}(),ye=function(){function e(t){(0,o.Z)(this,e),this.order=te.Normal,this.list=new ge(!1),this.list.reset(X.createList(t.alpha))}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;)t.alpha=this.list.first.value,t=t.next}},{key:"updateParticle",value:function(e){e.alpha=this.list.interpolate(e.agePercent)}}]),e}();ye.type="alpha",ye.editorConfig=null;var be=function(){function e(t){(0,o.Z)(this,e),this.order=te.Normal,this.value=t.alpha}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;)t.alpha=this.value,t=t.next}}]),e}();function xe(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if("string"===typeof r)t.push(G(r));else if(r instanceof F.xE)t.push(r);else{var i=r.count||1;for(r="string"===typeof r.texture?G(r.texture):r.texture;i>0;--i)t.push(r)}}return t}be.type="alphaStatic",be.editorConfig=null;var _e=function(){function e(t){(0,o.Z)(this,e),this.order=te.Normal,this.anims=[];for(var n=0;n<t.anims.length;++n){var r=t.anims[n],i=xe(r.textures),a=r.framerate<0?-1:r.framerate>0?r.framerate:60,s={textures:i,duration:a>0?i.length/a:0,framerate:a,loop:a>0&&!!r.loop};this.anims.push(s)}}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;){var n=Math.floor(Math.random()*this.anims.length),r=t.config.anim=this.anims[n];t.texture=r.textures[0],t.config.animElapsed=0,-1===r.framerate?(t.config.animDuration=t.maxLife,t.config.animFramerate=r.textures.length/t.maxLife):(t.config.animDuration=r.duration,t.config.animFramerate=r.framerate),t=t.next}}},{key:"updateParticle",value:function(e,t){var n=e.config,r=n.anim;n.animElapsed+=t,n.animElapsed>=n.animDuration&&(n.anim.loop?n.animElapsed=n.animElapsed%n.animDuration:n.animElapsed=n.animDuration-1e-6);var i=n.animElapsed*n.animFramerate+1e-7|0;e.texture=r.textures[i]||r.textures[r.textures.length-1]||F.xE.EMPTY}}]),e}();_e.type="animatedRandom",_e.editorConfig=null;var we=function(){function e(t){(0,o.Z)(this,e),this.order=te.Normal;var n=t.anim,r=xe(n.textures),i=n.framerate<0?-1:n.framerate>0?n.framerate:60;this.anim={textures:r,duration:i>0?r.length/i:0,framerate:i,loop:i>0&&!!n.loop}}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e,n=this.anim;t;)t.texture=n.textures[0],t.config.animElapsed=0,-1===n.framerate?(t.config.animDuration=t.maxLife,t.config.animFramerate=n.textures.length/t.maxLife):(t.config.animDuration=n.duration,t.config.animFramerate=n.framerate),t=t.next}},{key:"updateParticle",value:function(e,t){var n=this.anim,r=e.config;r.animElapsed+=t,r.animElapsed>=r.animDuration&&(n.loop?r.animElapsed=r.animElapsed%r.animDuration:r.animElapsed=r.animDuration-1e-6);var i=r.animElapsed*r.animFramerate+1e-7|0;e.texture=n.textures[i]||n.textures[n.textures.length-1]||F.xE.EMPTY}}]),e}();we.type="animatedSingle",we.editorConfig=null;var ke=function(){function e(t){(0,o.Z)(this,e),this.order=te.Normal,this.value=t.blendMode}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;)t.blendMode=ee(this.value),t=t.next}}]),e}();ke.type="blendMode",ke.editorConfig=null;var Ee=function(){function e(t){(0,o.Z)(this,e),this.order=te.Spawn,this.spacing=t.spacing*W,this.start=t.start*W,this.distance=t.distance}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=0,n=e;n;){var r=void 0;r=this.spacing?this.start+this.spacing*t:Math.random()*Math.PI*2,n.rotation=r,this.distance&&(n.position.x=this.distance,H(r,n.position)),n=n.next,++t}}}]),e}();Ee.type="spawnBurst",Ee.editorConfig=null;var Te=function(){function e(t){(0,o.Z)(this,e),this.order=te.Normal,this.list=new ge(!0),this.list.reset(X.createList(t.color))}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e,n=this.list.first.value,r=z(n.r,n.g,n.b);t;)t.tint=r,t=t.next}},{key:"updateParticle",value:function(e){e.tint=this.list.interpolate(e.agePercent)}}]),e}();Te.type="color",Te.editorConfig=null;var Se=function(){function e(t){(0,o.Z)(this,e),this.order=te.Normal;var n=t.color;"#"===n.charAt(0)?n=n.substr(1):0===n.indexOf("0x")&&(n=n.substr(2)),this.value=parseInt(n,16)}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;)t.tint=this.value,t=t.next}}]),e}();Se.type="colorStatic",Se.editorConfig=null;var Ae=function(){function e(t){(0,o.Z)(this,e),this.order=te.Normal,this.index=0,this.textures=t.textures.map((function(e){return"string"===typeof e?G(e):e}))}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;)t.texture=this.textures[this.index],++this.index>=this.textures.length&&(this.index=0),t=t.next}}]),e}();Ae.type="textureOrdered",Ae.editorConfig=null;var Me=new j.E9,Pe=["E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2","abs","acos","acosh","asin","asinh","atan","atanh","atan2","cbrt","ceil","cos","cosh","exp","expm1","floor","fround","hypot","log","log1p","log10","log2","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh"],Ce=new RegExp(["[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]"].concat(Pe).join("|"),"g");var Ie=function(){function e(t){var n;if((0,o.Z)(this,e),this.order=te.Late,t.path)if("function"===typeof t.path)this.path=t.path;else try{this.path=function(e){for(var t=e.match(Ce),n=t.length-1;n>=0;--n)Pe.indexOf(t[n])>=0&&(t[n]="Math.".concat(t[n]));return e=t.join(""),new Function("x","return ".concat(e,";"))}(t.path)}catch(r){this.path=null}else this.path=function(e){return e};this.list=new ge(!1),this.list.reset(X.createList(t.speed)),this.minMult=null!==(n=t.minMult)&&void 0!==n?n:1}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;){t.config.initRotation=t.rotation,t.config.initPosition?t.config.initPosition.copyFrom(t.position):t.config.initPosition=new j.E9(t.x,t.y),t.config.movement=0;var n=Math.random()*(1-this.minMult)+this.minMult;t.config.speedMult=n,t=t.next}}},{key:"updateParticle",value:function(e,t){var n=this.list.interpolate(e.agePercent)*e.config.speedMult;e.config.movement+=n*t,Me.x=e.config.movement,Me.y=this.path(Me.x),H(e.config.initRotation,Me),e.position.x=e.config.initPosition.x+Me.x,e.position.y=e.config.initPosition.y+Me.y}}]),e}();Ie.type="movePath",Ie.editorConfig=null;var Re=function(){function e(){(0,o.Z)(this,e),this.order=te.Spawn}return(0,s.Z)(e,[{key:"initParticles",value:function(e){}}]),e}();Re.type="spawnPoint",Re.editorConfig=null;var Oe=function(){function e(t){(0,o.Z)(this,e),this.order=te.Normal,this.textures=t.textures.map((function(e){return"string"===typeof e?G(e):e}))}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;){var n=Math.floor(Math.random()*this.textures.length);t.texture=this.textures[n],t=t.next}}}]),e}();Oe.type="textureRandom",Oe.editorConfig=null;var Le=function(){function e(t){(0,o.Z)(this,e),this.order=te.Normal,this.minStart=t.minStart*W,this.maxStart=t.maxStart*W,this.minSpeed=t.minSpeed*W,this.maxSpeed=t.maxSpeed*W,this.accel=t.accel*W}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;)this.minStart===this.maxStart?t.rotation+=this.maxStart:t.rotation+=Math.random()*(this.maxStart-this.minStart)+this.minStart,t.config.rotSpeed=Math.random()*(this.maxSpeed-this.minSpeed)+this.minSpeed,t=t.next}},{key:"updateParticle",value:function(e,t){if(this.accel){var n=e.config.rotSpeed;e.config.rotSpeed+=this.accel*t,e.rotation+=(e.config.rotSpeed+n)/2*t}else e.rotation+=e.config.rotSpeed*t}}]),e}();Le.type="rotation",Le.editorConfig=null;var Ne=function(){function e(t){(0,o.Z)(this,e),this.order=te.Normal,this.min=t.min*W,this.max=t.max*W}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;)this.min===this.max?t.rotation+=this.max:t.rotation+=Math.random()*(this.max-this.min)+this.min,t=t.next}}]),e}();Ne.type="rotationStatic",Ne.editorConfig=null;var Be=function(){function e(t){(0,o.Z)(this,e),this.order=te.Late+1,this.rotation=(t.rotation||0)*W}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;)t.rotation=this.rotation,t=t.next}}]),e}();Be.type="noRotation",Be.editorConfig=null;var De=function(){function e(t){var n;(0,o.Z)(this,e),this.order=te.Normal,this.list=new ge(!1),this.list.reset(X.createList(t.scale)),this.minMult=null!==(n=t.minMult)&&void 0!==n?n:1}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;){var n=Math.random()*(1-this.minMult)+this.minMult;t.config.scaleMult=n,t.scale.x=t.scale.y=this.list.first.value*n,t=t.next}}},{key:"updateParticle",value:function(e){e.scale.x=e.scale.y=this.list.interpolate(e.agePercent)*e.config.scaleMult}}]),e}();De.type="scale",De.editorConfig=null;var Fe=function(){function e(t){(0,o.Z)(this,e),this.order=te.Normal,this.min=t.min,this.max=t.max}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;){var n=Math.random()*(this.max-this.min)+this.min;t.scale.x=t.scale.y=n,t=t.next}}}]),e}();Fe.type="scaleStatic",Fe.editorConfig=null;var Ze=function(){function e(t){(0,o.Z)(this,e),this.order=te.Spawn;var n=e.shapes[t.type];if(!n)throw new Error("No shape found with type '".concat(t.type,"'"));this.shape=new n(t.data)}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;)this.shape.getRandPos(t),t=t.next}}],[{key:"registerShape",value:function(t,n){e.shapes[n||t.type]=t}}]),e}();Ze.type="spawnShape",Ze.editorConfig=null,Ze.shapes={},Ze.registerShape(ue),Ze.registerShape(oe),Ze.registerShape(se),Ze.registerShape(se,"circle");var Ve=function(){function e(t){(0,o.Z)(this,e),this.order=te.Normal,this.texture="string"===typeof t.texture?G(t.texture):t.texture}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;)t.texture=this.texture,t=t.next}}]),e}();Ve.type="textureSingle",Ve.editorConfig=null;var je=function(){function e(t){var n;(0,o.Z)(this,e),this.order=te.Late,this.list=new ge(!1),this.list.reset(X.createList(t.speed)),this.minMult=null!==(n=t.minMult)&&void 0!==n?n:1}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;){var n=Math.random()*(1-this.minMult)+this.minMult;t.config.speedMult=n,t.config.velocity?t.config.velocity.set(this.list.first.value*n,0):t.config.velocity=new j.E9(this.list.first.value*n,0),H(t.rotation,t.config.velocity),t=t.next}}},{key:"updateParticle",value:function(e,t){var n=this.list.interpolate(e.agePercent)*e.config.speedMult,r=e.config.velocity;$(r),K(r,n),e.x+=r.x*t,e.y+=r.y*t}}]),e}();je.type="moveSpeed",je.editorConfig=null;var Ue=function(){function e(t){(0,o.Z)(this,e),this.order=te.Late,this.min=t.min,this.max=t.max}return(0,s.Z)(e,[{key:"initParticles",value:function(e){for(var t=e;t;){var n=Math.random()*(this.max-this.min)+this.min;t.config.velocity?t.config.velocity.set(n,0):t.config.velocity=new j.E9(n,0),H(t.rotation,t.config.velocity),t=t.next}}},{key:"updateParticle",value:function(e,t){var n=e.config.velocity;e.x+=n.x*t,e.y+=n.y*t}}]),e}();Ue.type="moveSpeedStatic",Ue.editorConfig=null;var Ye={__proto__:null,spawnShapes:le,editor:{__proto__:null},get BehaviorOrder(){return te},AccelerationBehavior:ce,AlphaBehavior:ye,StaticAlphaBehavior:be,RandomAnimatedTextureBehavior:_e,SingleAnimatedTextureBehavior:we,BlendModeBehavior:ke,BurstSpawnBehavior:Ee,ColorBehavior:Te,StaticColorBehavior:Se,OrderedTextureBehavior:Ae,PathBehavior:Ie,PointSpawnBehavior:Re,RandomTextureBehavior:Oe,RotationBehavior:Le,StaticRotationBehavior:Ne,NoRotationBehavior:Be,ScaleBehavior:De,StaticScaleBehavior:Fe,ShapeSpawnBehavior:Ze,SingleTextureBehavior:Ve,SpeedBehavior:je,StaticSpeedBehavior:Ue};function Xe(e,t){var n,r,i,a,o,s,u,l,c,h,f,d,p,v,m,g,y,b,x,_,w;if("behaviors"in e)return e;var k,E,T={lifetime:e.lifetime,ease:e.ease,particlesPerWave:e.particlesPerWave,frequency:e.frequency,spawnChance:e.spawnChance,emitterLifetime:e.emitterLifetime,maxParticles:e.maxParticles,addAtBack:e.addAtBack,pos:e.pos,emit:e.emit,autoUpdate:e.autoUpdate,behaviors:[]};if(e.alpha)if("start"in e.alpha)if(e.alpha.start===e.alpha.end)1!==e.alpha.start&&T.behaviors.push({type:"alphaStatic",config:{alpha:e.alpha.start}});else{var S={list:[{time:0,value:e.alpha.start},{time:1,value:e.alpha.end}]};T.behaviors.push({type:"alpha",config:{alpha:S}})}else 1===e.alpha.list.length?1!==e.alpha.list[0].value&&T.behaviors.push({type:"alphaStatic",config:{alpha:e.alpha.list[0].value}}):T.behaviors.push({type:"alpha",config:{alpha:e.alpha}});if(e.acceleration&&(e.acceleration.x||e.acceleration.y))"start"in e.speed?(k=e.speed.start*(null!==(n=e.speed.minimumSpeedMultiplier)&&void 0!==n?n:1),E=e.speed.start):(k=e.speed.list[0].value*(null!==(r=e.minimumSpeedMultiplier)&&void 0!==r?r:1),E=e.speed.list[0].value),T.behaviors.push({type:"moveAcceleration",config:{accel:e.acceleration,minStart:k,maxStart:E,rotate:!e.noRotation,maxSpeed:e.maxSpeed}});else if(null===(i=e.extraData)||void 0===i?void 0:i.path){var A,M;"start"in e.speed?(M=null!==(a=e.speed.minimumSpeedMultiplier)&&void 0!==a?a:1,A=e.speed.start===e.speed.end?{list:[{time:0,value:e.speed.start}]}:{list:[{time:0,value:e.speed.start},{time:1,value:e.speed.end}]}):(A=e.speed,M=null!==(o=e.minimumSpeedMultiplier)&&void 0!==o?o:1),T.behaviors.push({type:"movePath",config:{path:e.extraData.path,speed:A,minMult:M}})}else if(e.speed)if("start"in e.speed)if(e.speed.start===e.speed.end)T.behaviors.push({type:"moveSpeedStatic",config:{min:e.speed.start*(null!==(s=e.speed.minimumSpeedMultiplier)&&void 0!==s?s:1),max:e.speed.start}});else{var P={list:[{time:0,value:e.speed.start},{time:1,value:e.speed.end}]};T.behaviors.push({type:"moveSpeed",config:{speed:P,minMult:e.speed.minimumSpeedMultiplier}})}else 1===e.speed.list.length?T.behaviors.push({type:"moveSpeedStatic",config:{min:e.speed.list[0].value*(null!==(u=e.minimumSpeedMultiplier)&&void 0!==u?u:1),max:e.speed.list[0].value}}):T.behaviors.push({type:"moveSpeed",config:{speed:e.speed,minMult:null!==(l=e.minimumSpeedMultiplier)&&void 0!==l?l:1}});if(e.scale)if("start"in e.scale){var C=null!==(c=e.scale.minimumScaleMultiplier)&&void 0!==c?c:1;if(e.scale.start===e.scale.end)T.behaviors.push({type:"scaleStatic",config:{min:e.scale.start*C,max:e.scale.start}});else{var I={list:[{time:0,value:e.scale.start},{time:1,value:e.scale.end}]};T.behaviors.push({type:"scale",config:{scale:I,minMult:C}})}}else if(1===e.scale.list.length){var R=null!==(h=e.minimumScaleMultiplier)&&void 0!==h?h:1,O=e.scale.list[0].value;T.behaviors.push({type:"scaleStatic",config:{min:O*R,max:O}})}else T.behaviors.push({type:"scale",config:{scale:e.scale,minMult:null!==(f=e.minimumScaleMultiplier)&&void 0!==f?f:1}});if(e.color)if("start"in e.color)if(e.color.start===e.color.end)"ffffff"!==e.color.start&&T.behaviors.push({type:"colorStatic",config:{color:e.color.start}});else{var L={list:[{time:0,value:e.color.start},{time:1,value:e.color.end}]};T.behaviors.push({type:"color",config:{color:L}})}else 1===e.color.list.length?"ffffff"!==e.color.list[0].value&&T.behaviors.push({type:"colorStatic",config:{color:e.color.list[0].value}}):T.behaviors.push({type:"color",config:{color:e.color}});if(e.rotationAcceleration||(null===(d=e.rotationSpeed)||void 0===d?void 0:d.min)||(null===(p=e.rotationSpeed)||void 0===p?void 0:p.max)?T.behaviors.push({type:"rotation",config:{accel:e.rotationAcceleration||0,minSpeed:(null===(v=e.rotationSpeed)||void 0===v?void 0:v.min)||0,maxSpeed:(null===(m=e.rotationSpeed)||void 0===m?void 0:m.max)||0,minStart:(null===(g=e.startRotation)||void 0===g?void 0:g.min)||0,maxStart:(null===(y=e.startRotation)||void 0===y?void 0:y.max)||0}}):((null===(b=e.startRotation)||void 0===b?void 0:b.min)||(null===(x=e.startRotation)||void 0===x?void 0:x.max))&&T.behaviors.push({type:"rotationStatic",config:{min:(null===(_=e.startRotation)||void 0===_?void 0:_.min)||0,max:(null===(w=e.startRotation)||void 0===w?void 0:w.max)||0}}),e.noRotation&&T.behaviors.push({type:"noRotation",config:{}}),e.blendMode&&"normal"!==e.blendMode&&T.behaviors.push({type:"blendMode",config:{blendMode:e.blendMode}}),Array.isArray(t)&&"string"!==typeof t[0]&&"framerate"in t[0]){for(var N=0;N<t.length;++N)"matchLife"===t[N].framerate&&(t[N].framerate=-1);T.behaviors.push({type:"animatedRandom",config:{anims:t}})}else"string"!==typeof t&&"framerate"in t?("matchLife"===t.framerate&&(t.framerate=-1),T.behaviors.push({type:"animatedSingle",config:{anim:t}})):e.orderedArt&&Array.isArray(t)?T.behaviors.push({type:"textureOrdered",config:{textures:t}}):Array.isArray(t)?T.behaviors.push({type:"textureRandom",config:{textures:t}}):T.behaviors.push({type:"textureSingle",config:{texture:t}});if("burst"===e.spawnType)T.behaviors.push({type:"spawnBurst",config:{start:e.angleStart||0,spacing:e.particleSpacing,distance:0}});else if("point"===e.spawnType)T.behaviors.push({type:"spawnPoint",config:{}});else{var B;"ring"===e.spawnType?B={type:"torus",data:{x:e.spawnCircle.x,y:e.spawnCircle.y,radius:e.spawnCircle.r,innerRadius:e.spawnCircle.minR,affectRotation:!0}}:"circle"===e.spawnType?B={type:"torus",data:{x:e.spawnCircle.x,y:e.spawnCircle.y,radius:e.spawnCircle.r,innerRadius:0,affectRotation:!1}}:"rect"===e.spawnType?B={type:"rect",data:e.spawnRect}:"polygonalChain"===e.spawnType&&(B={type:"polygonalChain",data:e.spawnPolygon}),B&&T.behaviors.push({type:"spawnShape",config:B})}return T}Y.W2;ae.registerBehavior(ce),ae.registerBehavior(ye),ae.registerBehavior(be),ae.registerBehavior(_e),ae.registerBehavior(we),ae.registerBehavior(ke),ae.registerBehavior(Ee),ae.registerBehavior(Te),ae.registerBehavior(Se),ae.registerBehavior(Ae),ae.registerBehavior(Ie),ae.registerBehavior(Re),ae.registerBehavior(Oe),ae.registerBehavior(Le),ae.registerBehavior(Ne),ae.registerBehavior(Be),ae.registerBehavior(De),ae.registerBehavior(Fe),ae.registerBehavior(Ze),ae.registerBehavior(Ve),ae.registerBehavior(je),ae.registerBehavior(Ue);var Ge=Xe({alpha:{start:1,end:0},scale:{start:.41,end:.17,minimumScaleMultiplier:.5},color:{start:"#ffffff",end:"#ffffff"},speed:{start:300,end:200,minimumSpeedMultiplier:.5},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:0,max:360},noRotation:!1,rotationSpeed:{min:0,max:0},lifetime:{min:.3,max:.5},blendMode:"add",frequency:.003,emitterLifetime:.5,maxParticles:5,pos:{x:0,y:0},addAtBack:!0,spawnType:"circle",spawnCircle:{x:0,y:0,r:11}},p.de.star_particle),We=Xe({alpha:{start:.5,end:0},scale:{start:.3,end:.2,minimumScaleMultiplier:.5},color:{start:"#ffffff",end:"#ffffff"},speed:{start:1e3,end:100,minimumSpeedMultiplier:.5},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:-90,max:-90},noRotation:!0,rotationSpeed:{min:0,max:10},lifetime:{min:.1,max:.2},blendMode:"add",frequency:.01,emitterLifetime:.5,maxParticles:100,pos:{x:0,y:0},addAtBack:!1,spawnType:"rect",spawnRect:{x:0,y:0,w:50,h:30}},p.de.blaze_particle),He=Xe({alpha:{start:.7,end:.9},scale:{start:.31,end:.23,minimumScaleMultiplier:.5},color:{start:"#ffdd77",end:"#ffdd77"},speed:{start:870,end:0,minimumSpeedMultiplier:.3},acceleration:{x:0,y:910},maxSpeed:0,startRotation:{min:250,max:290},noRotation:!0,rotationSpeed:{min:0,max:0},lifetime:{min:.3,max:.7},blendMode:"add",frequency:.002,emitterLifetime:7,maxParticles:130,pos:{x:0,y:0},addAtBack:!0,spawnType:"rect",spawnRect:{x:0,y:0,w:10,h:0}},p.de.dot_particle),ze=Xe({alpha:{start:1,end:0},scale:{start:.7,end:1.3,minimumScaleMultiplier:.5},color:{start:"#ffffff",end:"#ffffff"},speed:{start:500,end:200,minimumSpeedMultiplier:.5},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:0,max:360},noRotation:!1,rotationSpeed:{min:0,max:10},lifetime:{min:.2,max:.3},blendMode:"add",frequency:.05,emitterLifetime:.5,maxParticles:10,pos:{x:0,y:0},addAtBack:!1,spawnType:"burst",particlesPerWave:1,particleSpacing:0,angleStart:0},p.de.star_particle),qe=Xe({alpha:{start:1,end:.2},scale:{start:.7,end:.03,minimumScaleMultiplier:.5},color:{start:"#ffffff",end:"#ffffff"},speed:{start:700,end:50,minimumSpeedMultiplier:.5},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:0,max:360},noRotation:!0,rotationSpeed:{min:0,max:0},lifetime:{min:.3,max:.8},blendMode:"add",frequency:.003,emitterLifetime:.5,maxParticles:200,pos:{x:0,y:0},addAtBack:!0,spawnType:"circle",spawnCircle:{x:0,y:0,r:0}},p.de.dot_particle),$e=Xe({alpha:{start:1,end:.3},scale:{start:.7,end:.1,minimumScaleMultiplier:.5},color:{start:"#ffffff",end:"#ffffff"},speed:{start:200,end:300,minimumSpeedMultiplier:.5},acceleration:{x:0,y:500},maxSpeed:0,startRotation:{min:0,max:360},noRotation:!1,rotationSpeed:{min:0,max:0},lifetime:{min:.2,max:.5},blendMode:"add",frequency:.01,emitterLifetime:-1,maxParticles:70,pos:{x:0,y:0},addAtBack:!1,spawnType:"circle",spawnCircle:{x:0,y:0,r:3}},p.de.dot_particle),Ke=Xe({alpha:{start:1,end:0},scale:{start:.5,end:.1,minimumScaleMultiplier:.5},color:{start:"#ffffff",end:"#ffffff"},speed:{start:300,end:100,minimumSpeedMultiplier:.5},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:-20,max:-160},noRotation:!1,rotationSpeed:{min:0,max:0},lifetime:{min:.3,max:.5},blendMode:"add",frequency:.01,emitterLifetime:-1,maxParticles:150,pos:{x:0,y:0},addAtBack:!0,spawnType:"circle",spawnCircle:{x:0,y:0,r:40}},p.de.dot_particle),Je=Xe({alpha:{start:1,end:.3},scale:{start:1.7,end:.1,minimumScaleMultiplier:.5},color:{start:"#ffee33",end:"#ffee33"},speed:{start:70,end:-10,minimumSpeedMultiplier:.3},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:-70,max:-110},noRotation:!1,rotationSpeed:{min:30,max:70},lifetime:{min:.3,max:.7},blendMode:"add",frequency:.03,emitterLifetime:5,maxParticles:7,pos:{x:0,y:0},addAtBack:!0,spawnType:"circle",spawnCircle:{x:0,y:-70,r:400}},p.de.star_particle),Qe=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,o.Z)(this,n),(e=t.call(this)).star_particles=[],e.blaze_particles=[],e.fireworks_particles=[],e.erase_particle=null,e.boom_particle=null,e.ray_particle=null,e.bullet_particle=null,e.firework_bullet_particle=null,e.running_particles=[];var r=v.o.width,i=v.o.height;return e.fireworks_particles.push(e.createFirework(130,i-70)),e.fireworks_particles.push(e.createFirework(r-130,i-70)),e.fireworks_particles[0].parent.scale.set(-1,1),e}return(0,s.Z)(n,[{key:"returnEffect",value:function(e,t){var n=this.running_particles,r=n.indexOf(e);n[r]=n[n.length-1],n.length--,null===t||void 0===t||t.push(e)}},{key:"play",value:function(e,t){return this.running_particles.push(e),e.cleanup(),e.playOnce(this.returnEffect.bind(this,e,t)),e}},{key:"spawnStarEffect",value:function(e,t){var n=this.star_particles.pop();if(!n){var r=new c.W20;n=new ae(r,Ge),this.addChild(r)}return n.parent.x=e,n.parent.y=t,this.play(n,this.star_particles)}},{key:"spawnBlazeParticle",value:function(e,t){var n=this.blaze_particles.pop();if(!n){var r=new c.W20;n=new ae(r,We),this.addChild(r)}return n.parent.x=e,n.parent.y=t,this.play(n,this.blaze_particles)}},{key:"createFirework",value:function(e,t){var n=new c.W20,r=new ae(n,He);return this.addChild(n),n.x=e,n.y=t,r}},{key:"spawnFirework",value:function(){var e,t=(0,a.Z)(this.fireworks_particles);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.play(n,null)}}catch(r){t.e(r)}finally{t.f()}}},{key:"spawnFireworkBullet",value:function(e,t){var n=this.firework_bullet_particle;if(!n){var r=new c.W20;n=new ae(r,Je),this.addChild(r),this.firework_bullet_particle=n}return n.parent.x=e,n.parent.y=t,this.play(n,null)}},{key:"spawnBoom",value:function(e,t){var n=this.boom_particle;if(!n){var r=new c.W20;n=new ae(r,qe),this.addChild(r),this.boom_particle=n}return n.parent.x=e,n.parent.y=t,this.play(n,null)}},{key:"spawnErase",value:function(e,t,n){var r=this.erase_particle;if(!r){var i=new c.W20;r=new ae(i,ze),this.addChild(i),this.erase_particle=r}return r.parent.x=e,r.parent.y=t,Object.assign(r.getBehavior(Ye.StaticColorBehavior.type),{value:n.value}),this.play(r,null)}},{key:"spawnRay",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.ray_particle;if(!r){var i=new c.W20;r=new ae(i,$e),this.addChild(i),this.ray_particle=r,this.play(r,null)}return r.parent.x=e,r.parent.y=t,r.parent.visible=null!=n,Object.assign(r.getBehavior(Ye.StaticColorBehavior.type),{value:n?n.value:0}),r}},{key:"spawnBullet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.bullet_particle;if(!t){var n=new c.W20;t=new ae(n,Ke);var r=h.u.map.gun.holder.children,i=(0,N.Z)(r,2),a=i[0],o=i[1];a.addChild(n),n.x=o.x,n.y=o.y,this.bullet_particle=t,this.play(t,null)}return t.parent.visible=null!=e,Object.assign(t.getBehavior(Ye.StaticColorBehavior.type),{value:e?e.value:0}),t}},{key:"shakeScreen",value:function(e){var t=h.u.map.container,n=t.x,r=t.y,i={value:20};return u.ZP.to(i,{value:0,duration:e,onUpdate:function(){0===n&&(t.x=n+(Math.random()-.5)*i.value,t.y=r+(Math.random()-.5)*i.value)}})}},{key:"update",value:function(e){var t,n=(0,a.Z)(this.running_particles);try{for(n.s();!(t=n.n()).done;){t.value.update(e)}}catch(r){n.e(r)}finally{n.f()}}}]),n}(c.W20),et=n(3433),tt=n(4165),nt=n(5861),rt=n(800),it=n(2995),at=n(1413),ot=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.call(this)).meshes=[],e.points=[],e}return(0,s.Z)(n,[{key:"update",value:function(e){this.meshes.forEach((function(t){t.visible&&(t.shader.uniforms.time+=3*e)}))}},{key:"setRayPoints",value:function(e,t){for(;this.meshes.length<e.length-1;)this.addMesh();this.meshes.forEach((function(n,r){if(n.visible=r<e.length-1,r<e.length-1){var i=e[r],a=e[r+1],o=a.x-i.x,s=a.y-i.y,u=Math.sqrt(Math.pow(o,2)+Math.pow(s,2));n.position.set(i.x,i.y),n.rotation=Math.atan2(s,o),n.scale.set(u,100),n.shader.uniforms.ratioxy=u/100,t&&(n.shader.uniforms.mainColor=t),n.shader.uniforms.startRatio=0==r?ut.startRatio:1,n.shader.uniforms.startOffset=0==r?ut.startOffset:0,n.shader.uniforms.endRatio=r>=e.length-2?ut.endRatio:1,n.shader.uniforms.endOffset=r>=e.length-2?ut.endOffset:0}})),f.Z.dispatch(d.T.actions.setTopOpacity(e.length<=0?1:0))}},{key:"addMesh",value:function(){var e=(new c.ZXM).addAttribute("aVertexPosition",[0,-1,1,-1,1,1,0,1],2).addAttribute("aUvs",[0,0,1,0,1,1,0,1],2).addIndex([0,1,2,0,2,3]),t=c.exe.from(lt,ct,(0,at.Z)({},ut)),n=new c.Kj0(e,t);return this.meshes.push(n),this.addChild(n),n}}]),n}(c.W20),st=new ot,ut={time:0,ratioxy:1,mainColor:[1,0,0],startRatio:2.5,startOffset:1.5,endRatio:.05,endOffset:.5,noiseSampler:c.xEZ.from("effects/smooth-noise-3.jpg")},lt="\n    precision mediump float;\n\n    attribute vec2 aVertexPosition;\n    attribute vec2 aUvs;\n\n    uniform mat3 translationMatrix;\n    uniform mat3 projectionMatrix;\n\n    varying vec2 vUvs;\n\n    void main() {\n\n        vUvs = aUvs;\n        gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    }\n",ct="\n    precision mediump float;\n    varying vec2 vUvs;\n    uniform float time;\n    uniform float ratioxy;\n    uniform vec3 mainColor;\n    uniform float startRatio;\n    uniform float startOffset;\n    uniform float endRatio;\n    uniform float endOffset;\n    uniform sampler2D noiseSampler;\n\n    vec4 getColor(vec2 uv, float offsetYRatio, float waveLengthRatio, float waveSpeed, float waveOffset, float width, float subWidth, float subStrength, float samplerY){\n        float startOffset_ = startOffset/ratioxy;\n        float endOffset_ = endOffset/ratioxy;\n\n        float uvx = (uv.x + 1.)/2.; //map uvx 0. -> 1.\n        float widthRatio = 1.;\n        widthRatio = max(widthRatio, (1. - startRatio)/startOffset_*uvx + startRatio);\n        widthRatio = min(widthRatio, (endRatio - 1.)/endOffset_*uvx + endRatio - (endRatio - 1.)/endOffset_);\n\n        float subFadeOutOffset = 1./ratioxy;\n        float fadeRatio = pow(min(1. - abs(uv.x), subFadeOutOffset)/subFadeOutOffset, .5);\n\n        float offsetY = (texture2D(noiseSampler, vec2(mod((vUvs.x*ratioxy/waveLengthRatio - (time + floor(time*2.))*waveSpeed + waveOffset)*1., 1.), samplerY)).r - 0.5)*2.*offsetYRatio;\n        float y = uv.y + offsetY*widthRatio;\n        float main = step(1. - width*widthRatio, 1. - abs(y));\n        // main *= fadeRatio;\n        float sub = pow(max(1. - abs(y) - (1. - subWidth), 0.)*subStrength, 2.)*widthRatio;\n        sub *= fadeRatio;\n\n        float mixValue = .25;\n        float r = max(mix(main, sub*mainColor.r, mixValue), sub*mainColor.r);\n        float g = max(mix(main, sub*mainColor.g, mixValue), sub*mainColor.g);\n        float b = max(mix(main, sub*mainColor.b, mixValue), sub*mainColor.b);\n        float a = max(main, sub);\n        return vec4(r, g, b, a);\n    }\n\n    void main()\n    {\n        //Offset uv so that center is 0,0 and edges are -1,1\n        vec2 uv = (vUvs-vec2(0.5))*2.0;\n\n        vec4 color1 = getColor(uv, 0.03, 20., 1., 0., 0.025 , 0.2, 5., .5);\n        vec4 color2 = getColor(uv, 0.1, 7., .17, 1., 0.01, 0.15, 5., .3);\n        vec4 color3 = getColor(uv, 0.12, 8., .2, 4., 0.01, 0.15, 5., .7);\n\n        float r = max(max(color1.r, color2.r), color3.r);\n        float g = max(max(color1.g, color2.g), color3.g);\n        float b = max(max(color1.b, color2.b), color3.b);\n        float a = max(max(color1.a, color2.a), color3.a);\n        vec4 outColor = vec4(r, g, b, a);\n        gl_FragColor = outColor;\n    }\n",ht=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,o.Z)(this,n),(e=t.call(this)).boom_holder=void 0,e.boom_empty=void 0,e.light=void 0,e.boom=void 0,e.mascot=void 0,e.progress=0,e.max=0;var r=v.o.width,i=v.o.height,a=new c.jyi(p.de.background);a.anchor.set(0,1),e.addChild(a),e.y=i,(a=new c.jyi(p.de.background_1)).anchor.set(0,1),a.y=150,e.addChild(a);var s=new c.jyi(p.de.background_2);s.anchor.set(.5,1),s.scale.set(.6),s.x=.5*r,s.y=-275,a.addChild(s),a=s,(s=e.light=new c.jyi(p.de.background_3)).anchor.set(.5,1),s.y=-50,a.addChild(s),(s=e.boom_holder=new c.jyi(p.de.boom_holder)).anchor.set(.5,1),s.x=150,s.y=-110,e.addChild(s),(s=e.boom_empty=new c.jyi(p.de.boom_empty)).width=s.height=72,s.anchor.set(.5),s.x=0,s.y=-167,e.boom_holder.addChild(s),(s=e.boom=new c.jyi(p.de.types[b.MELODY_BALL_TYPE_BOOM])).anchor.set(.5),e.boom_empty.addChild(s);var u=new c.wn$(null,"\nprecision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float customUniform;\n\nvoid main(void)\n{\n    vec4 fg = texture2D(uSampler, vTextureCoord);\n\n    float a = step(customUniform, smoothstep(0., 1., vTextureCoord.y * 1.7));\n\n    gl_FragColor = fg * a;\n}\n",{customUniform:1});return s.filters=[u],e.loadMascot((0,R.Z)(e)),e}return(0,s.Z)(n,[{key:"loadMascot",value:function(){var e=(0,nt.Z)((0,tt.Z)().mark((function e(t){var n,r;return(0,tt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.d.loadSpine(g.dN.spine.mascot);case 2:n=e.sent,(r=new rt.PY(n)).scale.set(.5),r.x=this.width-this.boom_holder.x,r.y=this.boom_holder.y-30,this.mascot=r,r.state.setAnimation(0,"anim_idle_normal",!0),t.addChild(r);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"holdBall",value:function(e){e?this.mascot.state.setAnimation(0,"anim_hold_ball",!0).mixDuration=.3:this.mascot.state.setAnimation(0,"anim_idle_normal",!0).mixDuration=.3}},{key:"activeBall",value:function(){this.mascot.state.setAnimation(0,"anim_active_ball_loop",!0).mixDuration=.3}},{key:"combo",value:function(){this.mascot.state.setAnimation(0,"anim_combo",!1).mixDuration=.3,this.mascot.state.addAnimation(0,"anim_idle_normal",!0,0).mixDuration=.3}},{key:"end",value:function(e){e?(this.mascot.state.setAnimation(0,"anim_win",!1).mixDuration=.3,this.mascot.state.addAnimation(0,"anim_win_loop",!0,0)):this.mascot.state.setAnimation(0,"anim_idle_lose",!0).mixDuration=.3,e&&this.onGunReset(1,0)}},{key:"swap",value:function(){this.mascot.state.setAnimation(0,"anim_switch_ball",!1).mixDuration=.3,this.mascot.state.addAnimation(0,"anim_idle_normal",!0,0).mixDuration=.3}},{key:"addScore",value:function(e){if(this.boom_holder.visible&&!(this.progress>=1)){var t=Math.min(this.progress+1/this.max,1);this.boom.filters[0].uniforms.customUniform=1-t,this.progress=t}}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.progress=0,this.boom.filters[0].uniforms.customUniform=1,this.boom_empty.visible=!0,this.holdBall(!1),e<0||(this.max=e,this.boom_holder.visible=e>0,this.mascot.state.setAnimation(0,"anim_idle_normal",!0))}},{key:"getBoomPosition",value:function(){this.boom_empty.visible=!1;var e=y.fromPIXI(this.boom_empty);return e.x+=this.boom_empty.parent.x+this.x,e.y+=this.boom_empty.parent.y+this.y,e}},{key:"onGunReset",value:function(e,t){var n=this,r={value:0};u.ZP.to(r,{value:1,duration:.7,ease:l.sm.easeInOut,onUpdate:function(){var i=2*Math.abs(r.value-.5);i*=i*i,n.light.alpha=e*(1-i)+t*i}})}},{key:"reloadAnim",value:function(e,t){if(this.light.alpha=0,0!==e){var n=this.children,r=n[0],i=n[1],a=this.boom_holder,o=this.mascot;u.ZP.fromTo(r,{y:700},{y:r.y,delay:t,duration:e}),u.ZP.fromTo(i,{y:1e3},{y:i.y,delay:t,duration:e}),u.ZP.fromTo(a,{y:735},{y:a.y,delay:t,duration:e}),u.ZP.fromTo(o,{y:735},{y:o.y,delay:t,duration:e})}}}]),n}(c.W20),ft=(c.W20,function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,o.Z)(this,n),(e=t.call(this)).balls=[];var r=v.o.width,i=v.o.height;return e.x=.5*r,e.y=i-80,e}return(0,s.Z)(n,[{key:"addBubble",value:function(e,t,n){var r,i=null,o=(0,a.Z)(this.balls);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(!s.isPlaying){i=s;break}}}catch(u){o.e(u)}finally{o.f()}i||(i=new w,this.addChild(i.sprite),this.addChild(i.text),this.balls.push(i)),i.set(e,t,n)}},{key:"update",value:function(e){var t,n=(0,a.Z)(this.balls);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.isPlaying&&r.update(e)}}catch(i){n.e(i)}finally{n.f()}}}]),n}(c.W20)),dt=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.call(this)).hovers=[],e.scores=[],e.bubbleEffect=[],e.bubbleData=null,e.loadEffect(),e}return(0,s.Z)(n,[{key:"loadEffect",value:function(){var e=(0,nt.Z)((0,tt.Z)().mark((function e(){return(0,tt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.d.loadSpine(g.dN.spine.power_effect);case 2:this.bubbleData=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"turnOn",value:function(e){var t=this.hovers.pop();t||((t=new c.jyi(p.de.hover)).anchor.set(.5),t.width=p.AS,t.height=p.AS,t.alpha=.7,u.ZP.fromTo(t,{rotation:0,ease:l.bJ.easeNone},{rotation:5*Math.PI,ease:l.bJ.easeNone}).duration(3).repeat(-1),this.addChild(t));var n=e.sprite,r=n.x,i=n.y;return t.visible=!0,t.x=r,t.y=i,e.hover=t,t}},{key:"turnOff",value:function(e){this.hovers.push(e.hover),e.hover.visible=!1,e.hover=null}},{key:"spawnText",value:function(e){var t=this.scores.pop();t||((t=new c.xvT("",p.A0)).anchor.set(.5),t.scale.set(.5),this.addChild(t)),t.visible=!0;var n=e.sprite,r=n.x,i=n.y;return t.x=r,t.y=i,t}},{key:"returnBubbleEffect",value:function(e){e.visible=!1,this.bubbleEffect.push(e)}},{key:"spawnBubbleEffect",value:function(e,t,n){var r=this.bubbleEffect.pop();r||(r=new rt.PY(this.bubbleData),this.addChild(r));var i=e.sprite,a=i.x,o=i.y;return r.scale.set(n),r.x=a,r.y=o,r.visible=!0,r.state.setAnimation(0,t,!1).listener={complete:this.returnBubbleEffect.bind(this,r)},r}},{key:"spawnScore",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.scores.pop();r||((r=new c.xvT("",p.$b)).anchor.set(.5),this.addChild(r)),r.visible=!0;var i=e.sprite,a=i.x,o=i.y;return r.x=a,r.y=o,r.scale.set(n),u.ZP.to(r,{y:o-30*n,alpha:0,duration:1}).then((function(){r.visible=!1,r.alpha=1,t.scores.push(r)})),r}}]),n}(c.W20),pt=n(5422),vt=n(1884),mt=n(3303),gt=function(){function e(){(0,o.Z)(this,e),this.ballColor=[{current:0,target:0},{current:0,target:0},{current:0,target:0},{current:0,target:0},{current:0,target:0},{current:0,target:0},{current:0,target:0},{current:0,target:0}],this.ballType=[{current:0,target:0},{current:0,target:0},{current:0,target:0},{current:0,target:0},{current:0,target:0},{current:0,target:0},{current:0,target:0},{current:0,target:0}],this.totalBall={current:0,target:0},this.comboScore=0,this.wallScore=0,this.totalScore=0}return(0,s.Z)(e,[{key:"getWallScore",value:function(){var e=this.wallScore;return this.wallScore+=p.kn,e}},{key:"init",value:function(e){var t,n=(0,a.Z)(this.ballColor);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.current=r.target=0}}catch(v){n.e(v)}finally{n.f()}var i,o=(0,a.Z)(this.ballType);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.current=s.target=0}}catch(v){o.e(v)}finally{o.f()}this.totalBall.current=this.totalBall.target=0;var u,l=(0,a.Z)(e.targets);try{for(l.s();!(u=l.n()).done;){var c=u.value,h=c.ball;!h||0===h.color&&0===h.type?this.totalBall.target=c.quantity:(h.color>0&&(this.ballColor[h.color-1].target=c.quantity),h.type>0&&(this.ballType[h.type-1].target=c.quantity))}}catch(v){l.e(v)}finally{l.f()}this.comboScore=p._u,this.wallScore=p.m4,this.totalScore=0,f.Z.dispatch(d.T.actions.updateTargetChecker({ballColor:this.ballColor,ballType:this.ballType,totalBall:this.totalBall.current}))}},{key:"countBall",value:function(e,t){this.ballColor[e].current++,this.totalBall.current++,this.ballType[t].current++,f.Z.dispatch(d.T.actions.updateTargetChecker({ballColor:this.ballColor,ballType:this.ballType,totalBall:this.totalBall.current}))}},{key:"addScore",value:function(e){return this.totalScore+=e}},{key:"check",value:function(){var e,t=!0,n=(0,a.Z)(this.ballColor);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.current<r.target){t=!1,console.log(r);break}}}catch(u){n.e(u)}finally{n.f()}var i,o=(0,a.Z)(this.ballType);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s.current<s.target){t=!1,console.log(s);break}}}catch(u){o.e(u)}finally{o.f()}return this.totalBall.current<this.totalBall.target&&(t=!1,console.log(this.totalBall)),t}}]),e}(),yt=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,o.Z)(this,n),(e=t.call(this)).container=void 0,e.data=[],e.gun=void 0,e.physicsBox=void 0,e.boomHolder=void 0,e.colorTool=void 0,e.targetChecker=void 0,e.misc=void 0,e.effect=void 0,e.level=void 0,e.reachStarSfx=[],e.addChild(e.boomHolder=new ht),e.addChild(e.container=new c.W20),e.addChild(e.physicsBox=new ft),e.addChild(e.effect=new Qe),e.addChild(e.misc=new dt),e.addChild(e.colorTool=new L);var r,i=new c.jyi(p.de.headline);return i.y=9,i.anchor.set(0,1),e.container.addChild(i),r=e.targetChecker=new gt,M.targetChecker=r,e}return(0,s.Z)(n,[{key:"addBubble",value:function(e,t,n){var r=Math.floor(e/t),i=e%t,a=new _(i,r),o=a.neighbors;n.push(a);var s=i>0?n[e-1]:null;if(r%2===1&&(e+=1,(i+=1)>=t))return a;var u=r>0&&(r%2===1||i+1<t)?n[e-t]:null,l=r>0&&i>0?n[e-t-1]:null;return u&&(u.neighbors[4]=a),l&&(l.neighbors[5]=a),s&&(s.neighbors[0]=a),o[1]=u,o[2]=l,o[3]=s,a}},{key:"addScore",value:function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.boomHolder.addScore(e);var t=this.targetChecker.addScore(e);f.Z.dispatch(d.T.actions.setCurrentGame({score:t}));var n=0;t>=this.level.star3Score?n=3:t>=this.level.star2Score?n=2:t>=this.level.star1Score&&(n=1),this.reachStarSfx[n]&&(m.t.play(g.Zw[n]),this.reachStarSfx[n]=!1)}},{key:"load",value:function(e){var t=this;this.level=e,this.targetChecker.init(e),this.reachStarSfx=[!1,!0,!0,!0];for(var n=this.container,r=p.d,i=e.map,a=this.data,o=i.length,s=0,l=0;s<o;s++){var c=i[s],h=c.color,v=c.type,m=a[s];m||(m=this.addBubble(s,r,a),n.addChild(m.sprite)),m.isMarked=!1,m.setColor(h,h>0),m.setType(v),h>0&&l++}o=a.length,console.log(l),this.targetChecker.totalBall.target=l;var g=p.T6*p.kN;if(g=Math.max(a[s-1].sprite.y-g,0),o<=s)this.addEmptyLine(1);else for(;s<o;s++)a[s].setColor(0);f.Z.dispatch(d.T.actions.setCurrentGame({level:e.id||0,score:0,star1Score:this.level.star1Score,star2Score:this.level.star2Score,star3Score:this.level.star3Score}));var y=.003*g;if(this.boomHolder.reloadAnim(y,1),this.gun)return this.boomHolder.reset(e.bomb),u.ZP.fromTo(n,{y:p.n2},{y:-g+p.n2}).delay(1).duration(y).then((function(){t.gun.reload(e.bullets),pt.r.emit(pt.B.SCROLL_FINISH)}));n.y=-g+p.n2}},{key:"reload",value:function(e){this.load(n.findLevelConfig(f.Z.getState().worldMap.chapters,e))}},{key:"addEmptyLine",value:function(e){for(var t=this.container,n=p.d,r=this.data,i=r.length,a=0,o=e*n;a<o;a++){var s=this.addBubble(i,n,r);s.setColor(0),t.addChild(s.sprite),i++}}},{key:"reset",value:function(){var e,t=(0,a.Z)(this.data);try{for(t.s();!(e=t.n()).done;){var n=e.value;null===n||void 0===n||n.turn(-1)}}catch(r){t.e(r)}finally{t.f()}}},{key:"update",value:function(e){var t,n,r;null===(t=this.physicsBox)||void 0===t||t.update(e),null===(n=this.colorTool)||void 0===n||n.update(e),null===(r=this.gun)||void 0===r||r.update(e),this.misc.y=this.container.y,this.effect.update(e),st.update(e)}},{key:"putBubble3",value:function(e){var t,n=this,r=0,i=0,o=[e],s=0,l=0,c=0,h=e,f=h.sprite,d=h.nextType,v=this.container,x=v.x,_=v.y,w=this.getNeighborbyLevel(e,3),E=(0,a.Z)(w);try{for(E.s();!(t=E.n()).done;){var T=t.value;if(T!==e&&!T.isEmpty&&T.type!==b.MELODY_BALL_TYPE_STONE){var S=T.sprite,A=S.x,M=S.y,P=new y(A-f.x,M-f.y),R=P.lengthSqr();P.normalize().multiply(1e5/R);var O=u.ZP.timeline();O.add(u.ZP.to(T.sprite,{x:A+P.x,y:M+P.y}).duration(.1)),O.add(u.ZP.to(T.sprite,{x:A,y:M}).duration(.2))}}}catch(G){E.e(G)}finally{E.f()}if(d===b.MELODY_BALL_TYPE_NORMAL&&!e.neighbors[1]&&!e.neighbors[2]&&this.getGroup(e).length<2)e.setType(b.MELODY_BALL_TYPE_NONE),u.ZP.to(f,{width:k,height:k,duration:.2}).then((function(){e.setColor(0),f.width=p.Mx,f.height=p.Mx,x+=f.x,_+=f.y,n.effect.spawnErase(x,_,n.gun.rayColor),n.gun.reset(),n.targetChecker.comboScore=p._u}));else{for(;l<o.length;){if(l===c){i+=r,c=o.length;for(var L=s;L<l;L++){var N=o[L];N.type=N.nextType}for(var B=l;B<c;B++){var D=o[B];D.type!==b.MELODY_BALL_TYPE_NONE&&D.type!==b.MELODY_BALL_TYPE_WHITE||D.type===D.nextType||D.nextType===b.MELODY_BALL_TYPE_NONE||(D.type=D.type===b.MELODY_BALL_TYPE_WHITE?b.MELODY_BALL_TYPE_NORMAL:D.nextType,i=C(D,i))}s=l}e=o[l++];var F,Z=(0,a.Z)(e.neighbors);try{for(Z.s();!(F=Z.n()).done;){var V=F.value;if(V){var j=I(e,V,i);j>0&&o.push(V),j>r&&(r=j)}}}catch(G){Z.e(G)}finally{Z.f()}}e=o[0]}var U=r>0?0:e.sprite.y;this.data[this.data.length-1].sprite.y<=U&&this.addEmptyLine(1),U+_>p.T6*p.kN+p.kN&&u.ZP.to(this.container,{y:_-p.kN}).duration(.5),this.reset();var Y=u.ZP.timeline();if(Y.add(u.ZP.to(f,{width:1.2*p.Mx,height:1.2*p.Mx,duration:.1})),Y.add(u.ZP.to(f,{width:p.Mx,height:p.Mx,duration:.2})),i>0){var X=Math.floor((this.targetChecker.comboScore-p._u)/(3*p.Yx));X=Math.min(X+1,3),m.t.play(g.gH["Combo"+X]),u.ZP.delayedCall(i,this.sweepMap.bind(this)),d===b.MELODY_BALL_TYPE_NORMAL&&(this.targetChecker.comboScore+=p.Yx),this.boomHolder.combo()}else e.type===b.MELODY_BALL_TYPE_NORMAL&&(m.t.play(g.gH.Bubble),Y.then((function(){n.gun.reset(),n.targetChecker.comboScore=p._u})))}},{key:"sweepMap",value:function(){for(var e=this,t=this.data,n=0,r=n+p.d,i=[];n<r;n++){var o=t[n];o.isEmpty||(i.push(o),o.isMarked=!0)}for(var s=0,c=t[0].sprite.y;s<i.length;){var h,f=i[s].neighbors,d=(0,a.Z)(f);try{for(d.s();!(h=d.n()).done;){var v=h.value;!v||v.isEmpty||v.isMarked||(i.push(v),v.isMarked=!0,v.sprite.y>c&&(c=v.sprite.y))}}catch(E){d.e(E)}finally{d.f()}s++}var y=[];for(n=0,r=t.length;n<r;n++){var b=t[n];b.isEmpty||b.isMarked||y.push(b),b.isMarked=!1}var x=Math.min(.1*y.length,.7),_=this.container,w=_.x,k=_.y;x>0&&(u.ZP.delayedCall(1,(function(){return m.t.play(g.gH.Cyclone)})),this.effect.shakeScreen(x).then((function(){var t,n=w-e.physicsBox.x,r=k-e.physicsBox.y,i=(0,a.Z)(y);try{for(i.s();!(t=i.n()).done;){var o=t.value;e.physicsBox.addBubble(o,n,r),o.isOrigin&&e.targetChecker.countBall(o.color,o.type),o.setColor(0)}}catch(E){i.e(E)}finally{i.f()}}))),u.ZP.delayedCall(x+.2,(function(){if(e.targetChecker.check()){m.t.play(g.gH.Win);var t=0,n=setInterval((function(){mt.x.request(mt.w.triggerEventVibration),7===++t&&clearInterval(n)}),100);e.endGame(Math.max(e.gun.scoreBullet(),Math.min(y.length,3),2))}else{var r=p.T6*p.kN;c+k<r&&(r=Math.max(c-r,0),(r=p.n2-r)>k&&u.ZP.to(e.container,{y:r,ease:l.Yv.easeOut,duration:Math.max(.002*(r-k),.3)})),e.gun.reset()}}))}},{key:"endGame",value:function(e){var t=this;e>0?(this.boomHolder.end(!0),this.effect.spawnFirework(),u.ZP.delayedCall(e,(function(){t.gun.turnOff();var e=f.Z.getState().mainGame.currentGame,n=e.level,r=e.score;f.Z.dispatch((0,vt.My)({data:{levelId:n,score:r,isComplete:!0},callback:function(){h.u.setWinPopupVisible(!0)}}))}))):(this.gun.turnOff(),this.boomHolder.end(!1),u.ZP.delayedCall(1,(function(){var e=f.Z.getState().mainGame.currentGame,t=e.level,n=e.score;f.Z.dispatch((0,vt.My)({data:{levelId:t,score:n,isComplete:!1},callback:function(){h.u.setLosePopupVisible(!0)}}))})))}},{key:"getGroup",value:function(e){var t=[e],n=e.color;e.isMarked=!0;for(var r=0;r<t.length;){var i,o=t[r++].neighbors,s=(0,a.Z)(o);try{for(s.s();!(i=s.n()).done;){var u=i.value;!u||u.isMarked||u.isEmpty||u.color!==n||(t.push(u),u.isMarked=!0)}}catch(h){s.e(h)}finally{s.f()}}for(var l=0,c=t;l<c.length;l++){c[l].isMarked=!1}return t}},{key:"getLineNeighbor",value:function(e,t){var n=[e];e.isMarked=!0;for(var r=e.neighbors[0],i=e.neighbors[3],a=1;a<t;a++)r&&(n.push(r),r.isMarked=!0,r=r.neighbors[0]),i&&(n.push(i),i.isMarked=!0,i=i.neighbors[3]);for(var o=0,s=n;o<s.length;o++){s[o].isMarked=!1}return n}},{key:"getNeighborbyLevel",value:function(e,t){var n=[e],r=0,i=n.length;e.isMarked=!0;for(var o=1;o<t;o++){for(;r<i;r++){var s,u=n[r].neighbors,l=(0,a.Z)(u);try{for(l.s();!(s=l.n()).done;){var c=s.value;c&&!c.isMarked&&(n.push(c),c.isMarked=!0)}}catch(d){l.e(d)}finally{l.f()}}i=n.length}for(var h=0,f=n;h<f.length;h++){f[h].isMarked=!1}return n}},{key:"onButtonOver",value:function(e,t){if(e.isEmpty||t===b.MELODY_BALL_TYPE_LINE)switch(t){case b.MELODY_BALL_TYPE_NORMAL:e.turn(0);break;case b.MELODY_BALL_TYPE_BOOM:var n,r=this.getNeighborbyLevel(e,3),i=(0,a.Z)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.turn(o.color)}}catch(p){i.e(p)}finally{i.f()}break;case b.MELODY_BALL_TYPE_LINE:var s,u=this.getLineNeighbor(e,3),l=(0,a.Z)(u);try{for(l.s();!(s=l.n()).done;){var c=s.value;c.turn(c.color)}}catch(p){l.e(p)}finally{l.f()}}else{var h,f=this.getGroup(e),d=(0,a.Z)(f);try{for(d.s();!(h=d.n()).done;){h.value.turn(e.color)}}catch(p){d.e(p)}finally{d.f()}}}}],[{key:"findLevelConfig",value:function(e,t){var n,r=(0,a.Z)(e);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,s=(0,a.Z)(o.levels);try{for(s.s();!(i=s.n()).done;){var u=i.value;if(u.id===t)return u}}catch(l){s.e(l)}finally{s.f()}}}catch(l){r.e(l)}finally{r.f()}return p.xY||null}}]),n}(c.W20)},1046:function(e,t,n){"use strict";n.d(t,{u:function(){return j}});var r=n(5671),i=n(3144),a=n(7650),o=n(4116),s=n(3433),u=n(7326),l=n(136),c=n(9388),h=n(2070),f=n(2995),d=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this))._mapPosition=new h.AB0((function(){}),(0,u.Z)(i),0,0),i._onPositionChange=void 0,i.camera=void 0,i._objectHeight=0,i.camera=e,i}return(0,i.Z)(n,[{key:"mapPosition",get:function(){return this._mapPosition},set:function(e){var t;this._mapPosition.set(e.x,e.y),null===(t=this._onPositionChange)||void 0===t||t.call(this)}},{key:"objectHeight",get:function(){return this._objectHeight},set:function(e){this._objectHeight=e}},{key:"onPositionChange",set:function(e){this._onPositionChange=e}},{key:"updateDrawPosition",value:function(){if(this.camera&&!this.isInactive()){var e=this.camera.calculateDrawPosition(this.mapPosition);this.position.set(e.x,e.y)}}},{key:"addDebugLine",value:function(){}},{key:"addDebugRect",value:function(e){}}]),n}(h.W20),p=function(e){return e[e.Null=0]="Null",e[e.Active=1]="Active",e[e.Inactive=2]="Inactive",e}(p||{}),v=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,r.Z)(this,n),(e=t.call(this,null)).isDragging=!1,e.touchDownY=0,e.touchY=0,e.touchDownTime=0,e.touchIdentifier=-1,e.rootY=0,e.nextPos=null,e.state=p.Null,e.yMin=0,e.yMax=0,e.targetY=0,e.prevChapterOffset=0,e.nextChapterOffset=0;var i=f.d.getScreenSize(),a=i.screenWidth,o=i.screenHeight;return e.position.set(.5*a,.5*o),e.interactive=!0,e.on("pointerdown",e.onPointerDown.bind((0,u.Z)(e))),e.on("pointermove",e.onPointerMove.bind((0,u.Z)(e))),e.on("pointerup",e.onPointerUp.bind((0,u.Z)(e))),e.on("pointercancel",e.onPointerUp.bind((0,u.Z)(e))),e.on("pointerupoutside",e.onPointerUp.bind((0,u.Z)(e))),e}return(0,i.Z)(n,[{key:"setState",value:function(e){switch(this.state=e,this.state){case p.Active:this.isDragging=!1;case p.Inactive:}}},{key:"update",value:function(e){if(this.state===p.Active)this.updatePosition(e)}},{key:"mapPosition",get:function(){return this._mapPosition},set:function(e){var t;this._mapPosition.set(e.x,e.y),null===(t=this._onPositionChange)||void 0===t||t.call(this)}},{key:"isInactive",value:function(){return this.state===p.Active}},{key:"active",value:function(){this.setState(p.Active)}},{key:"inactive",value:function(){this.setState(p.Inactive)}},{key:"calculateDrawPosition",value:function(e){return{x:e.x-this.mapPosition.x+this.position.x,y:-(e.y-this.mapPosition.y)+this.position.y}}},{key:"setYMinMax",value:function(e,t){this.yMin=e,this.yMax=t,this.setTargetY(this.targetY)}},{key:"setTargetY",value:function(e){this.targetY=f.d.clamp(e,this.yMin,this.yMax)}},{key:"setHitAreaSize",value:function(e,t){this.hitArea||(this.hitArea=new h.AeJ(-.5*e,-.5*t,e,t)),this.hitArea.width=e,this.hitArea.height=t}},{key:"setChapterOffset",value:function(e,t){this.prevChapterOffset=e,this.nextChapterOffset=t}},{key:"onPointerDown",value:function(e){this.isDragging||(this.isDragging=!0,this.nextPos=null,this.touchDownY=this.touchY=e.clientY,this.touchDownTime=Date.now(),this.rootY=this.mapPosition.y)}},{key:"onPointerMove",value:function(e){if(this.isDragging){this.touchY=e.clientY;var t=(e.clientY-this.touchDownY)*(a.o.width/window.innerWidth);this.nextPos={x:this.mapPosition.x,y:f.d.clamp(this.rootY+t,this.yMin+this.prevChapterOffset,this.yMax+this.nextChapterOffset)}}}},{key:"onPointerUp",value:function(e){if(this.isDragging){this.isDragging=!1,this.nextPos=null;var t=(this.touchY-this.touchDownY)*(a.o.width/window.innerWidth)/((Date.now()-this.touchDownTime)/1e3);t=Math.sign(t)*Math.max(Math.abs(t)-1e3,0),this.setTargetY(this.mapPosition.y+.3*t)}}},{key:"updatePosition",value:function(e){if(this.isDragging){if(!this.nextPos)return;this.mapPosition=this.nextPos,this.nextPos=null}else{if(this.mapPosition.y==this.targetY)return;var t=f.d.moveToTarget(this.mapPosition.y,this.targetY,Math.max(5*Math.abs(this.targetY-this.mapPosition.y),10),e);this.mapPosition={x:this.mapPosition.x,y:t}}}},{key:"getTouchByIdentifier",value:function(e,t){var n,r,i=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.originalEvent)||void 0===r?void 0:r.changedTouches;if(!i)return null;for(var a=0;a<i.length;a++){var o=i[a];if(o.identifier==t)return o}return null}}]),n}(d),m=new(function(){function e(){(0,r.Z)(this,e),this.textures=new Map}return(0,i.Z)(e,[{key:"from",value:function(e){return this.textures.has(e)||this.textures.set(e,h.xEZ.from(e)),this.textures.get(e)}}]),e}()),g=function(e){return e[e.Null=0]="Null",e[e.Active=1]="Active",e[e.Inactive=2]="Inactive",e}(g||{}),y=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).geometry=void 0,i.material=void 0,i.mesh=void 0,i.sprite=void 0,i.state=g.Null,i.sprite=new h.jyi,i.sprite.anchor.set(.5,1),i.addChild(i.sprite),i.setState(g.Inactive),i}return(0,i.Z)(n,[{key:"setState",value:function(e){switch(this.state=e,this.state){case g.Active:this.visible=!0;break;case g.Inactive:this.visible=!1}}},{key:"active",value:function(){this.setState(g.Active)}},{key:"inactive",value:function(){this.setState(g.Inactive)}},{key:"isInactive",value:function(){return this.state===g.Inactive}},{key:"setImg",value:function(e){this.sprite.texture=m.from(e)}},{key:"addMesh",value:function(){this.geometry=new h.ZXM,this.geometry.addAttribute("aVertexPosition",[-.5,-.5,.5,-.5,.5,.5,-.5,.5],2),this.geometry.addAttribute("aUvs",[0,0,1,0,1,1,0,1],2),this.geometry.addIndex([0,1,2,0,2,3]),this.material=new h.rY4(h.xEZ.WHITE),this.mesh=new h.Kj0(this.geometry,this.material),this.mesh.scale.set(10,10),this.mesh.tint=16711680,this.addChild(this.mesh)}}]),n}(d),b=function(e){return e[e.Null=0]="Null",e[e.Active=1]="Active",e[e.Inactive=2]="Inactive",e}(b||{}),x=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).state=b.Null,i.sprite=void 0,i.sprite=new h.jyi,i.sprite.anchor.set(.5,.5),i.addChild(i.sprite),i.addDebugLine(),i.setState(b.Inactive),i}return(0,i.Z)(n,[{key:"setState",value:function(e){switch(this.state=e,this.state){case b.Active:this.visible=!0;break;case b.Inactive:this.visible=!1}}},{key:"active",value:function(){this.setState(b.Active)}},{key:"inactive",value:function(){this.setState(b.Inactive)}},{key:"isInactive",value:function(){return this.state===b.Inactive}},{key:"setImg",value:function(e){this.sprite.texture=m.from(e)}},{key:"setImgAnchor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;this.sprite.anchor.set(e,t)}}]),n}(d),_=n(2243),w=n(3231),k=n(9945),E=n(8197),T=n(7204),S=n(1772),A=function(e){return e[e.Null=0]="Null",e[e.Active=1]="Active",e[e.Inactive=2]="Inactive",e}(A||{}),M=new h.pn8({align:"center",fontFamily:"iCielUniSans",fill:["#fffbee"],stroke:"#e366b6",strokeThickness:6,fontSize:36,fontWeight:"900",lineJoin:"round"}),P=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).state=A.Null,i.sprite=void 0,i.effect=void 0,i.numberText=void 0,i.chapterId=0,i.levelId=0,i.isNewLevel=!1,i.levelInfo=null,i.userCurrentLevel=-1,i.isTouchAble=!1,i.isPointerDown=!1,i.pointerDownPos={x:0,y:0},i.pointerDownTime=0,i.effect=h.jyi.from(E.dN.general.levelEffect),i.effect.anchor.set(.5,.5),i.effect.position.set(0,-27),_.ZP.timeline({repeat:-1}).to(i.effect,{alpha:.3,duration:.7}).to(i.effect,{alpha:1,duration:.7}),i.sprite=new h.jyi,i.sprite.anchor.set(.5,1),i.numberText=new h.xvT("",M),i.numberText.anchor.set(.5,.5),i.numberText.position.set(0,-70),i.interactive=!0,i.hitArea=new h.AeJ(-60,-110,120,120),i.on("pointerdown",i.onPointerDown,(0,u.Z)(i)),i.on("pointerup",i.onPointerUp,(0,u.Z)(i)),i.on("pointercancel",i.onPointerCancle,(0,u.Z)(i)),i.on("pointerupoutside",i.onPointerCancle,(0,u.Z)(i)),i.addChild(i.effect),i.addChild(i.sprite),i.addChild(i.numberText),i.addDebugLine(),i.addDebugRect(i.hitArea),i.setState(A.Inactive),i}return(0,i.Z)(n,[{key:"setState",value:function(e){switch(this.state=e,this.state){case A.Active:this.visible=!0,this.isPointerDown=!1;break;case A.Inactive:this.visible=!1}}},{key:"active",value:function(){this.setState(A.Active)}},{key:"inactive",value:function(){this.setState(A.Inactive)}},{key:"isInactive",value:function(){return this.state===A.Inactive}},{key:"setLevelInfo",value:function(e,t){this.chapterId=e,this.levelId=t,this.numberText.text="".concat(this.levelId),this.updateVisible()}},{key:"setUserCurrentLevel",value:function(e){this.effect.visible=this.levelId==e,this.userCurrentLevel!=e&&(this.userCurrentLevel=e,this.updateVisible())}},{key:"updateVisible",value:function(){var e,t,n,r,i,a,o=this,s=null===(e=w.Z.getState().user)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.chapters;if(this.levelInfo=null===s||void 0===s||null===(n=s.find)||void 0===n||null===(r=n.call(s,(function(e){return e.id==o.chapterId})))||void 0===r||null===(i=r.levels)||void 0===i||null===(a=i.find)||void 0===a?void 0:a.call(i,(function(e){return e.id==o.levelId})),this.levelId<=this.userCurrentLevel){var u,l=[E.dN.worldMap.level0Star,E.dN.worldMap.level1Star,E.dN.worldMap.level2Star,E.dN.worldMap.level3Star];this.sprite.texture=m.from(l[(null===(u=this.levelInfo)||void 0===u?void 0:u.stars)||0]),this.isTouchAble=!0;var c=w.Z.getState().worldMap.currentChapter,h=w.Z.getState().worldMap.chapters.find((function(e){return e.id===c}));this.isNewLevel=this.levelId==this.userCurrentLevel&&this.levelId<h.levels.at(-1).id}else this.sprite.texture=m.from(E.dN.worldMap.levelDisable),this.isTouchAble=!1}},{key:"onClick",value:function(){this.isTouchAble&&(w.Z.dispatch(k.fp.actions.setCurrentChapter(this.chapterId)),w.Z.dispatch(k.fp.actions.setCurrentLevel(this.levelId)),this.isNewLevel?w.Z.dispatch(k.fp.actions.setShowPlayNewLevelPopup(!0)):w.Z.dispatch(k.fp.actions.setShowPlayLevelAgainPopup(!0)),T.t.play(E.gH.GoForward),S.Z.clickLevelOnMap(this.levelId))}},{key:"onPointerDown",value:function(e){var t;null===(t=this.camera)||void 0===t||t.onPointerDown(e),this.isPointerDown=!0,this.pointerDownPos.x=e.data.global.x,this.pointerDownPos.y=e.data.global.y,this.pointerDownTime=Date.now()}},{key:"onPointerUp",value:function(e){var t;if(null===(t=this.camera)||void 0===t||t.onPointerUp(e),this.isPointerDown){this.isPointerDown=!1;var n=e.data.global.x-this.pointerDownPos.x,r=e.data.global.y-this.pointerDownPos.y,i=Date.now()-this.pointerDownTime;n<=40&&r<=40&&i<=200&&this.onClick()}}},{key:"onPointerCancle",value:function(e){var t;null===(t=this.camera)||void 0===t||t.onPointerUp(e),this.isPointerDown=!1}}]),n}(d),C=function(e){return e[e.Null=0]="Null",e[e.Start=1]="Start",e[e.Active=2]="Active",e[e.Inactive=3]="Inactive",e}(C||{}),I=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;(0,r.Z)(this,n),(i=t.call(this)).imagesDefine=null,i.chapters=[],i.chapter=null,i.mergeBackgrounds=void 0,i.mergeDecors=void 0,i.mergeCheckpoints=void 0,i.gameRender=void 0,i.state=C.Null,i.camera=new v,i.grounds=[],i.decoObjects=[],i.levelPlatforms=[],i.isSortObjects=!1,i.isUpdateAvatarPos=!1,i.groundLayer=new h.W20,i.objectLayer=new h.W20,i.banner=void 0,i.gameRender=e,i.camera.onPositionChange=i.onCameraPositionChange.bind((0,u.Z)(i)),i.addChild(i.camera),i.addChild(i.groundLayer),i.addChild(i.objectLayer),i.setState(C.Inactive),i.banner=h.jyi.from(E.dN.worldMap.endBanner),i.banner.width=668,i.banner.height=112,i.banner.anchor.set(.5,.5);var a=f.d.getScreenSize().offsetY;i.banner.position.set(375,320-a),i.addChild(i.banner);var o=new h.pn8({fontFamily:"iCielUniSans",fontSize:23,fontWeight:"900",fill:"#ffffff",lineHeight:32}),s=new h.xvT("Qu\xe1 xu\u1ea5t s\u1eafc! B\u1ea1n \u0111\xe3 \u0111\u1ebfn \u0111i\u1ec3m cu\u1ed1i c\u1ee7a h\xe0nh tr\xecnh\nC\xf9ng ch\u1edd \u0111\xf3n band nh\u1ea1c v\u1edbi nhi\u1ec1u th\u1eed th\xe1ch h\u01a1n nha!",o);return s.anchor.set(.5,.5),s.x=50,s.y=8,i.banner.addChild(s),i}return(0,i.Z)(n,[{key:"setState",value:function(e){switch(this.state=e,this.state){case C.Start:this.banner.alpha=20===w.Z.getState().user.profile.currentLevel?1:0,this.visible=!0;break;case C.Active:break;case C.Inactive:this.visible=!1,this.inactiveAllObjects()}}},{key:"update",value:function(e){switch(this.state){case C.Start:this.setState(C.Active);break;case C.Active:this.camera.update(e),this.updateAvatarPos(),this.sortObjects();case C.Inactive:}}},{key:"start",value:function(){this.setState(C.Start)}},{key:"end",value:function(){this.setState(C.Inactive)}},{key:"setChapters",value:function(e,t,n){this.imagesDefine=e,this.chapters=t.map((function(e){return JSON.parse(JSON.stringify(e))}));var r=this.chapters.find((function(e){return e.id==n})),i=this.chapters.find((function(e){return e.id==n-1})),a=this.chapters.find((function(e){return e.id==n+1}));r&&this.setChapter(r,i,a)}},{key:"cameraTargetToLevelId",value:function(e){var t,n=(null===(t=this.mergeCheckpoints.find((function(t){return t.id==e})))||void 0===t?void 0:t.y)||0;return this.camera.setTargetY(n),n}},{key:"getAvatarPosAtLevelId",value:function(e){var t,n=f.d.getScreenSize(),r=n.screenWidth,i=n.screenHeight,a=n.offsetX,o=n.offsetY,s=null===(t=this.mergeCheckpoints)||void 0===t?void 0:t.find((function(t){return t.id==e}));if(!s)return{x:0,y:0};var u=this.camera.calculateDrawPosition(s);return{x:(u.x+a)/(r+2*a)*100,y:(u.y+o)/(i+2*o)*100}}},{key:"test",value:function(){var e=new y(this.camera);this.addChild(e),e.position.set(200,200)}},{key:"onCameraPositionChange",value:function(){var e,t,n,r=this,i=this.chapter.id,a=f.d.getScreenSize(),o=a.screenHeight,s=a.offsetY,u=this.camera.mapPosition.y-.7*(o+2*s),l=this.camera.mapPosition.y+.7*(o+2*s);this.grounds.forEach((function(e){e.isInactive()||(e.mapPosition.y+e.objectHeight<u||l<e.mapPosition.y)&&e.inactive()})),null===(e=this.mergeBackgrounds)||void 0===e||e.forEach((function(e){var t;if(!(l<e.y)){var n=null===(t=r.imagesDefine)||void 0===t?void 0:t[e.imageId],i=(null===n||void 0===n?void 0:n.height)||0;if(!(e.y+i<u)){var a=r.grounds.find((function(t){return t.mapPosition.y==e.y}));a||(a=r.getObject(r.grounds,y,r.groundLayer)),a.isInactive()&&(a.active(),a.setImg(n.url),a.objectHeight=i,a.mapPosition={x:0,y:e.y})}}})),this.decoObjects.forEach((function(e){e.isInactive()||(e.mapPosition.y+e.objectHeight<u||l<e.mapPosition.y-e.objectHeight)&&e.inactive()})),null===(t=this.mergeDecors)||void 0===t||t.forEach((function(e){var t,n=null===(t=r.imagesDefine)||void 0===t?void 0:t[e.imageId],i=(null===n||void 0===n?void 0:n.height)||0;if(!(e.y+i<u||l<e.y-i)){var a=r.decoObjects.find((function(t){return t.mapPosition.x===e.x&&t.mapPosition.y===e.y}));a||(a=r.getObject(r.decoObjects,x,r.objectLayer,null===n||void 0===n?void 0:n.url)),a.isInactive()&&(a.active(),a.setImg(null===n||void 0===n?void 0:n.url),a.setImgAnchor(null===n||void 0===n?void 0:n.anchorX,null===n||void 0===n?void 0:n.anchorY),a.objectHeight=i,a.mapPosition={x:e.x,y:e.y})}}));var c=w.Z.getState().user.profile.currentLevel;this.levelPlatforms.forEach((function(e){e.isInactive()||(e.mapPosition.y+e.objectHeight<u||l<e.mapPosition.y-e.objectHeight)&&e.inactive()})),null===(n=this.mergeCheckpoints)||void 0===n||n.forEach((function(e){var t,n=null===(t=r.imagesDefine)||void 0===t?void 0:t[e.imageId],a=(null===n||void 0===n?void 0:n.height)||0;if(!(e.y+a<u||l<e.y-a)){var o=r.levelPlatforms.find((function(t){return t.mapPosition.x===e.x&&t.mapPosition.y===e.y}));o||(o=r.getObject(r.levelPlatforms,P,r.objectLayer)),o.isInactive()&&(o.active(),o.setLevelInfo(i,e.id),o.mapPosition={x:e.x,y:e.y}),o.setUserCurrentLevel(c)}})),this.groundLayer.children.forEach((function(e){return e.updateDrawPosition()})),this.objectLayer.children.forEach((function(e){return e.updateDrawPosition()})),this.onObjectPostionChange(),this.isUpdateAvatarPos=!0,this.camera.mapPosition.y>3900-s&&!this.banner.visible?(this.banner.visible=!0,_.ZP.timeline().set(this.banner,{alpha:0}).to(this.banner,{alpha:1,duration:1})):this.camera.mapPosition.y<=3900-s&&this.banner.visible&&(this.banner.visible=!1)}},{key:"onObjectPostionChange",value:function(){this.isSortObjects=!0}},{key:"getObject",value:function(e,t,n,r){var i=e.find((function(e){var t,n,i=null===(t=(n=e).getImg)||void 0===t?void 0:t.call(n);return r?e.isInactive()&&(!i||i==r):e.isInactive()}));return i||((i=new t(this.camera)).onPositionChange=this.onObjectPostionChange.bind(this),e.push(i),n.addChild(i)),i}},{key:"sortObjects",value:function(){this.isSortObjects&&(this.isSortObjects=!1,this.objectLayer.children.sort((function(e,t){return e.position.y-t.position.y})),this.groundLayer.children.sort((function(e,t){return t.position.y-e.position.y})))}},{key:"inactiveAllObjects",value:function(){this.groundLayer.children.forEach((function(e){return e.inactive()})),this.objectLayer.children.forEach((function(e){return e.inactive()}))}},{key:"setChapter",value:function(e,t,n){var r,i,o;this.chapter=e,this.mergeBackgrounds=[].concat((0,s.Z)((null===t||void 0===t?void 0:t.backgrounds)||[]),(0,s.Z)((null===e||void 0===e?void 0:e.backgrounds)||[]),(0,s.Z)((null===n||void 0===n?void 0:n.backgrounds)||[])),this.mergeDecors=[].concat((0,s.Z)((null===t||void 0===t?void 0:t.decors)||[]),(0,s.Z)((null===e||void 0===e?void 0:e.decors)||[]),(0,s.Z)((null===n||void 0===n?void 0:n.decors)||[])),this.mergeCheckpoints=[].concat((0,s.Z)((null===t||void 0===t?void 0:t.checkpoints)||[]),(0,s.Z)((null===e||void 0===e?void 0:e.checkpoints)||[]),(0,s.Z)((null===n||void 0===n?void 0:n.checkpoints)||[]));var u=this.chapter,l=u.backgrounds,c=u.offsetTop,h=u.offsetBottom;this.inactiveAllObjects();var f=l[0],d=l[l.length-1],p=(null===(r=this.imagesDefine)||void 0===r||null===(i=r[d.imageId])||void 0===i?void 0:i.height)||0,v=a.o.width,m=a.o.width/window.innerWidth*window.innerHeight;this.camera.setHitAreaSize(v,m);var g=f.y+h+.5*m,y=d.y+p+c-.5*m;this.camera.setYMinMax(g,y),this.camera.setChapterOffset(0,0),this.camera.active(),null===(o=this.cameraTargetToLevelIdOneTime)||void 0===o||o.call(this,w.Z.getState().user.profile.currentLevel),this.onCameraPositionChange()}},{key:"cameraTargetToLevelIdOneTime",value:function(e){var t=this.cameraTargetToLevelId(e),n=f.d.getScreenSize(),r=n.screenHeight,i=n.offsetY;this.camera.mapPosition={x:0,y:Math.max(.5*r+i,t)},this.cameraTargetToLevelIdOneTime=null}},{key:"updateAvatarPos",value:function(){if(this.isUpdateAvatarPos){this.isUpdateAvatarPos=!1;var e=w.Z.getState().worldMap.userAvatarInfo.levelId,t=this.getAvatarPosAtLevelId(e),n=t.x,r=t.y;w.Z.dispatch(k.fp.actions.updateUserAvatarInfo({x:n,y:r}))}}}]),n}(h.W20),R=n(4165),O=n(5861),L=n(800),N=n(5869),B=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).background=void 0,e.spBoard=null,e.spBottom=null,e.spStar=null,e.spLightLeft=null,e.spLightRight=null,e.visible=!1,e.background=n.createBackgroundTransparent(),e.addChild(e.background),setTimeout((function(){e.initObject()}),3e3),e}return(0,i.Z)(n,[{key:"show",value:function(){var e=(0,O.Z)((0,R.Z)().mark((function e(t){var n,r,i,a,o,s,u,l,c=this;return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.visible=t,!t){e.next=14;break}return e.next=4,this.initObject();case 4:n=["anim_khangia_lv1","anim_khangia_lv1","anim_khangia_lv2","anim_khangia_lv3"],r=["anim_win_lv1","anim_win_lv1","anim_win_lv2","anim_win_lv3"],i=w.Z.getState().mainGame.currentGame,a=i.score,i.level,o=i.star1Score,s=i.star2Score,u=i.star3Score,l=a>=u?3:a>=s?2:a>=o?1:0,this.spBoard&&setTimeout((function(){c.spBoard.state.setAnimation(0,"anim_popup_appear",!1),c.spBoard.state.addAnimation(0,"anim_popup_idle_loop",!0,0)}),0),this.spBottom&&setTimeout((function(){c.spBottom.state.setAnimation(0,n[l],!0)}),0),this.spStar&&(this.spStar.alpha=0,setTimeout((function(){switch(c.spStar.alpha=l>0?1:0,c.spStar.state.setAnimation(0,r[l],!1),l){case 1:setTimeout((function(){T.t.play(E.Zw[1])}),500);break;case 2:setTimeout((function(){T.t.play(E.Zw[1])}),500),setTimeout((function(){T.t.play(E.Zw[2])}),1e3);break;case 3:setTimeout((function(){T.t.play(E.Zw[1])}),500),setTimeout((function(){T.t.play(E.Zw[2])}),1e3),setTimeout((function(){T.t.play(E.Zw[3])}),2e3)}}),500)),this.spLightLeft&&this.spLightLeft.state.setAnimation(0,"anim_stage_light",!0),this.spLightRight&&this.spLightRight.state.setAnimation(0,"anim_stage_light",!0),setTimeout((function(){w.Z.dispatch(N.T.actions.setWinPopupVisible(!0))}),1e3);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initObject",value:function(){var e=(0,O.Z)((0,R.Z)().mark((function e(){var t,n,r,i,a,o;return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.d.loadSpine(E.dN.spine.popupWin);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:n=f.d.getScreenSize(),r=n.screenWidth,i=n.screenHeight,a=n.offsetX,o=n.offsetY,this.spBottom||(this.spBottom=new L.PY(t),this.spBottom.position.set(.5*r,1*i+o),this.addChild(this.spBottom)),this.spBoard||(this.spBoard=new L.PY(t),this.spBoard.position.set(.5*r,.4*i),this.addChild(this.spBoard)),this.spStar||(this.spStar=new L.PY(t),this.spStar.position.set(.5*r,.4*i),this.addChild(this.spStar)),this.spLightLeft||(this.spLightLeft=new L.PY(t),this.spLightLeft.position.set(0*r-a,.1*i),this.spLightLeft.scale.set(2,2),this.addChild(this.spLightLeft)),this.spLightRight||(this.spLightRight=new L.PY(t),this.spLightRight.position.set(1*r+a,.1*i),this.spLightRight.scale.set(-2,2),this.addChild(this.spLightRight));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"createBackgroundTransparent",value:function(){var e=f.d.getScreenSize(),t=e.screenWidth,n=e.screenHeight,r=t+2*e.offsetX,i=n+2*e.offsetY,a=h.jyi.from(h.xEZ.WHITE);return a.tint=0,a.position.set(.5*t,.5*n),a.anchor.set(.5,.5),a.width=r,a.height=i,a.alpha=.5,a.interactive=!0,a.hitArea=new h.AeJ(-.5*r,-.5*i,r,i),a}}]),n}(h.W20),D=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).background=void 0,e.spBoard=null,e.spBottom=null,e.visible=!1,e.background=B.createBackgroundTransparent(),e.addChild(e.background),e}return(0,i.Z)(n,[{key:"show",value:function(){var e=(0,O.Z)((0,R.Z)().mark((function e(t){var n=this;return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.visible=t,!t){e.next=7;break}return e.next=4,this.initObject();case 4:this.spBoard&&(this.spBoard.alpha=0,setTimeout((function(){n.spBoard.alpha=1,n.spBoard.state.setAnimation(0,"anim_popup_appear_lose",!1),n.spBoard.state.addAnimation(0,"anim_popup_idle_loop_lose",!0,0)}),100)),this.spBottom&&(this.spBottom.alpha=0,setTimeout((function(){n.spBottom.alpha=1,n.spBottom.state.setAnimation(0,"anim_khangia_lv1",!0)}),100)),setTimeout((function(){w.Z.dispatch(N.T.actions.setLosePopupVisible(!0))}),1e3);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initObject",value:function(){var e=(0,O.Z)((0,R.Z)().mark((function e(){var t,n,r,i,a;return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.d.loadSpine(E.dN.spine.popupWin);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:n=f.d.getScreenSize(),r=n.screenWidth,i=n.screenHeight,n.offsetX,a=n.offsetY,this.spBottom||(this.spBottom=new L.PY(t),this.spBottom.position.set(.5*r,1*i+a),this.addChild(this.spBottom)),this.spBoard||(this.spBoard=new L.PY(t),this.spBoard.position.set(.5*r,.5*i-190),this.addChild(this.spBoard));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(h.W20),F=n(5422),Z=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).background=void 0,e.spMain=null,e.visible=!1,e.alpha=0,e.background=B.createBackgroundTransparent(),e.background.alpha=.95,e.addChild(e.background),setTimeout((function(){e.initObjects()}),3e3),e}return(0,i.Z)(n,[{key:"show",value:function(){var e=(0,O.Z)((0,R.Z)().mark((function e(t,n){var r=this;return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.Z.dispatch(N.T.actions.setUIVisible(!t)),!t){e.next=28;break}return this.visible=t,e.next=5,this.initObjects();case 5:_.p8.killTweensOf(this),_.p8.to(this,{alpha:1,duration:.3}),e.t0=n,e.next=12===e.t0?10:31===e.t0?12:51===e.t0?14:101===e.t0?16:102===e.t0?18:131===e.t0?20:161===e.t0?22:181===e.t0?24:26;break;case 10:return setTimeout((function(){var e;null===(e=r.spMain)||void 0===e||e.state.setAnimation(0,"popup_page1",!0)}),0),e.abrupt("break",26);case 12:return setTimeout((function(){var e;null===(e=r.spMain)||void 0===e||e.state.setAnimation(0,"popup_page2",!0)}),0),e.abrupt("break",26);case 14:return setTimeout((function(){var e;null===(e=r.spMain)||void 0===e||e.state.setAnimation(0,"popup_page3",!0)}),0),e.abrupt("break",26);case 16:return setTimeout((function(){var e;null===(e=r.spMain)||void 0===e||e.state.setAnimation(0,"popup_page4_a",!0)}),0),e.abrupt("break",26);case 18:return setTimeout((function(){var e;null===(e=r.spMain)||void 0===e||e.state.setAnimation(0,"popup_page4_b",!0)}),0),e.abrupt("break",26);case 20:return setTimeout((function(){var e;null===(e=r.spMain)||void 0===e||e.state.setAnimation(0,"popup_page6",!0)}),0),e.abrupt("break",26);case 22:return setTimeout((function(){var e;null===(e=r.spMain)||void 0===e||e.state.setAnimation(0,"popup_page7",!0)}),0),e.abrupt("break",26);case 24:return setTimeout((function(){var e;null===(e=r.spMain)||void 0===e||e.state.setAnimation(0,"popup_page5",!0)}),0),e.abrupt("break",26);case 26:e.next=30;break;case 28:_.p8.to(this,{alpha:0,duration:.3,onComplete:function(){console.log("on fade out"),r.visible=!1}}),setTimeout((function(){F.r.emit(F.B.SCROLL_FINISH)}),100);case 30:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initObjects",value:function(){var e=(0,O.Z)((0,R.Z)().mark((function e(){var t,n,r,i;return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.d.loadSpine(E.dN.spine.onboarding);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:n=f.d.getScreenSize(),r=n.screenWidth,i=n.screenHeight,n.offsetX,n.offsetY,this.spMain||(this.spMain=new L.PY(t),this.spMain.position.set(.5*r,.4*i),this.addChild(this.spMain));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(h.W20),V=function(){function e(){(0,r.Z)(this,e),this.render=void 0,this.map=void 0,this.worldMap=void 0,this.winPopup=new B,this.losePopup=new D,this.onboarding=new Z,this._isPlaying=!0,this.render=new a.q({fitWidth:!0,trasparent:0,alignCenter:!0,maxFPS:45,minFPS:30}),this.init(),console.log("[PixiJs] constructor"),this.render.onUpdate=this.onUpdate.bind(this)}return(0,i.Z)(e,[{key:"view",get:function(){return this.render.view}},{key:"canvas",get:function(){return this.render.canvas}},{key:"scale",get:function(){return this.render.app.stage.scale}},{key:"stage",get:function(){return this.render.stage}},{key:"initDom",value:function(e){this.render.init(e)}},{key:"init",value:function(){this.worldMap=new I(this.render),this.render.stage.addChild(this.worldMap),this.map=new o.Z(window.location.href.includes(E.dI.ColorTool)),this.render.stage.addChild(this.map),this.render.stage.addChild(this.winPopup),this.render.stage.addChild(this.losePopup),this.render.stage.addChild(this.onboarding)}},{key:"onUpdate",value:function(e){var t,n;null===(t=this.worldMap)||void 0===t||t.update(e),null===(n=this.map)||void 0===n||n.update(e)}},{key:"pause",value:function(){this.isPlaying=!1,this.render.pause()}},{key:"resume",value:function(){this.isPlaying=!0,this.render.resume()}},{key:"getObjectAbsolutePos",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},n=e.x,r=e.y,i=e.parent;i;)n*=i.scale.x,n+=i.x,r*=i.scale.y,r+=i.y,i=i.parent;return{x:(n+t.x)/window.innerWidth*100,y:(r+t.y)/window.innerHeight*100}}},{key:"isPlaying",get:function(){return this._isPlaying},set:function(e){this._isPlaying=e}},{key:"startWorldMap",value:function(){this.worldMap.start(),this.map&&(this.map.visible=!1)}},{key:"endWorldMap",value:function(){this.worldMap.end(),this.map&&(this.map.visible=!0),this.render.app.render()}},{key:"setChapters",value:function(e,t,n){this.worldMap.setChapters(e,t,n)}},{key:"setWinPopupVisible",value:function(e){this.losePopup.visible||(w.Z.dispatch(N.T.actions.setUIVisible(!e)),this.winPopup.show(e))}},{key:"setLosePopupVisible",value:function(e){this.winPopup.visible||(w.Z.dispatch(N.T.actions.setUIVisible(!e)),this.losePopup.show(e))}}]),e}(),j=new V},3303:function(e,t,n){"use strict";n.d(t,{w:function(){return s},x:function(){return l}});var r=n(5671),i=n(3144),a=n(9100),o=JSON.parse('{"appId":"vn.momo.web.lacxi2023","name":"vn.momo.web.lacxi2023","displayName":"Lac Xi 2023","client":{"web":{"hostId":"vn.momo.web.lacxi2023","accessToken":"U2FsdGVkX18iEMlcqEofiozf9BAjmHPGI1y3HchViCh1ynrLe9hRxMkuzBs6m7IFJdRKJmEnHG0fxS+gxh6CqmAe6BbouK1YG+4Jx9dSQsk="}},"configuration_version":1}');a.Z.init(o);var s=function(e){return e.getProfile="getProfile",e.getDeviceInfo="getDeviceInfo",e.shareFacebook="shareFacebook",e.showToast="showToast",e.sendCloudMessage="sendCloudMessage",e.getCloudMessage="getCloudMessage",e.startTraceScreenLoad="startTraceScreenLoad",e.startTraceScreenInteraction="startTraceScreenInteraction",e.stopTrace="stopTrace",e.openWeb="openWeb",e.startFeatureCode="startFeatureCode",e.goBack="goBack",e.triggerEventVibration="triggerEventVibration",e.useNetInfo="useNetInfo",e.getPathFiles="getPathFiles",e.setItem="setItem",e.getItem="getItem",e.dismiss="dismiss",e}(s||{}),u=function(){function e(){(0,r.Z)(this,e),this.observer=new Map,console.log("[MaxApiutils] isBrowser: ",this.isBrowser)}return(0,i.Z)(e,[{key:"initTracking",value:function(){this.isBrowser||(a.Z.startTraceScreenLoad("Main",(function(e){window.traceScreenLoadId=e.traceId})),a.Z.startTraceScreenInteraction("Main",(function(e){window.traceScreenInterractionId=e.traceId})),a.Z.startTraceScreenGoal("Main",(function(e){window.traceScreenGoalId=e.traceId})),console.log("[MaxApiutils] initTracking done"))}},{key:"isBrowser",get:function(){return null==window.ReactNativeWebView}},{key:"request",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new Promise((function(n,i){if(t.isBrowser)n(null);else{var o=a.Z[e];o?r&&r.length>0?o.apply(void 0,r.concat([function(e){n(e)}])):o((function(e){n(e)})):n(null)}}))}},{key:"saveImage",value:function(e){var t=this;return new Promise((function(n,r){t.isBrowser&&n(null),a.Z.requestPermission("storage",(function(t){"granted"===t?a.Z.saveImage(e,(function(e){e?(a.Z.showToast({duration:2e3,title:"T\u1ea3i \u1ea3nh th\xe0nh c\xf4ng"}),n(!0)):(a.Z.showToast({duration:2e3,title:"T\u1ea3i \u1ea3nh kh\xf4ng th\xe0nh c\xf4ng"}),n(!1))})):(a.Z.showToast({duration:2e3,title:"T\u1ea3i \u1ea3nh kh\xf4ng th\xe0nh c\xf4ng"}),n(!1))}))}))}},{key:"registerShaking",value:function(e){if(!this.isBrowser){var t=a.Z.listen({event:"onShaker",updateInterval:100,type:"accelerometer"},(function(t){e(t)}));this.observer.set("shake",t)}}},{key:"unRegisterShaking",value:function(){this.isBrowser||this.observer.delete("shake")}},{key:"registerMagnetometer",value:function(e,t){if(!this.isBrowser){var n=a.Z.listen({event:"onShaker",type:"magnetometer",updateInterval:t?200:50},(function(t){e(t)}));this.observer.set("magnetometer",n)}}},{key:"unRegisterMagnetometer",value:function(){this.isBrowser||this.observer.delete("magnetometer")}},{key:"shareFb",value:function(e,t){!this.isBrowser&&e&&a.Z.shareFacebook({link:e},(function(e){t&&t(e)}))}},{key:"shareImgFb",value:function(e,t){!this.isBrowser&&e&&a.Z.shareFacebook({image:e},(function(e){t&&t(e)}))}},{key:"copyToClipBoard",value:function(e,t){this.isBrowser||a.Z.copyToClipboard(e,t)}},{key:"showToast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;this.isBrowser||a.Z.showToast({duration:t,title:e})}},{key:"shareExternal",value:function(e,t){this.isBrowser||a.Z.share(e,(function(e){t&&t(e)}))}},{key:"startFeatureCode",value:function(e,t,n){this.isBrowser||a.Z.startFeatureCode(e,t,n)}},{key:"UploadImage",value:function(e){var t=this;return new Promise((function(n,r){var i={path:"base64-upload",files:e,options:{loading:!0}};t.isBrowser?n(""):a.Z.uploadImage(i,(function(e){e.status;var t=e.response,r=t.url;r&&r.length>0&&r.indexOf("http")>=0?n(r):(console.log("[MaxApiUtils] Upload Img response: ",t),n(""))}))}))}},{key:"trackEvent",value:function(e,t){this.isBrowser||a.Z.trackEvent(e,t)}},{key:"getCloudMessage",value:function(e){return new Promise((function(t,n){a.Z.getCloudMessage({path:e},(function(e){var n=e.response;n.response_info?t(n):t(null)}))}))}},{key:"sendCloudMessage",value:function(e,t){return new Promise((function(n,r){a.Z.sendCloudMessage({path:e,body:t},(function(e){e.status;var t=e.response;t.errorCode?n(null):n(t)}))}))}},{key:"shareMessenger",value:function(e){if(!this.isBrowser){var t="fb-messenger://share/?link="+e;a.Z.openURL(t)}}},{key:"listen",value:function(e,t){this.isBrowser||a.Z.listen(e,t)}},{key:"openWeb",value:function(e){this.isBrowser||a.Z.openWeb({url:e})}},{key:"checkPermission",value:function(e){var t=this;return new Promise((function(n,r){t.isBrowser?n("granted"):a.Z.checkPermission(e,(function(e){n(e)}))}))}},{key:"requestPermission",value:function(e){var t=this;return new Promise((function(n,r){t.isBrowser?n("granted"):a.Z.requestPermission(e,(function(e){n(e)}))}))}},{key:"getContacts",value:function(){var e=this;return new Promise((function(t,n){e.isBrowser?t([]):a.Z.queryContact({},(function(e){t(e)}))}))}}]),e}(),l=new u},7600:function(e,t,n){"use strict";n(808),n(9018)},808:function(){!function(){function e(){var e=this;return new Promise((function(t){var n=new FileReader;n.onload=function(){t(n.result)},n.readAsArrayBuffer(e)}))}"File"in window&&(File.prototype.arrayBuffer=File.prototype.arrayBuffer||e),Blob.prototype.arrayBuffer=Blob.prototype.arrayBuffer||e}()},9018:function(e,t,n){"use strict";var r=n(2173);var i=function(e){var t=e.Reader,n=e.Writer,r=e.util,i=e.roots.default||(e.roots.default={});return i.phoenix=function(){var a={};return a.melody=function(){var a={};return a.MelodyConfig=function(){function a(e){if(this.chapters=[],this.images=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.version="",a.prototype.chapters=r.emptyArray,a.prototype.images=r.emptyArray,a.prototype.player=null,a.create=function(e){return new a(e)},a.encode=function(e,t){if(t||(t=n.create()),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(10).string(e.version),null!=e.chapters&&e.chapters.length)for(var r=0;r<e.chapters.length;++r)i.phoenix.melody.MelodyChapterConfig.encode(e.chapters[r],t.uint32(18).fork()).ldelim();if(null!=e.images&&e.images.length)for(r=0;r<e.images.length;++r)i.phoenix.melody.MelodyImageConfig.encode(e.images[r],t.uint32(26).fork()).ldelim();return null!=e.player&&Object.hasOwnProperty.call(e,"player")&&i.phoenix.melody.MelodyPlayerConfig.encode(e.player,t.uint32(34).fork()).ldelim(),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyConfig;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.version=e.string();break;case 2:a.chapters&&a.chapters.length||(a.chapters=[]),a.chapters.push(i.phoenix.melody.MelodyChapterConfig.decode(e,e.uint32()));break;case 3:a.images&&a.images.length||(a.images=[]),a.images.push(i.phoenix.melody.MelodyImageConfig.decode(e,e.uint32()));break;case 4:a.player=i.phoenix.melody.MelodyPlayerConfig.decode(e,e.uint32());break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.version&&e.hasOwnProperty("version")&&!r.isString(e.version))return"version: string expected";if(null!=e.chapters&&e.hasOwnProperty("chapters")){if(!Array.isArray(e.chapters))return"chapters: array expected";for(var t=0;t<e.chapters.length;++t){if(n=i.phoenix.melody.MelodyChapterConfig.verify(e.chapters[t]))return"chapters."+n}}if(null!=e.images&&e.hasOwnProperty("images")){if(!Array.isArray(e.images))return"images: array expected";for(t=0;t<e.images.length;++t){if(n=i.phoenix.melody.MelodyImageConfig.verify(e.images[t]))return"images."+n}}var n;if(null!=e.player&&e.hasOwnProperty("player")&&(n=i.phoenix.melody.MelodyPlayerConfig.verify(e.player)))return"player."+n;return null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyConfig)return e;var t=new i.phoenix.melody.MelodyConfig;if(null!=e.version&&(t.version=String(e.version)),e.chapters){if(!Array.isArray(e.chapters))throw TypeError(".phoenix.melody.MelodyConfig.chapters: array expected");t.chapters=[];for(var n=0;n<e.chapters.length;++n){if("object"!==typeof e.chapters[n])throw TypeError(".phoenix.melody.MelodyConfig.chapters: object expected");t.chapters[n]=i.phoenix.melody.MelodyChapterConfig.fromObject(e.chapters[n])}}if(e.images){if(!Array.isArray(e.images))throw TypeError(".phoenix.melody.MelodyConfig.images: array expected");t.images=[];for(n=0;n<e.images.length;++n){if("object"!==typeof e.images[n])throw TypeError(".phoenix.melody.MelodyConfig.images: object expected");t.images[n]=i.phoenix.melody.MelodyImageConfig.fromObject(e.images[n])}}if(null!=e.player){if("object"!==typeof e.player)throw TypeError(".phoenix.melody.MelodyConfig.player: object expected");t.player=i.phoenix.melody.MelodyPlayerConfig.fromObject(e.player)}return t},a.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.chapters=[],n.images=[]),t.defaults&&(n.version="",n.player=null),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),e.chapters&&e.chapters.length){n.chapters=[];for(var r=0;r<e.chapters.length;++r)n.chapters[r]=i.phoenix.melody.MelodyChapterConfig.toObject(e.chapters[r],t)}if(e.images&&e.images.length){n.images=[];for(r=0;r<e.images.length;++r)n.images[r]=i.phoenix.melody.MelodyImageConfig.toObject(e.images[r],t)}return null!=e.player&&e.hasOwnProperty("player")&&(n.player=i.phoenix.melody.MelodyPlayerConfig.toObject(e.player,t)),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyPlayerConfig=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.heartReloadTime=r.Long?r.Long.fromBits(0,0,!1):0,a.prototype.heartMax=r.Long?r.Long.fromBits(0,0,!1):0,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.heartReloadTime&&Object.hasOwnProperty.call(e,"heartReloadTime")&&t.uint32(8).int64(e.heartReloadTime),null!=e.heartMax&&Object.hasOwnProperty.call(e,"heartMax")&&t.uint32(16).int64(e.heartMax),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyPlayerConfig;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.heartReloadTime=e.int64();break;case 2:a.heartMax=e.int64();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){return"object"!==typeof e||null===e?"object expected":null==e.heartReloadTime||!e.hasOwnProperty("heartReloadTime")||r.isInteger(e.heartReloadTime)||e.heartReloadTime&&r.isInteger(e.heartReloadTime.low)&&r.isInteger(e.heartReloadTime.high)?null==e.heartMax||!e.hasOwnProperty("heartMax")||r.isInteger(e.heartMax)||e.heartMax&&r.isInteger(e.heartMax.low)&&r.isInteger(e.heartMax.high)?null:"heartMax: integer|Long expected":"heartReloadTime: integer|Long expected"},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyPlayerConfig)return e;var t=new i.phoenix.melody.MelodyPlayerConfig;return null!=e.heartReloadTime&&(r.Long?(t.heartReloadTime=r.Long.fromValue(e.heartReloadTime)).unsigned=!1:"string"===typeof e.heartReloadTime?t.heartReloadTime=parseInt(e.heartReloadTime,10):"number"===typeof e.heartReloadTime?t.heartReloadTime=e.heartReloadTime:"object"===typeof e.heartReloadTime&&(t.heartReloadTime=new r.LongBits(e.heartReloadTime.low>>>0,e.heartReloadTime.high>>>0).toNumber())),null!=e.heartMax&&(r.Long?(t.heartMax=r.Long.fromValue(e.heartMax)).unsigned=!1:"string"===typeof e.heartMax?t.heartMax=parseInt(e.heartMax,10):"number"===typeof e.heartMax?t.heartMax=e.heartMax:"object"===typeof e.heartMax&&(t.heartMax=new r.LongBits(e.heartMax.low>>>0,e.heartMax.high>>>0).toNumber())),t},a.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(r.Long){var i=new r.Long(0,0,!1);n.heartReloadTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.heartReloadTime=t.longs===String?"0":0;if(r.Long){i=new r.Long(0,0,!1);n.heartMax=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.heartMax=t.longs===String?"0":0}return null!=e.heartReloadTime&&e.hasOwnProperty("heartReloadTime")&&("number"===typeof e.heartReloadTime?n.heartReloadTime=t.longs===String?String(e.heartReloadTime):e.heartReloadTime:n.heartReloadTime=t.longs===String?r.Long.prototype.toString.call(e.heartReloadTime):t.longs===Number?new r.LongBits(e.heartReloadTime.low>>>0,e.heartReloadTime.high>>>0).toNumber():e.heartReloadTime),null!=e.heartMax&&e.hasOwnProperty("heartMax")&&("number"===typeof e.heartMax?n.heartMax=t.longs===String?String(e.heartMax):e.heartMax:n.heartMax=t.longs===String?r.Long.prototype.toString.call(e.heartMax):t.longs===Number?new r.LongBits(e.heartMax.low>>>0,e.heartMax.high>>>0).toNumber():e.heartMax),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyChapterConfig=function(){function a(e){if(this.backgrounds=[],this.decors=[],this.checkpoints=[],this.levels=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.id=0,a.prototype.backgrounds=r.emptyArray,a.prototype.decors=r.emptyArray,a.prototype.checkpoints=r.emptyArray,a.prototype.levels=r.emptyArray,a.prototype.offsetTop=0,a.prototype.offsetBottom=0,a.create=function(e){return new a(e)},a.encode=function(e,t){if(t||(t=n.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.backgrounds&&e.backgrounds.length)for(var r=0;r<e.backgrounds.length;++r)i.phoenix.melody.MelodyMapObject.encode(e.backgrounds[r],t.uint32(18).fork()).ldelim();if(null!=e.decors&&e.decors.length)for(r=0;r<e.decors.length;++r)i.phoenix.melody.MelodyMapObject.encode(e.decors[r],t.uint32(26).fork()).ldelim();if(null!=e.checkpoints&&e.checkpoints.length)for(r=0;r<e.checkpoints.length;++r)i.phoenix.melody.MelodyMapObject.encode(e.checkpoints[r],t.uint32(34).fork()).ldelim();if(null!=e.levels&&e.levels.length)for(r=0;r<e.levels.length;++r)i.phoenix.melody.MelodyLevelConfig.encode(e.levels[r],t.uint32(42).fork()).ldelim();return null!=e.offsetTop&&Object.hasOwnProperty.call(e,"offsetTop")&&t.uint32(48).int32(e.offsetTop),null!=e.offsetBottom&&Object.hasOwnProperty.call(e,"offsetBottom")&&t.uint32(56).int32(e.offsetBottom),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyChapterConfig;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.id=e.int32();break;case 2:a.backgrounds&&a.backgrounds.length||(a.backgrounds=[]),a.backgrounds.push(i.phoenix.melody.MelodyMapObject.decode(e,e.uint32()));break;case 3:a.decors&&a.decors.length||(a.decors=[]),a.decors.push(i.phoenix.melody.MelodyMapObject.decode(e,e.uint32()));break;case 4:a.checkpoints&&a.checkpoints.length||(a.checkpoints=[]),a.checkpoints.push(i.phoenix.melody.MelodyMapObject.decode(e,e.uint32()));break;case 5:a.levels&&a.levels.length||(a.levels=[]),a.levels.push(i.phoenix.melody.MelodyLevelConfig.decode(e,e.uint32()));break;case 6:a.offsetTop=e.int32();break;case 7:a.offsetBottom=e.int32();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!r.isInteger(e.id))return"id: integer expected";if(null!=e.backgrounds&&e.hasOwnProperty("backgrounds")){if(!Array.isArray(e.backgrounds))return"backgrounds: array expected";for(var t=0;t<e.backgrounds.length;++t){if(n=i.phoenix.melody.MelodyMapObject.verify(e.backgrounds[t]))return"backgrounds."+n}}if(null!=e.decors&&e.hasOwnProperty("decors")){if(!Array.isArray(e.decors))return"decors: array expected";for(t=0;t<e.decors.length;++t){if(n=i.phoenix.melody.MelodyMapObject.verify(e.decors[t]))return"decors."+n}}if(null!=e.checkpoints&&e.hasOwnProperty("checkpoints")){if(!Array.isArray(e.checkpoints))return"checkpoints: array expected";for(t=0;t<e.checkpoints.length;++t){if(n=i.phoenix.melody.MelodyMapObject.verify(e.checkpoints[t]))return"checkpoints."+n}}if(null!=e.levels&&e.hasOwnProperty("levels")){if(!Array.isArray(e.levels))return"levels: array expected";for(t=0;t<e.levels.length;++t){var n;if(n=i.phoenix.melody.MelodyLevelConfig.verify(e.levels[t]))return"levels."+n}}return null!=e.offsetTop&&e.hasOwnProperty("offsetTop")&&!r.isInteger(e.offsetTop)?"offsetTop: integer expected":null!=e.offsetBottom&&e.hasOwnProperty("offsetBottom")&&!r.isInteger(e.offsetBottom)?"offsetBottom: integer expected":null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyChapterConfig)return e;var t=new i.phoenix.melody.MelodyChapterConfig;if(null!=e.id&&(t.id=0|e.id),e.backgrounds){if(!Array.isArray(e.backgrounds))throw TypeError(".phoenix.melody.MelodyChapterConfig.backgrounds: array expected");t.backgrounds=[];for(var n=0;n<e.backgrounds.length;++n){if("object"!==typeof e.backgrounds[n])throw TypeError(".phoenix.melody.MelodyChapterConfig.backgrounds: object expected");t.backgrounds[n]=i.phoenix.melody.MelodyMapObject.fromObject(e.backgrounds[n])}}if(e.decors){if(!Array.isArray(e.decors))throw TypeError(".phoenix.melody.MelodyChapterConfig.decors: array expected");t.decors=[];for(n=0;n<e.decors.length;++n){if("object"!==typeof e.decors[n])throw TypeError(".phoenix.melody.MelodyChapterConfig.decors: object expected");t.decors[n]=i.phoenix.melody.MelodyMapObject.fromObject(e.decors[n])}}if(e.checkpoints){if(!Array.isArray(e.checkpoints))throw TypeError(".phoenix.melody.MelodyChapterConfig.checkpoints: array expected");t.checkpoints=[];for(n=0;n<e.checkpoints.length;++n){if("object"!==typeof e.checkpoints[n])throw TypeError(".phoenix.melody.MelodyChapterConfig.checkpoints: object expected");t.checkpoints[n]=i.phoenix.melody.MelodyMapObject.fromObject(e.checkpoints[n])}}if(e.levels){if(!Array.isArray(e.levels))throw TypeError(".phoenix.melody.MelodyChapterConfig.levels: array expected");t.levels=[];for(n=0;n<e.levels.length;++n){if("object"!==typeof e.levels[n])throw TypeError(".phoenix.melody.MelodyChapterConfig.levels: object expected");t.levels[n]=i.phoenix.melody.MelodyLevelConfig.fromObject(e.levels[n])}}return null!=e.offsetTop&&(t.offsetTop=0|e.offsetTop),null!=e.offsetBottom&&(t.offsetBottom=0|e.offsetBottom),t},a.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.backgrounds=[],n.decors=[],n.checkpoints=[],n.levels=[]),t.defaults&&(n.id=0,n.offsetTop=0,n.offsetBottom=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),e.backgrounds&&e.backgrounds.length){n.backgrounds=[];for(var r=0;r<e.backgrounds.length;++r)n.backgrounds[r]=i.phoenix.melody.MelodyMapObject.toObject(e.backgrounds[r],t)}if(e.decors&&e.decors.length){n.decors=[];for(r=0;r<e.decors.length;++r)n.decors[r]=i.phoenix.melody.MelodyMapObject.toObject(e.decors[r],t)}if(e.checkpoints&&e.checkpoints.length){n.checkpoints=[];for(r=0;r<e.checkpoints.length;++r)n.checkpoints[r]=i.phoenix.melody.MelodyMapObject.toObject(e.checkpoints[r],t)}if(e.levels&&e.levels.length){n.levels=[];for(r=0;r<e.levels.length;++r)n.levels[r]=i.phoenix.melody.MelodyLevelConfig.toObject(e.levels[r],t)}return null!=e.offsetTop&&e.hasOwnProperty("offsetTop")&&(n.offsetTop=e.offsetTop),null!=e.offsetBottom&&e.hasOwnProperty("offsetBottom")&&(n.offsetBottom=e.offsetBottom),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyImageConfig=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.id="",a.prototype.url="",a.prototype.width=0,a.prototype.height=0,a.prototype.anchorX=0,a.prototype.anchorY=0,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.url&&Object.hasOwnProperty.call(e,"url")&&t.uint32(18).string(e.url),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(24).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).int32(e.height),null!=e.anchorX&&Object.hasOwnProperty.call(e,"anchorX")&&t.uint32(45).float(e.anchorX),null!=e.anchorY&&Object.hasOwnProperty.call(e,"anchorY")&&t.uint32(53).float(e.anchorY),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyImageConfig;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.id=e.string();break;case 2:a.url=e.string();break;case 3:a.width=e.int32();break;case 4:a.height=e.int32();break;case 5:a.anchorX=e.float();break;case 6:a.anchorY=e.float();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!r.isString(e.id)?"id: string expected":null!=e.url&&e.hasOwnProperty("url")&&!r.isString(e.url)?"url: string expected":null!=e.width&&e.hasOwnProperty("width")&&!r.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!r.isInteger(e.height)?"height: integer expected":null!=e.anchorX&&e.hasOwnProperty("anchorX")&&"number"!==typeof e.anchorX?"anchorX: number expected":null!=e.anchorY&&e.hasOwnProperty("anchorY")&&"number"!==typeof e.anchorY?"anchorY: number expected":null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyImageConfig)return e;var t=new i.phoenix.melody.MelodyImageConfig;return null!=e.id&&(t.id=String(e.id)),null!=e.url&&(t.url=String(e.url)),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.anchorX&&(t.anchorX=Number(e.anchorX)),null!=e.anchorY&&(t.anchorY=Number(e.anchorY)),t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.url="",n.width=0,n.height=0,n.anchorX=0,n.anchorY=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.url&&e.hasOwnProperty("url")&&(n.url=e.url),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.anchorX&&e.hasOwnProperty("anchorX")&&(n.anchorX=t.json&&!isFinite(e.anchorX)?String(e.anchorX):e.anchorX),null!=e.anchorY&&e.hasOwnProperty("anchorY")&&(n.anchorY=t.json&&!isFinite(e.anchorY)?String(e.anchorY):e.anchorY),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyMapObject=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.imageId="",a.prototype.x=0,a.prototype.y=0,a.prototype.id=0,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.imageId&&Object.hasOwnProperty.call(e,"imageId")&&t.uint32(10).string(e.imageId),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(21).float(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(29).float(e.y),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(32).int32(e.id),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyMapObject;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.imageId=e.string();break;case 2:a.x=e.float();break;case 3:a.y=e.float();break;case 4:a.id=e.int32();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.imageId&&e.hasOwnProperty("imageId")&&!r.isString(e.imageId)?"imageId: string expected":null!=e.x&&e.hasOwnProperty("x")&&"number"!==typeof e.x?"x: number expected":null!=e.y&&e.hasOwnProperty("y")&&"number"!==typeof e.y?"y: number expected":null!=e.id&&e.hasOwnProperty("id")&&!r.isInteger(e.id)?"id: integer expected":null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyMapObject)return e;var t=new i.phoenix.melody.MelodyMapObject;return null!=e.imageId&&(t.imageId=String(e.imageId)),null!=e.x&&(t.x=Number(e.x)),null!=e.y&&(t.y=Number(e.y)),null!=e.id&&(t.id=0|e.id),t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.imageId="",n.x=0,n.y=0,n.id=0),null!=e.imageId&&e.hasOwnProperty("imageId")&&(n.imageId=e.imageId),null!=e.x&&e.hasOwnProperty("x")&&(n.x=t.json&&!isFinite(e.x)?String(e.x):e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=t.json&&!isFinite(e.y)?String(e.y):e.y),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyLevelConfig=function(){function a(e){if(this.map=[],this.bullets=[],this.targets=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.id=0,a.prototype.chapterId=0,a.prototype.star1Score=0,a.prototype.star2Score=0,a.prototype.star3Score=0,a.prototype.rows=0,a.prototype.columns=0,a.prototype.bomb=0,a.prototype.map=r.emptyArray,a.prototype.bullets=r.emptyArray,a.prototype.targets=r.emptyArray,a.create=function(e){return new a(e)},a.encode=function(e,t){if(t||(t=n.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.chapterId&&Object.hasOwnProperty.call(e,"chapterId")&&t.uint32(16).int32(e.chapterId),null!=e.star1Score&&Object.hasOwnProperty.call(e,"star1Score")&&t.uint32(40).int32(e.star1Score),null!=e.star2Score&&Object.hasOwnProperty.call(e,"star2Score")&&t.uint32(48).int32(e.star2Score),null!=e.star3Score&&Object.hasOwnProperty.call(e,"star3Score")&&t.uint32(56).int32(e.star3Score),null!=e.rows&&Object.hasOwnProperty.call(e,"rows")&&t.uint32(64).int32(e.rows),null!=e.columns&&Object.hasOwnProperty.call(e,"columns")&&t.uint32(72).int32(e.columns),null!=e.map&&e.map.length)for(var r=0;r<e.map.length;++r)i.phoenix.melody.MelodyBall.encode(e.map[r],t.uint32(82).fork()).ldelim();if(null!=e.bullets&&e.bullets.length)for(r=0;r<e.bullets.length;++r)i.phoenix.melody.MelodyBall.encode(e.bullets[r],t.uint32(90).fork()).ldelim();if(null!=e.targets&&e.targets.length)for(r=0;r<e.targets.length;++r)i.phoenix.melody.MelodyLevelTarget.encode(e.targets[r],t.uint32(98).fork()).ldelim();return null!=e.bomb&&Object.hasOwnProperty.call(e,"bomb")&&t.uint32(104).int32(e.bomb),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyLevelConfig;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.id=e.int32();break;case 2:a.chapterId=e.int32();break;case 5:a.star1Score=e.int32();break;case 6:a.star2Score=e.int32();break;case 7:a.star3Score=e.int32();break;case 8:a.rows=e.int32();break;case 9:a.columns=e.int32();break;case 13:a.bomb=e.int32();break;case 10:a.map&&a.map.length||(a.map=[]),a.map.push(i.phoenix.melody.MelodyBall.decode(e,e.uint32()));break;case 11:a.bullets&&a.bullets.length||(a.bullets=[]),a.bullets.push(i.phoenix.melody.MelodyBall.decode(e,e.uint32()));break;case 12:a.targets&&a.targets.length||(a.targets=[]),a.targets.push(i.phoenix.melody.MelodyLevelTarget.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!r.isInteger(e.id))return"id: integer expected";if(null!=e.chapterId&&e.hasOwnProperty("chapterId")&&!r.isInteger(e.chapterId))return"chapterId: integer expected";if(null!=e.star1Score&&e.hasOwnProperty("star1Score")&&!r.isInteger(e.star1Score))return"star1Score: integer expected";if(null!=e.star2Score&&e.hasOwnProperty("star2Score")&&!r.isInteger(e.star2Score))return"star2Score: integer expected";if(null!=e.star3Score&&e.hasOwnProperty("star3Score")&&!r.isInteger(e.star3Score))return"star3Score: integer expected";if(null!=e.rows&&e.hasOwnProperty("rows")&&!r.isInteger(e.rows))return"rows: integer expected";if(null!=e.columns&&e.hasOwnProperty("columns")&&!r.isInteger(e.columns))return"columns: integer expected";if(null!=e.bomb&&e.hasOwnProperty("bomb")&&!r.isInteger(e.bomb))return"bomb: integer expected";if(null!=e.map&&e.hasOwnProperty("map")){if(!Array.isArray(e.map))return"map: array expected";for(var t=0;t<e.map.length;++t){if(n=i.phoenix.melody.MelodyBall.verify(e.map[t]))return"map."+n}}if(null!=e.bullets&&e.hasOwnProperty("bullets")){if(!Array.isArray(e.bullets))return"bullets: array expected";for(t=0;t<e.bullets.length;++t){if(n=i.phoenix.melody.MelodyBall.verify(e.bullets[t]))return"bullets."+n}}if(null!=e.targets&&e.hasOwnProperty("targets")){if(!Array.isArray(e.targets))return"targets: array expected";for(t=0;t<e.targets.length;++t){var n;if(n=i.phoenix.melody.MelodyLevelTarget.verify(e.targets[t]))return"targets."+n}}return null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyLevelConfig)return e;var t=new i.phoenix.melody.MelodyLevelConfig;if(null!=e.id&&(t.id=0|e.id),null!=e.chapterId&&(t.chapterId=0|e.chapterId),null!=e.star1Score&&(t.star1Score=0|e.star1Score),null!=e.star2Score&&(t.star2Score=0|e.star2Score),null!=e.star3Score&&(t.star3Score=0|e.star3Score),null!=e.rows&&(t.rows=0|e.rows),null!=e.columns&&(t.columns=0|e.columns),null!=e.bomb&&(t.bomb=0|e.bomb),e.map){if(!Array.isArray(e.map))throw TypeError(".phoenix.melody.MelodyLevelConfig.map: array expected");t.map=[];for(var n=0;n<e.map.length;++n){if("object"!==typeof e.map[n])throw TypeError(".phoenix.melody.MelodyLevelConfig.map: object expected");t.map[n]=i.phoenix.melody.MelodyBall.fromObject(e.map[n])}}if(e.bullets){if(!Array.isArray(e.bullets))throw TypeError(".phoenix.melody.MelodyLevelConfig.bullets: array expected");t.bullets=[];for(n=0;n<e.bullets.length;++n){if("object"!==typeof e.bullets[n])throw TypeError(".phoenix.melody.MelodyLevelConfig.bullets: object expected");t.bullets[n]=i.phoenix.melody.MelodyBall.fromObject(e.bullets[n])}}if(e.targets){if(!Array.isArray(e.targets))throw TypeError(".phoenix.melody.MelodyLevelConfig.targets: array expected");t.targets=[];for(n=0;n<e.targets.length;++n){if("object"!==typeof e.targets[n])throw TypeError(".phoenix.melody.MelodyLevelConfig.targets: object expected");t.targets[n]=i.phoenix.melody.MelodyLevelTarget.fromObject(e.targets[n])}}return t},a.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.map=[],n.bullets=[],n.targets=[]),t.defaults&&(n.id=0,n.chapterId=0,n.star1Score=0,n.star2Score=0,n.star3Score=0,n.rows=0,n.columns=0,n.bomb=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.chapterId&&e.hasOwnProperty("chapterId")&&(n.chapterId=e.chapterId),null!=e.star1Score&&e.hasOwnProperty("star1Score")&&(n.star1Score=e.star1Score),null!=e.star2Score&&e.hasOwnProperty("star2Score")&&(n.star2Score=e.star2Score),null!=e.star3Score&&e.hasOwnProperty("star3Score")&&(n.star3Score=e.star3Score),null!=e.rows&&e.hasOwnProperty("rows")&&(n.rows=e.rows),null!=e.columns&&e.hasOwnProperty("columns")&&(n.columns=e.columns),e.map&&e.map.length){n.map=[];for(var r=0;r<e.map.length;++r)n.map[r]=i.phoenix.melody.MelodyBall.toObject(e.map[r],t)}if(e.bullets&&e.bullets.length){n.bullets=[];for(r=0;r<e.bullets.length;++r)n.bullets[r]=i.phoenix.melody.MelodyBall.toObject(e.bullets[r],t)}if(e.targets&&e.targets.length){n.targets=[];for(r=0;r<e.targets.length;++r)n.targets[r]=i.phoenix.melody.MelodyLevelTarget.toObject(e.targets[r],t)}return null!=e.bomb&&e.hasOwnProperty("bomb")&&(n.bomb=e.bomb),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyBall=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.prototype.type=0,r.prototype.color=0,r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(16).int32(e.color),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyBall;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.type=e.int32();break;case 2:a.color=e.int32();break;default:e.skipType(7&o)}}return a},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:}if(null!=e.color&&e.hasOwnProperty("color"))switch(e.color){default:return"color: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:}return null},r.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyBall)return e;var t=new i.phoenix.melody.MelodyBall;switch(e.type){case"MELODY_BALL_TYPE_NONE":case 0:t.type=0;break;case"MELODY_BALL_TYPE_NORMAL":case 1:t.type=1;break;case"MELODY_BALL_TYPE_BOOM":case 2:t.type=2;break;case"MELODY_BALL_TYPE_LINE":case 3:t.type=3;break;case"MELODY_BALL_TYPE_ITEM":case 4:t.type=4;break;case"MELODY_BALL_TYPE_STONE":case 5:t.type=5;break;case"MELODY_BALL_TYPE_EXPLODE":case 6:t.type=6;break;case"MELODY_BALL_TYPE_WHITE":case 7:t.type=7}switch(e.color){case"MELODY_BALL_COLOR_NONE":case 0:t.color=0;break;case"MELODY_BALL_COLOR_RED":case 1:t.color=1;break;case"MELODY_BALL_COLOR_BLUE":case 2:t.color=2;break;case"MELODY_BALL_COLOR_GREEN":case 3:t.color=3;break;case"MELODY_BALL_COLOR_CYAN":case 4:t.color=4;break;case"MELODY_BALL_COLOR_YELLOW":case 5:t.color=5;break;case"MELODY_BALL_COLOR_PINK":case 6:t.color=6;break;case"MELODY_BALL_COLOR_RANDOM":case 7:t.color=7}return t},r.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"MELODY_BALL_TYPE_NONE":0,n.color=t.enums===String?"MELODY_BALL_COLOR_NONE":0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?i.phoenix.melody.MELODY_BALL_TYPE[e.type]:e.type),null!=e.color&&e.hasOwnProperty("color")&&(n.color=t.enums===String?i.phoenix.melody.MELODY_BALL_COLOR[e.color]:e.color),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),a.MelodyLevelTarget=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.type=0,a.prototype.quantity=0,a.prototype.ball=null,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.quantity&&Object.hasOwnProperty.call(e,"quantity")&&t.uint32(16).int32(e.quantity),null!=e.ball&&Object.hasOwnProperty.call(e,"ball")&&i.phoenix.melody.MelodyBall.encode(e.ball,t.uint32(26).fork()).ldelim(),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyLevelTarget;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.type=e.int32();break;case 2:a.quantity=e.int32();break;case 3:a.ball=i.phoenix.melody.MelodyBall.decode(e,e.uint32());break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:}if(null!=e.quantity&&e.hasOwnProperty("quantity")&&!r.isInteger(e.quantity))return"quantity: integer expected";if(null!=e.ball&&e.hasOwnProperty("ball")){var t=i.phoenix.melody.MelodyBall.verify(e.ball);if(t)return"ball."+t}return null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyLevelTarget)return e;var t=new i.phoenix.melody.MelodyLevelTarget;switch(e.type){case"MELODY_LEVEL_TARGET_TYPE_NONE":case 0:t.type=0;break;case"MELODY_LEVEL_TARGET_ANY_BALL":case 1:t.type=1;break;case"MELODY_LEVEL_TARGET_SPECIFIC_BALL":case 2:t.type=2;break;case"MELODY_LEVEL_TARGET_SCORE":case 3:t.type=3;break;case"MELODY_LEVEL_TARGET_ITEM":case 4:t.type=4}if(null!=e.quantity&&(t.quantity=0|e.quantity),null!=e.ball){if("object"!==typeof e.ball)throw TypeError(".phoenix.melody.MelodyLevelTarget.ball: object expected");t.ball=i.phoenix.melody.MelodyBall.fromObject(e.ball)}return t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"MELODY_LEVEL_TARGET_TYPE_NONE":0,n.quantity=0,n.ball=null),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?i.phoenix.melody.MELODY_LEVEL_TARGET_TYPE[e.type]:e.type),null!=e.quantity&&e.hasOwnProperty("quantity")&&(n.quantity=e.quantity),null!=e.ball&&e.hasOwnProperty("ball")&&(n.ball=i.phoenix.melody.MelodyBall.toObject(e.ball,t)),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MELODY_LEVEL_TARGET_TYPE=function(){var e={},t=Object.create(e);return t[e[0]="MELODY_LEVEL_TARGET_TYPE_NONE"]=0,t[e[1]="MELODY_LEVEL_TARGET_ANY_BALL"]=1,t[e[2]="MELODY_LEVEL_TARGET_SPECIFIC_BALL"]=2,t[e[3]="MELODY_LEVEL_TARGET_SCORE"]=3,t[e[4]="MELODY_LEVEL_TARGET_ITEM"]=4,t}(),a.MELODY_BALL_TYPE=function(){var e={},t=Object.create(e);return t[e[0]="MELODY_BALL_TYPE_NONE"]=0,t[e[1]="MELODY_BALL_TYPE_NORMAL"]=1,t[e[2]="MELODY_BALL_TYPE_BOOM"]=2,t[e[3]="MELODY_BALL_TYPE_LINE"]=3,t[e[4]="MELODY_BALL_TYPE_ITEM"]=4,t[e[5]="MELODY_BALL_TYPE_STONE"]=5,t[e[6]="MELODY_BALL_TYPE_EXPLODE"]=6,t[e[7]="MELODY_BALL_TYPE_WHITE"]=7,t}(),a.MELODY_BALL_COLOR=function(){var e={},t=Object.create(e);return t[e[0]="MELODY_BALL_COLOR_NONE"]=0,t[e[1]="MELODY_BALL_COLOR_RED"]=1,t[e[2]="MELODY_BALL_COLOR_BLUE"]=2,t[e[3]="MELODY_BALL_COLOR_GREEN"]=3,t[e[4]="MELODY_BALL_COLOR_CYAN"]=4,t[e[5]="MELODY_BALL_COLOR_YELLOW"]=5,t[e[6]="MELODY_BALL_COLOR_PINK"]=6,t[e[7]="MELODY_BALL_COLOR_RANDOM"]=7,t}(),a.MelodySession=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.ip=r.newBuffer([]),a.prototype.port=0,a.prototype.endPoint="",a.prototype.uid=r.newBuffer([]),a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.ip&&Object.hasOwnProperty.call(e,"ip")&&t.uint32(10).bytes(e.ip),null!=e.port&&Object.hasOwnProperty.call(e,"port")&&t.uint32(16).int32(e.port),null!=e.endPoint&&Object.hasOwnProperty.call(e,"endPoint")&&t.uint32(26).string(e.endPoint),null!=e.uid&&Object.hasOwnProperty.call(e,"uid")&&t.uint32(34).bytes(e.uid),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodySession;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.ip=e.bytes();break;case 2:a.port=e.int32();break;case 3:a.endPoint=e.string();break;case 4:a.uid=e.bytes();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.ip&&e.hasOwnProperty("ip")&&!(e.ip&&"number"===typeof e.ip.length||r.isString(e.ip))?"ip: buffer expected":null!=e.port&&e.hasOwnProperty("port")&&!r.isInteger(e.port)?"port: integer expected":null!=e.endPoint&&e.hasOwnProperty("endPoint")&&!r.isString(e.endPoint)?"endPoint: string expected":null!=e.uid&&e.hasOwnProperty("uid")&&!(e.uid&&"number"===typeof e.uid.length||r.isString(e.uid))?"uid: buffer expected":null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodySession)return e;var t=new i.phoenix.melody.MelodySession;return null!=e.ip&&("string"===typeof e.ip?r.base64.decode(e.ip,t.ip=r.newBuffer(r.base64.length(e.ip)),0):e.ip.length&&(t.ip=e.ip)),null!=e.port&&(t.port=0|e.port),null!=e.endPoint&&(t.endPoint=String(e.endPoint)),null!=e.uid&&("string"===typeof e.uid?r.base64.decode(e.uid,t.uid=r.newBuffer(r.base64.length(e.uid)),0):e.uid.length&&(t.uid=e.uid)),t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.ip="":(n.ip=[],t.bytes!==Array&&(n.ip=r.newBuffer(n.ip))),n.port=0,n.endPoint="",t.bytes===String?n.uid="":(n.uid=[],t.bytes!==Array&&(n.uid=r.newBuffer(n.uid)))),null!=e.ip&&e.hasOwnProperty("ip")&&(n.ip=t.bytes===String?r.base64.encode(e.ip,0,e.ip.length):t.bytes===Array?Array.prototype.slice.call(e.ip):e.ip),null!=e.port&&e.hasOwnProperty("port")&&(n.port=e.port),null!=e.endPoint&&e.hasOwnProperty("endPoint")&&(n.endPoint=e.endPoint),null!=e.uid&&e.hasOwnProperty("uid")&&(n.uid=t.bytes===String?r.base64.encode(e.uid,0,e.uid.length):t.bytes===Array?Array.prototype.slice.call(e.uid):e.uid),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyMsg=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.token="",a.prototype.sessionId="",a.prototype.cmd=0,a.prototype.timestamp=r.Long?r.Long.fromBits(0,0,!1):0,a.prototype.body=r.newBuffer([]),a.prototype.error=0,a.prototype.endpoint="",a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(10).string(e.token),null!=e.sessionId&&Object.hasOwnProperty.call(e,"sessionId")&&t.uint32(18).string(e.sessionId),null!=e.cmd&&Object.hasOwnProperty.call(e,"cmd")&&t.uint32(24).int32(e.cmd),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(32).int64(e.timestamp),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(42).bytes(e.body),null!=e.error&&Object.hasOwnProperty.call(e,"error")&&t.uint32(48).int32(e.error),null!=e.endpoint&&Object.hasOwnProperty.call(e,"endpoint")&&t.uint32(58).string(e.endpoint),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyMsg;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.token=e.string();break;case 2:a.sessionId=e.string();break;case 3:a.cmd=e.int32();break;case 4:a.timestamp=e.int64();break;case 5:a.body=e.bytes();break;case 6:a.error=e.int32();break;case 7:a.endpoint=e.string();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.token&&e.hasOwnProperty("token")&&!r.isString(e.token))return"token: string expected";if(null!=e.sessionId&&e.hasOwnProperty("sessionId")&&!r.isString(e.sessionId))return"sessionId: string expected";if(null!=e.cmd&&e.hasOwnProperty("cmd"))switch(e.cmd){default:return"cmd: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 100:case 101:}if(null!=e.timestamp&&e.hasOwnProperty("timestamp")&&!r.isInteger(e.timestamp)&&!(e.timestamp&&r.isInteger(e.timestamp.low)&&r.isInteger(e.timestamp.high)))return"timestamp: integer|Long expected";if(null!=e.body&&e.hasOwnProperty("body")&&!(e.body&&"number"===typeof e.body.length||r.isString(e.body)))return"body: buffer expected";if(null!=e.error&&e.hasOwnProperty("error"))switch(e.error){default:return"error: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:}return null!=e.endpoint&&e.hasOwnProperty("endpoint")&&!r.isString(e.endpoint)?"endpoint: string expected":null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyMsg)return e;var t=new i.phoenix.melody.MelodyMsg;switch(null!=e.token&&(t.token=String(e.token)),null!=e.sessionId&&(t.sessionId=String(e.sessionId)),e.cmd){case"MELODY_CMD_UNKNOW":case 0:t.cmd=0;break;case"MELODY_CMD_PING":case 1:t.cmd=1;break;case"MELODY_CMD_CONFIG":case 2:t.cmd=2;break;case"MELODY_CMD_LOGIN":case 3:t.cmd=3;break;case"MELODY_CMD_PLAYER_CHAPTER_GET":case 4:t.cmd=4;break;case"MELODY_CMD_PLAYER_LEVEL_PLAY":case 5:t.cmd=5;break;case"MELODY_CMD_PLAYER_LEVEL_END":case 6:t.cmd=6;break;case"MELODY_CMD_PLAYER_LOG_OUT":case 7:t.cmd=7;break;case"MELODY_CMD_PLAYER_HEATS":case 8:t.cmd=8;break;case"MELODY_CMD_SCREEN_TRACKING":case 20:t.cmd=20;break;case"MELODY_CMD_PROFILE_RESET":case 100:t.cmd=100;break;case"MELODY_CMD_PROFILE_CHANGE_HEARTS":case 101:t.cmd=101}switch(null!=e.timestamp&&(r.Long?(t.timestamp=r.Long.fromValue(e.timestamp)).unsigned=!1:"string"===typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"===typeof e.timestamp?t.timestamp=e.timestamp:"object"===typeof e.timestamp&&(t.timestamp=new r.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber())),null!=e.body&&("string"===typeof e.body?r.base64.decode(e.body,t.body=r.newBuffer(r.base64.length(e.body)),0):e.body.length&&(t.body=e.body)),e.error){case"MELODY_ERROR_NONE":case 0:t.error=0;break;case"MELODY_ERROR_MISS_ACCOUNT":case 1:t.error=1;break;case"MELODY_ERROR_SOMETHING_CRASH":case 2:t.error=2;break;case"MELODY_ERROR_CMD_UNSUPPORT":case 3:t.error=3;break;case"MELODY_ERROR_CHAPTER_EMPTY":case 4:t.error=4;break;case"MELODY_ERROR_LEVEL_EMPTY":case 5:t.error=5;break;case"MELODY_ERROR_HEART_NOT_ENOUGH":case 6:t.error=6;break;case"MELODY_ERROR_INVALID_ID":case 7:t.error=7}return null!=e.endpoint&&(t.endpoint=String(e.endpoint)),t},a.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.token="",n.sessionId="",n.cmd=t.enums===String?"MELODY_CMD_UNKNOW":0,r.Long){var a=new r.Long(0,0,!1);n.timestamp=t.longs===String?a.toString():t.longs===Number?a.toNumber():a}else n.timestamp=t.longs===String?"0":0;t.bytes===String?n.body="":(n.body=[],t.bytes!==Array&&(n.body=r.newBuffer(n.body))),n.error=t.enums===String?"MELODY_ERROR_NONE":0,n.endpoint=""}return null!=e.token&&e.hasOwnProperty("token")&&(n.token=e.token),null!=e.sessionId&&e.hasOwnProperty("sessionId")&&(n.sessionId=e.sessionId),null!=e.cmd&&e.hasOwnProperty("cmd")&&(n.cmd=t.enums===String?i.phoenix.melody.MELODY_CMD[e.cmd]:e.cmd),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"===typeof e.timestamp?n.timestamp=t.longs===String?String(e.timestamp):e.timestamp:n.timestamp=t.longs===String?r.Long.prototype.toString.call(e.timestamp):t.longs===Number?new r.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber():e.timestamp),null!=e.body&&e.hasOwnProperty("body")&&(n.body=t.bytes===String?r.base64.encode(e.body,0,e.body.length):t.bytes===Array?Array.prototype.slice.call(e.body):e.body),null!=e.error&&e.hasOwnProperty("error")&&(n.error=t.enums===String?i.phoenix.melody.MELODY_ERROR[e.error]:e.error),null!=e.endpoint&&e.hasOwnProperty("endpoint")&&(n.endpoint=e.endpoint),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyError=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.content="",a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.content&&Object.hasOwnProperty.call(e,"content")&&t.uint32(10).string(e.content),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyError;e.pos<r;){var o=e.uint32();if(o>>>3===1)a.content=e.string();else e.skipType(7&o)}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.content&&e.hasOwnProperty("content")&&!r.isString(e.content)?"content: string expected":null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyError)return e;var t=new i.phoenix.melody.MelodyError;return null!=e.content&&(t.content=String(e.content)),t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.content=""),null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyPing=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.id=0,a.prototype.sendAt=r.Long?r.Long.fromBits(0,0,!1):0,a.prototype.receiveAt=r.Long?r.Long.fromBits(0,0,!1):0,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.sendAt&&Object.hasOwnProperty.call(e,"sendAt")&&t.uint32(16).int64(e.sendAt),null!=e.receiveAt&&Object.hasOwnProperty.call(e,"receiveAt")&&t.uint32(24).int64(e.receiveAt),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyPing;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.id=e.int32();break;case 2:a.sendAt=e.int64();break;case 3:a.receiveAt=e.int64();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!r.isInteger(e.id)?"id: integer expected":null==e.sendAt||!e.hasOwnProperty("sendAt")||r.isInteger(e.sendAt)||e.sendAt&&r.isInteger(e.sendAt.low)&&r.isInteger(e.sendAt.high)?null==e.receiveAt||!e.hasOwnProperty("receiveAt")||r.isInteger(e.receiveAt)||e.receiveAt&&r.isInteger(e.receiveAt.low)&&r.isInteger(e.receiveAt.high)?null:"receiveAt: integer|Long expected":"sendAt: integer|Long expected"},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyPing)return e;var t=new i.phoenix.melody.MelodyPing;return null!=e.id&&(t.id=0|e.id),null!=e.sendAt&&(r.Long?(t.sendAt=r.Long.fromValue(e.sendAt)).unsigned=!1:"string"===typeof e.sendAt?t.sendAt=parseInt(e.sendAt,10):"number"===typeof e.sendAt?t.sendAt=e.sendAt:"object"===typeof e.sendAt&&(t.sendAt=new r.LongBits(e.sendAt.low>>>0,e.sendAt.high>>>0).toNumber())),null!=e.receiveAt&&(r.Long?(t.receiveAt=r.Long.fromValue(e.receiveAt)).unsigned=!1:"string"===typeof e.receiveAt?t.receiveAt=parseInt(e.receiveAt,10):"number"===typeof e.receiveAt?t.receiveAt=e.receiveAt:"object"===typeof e.receiveAt&&(t.receiveAt=new r.LongBits(e.receiveAt.low>>>0,e.receiveAt.high>>>0).toNumber())),t},a.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.id=0,r.Long){var i=new r.Long(0,0,!1);n.sendAt=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.sendAt=t.longs===String?"0":0;if(r.Long){i=new r.Long(0,0,!1);n.receiveAt=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.receiveAt=t.longs===String?"0":0}return null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.sendAt&&e.hasOwnProperty("sendAt")&&("number"===typeof e.sendAt?n.sendAt=t.longs===String?String(e.sendAt):e.sendAt:n.sendAt=t.longs===String?r.Long.prototype.toString.call(e.sendAt):t.longs===Number?new r.LongBits(e.sendAt.low>>>0,e.sendAt.high>>>0).toNumber():e.sendAt),null!=e.receiveAt&&e.hasOwnProperty("receiveAt")&&("number"===typeof e.receiveAt?n.receiveAt=t.longs===String?String(e.receiveAt):e.receiveAt:n.receiveAt=t.longs===String?r.Long.prototype.toString.call(e.receiveAt):t.longs===Number?new r.LongBits(e.receiveAt.low>>>0,e.receiveAt.high>>>0).toNumber():e.receiveAt),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyReqConfig=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.version="",a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(10).string(e.version),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyReqConfig;e.pos<r;){var o=e.uint32();if(o>>>3===1)a.version=e.string();else e.skipType(7&o)}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.version&&e.hasOwnProperty("version")&&!r.isString(e.version)?"version: string expected":null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyReqConfig)return e;var t=new i.phoenix.melody.MelodyReqConfig;return null!=e.version&&(t.version=String(e.version)),t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.version=""),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyResConfig=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.version="",a.prototype.config=null,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(10).string(e.version),null!=e.config&&Object.hasOwnProperty.call(e,"config")&&i.phoenix.melody.MelodyConfig.encode(e.config,t.uint32(18).fork()).ldelim(),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyResConfig;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.version=e.string();break;case 2:a.config=i.phoenix.melody.MelodyConfig.decode(e,e.uint32());break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.version&&e.hasOwnProperty("version")&&!r.isString(e.version))return"version: string expected";if(null!=e.config&&e.hasOwnProperty("config")){var t=i.phoenix.melody.MelodyConfig.verify(e.config);if(t)return"config."+t}return null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyResConfig)return e;var t=new i.phoenix.melody.MelodyResConfig;if(null!=e.version&&(t.version=String(e.version)),null!=e.config){if("object"!==typeof e.config)throw TypeError(".phoenix.melody.MelodyResConfig.config: object expected");t.config=i.phoenix.melody.MelodyConfig.fromObject(e.config)}return t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.version="",n.config=null),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.config&&e.hasOwnProperty("config")&&(n.config=i.phoenix.melody.MelodyConfig.toObject(e.config,t)),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyReqPlayerLogin=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyReqPlayerLogin;e.pos<r;){var o=e.uint32();e.skipType(7&o)}return a},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!==typeof e||null===e?"object expected":null},r.fromObject=function(e){return e instanceof i.phoenix.melody.MelodyReqPlayerLogin?e:new i.phoenix.melody.MelodyReqPlayerLogin},r.toObject=function(){return{}},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),a.MelodyResPlayerLogin=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.sessionId="",a.prototype.profile=null,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.sessionId&&Object.hasOwnProperty.call(e,"sessionId")&&t.uint32(10).string(e.sessionId),null!=e.profile&&Object.hasOwnProperty.call(e,"profile")&&i.phoenix.melody.MelodyProfilePlayer.encode(e.profile,t.uint32(18).fork()).ldelim(),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyResPlayerLogin;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.sessionId=e.string();break;case 2:a.profile=i.phoenix.melody.MelodyProfilePlayer.decode(e,e.uint32());break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.sessionId&&e.hasOwnProperty("sessionId")&&!r.isString(e.sessionId))return"sessionId: string expected";if(null!=e.profile&&e.hasOwnProperty("profile")){var t=i.phoenix.melody.MelodyProfilePlayer.verify(e.profile);if(t)return"profile."+t}return null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyResPlayerLogin)return e;var t=new i.phoenix.melody.MelodyResPlayerLogin;if(null!=e.sessionId&&(t.sessionId=String(e.sessionId)),null!=e.profile){if("object"!==typeof e.profile)throw TypeError(".phoenix.melody.MelodyResPlayerLogin.profile: object expected");t.profile=i.phoenix.melody.MelodyProfilePlayer.fromObject(e.profile)}return t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.sessionId="",n.profile=null),null!=e.sessionId&&e.hasOwnProperty("sessionId")&&(n.sessionId=e.sessionId),null!=e.profile&&e.hasOwnProperty("profile")&&(n.profile=i.phoenix.melody.MelodyProfilePlayer.toObject(e.profile,t)),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyReqChapter=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.chapterId=0,a.prototype.getConfig=!1,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.chapterId&&Object.hasOwnProperty.call(e,"chapterId")&&t.uint32(8).int32(e.chapterId),null!=e.getConfig&&Object.hasOwnProperty.call(e,"getConfig")&&t.uint32(16).bool(e.getConfig),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyReqChapter;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.chapterId=e.int32();break;case 2:a.getConfig=e.bool();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.chapterId&&e.hasOwnProperty("chapterId")&&!r.isInteger(e.chapterId)?"chapterId: integer expected":null!=e.getConfig&&e.hasOwnProperty("getConfig")&&"boolean"!==typeof e.getConfig?"getConfig: boolean expected":null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyReqChapter)return e;var t=new i.phoenix.melody.MelodyReqChapter;return null!=e.chapterId&&(t.chapterId=0|e.chapterId),null!=e.getConfig&&(t.getConfig=Boolean(e.getConfig)),t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.chapterId=0,n.getConfig=!1),null!=e.chapterId&&e.hasOwnProperty("chapterId")&&(n.chapterId=e.chapterId),null!=e.getConfig&&e.hasOwnProperty("getConfig")&&(n.getConfig=e.getConfig),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyResChapter=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.chapterId=0,a.prototype.chapterConfig=null,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.chapterId&&Object.hasOwnProperty.call(e,"chapterId")&&t.uint32(8).int32(e.chapterId),null!=e.chapterConfig&&Object.hasOwnProperty.call(e,"chapterConfig")&&i.phoenix.melody.MelodyChapterConfig.encode(e.chapterConfig,t.uint32(26).fork()).ldelim(),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyResChapter;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.chapterId=e.int32();break;case 3:a.chapterConfig=i.phoenix.melody.MelodyChapterConfig.decode(e,e.uint32());break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.chapterId&&e.hasOwnProperty("chapterId")&&!r.isInteger(e.chapterId))return"chapterId: integer expected";if(null!=e.chapterConfig&&e.hasOwnProperty("chapterConfig")){var t=i.phoenix.melody.MelodyChapterConfig.verify(e.chapterConfig);if(t)return"chapterConfig."+t}return null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyResChapter)return e;var t=new i.phoenix.melody.MelodyResChapter;if(null!=e.chapterId&&(t.chapterId=0|e.chapterId),null!=e.chapterConfig){if("object"!==typeof e.chapterConfig)throw TypeError(".phoenix.melody.MelodyResChapter.chapterConfig: object expected");t.chapterConfig=i.phoenix.melody.MelodyChapterConfig.fromObject(e.chapterConfig)}return t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.chapterId=0,n.chapterConfig=null),null!=e.chapterId&&e.hasOwnProperty("chapterId")&&(n.chapterId=e.chapterId),null!=e.chapterConfig&&e.hasOwnProperty("chapterConfig")&&(n.chapterConfig=i.phoenix.melody.MelodyChapterConfig.toObject(e.chapterConfig,t)),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyReqPlay=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.levelId=0,a.prototype.getConfig=!1,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.levelId&&Object.hasOwnProperty.call(e,"levelId")&&t.uint32(8).int32(e.levelId),null!=e.getConfig&&Object.hasOwnProperty.call(e,"getConfig")&&t.uint32(16).bool(e.getConfig),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyReqPlay;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.levelId=e.int32();break;case 2:a.getConfig=e.bool();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.levelId&&e.hasOwnProperty("levelId")&&!r.isInteger(e.levelId)?"levelId: integer expected":null!=e.getConfig&&e.hasOwnProperty("getConfig")&&"boolean"!==typeof e.getConfig?"getConfig: boolean expected":null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyReqPlay)return e;var t=new i.phoenix.melody.MelodyReqPlay;return null!=e.levelId&&(t.levelId=0|e.levelId),null!=e.getConfig&&(t.getConfig=Boolean(e.getConfig)),t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.levelId=0,n.getConfig=!1),null!=e.levelId&&e.hasOwnProperty("levelId")&&(n.levelId=e.levelId),null!=e.getConfig&&e.hasOwnProperty("getConfig")&&(n.getConfig=e.getConfig),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyResPlay=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.levelId=0,a.prototype.level=null,a.prototype.levelConfig=null,a.prototype.hearts=0,a.prototype.heartLast=r.Long?r.Long.fromBits(0,0,!1):0,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.levelId&&Object.hasOwnProperty.call(e,"levelId")&&t.uint32(8).int32(e.levelId),null!=e.level&&Object.hasOwnProperty.call(e,"level")&&i.phoenix.melody.MelodyProfileLevel.encode(e.level,t.uint32(18).fork()).ldelim(),null!=e.levelConfig&&Object.hasOwnProperty.call(e,"levelConfig")&&i.phoenix.melody.MelodyLevelConfig.encode(e.levelConfig,t.uint32(26).fork()).ldelim(),null!=e.hearts&&Object.hasOwnProperty.call(e,"hearts")&&t.uint32(32).int32(e.hearts),null!=e.heartLast&&Object.hasOwnProperty.call(e,"heartLast")&&t.uint32(40).int64(e.heartLast),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyResPlay;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.levelId=e.int32();break;case 2:a.level=i.phoenix.melody.MelodyProfileLevel.decode(e,e.uint32());break;case 3:a.levelConfig=i.phoenix.melody.MelodyLevelConfig.decode(e,e.uint32());break;case 4:a.hearts=e.int32();break;case 5:a.heartLast=e.int64();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.levelId&&e.hasOwnProperty("levelId")&&!r.isInteger(e.levelId))return"levelId: integer expected";var t;if(null!=e.level&&e.hasOwnProperty("level")&&(t=i.phoenix.melody.MelodyProfileLevel.verify(e.level)))return"level."+t;if(null!=e.levelConfig&&e.hasOwnProperty("levelConfig")&&(t=i.phoenix.melody.MelodyLevelConfig.verify(e.levelConfig)))return"levelConfig."+t;return null!=e.hearts&&e.hasOwnProperty("hearts")&&!r.isInteger(e.hearts)?"hearts: integer expected":null==e.heartLast||!e.hasOwnProperty("heartLast")||r.isInteger(e.heartLast)||e.heartLast&&r.isInteger(e.heartLast.low)&&r.isInteger(e.heartLast.high)?null:"heartLast: integer|Long expected"},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyResPlay)return e;var t=new i.phoenix.melody.MelodyResPlay;if(null!=e.levelId&&(t.levelId=0|e.levelId),null!=e.level){if("object"!==typeof e.level)throw TypeError(".phoenix.melody.MelodyResPlay.level: object expected");t.level=i.phoenix.melody.MelodyProfileLevel.fromObject(e.level)}if(null!=e.levelConfig){if("object"!==typeof e.levelConfig)throw TypeError(".phoenix.melody.MelodyResPlay.levelConfig: object expected");t.levelConfig=i.phoenix.melody.MelodyLevelConfig.fromObject(e.levelConfig)}return null!=e.hearts&&(t.hearts=0|e.hearts),null!=e.heartLast&&(r.Long?(t.heartLast=r.Long.fromValue(e.heartLast)).unsigned=!1:"string"===typeof e.heartLast?t.heartLast=parseInt(e.heartLast,10):"number"===typeof e.heartLast?t.heartLast=e.heartLast:"object"===typeof e.heartLast&&(t.heartLast=new r.LongBits(e.heartLast.low>>>0,e.heartLast.high>>>0).toNumber())),t},a.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.levelId=0,n.level=null,n.levelConfig=null,n.hearts=0,r.Long){var a=new r.Long(0,0,!1);n.heartLast=t.longs===String?a.toString():t.longs===Number?a.toNumber():a}else n.heartLast=t.longs===String?"0":0;return null!=e.levelId&&e.hasOwnProperty("levelId")&&(n.levelId=e.levelId),null!=e.level&&e.hasOwnProperty("level")&&(n.level=i.phoenix.melody.MelodyProfileLevel.toObject(e.level,t)),null!=e.levelConfig&&e.hasOwnProperty("levelConfig")&&(n.levelConfig=i.phoenix.melody.MelodyLevelConfig.toObject(e.levelConfig,t)),null!=e.hearts&&e.hasOwnProperty("hearts")&&(n.hearts=e.hearts),null!=e.heartLast&&e.hasOwnProperty("heartLast")&&("number"===typeof e.heartLast?n.heartLast=t.longs===String?String(e.heartLast):e.heartLast:n.heartLast=t.longs===String?r.Long.prototype.toString.call(e.heartLast):t.longs===Number?new r.LongBits(e.heartLast.low>>>0,e.heartLast.high>>>0).toNumber():e.heartLast),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyReqEnd=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.levelId=0,a.prototype.score=0,a.prototype.isComplete=!1,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.levelId&&Object.hasOwnProperty.call(e,"levelId")&&t.uint32(8).int32(e.levelId),null!=e.score&&Object.hasOwnProperty.call(e,"score")&&t.uint32(16).int32(e.score),null!=e.isComplete&&Object.hasOwnProperty.call(e,"isComplete")&&t.uint32(24).bool(e.isComplete),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyReqEnd;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.levelId=e.int32();break;case 2:a.score=e.int32();break;case 3:a.isComplete=e.bool();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.levelId&&e.hasOwnProperty("levelId")&&!r.isInteger(e.levelId)?"levelId: integer expected":null!=e.score&&e.hasOwnProperty("score")&&!r.isInteger(e.score)?"score: integer expected":null!=e.isComplete&&e.hasOwnProperty("isComplete")&&"boolean"!==typeof e.isComplete?"isComplete: boolean expected":null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyReqEnd)return e;var t=new i.phoenix.melody.MelodyReqEnd;return null!=e.levelId&&(t.levelId=0|e.levelId),null!=e.score&&(t.score=0|e.score),null!=e.isComplete&&(t.isComplete=Boolean(e.isComplete)),t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.levelId=0,n.score=0,n.isComplete=!1),null!=e.levelId&&e.hasOwnProperty("levelId")&&(n.levelId=e.levelId),null!=e.score&&e.hasOwnProperty("score")&&(n.score=e.score),null!=e.isComplete&&e.hasOwnProperty("isComplete")&&(n.isComplete=e.isComplete),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyResEnd=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.level=null,a.prototype.hearts=0,a.prototype.currentChapter=0,a.prototype.currentLevel=0,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.level&&Object.hasOwnProperty.call(e,"level")&&i.phoenix.melody.MelodyProfileLevel.encode(e.level,t.uint32(10).fork()).ldelim(),null!=e.hearts&&Object.hasOwnProperty.call(e,"hearts")&&t.uint32(16).int32(e.hearts),null!=e.currentChapter&&Object.hasOwnProperty.call(e,"currentChapter")&&t.uint32(24).int32(e.currentChapter),null!=e.currentLevel&&Object.hasOwnProperty.call(e,"currentLevel")&&t.uint32(32).int32(e.currentLevel),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyResEnd;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.level=i.phoenix.melody.MelodyProfileLevel.decode(e,e.uint32());break;case 2:a.hearts=e.int32();break;case 3:a.currentChapter=e.int32();break;case 4:a.currentLevel=e.int32();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.level&&e.hasOwnProperty("level")){var t=i.phoenix.melody.MelodyProfileLevel.verify(e.level);if(t)return"level."+t}return null!=e.hearts&&e.hasOwnProperty("hearts")&&!r.isInteger(e.hearts)?"hearts: integer expected":null!=e.currentChapter&&e.hasOwnProperty("currentChapter")&&!r.isInteger(e.currentChapter)?"currentChapter: integer expected":null!=e.currentLevel&&e.hasOwnProperty("currentLevel")&&!r.isInteger(e.currentLevel)?"currentLevel: integer expected":null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyResEnd)return e;var t=new i.phoenix.melody.MelodyResEnd;if(null!=e.level){if("object"!==typeof e.level)throw TypeError(".phoenix.melody.MelodyResEnd.level: object expected");t.level=i.phoenix.melody.MelodyProfileLevel.fromObject(e.level)}return null!=e.hearts&&(t.hearts=0|e.hearts),null!=e.currentChapter&&(t.currentChapter=0|e.currentChapter),null!=e.currentLevel&&(t.currentLevel=0|e.currentLevel),t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.level=null,n.hearts=0,n.currentChapter=0,n.currentLevel=0),null!=e.level&&e.hasOwnProperty("level")&&(n.level=i.phoenix.melody.MelodyProfileLevel.toObject(e.level,t)),null!=e.hearts&&e.hasOwnProperty("hearts")&&(n.hearts=e.hearts),null!=e.currentChapter&&e.hasOwnProperty("currentChapter")&&(n.currentChapter=e.currentChapter),null!=e.currentLevel&&e.hasOwnProperty("currentLevel")&&(n.currentLevel=e.currentLevel),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyRanking=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.avatar="",a.prototype.displayName="",a.prototype.score="",a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(18).string(e.avatar),null!=e.displayName&&Object.hasOwnProperty.call(e,"displayName")&&t.uint32(26).string(e.displayName),null!=e.score&&Object.hasOwnProperty.call(e,"score")&&t.uint32(34).string(e.score),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyRanking;e.pos<r;){var o=e.uint32();switch(o>>>3){case 2:a.avatar=e.string();break;case 3:a.displayName=e.string();break;case 4:a.score=e.string();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.avatar&&e.hasOwnProperty("avatar")&&!r.isString(e.avatar)?"avatar: string expected":null!=e.displayName&&e.hasOwnProperty("displayName")&&!r.isString(e.displayName)?"displayName: string expected":null!=e.score&&e.hasOwnProperty("score")&&!r.isString(e.score)?"score: string expected":null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyRanking)return e;var t=new i.phoenix.melody.MelodyRanking;return null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.displayName&&(t.displayName=String(e.displayName)),null!=e.score&&(t.score=String(e.score)),t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.avatar="",n.displayName="",n.score=""),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.displayName&&e.hasOwnProperty("displayName")&&(n.displayName=e.displayName),null!=e.score&&e.hasOwnProperty("score")&&(n.score=e.score),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyReqPlayerLogout=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyReqPlayerLogout;e.pos<r;){var o=e.uint32();e.skipType(7&o)}return a},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!==typeof e||null===e?"object expected":null},r.fromObject=function(e){return e instanceof i.phoenix.melody.MelodyReqPlayerLogout?e:new i.phoenix.melody.MelodyReqPlayerLogout},r.toObject=function(){return{}},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),a.MelodyResPlayerLogout=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyResPlayerLogout;e.pos<r;){var o=e.uint32();e.skipType(7&o)}return a},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!==typeof e||null===e?"object expected":null},r.fromObject=function(e){return e instanceof i.phoenix.melody.MelodyResPlayerLogout?e:new i.phoenix.melody.MelodyResPlayerLogout},r.toObject=function(){return{}},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),a.MelodyReqProfileReset=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyReqProfileReset;e.pos<r;){var o=e.uint32();e.skipType(7&o)}return a},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!==typeof e||null===e?"object expected":null},r.fromObject=function(e){return e instanceof i.phoenix.melody.MelodyReqProfileReset?e:new i.phoenix.melody.MelodyReqProfileReset},r.toObject=function(){return{}},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),a.MelodyResProfileReset=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.prototype.result=!1,r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).bool(e.result),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyResProfileReset;e.pos<r;){var o=e.uint32();if(o>>>3===1)a.result=e.bool();else e.skipType(7&o)}return a},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.result&&e.hasOwnProperty("result")&&"boolean"!==typeof e.result?"result: boolean expected":null},r.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyResProfileReset)return e;var t=new i.phoenix.melody.MelodyResProfileReset;return null!=e.result&&(t.result=Boolean(e.result)),t},r.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.result=!1),null!=e.result&&e.hasOwnProperty("result")&&(n.result=e.result),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),a.MelodyReqProfileChangeHearts=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.hearts=0,a.prototype.heartReloadTime=r.Long?r.Long.fromBits(0,0,!1):0,a.prototype.heartMax=r.Long?r.Long.fromBits(0,0,!1):0,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.hearts&&Object.hasOwnProperty.call(e,"hearts")&&t.uint32(8).int32(e.hearts),null!=e.heartReloadTime&&Object.hasOwnProperty.call(e,"heartReloadTime")&&t.uint32(16).int64(e.heartReloadTime),null!=e.heartMax&&Object.hasOwnProperty.call(e,"heartMax")&&t.uint32(24).int64(e.heartMax),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyReqProfileChangeHearts;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.hearts=e.int32();break;case 2:a.heartReloadTime=e.int64();break;case 3:a.heartMax=e.int64();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.hearts&&e.hasOwnProperty("hearts")&&!r.isInteger(e.hearts)?"hearts: integer expected":null==e.heartReloadTime||!e.hasOwnProperty("heartReloadTime")||r.isInteger(e.heartReloadTime)||e.heartReloadTime&&r.isInteger(e.heartReloadTime.low)&&r.isInteger(e.heartReloadTime.high)?null==e.heartMax||!e.hasOwnProperty("heartMax")||r.isInteger(e.heartMax)||e.heartMax&&r.isInteger(e.heartMax.low)&&r.isInteger(e.heartMax.high)?null:"heartMax: integer|Long expected":"heartReloadTime: integer|Long expected"},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyReqProfileChangeHearts)return e;var t=new i.phoenix.melody.MelodyReqProfileChangeHearts;return null!=e.hearts&&(t.hearts=0|e.hearts),null!=e.heartReloadTime&&(r.Long?(t.heartReloadTime=r.Long.fromValue(e.heartReloadTime)).unsigned=!1:"string"===typeof e.heartReloadTime?t.heartReloadTime=parseInt(e.heartReloadTime,10):"number"===typeof e.heartReloadTime?t.heartReloadTime=e.heartReloadTime:"object"===typeof e.heartReloadTime&&(t.heartReloadTime=new r.LongBits(e.heartReloadTime.low>>>0,e.heartReloadTime.high>>>0).toNumber())),null!=e.heartMax&&(r.Long?(t.heartMax=r.Long.fromValue(e.heartMax)).unsigned=!1:"string"===typeof e.heartMax?t.heartMax=parseInt(e.heartMax,10):"number"===typeof e.heartMax?t.heartMax=e.heartMax:"object"===typeof e.heartMax&&(t.heartMax=new r.LongBits(e.heartMax.low>>>0,e.heartMax.high>>>0).toNumber())),t},a.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.hearts=0,r.Long){var i=new r.Long(0,0,!1);n.heartReloadTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.heartReloadTime=t.longs===String?"0":0;if(r.Long){i=new r.Long(0,0,!1);n.heartMax=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.heartMax=t.longs===String?"0":0}return null!=e.hearts&&e.hasOwnProperty("hearts")&&(n.hearts=e.hearts),null!=e.heartReloadTime&&e.hasOwnProperty("heartReloadTime")&&("number"===typeof e.heartReloadTime?n.heartReloadTime=t.longs===String?String(e.heartReloadTime):e.heartReloadTime:n.heartReloadTime=t.longs===String?r.Long.prototype.toString.call(e.heartReloadTime):t.longs===Number?new r.LongBits(e.heartReloadTime.low>>>0,e.heartReloadTime.high>>>0).toNumber():e.heartReloadTime),null!=e.heartMax&&e.hasOwnProperty("heartMax")&&("number"===typeof e.heartMax?n.heartMax=t.longs===String?String(e.heartMax):e.heartMax:n.heartMax=t.longs===String?r.Long.prototype.toString.call(e.heartMax):t.longs===Number?new r.LongBits(e.heartMax.low>>>0,e.heartMax.high>>>0).toNumber():e.heartMax),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyResProfileChangeHearts=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.prototype.result=!1,r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).bool(e.result),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyResProfileChangeHearts;e.pos<r;){var o=e.uint32();if(o>>>3===1)a.result=e.bool();else e.skipType(7&o)}return a},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.result&&e.hasOwnProperty("result")&&"boolean"!==typeof e.result?"result: boolean expected":null},r.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyResProfileChangeHearts)return e;var t=new i.phoenix.melody.MelodyResProfileChangeHearts;return null!=e.result&&(t.result=Boolean(e.result)),t},r.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.result=!1),null!=e.result&&e.hasOwnProperty("result")&&(n.result=e.result),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),a.MelodyReqScreenTracking=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.userId="",a.prototype.agentId="",a.prototype.timestamp="",a.prototype.eventName="",a.prototype.serviceName="",a.prototype.screenName="",a.prototype.componentName="",a.prototype.iconName="",a.prototype.buttonName="",a.prototype.status="",a.prototype.levelId=0,a.prototype.score=0,a.prototype.star=0,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(10).string(e.userId),null!=e.agentId&&Object.hasOwnProperty.call(e,"agentId")&&t.uint32(18).string(e.agentId),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(26).string(e.timestamp),null!=e.eventName&&Object.hasOwnProperty.call(e,"eventName")&&t.uint32(34).string(e.eventName),null!=e.serviceName&&Object.hasOwnProperty.call(e,"serviceName")&&t.uint32(42).string(e.serviceName),null!=e.screenName&&Object.hasOwnProperty.call(e,"screenName")&&t.uint32(50).string(e.screenName),null!=e.componentName&&Object.hasOwnProperty.call(e,"componentName")&&t.uint32(58).string(e.componentName),null!=e.iconName&&Object.hasOwnProperty.call(e,"iconName")&&t.uint32(66).string(e.iconName),null!=e.buttonName&&Object.hasOwnProperty.call(e,"buttonName")&&t.uint32(74).string(e.buttonName),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(82).string(e.status),null!=e.levelId&&Object.hasOwnProperty.call(e,"levelId")&&t.uint32(88).int32(e.levelId),null!=e.score&&Object.hasOwnProperty.call(e,"score")&&t.uint32(96).int32(e.score),null!=e.star&&Object.hasOwnProperty.call(e,"star")&&t.uint32(104).int32(e.star),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyReqScreenTracking;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.userId=e.string();break;case 2:a.agentId=e.string();break;case 3:a.timestamp=e.string();break;case 4:a.eventName=e.string();break;case 5:a.serviceName=e.string();break;case 6:a.screenName=e.string();break;case 7:a.componentName=e.string();break;case 8:a.iconName=e.string();break;case 9:a.buttonName=e.string();break;case 10:a.status=e.string();break;case 11:a.levelId=e.int32();break;case 12:a.score=e.int32();break;case 13:a.star=e.int32();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.userId&&e.hasOwnProperty("userId")&&!r.isString(e.userId)?"userId: string expected":null!=e.agentId&&e.hasOwnProperty("agentId")&&!r.isString(e.agentId)?"agentId: string expected":null!=e.timestamp&&e.hasOwnProperty("timestamp")&&!r.isString(e.timestamp)?"timestamp: string expected":null!=e.eventName&&e.hasOwnProperty("eventName")&&!r.isString(e.eventName)?"eventName: string expected":null!=e.serviceName&&e.hasOwnProperty("serviceName")&&!r.isString(e.serviceName)?"serviceName: string expected":null!=e.screenName&&e.hasOwnProperty("screenName")&&!r.isString(e.screenName)?"screenName: string expected":null!=e.componentName&&e.hasOwnProperty("componentName")&&!r.isString(e.componentName)?"componentName: string expected":null!=e.iconName&&e.hasOwnProperty("iconName")&&!r.isString(e.iconName)?"iconName: string expected":null!=e.buttonName&&e.hasOwnProperty("buttonName")&&!r.isString(e.buttonName)?"buttonName: string expected":null!=e.status&&e.hasOwnProperty("status")&&!r.isString(e.status)?"status: string expected":null!=e.levelId&&e.hasOwnProperty("levelId")&&!r.isInteger(e.levelId)?"levelId: integer expected":null!=e.score&&e.hasOwnProperty("score")&&!r.isInteger(e.score)?"score: integer expected":null!=e.star&&e.hasOwnProperty("star")&&!r.isInteger(e.star)?"star: integer expected":null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyReqScreenTracking)return e;var t=new i.phoenix.melody.MelodyReqScreenTracking;return null!=e.userId&&(t.userId=String(e.userId)),null!=e.agentId&&(t.agentId=String(e.agentId)),null!=e.timestamp&&(t.timestamp=String(e.timestamp)),null!=e.eventName&&(t.eventName=String(e.eventName)),null!=e.serviceName&&(t.serviceName=String(e.serviceName)),null!=e.screenName&&(t.screenName=String(e.screenName)),null!=e.componentName&&(t.componentName=String(e.componentName)),null!=e.iconName&&(t.iconName=String(e.iconName)),null!=e.buttonName&&(t.buttonName=String(e.buttonName)),null!=e.status&&(t.status=String(e.status)),null!=e.levelId&&(t.levelId=0|e.levelId),null!=e.score&&(t.score=0|e.score),null!=e.star&&(t.star=0|e.star),t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.userId="",n.agentId="",n.timestamp="",n.eventName="",n.serviceName="",n.screenName="",n.componentName="",n.iconName="",n.buttonName="",n.status="",n.levelId=0,n.score=0,n.star=0),null!=e.userId&&e.hasOwnProperty("userId")&&(n.userId=e.userId),null!=e.agentId&&e.hasOwnProperty("agentId")&&(n.agentId=e.agentId),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&(n.timestamp=e.timestamp),null!=e.eventName&&e.hasOwnProperty("eventName")&&(n.eventName=e.eventName),null!=e.serviceName&&e.hasOwnProperty("serviceName")&&(n.serviceName=e.serviceName),null!=e.screenName&&e.hasOwnProperty("screenName")&&(n.screenName=e.screenName),null!=e.componentName&&e.hasOwnProperty("componentName")&&(n.componentName=e.componentName),null!=e.iconName&&e.hasOwnProperty("iconName")&&(n.iconName=e.iconName),null!=e.buttonName&&e.hasOwnProperty("buttonName")&&(n.buttonName=e.buttonName),null!=e.status&&e.hasOwnProperty("status")&&(n.status=e.status),null!=e.levelId&&e.hasOwnProperty("levelId")&&(n.levelId=e.levelId),null!=e.score&&e.hasOwnProperty("score")&&(n.score=e.score),null!=e.star&&e.hasOwnProperty("star")&&(n.star=e.star),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyResScreenTracking=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.prototype.result=!1,r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),null!=e.result&&Object.hasOwnProperty.call(e,"result")&&t.uint32(8).bool(e.result),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyResScreenTracking;e.pos<r;){var o=e.uint32();if(o>>>3===1)a.result=e.bool();else e.skipType(7&o)}return a},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.result&&e.hasOwnProperty("result")&&"boolean"!==typeof e.result?"result: boolean expected":null},r.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyResScreenTracking)return e;var t=new i.phoenix.melody.MelodyResScreenTracking;return null!=e.result&&(t.result=Boolean(e.result)),t},r.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.result=!1),null!=e.result&&e.hasOwnProperty("result")&&(n.result=e.result),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),a.MELODY_ERROR=function(){var e={},t=Object.create(e);return t[e[0]="MELODY_ERROR_NONE"]=0,t[e[1]="MELODY_ERROR_MISS_ACCOUNT"]=1,t[e[2]="MELODY_ERROR_SOMETHING_CRASH"]=2,t[e[3]="MELODY_ERROR_CMD_UNSUPPORT"]=3,t[e[4]="MELODY_ERROR_CHAPTER_EMPTY"]=4,t[e[5]="MELODY_ERROR_LEVEL_EMPTY"]=5,t[e[6]="MELODY_ERROR_HEART_NOT_ENOUGH"]=6,t[e[7]="MELODY_ERROR_INVALID_ID"]=7,t}(),a.MELODY_CMD=function(){var e={},t=Object.create(e);return t[e[0]="MELODY_CMD_UNKNOW"]=0,t[e[1]="MELODY_CMD_PING"]=1,t[e[2]="MELODY_CMD_CONFIG"]=2,t[e[3]="MELODY_CMD_LOGIN"]=3,t[e[4]="MELODY_CMD_PLAYER_CHAPTER_GET"]=4,t[e[5]="MELODY_CMD_PLAYER_LEVEL_PLAY"]=5,t[e[6]="MELODY_CMD_PLAYER_LEVEL_END"]=6,t[e[7]="MELODY_CMD_PLAYER_LOG_OUT"]=7,t[e[8]="MELODY_CMD_PLAYER_HEATS"]=8,t[e[20]="MELODY_CMD_SCREEN_TRACKING"]=20,t[e[100]="MELODY_CMD_PROFILE_RESET"]=100,t[e[101]="MELODY_CMD_PROFILE_CHANGE_HEARTS"]=101,t}(),a.MELODY_CONNECT_STATUS=function(){var e={},t=Object.create(e);return t[e[0]="MELODY_CONNECT_STATUS_ONLINE"]=0,t[e[1]="MELODY_CONNECT_STATUS_OFFLINE"]=1,t}(),a.MelodyProfilePlayer=function(){function a(e){if(this.chapters=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.uid=r.Long?r.Long.fromBits(0,0,!1):0,a.prototype.avatar="",a.prototype.displayName="",a.prototype.hearts=0,a.prototype.heartLast=r.Long?r.Long.fromBits(0,0,!1):0,a.prototype.currentChapter=0,a.prototype.currentLevel=0,a.prototype.levelPlaying=0,a.prototype.chapters=r.emptyArray,a.prototype.version=r.Long?r.Long.fromBits(0,0,!1):0,a.prototype.backupVersion=r.Long?r.Long.fromBits(0,0,!1):0,a.create=function(e){return new a(e)},a.encode=function(e,t){if(t||(t=n.create()),null!=e.uid&&Object.hasOwnProperty.call(e,"uid")&&t.uint32(8).int64(e.uid),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(18).string(e.avatar),null!=e.displayName&&Object.hasOwnProperty.call(e,"displayName")&&t.uint32(26).string(e.displayName),null!=e.hearts&&Object.hasOwnProperty.call(e,"hearts")&&t.uint32(32).int32(e.hearts),null!=e.heartLast&&Object.hasOwnProperty.call(e,"heartLast")&&t.uint32(40).int64(e.heartLast),null!=e.currentChapter&&Object.hasOwnProperty.call(e,"currentChapter")&&t.uint32(48).int32(e.currentChapter),null!=e.currentLevel&&Object.hasOwnProperty.call(e,"currentLevel")&&t.uint32(56).int32(e.currentLevel),null!=e.levelPlaying&&Object.hasOwnProperty.call(e,"levelPlaying")&&t.uint32(64).int32(e.levelPlaying),null!=e.chapters&&e.chapters.length)for(var r=0;r<e.chapters.length;++r)i.phoenix.melody.MelodyProfileChapter.encode(e.chapters[r],t.uint32(162).fork()).ldelim();return null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(240).int64(e.version),null!=e.backupVersion&&Object.hasOwnProperty.call(e,"backupVersion")&&t.uint32(248).int64(e.backupVersion),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyProfilePlayer;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.uid=e.int64();break;case 2:a.avatar=e.string();break;case 3:a.displayName=e.string();break;case 4:a.hearts=e.int32();break;case 5:a.heartLast=e.int64();break;case 6:a.currentChapter=e.int32();break;case 7:a.currentLevel=e.int32();break;case 8:a.levelPlaying=e.int32();break;case 20:a.chapters&&a.chapters.length||(a.chapters=[]),a.chapters.push(i.phoenix.melody.MelodyProfileChapter.decode(e,e.uint32()));break;case 30:a.version=e.int64();break;case 31:a.backupVersion=e.int64();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.uid&&e.hasOwnProperty("uid")&&!r.isInteger(e.uid)&&!(e.uid&&r.isInteger(e.uid.low)&&r.isInteger(e.uid.high)))return"uid: integer|Long expected";if(null!=e.avatar&&e.hasOwnProperty("avatar")&&!r.isString(e.avatar))return"avatar: string expected";if(null!=e.displayName&&e.hasOwnProperty("displayName")&&!r.isString(e.displayName))return"displayName: string expected";if(null!=e.hearts&&e.hasOwnProperty("hearts")&&!r.isInteger(e.hearts))return"hearts: integer expected";if(null!=e.heartLast&&e.hasOwnProperty("heartLast")&&!r.isInteger(e.heartLast)&&!(e.heartLast&&r.isInteger(e.heartLast.low)&&r.isInteger(e.heartLast.high)))return"heartLast: integer|Long expected";if(null!=e.currentChapter&&e.hasOwnProperty("currentChapter")&&!r.isInteger(e.currentChapter))return"currentChapter: integer expected";if(null!=e.currentLevel&&e.hasOwnProperty("currentLevel")&&!r.isInteger(e.currentLevel))return"currentLevel: integer expected";if(null!=e.levelPlaying&&e.hasOwnProperty("levelPlaying")&&!r.isInteger(e.levelPlaying))return"levelPlaying: integer expected";if(null!=e.chapters&&e.hasOwnProperty("chapters")){if(!Array.isArray(e.chapters))return"chapters: array expected";for(var t=0;t<e.chapters.length;++t){var n=i.phoenix.melody.MelodyProfileChapter.verify(e.chapters[t]);if(n)return"chapters."+n}}return null==e.version||!e.hasOwnProperty("version")||r.isInteger(e.version)||e.version&&r.isInteger(e.version.low)&&r.isInteger(e.version.high)?null==e.backupVersion||!e.hasOwnProperty("backupVersion")||r.isInteger(e.backupVersion)||e.backupVersion&&r.isInteger(e.backupVersion.low)&&r.isInteger(e.backupVersion.high)?null:"backupVersion: integer|Long expected":"version: integer|Long expected"},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyProfilePlayer)return e;var t=new i.phoenix.melody.MelodyProfilePlayer;if(null!=e.uid&&(r.Long?(t.uid=r.Long.fromValue(e.uid)).unsigned=!1:"string"===typeof e.uid?t.uid=parseInt(e.uid,10):"number"===typeof e.uid?t.uid=e.uid:"object"===typeof e.uid&&(t.uid=new r.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber())),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.displayName&&(t.displayName=String(e.displayName)),null!=e.hearts&&(t.hearts=0|e.hearts),null!=e.heartLast&&(r.Long?(t.heartLast=r.Long.fromValue(e.heartLast)).unsigned=!1:"string"===typeof e.heartLast?t.heartLast=parseInt(e.heartLast,10):"number"===typeof e.heartLast?t.heartLast=e.heartLast:"object"===typeof e.heartLast&&(t.heartLast=new r.LongBits(e.heartLast.low>>>0,e.heartLast.high>>>0).toNumber())),null!=e.currentChapter&&(t.currentChapter=0|e.currentChapter),null!=e.currentLevel&&(t.currentLevel=0|e.currentLevel),null!=e.levelPlaying&&(t.levelPlaying=0|e.levelPlaying),e.chapters){if(!Array.isArray(e.chapters))throw TypeError(".phoenix.melody.MelodyProfilePlayer.chapters: array expected");t.chapters=[];for(var n=0;n<e.chapters.length;++n){if("object"!==typeof e.chapters[n])throw TypeError(".phoenix.melody.MelodyProfilePlayer.chapters: object expected");t.chapters[n]=i.phoenix.melody.MelodyProfileChapter.fromObject(e.chapters[n])}}return null!=e.version&&(r.Long?(t.version=r.Long.fromValue(e.version)).unsigned=!1:"string"===typeof e.version?t.version=parseInt(e.version,10):"number"===typeof e.version?t.version=e.version:"object"===typeof e.version&&(t.version=new r.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),null!=e.backupVersion&&(r.Long?(t.backupVersion=r.Long.fromValue(e.backupVersion)).unsigned=!1:"string"===typeof e.backupVersion?t.backupVersion=parseInt(e.backupVersion,10):"number"===typeof e.backupVersion?t.backupVersion=e.backupVersion:"object"===typeof e.backupVersion&&(t.backupVersion=new r.LongBits(e.backupVersion.low>>>0,e.backupVersion.high>>>0).toNumber())),t},a.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.chapters=[]),t.defaults){if(r.Long){var a=new r.Long(0,0,!1);n.uid=t.longs===String?a.toString():t.longs===Number?a.toNumber():a}else n.uid=t.longs===String?"0":0;if(n.avatar="",n.displayName="",n.hearts=0,r.Long){a=new r.Long(0,0,!1);n.heartLast=t.longs===String?a.toString():t.longs===Number?a.toNumber():a}else n.heartLast=t.longs===String?"0":0;if(n.currentChapter=0,n.currentLevel=0,n.levelPlaying=0,r.Long){a=new r.Long(0,0,!1);n.version=t.longs===String?a.toString():t.longs===Number?a.toNumber():a}else n.version=t.longs===String?"0":0;if(r.Long){a=new r.Long(0,0,!1);n.backupVersion=t.longs===String?a.toString():t.longs===Number?a.toNumber():a}else n.backupVersion=t.longs===String?"0":0}if(null!=e.uid&&e.hasOwnProperty("uid")&&("number"===typeof e.uid?n.uid=t.longs===String?String(e.uid):e.uid:n.uid=t.longs===String?r.Long.prototype.toString.call(e.uid):t.longs===Number?new r.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber():e.uid),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.displayName&&e.hasOwnProperty("displayName")&&(n.displayName=e.displayName),null!=e.hearts&&e.hasOwnProperty("hearts")&&(n.hearts=e.hearts),null!=e.heartLast&&e.hasOwnProperty("heartLast")&&("number"===typeof e.heartLast?n.heartLast=t.longs===String?String(e.heartLast):e.heartLast:n.heartLast=t.longs===String?r.Long.prototype.toString.call(e.heartLast):t.longs===Number?new r.LongBits(e.heartLast.low>>>0,e.heartLast.high>>>0).toNumber():e.heartLast),null!=e.currentChapter&&e.hasOwnProperty("currentChapter")&&(n.currentChapter=e.currentChapter),null!=e.currentLevel&&e.hasOwnProperty("currentLevel")&&(n.currentLevel=e.currentLevel),null!=e.levelPlaying&&e.hasOwnProperty("levelPlaying")&&(n.levelPlaying=e.levelPlaying),e.chapters&&e.chapters.length){n.chapters=[];for(var o=0;o<e.chapters.length;++o)n.chapters[o]=i.phoenix.melody.MelodyProfileChapter.toObject(e.chapters[o],t)}return null!=e.version&&e.hasOwnProperty("version")&&("number"===typeof e.version?n.version=t.longs===String?String(e.version):e.version:n.version=t.longs===String?r.Long.prototype.toString.call(e.version):t.longs===Number?new r.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),null!=e.backupVersion&&e.hasOwnProperty("backupVersion")&&("number"===typeof e.backupVersion?n.backupVersion=t.longs===String?String(e.backupVersion):e.backupVersion:n.backupVersion=t.longs===String?r.Long.prototype.toString.call(e.backupVersion):t.longs===Number?new r.LongBits(e.backupVersion.low>>>0,e.backupVersion.high>>>0).toNumber():e.backupVersion),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyProfileChapter=function(){function a(e){if(this.levels=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.id=0,a.prototype.levels=r.emptyArray,a.create=function(e){return new a(e)},a.encode=function(e,t){if(t||(t=n.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.levels&&e.levels.length)for(var r=0;r<e.levels.length;++r)i.phoenix.melody.MelodyProfileLevel.encode(e.levels[r],t.uint32(18).fork()).ldelim();return t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyProfileChapter;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.id=e.int32();break;case 2:a.levels&&a.levels.length||(a.levels=[]),a.levels.push(i.phoenix.melody.MelodyProfileLevel.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!r.isInteger(e.id))return"id: integer expected";if(null!=e.levels&&e.hasOwnProperty("levels")){if(!Array.isArray(e.levels))return"levels: array expected";for(var t=0;t<e.levels.length;++t){var n=i.phoenix.melody.MelodyProfileLevel.verify(e.levels[t]);if(n)return"levels."+n}}return null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyProfileChapter)return e;var t=new i.phoenix.melody.MelodyProfileChapter;if(null!=e.id&&(t.id=0|e.id),e.levels){if(!Array.isArray(e.levels))throw TypeError(".phoenix.melody.MelodyProfileChapter.levels: array expected");t.levels=[];for(var n=0;n<e.levels.length;++n){if("object"!==typeof e.levels[n])throw TypeError(".phoenix.melody.MelodyProfileChapter.levels: object expected");t.levels[n]=i.phoenix.melody.MelodyProfileLevel.fromObject(e.levels[n])}}return t},a.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.levels=[]),t.defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),e.levels&&e.levels.length){n.levels=[];for(var r=0;r<e.levels.length;++r)n.levels[r]=i.phoenix.melody.MelodyProfileLevel.toObject(e.levels[r],t)}return n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyProfileLevel=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.id=0,a.prototype.stars=0,a.prototype.highScore=0,a.prototype.badge=0,a.prototype.isComplete=!1,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.stars&&Object.hasOwnProperty.call(e,"stars")&&t.uint32(16).int32(e.stars),null!=e.highScore&&Object.hasOwnProperty.call(e,"highScore")&&t.uint32(24).int32(e.highScore),null!=e.badge&&Object.hasOwnProperty.call(e,"badge")&&t.uint32(32).int32(e.badge),null!=e.isComplete&&Object.hasOwnProperty.call(e,"isComplete")&&t.uint32(40).bool(e.isComplete),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyProfileLevel;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.id=e.int32();break;case 2:a.stars=e.int32();break;case 3:a.highScore=e.int32();break;case 4:a.badge=e.int32();break;case 5:a.isComplete=e.bool();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!r.isInteger(e.id))return"id: integer expected";if(null!=e.stars&&e.hasOwnProperty("stars")&&!r.isInteger(e.stars))return"stars: integer expected";if(null!=e.highScore&&e.hasOwnProperty("highScore")&&!r.isInteger(e.highScore))return"highScore: integer expected";if(null!=e.badge&&e.hasOwnProperty("badge"))switch(e.badge){default:return"badge: enum value expected";case 0:case 1:case 2:}return null!=e.isComplete&&e.hasOwnProperty("isComplete")&&"boolean"!==typeof e.isComplete?"isComplete: boolean expected":null},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyProfileLevel)return e;var t=new i.phoenix.melody.MelodyProfileLevel;switch(null!=e.id&&(t.id=0|e.id),null!=e.stars&&(t.stars=0|e.stars),null!=e.highScore&&(t.highScore=0|e.highScore),e.badge){case"MELODY_STEP_BADGE_NONE":case 0:t.badge=0;break;case"MELODY_STEP_BADGE_SILVER":case 1:t.badge=1;break;case"MELODY_STEP_BADGE_GOLDEN":case 2:t.badge=2}return null!=e.isComplete&&(t.isComplete=Boolean(e.isComplete)),t},a.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.stars=0,n.highScore=0,n.badge=t.enums===String?"MELODY_STEP_BADGE_NONE":0,n.isComplete=!1),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.stars&&e.hasOwnProperty("stars")&&(n.stars=e.stars),null!=e.highScore&&e.hasOwnProperty("highScore")&&(n.highScore=e.highScore),null!=e.badge&&e.hasOwnProperty("badge")&&(n.badge=t.enums===String?i.phoenix.melody.MELODY_LEVEL_BADGE[e.badge]:e.badge),null!=e.isComplete&&e.hasOwnProperty("isComplete")&&(n.isComplete=e.isComplete),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MelodyReqProfileHearts=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyReqProfileHearts;e.pos<r;){var o=e.uint32();e.skipType(7&o)}return a},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!==typeof e||null===e?"object expected":null},r.fromObject=function(e){return e instanceof i.phoenix.melody.MelodyReqProfileHearts?e:new i.phoenix.melody.MelodyReqProfileHearts},r.toObject=function(){return{}},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),a.MelodyResProfileHearts=function(){function a(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return a.prototype.hearts=0,a.prototype.heartLast=r.Long?r.Long.fromBits(0,0,!1):0,a.prototype.heartReloadTime=r.Long?r.Long.fromBits(0,0,!1):0,a.prototype.heartMax=r.Long?r.Long.fromBits(0,0,!1):0,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=n.create()),null!=e.hearts&&Object.hasOwnProperty.call(e,"hearts")&&t.uint32(8).int32(e.hearts),null!=e.heartLast&&Object.hasOwnProperty.call(e,"heartLast")&&t.uint32(16).int64(e.heartLast),null!=e.heartReloadTime&&Object.hasOwnProperty.call(e,"heartReloadTime")&&t.uint32(24).int64(e.heartReloadTime),null!=e.heartMax&&Object.hasOwnProperty.call(e,"heartMax")&&t.uint32(32).int64(e.heartMax),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new i.phoenix.melody.MelodyResProfileHearts;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:a.hearts=e.int32();break;case 2:a.heartLast=e.int64();break;case 3:a.heartReloadTime=e.int64();break;case 4:a.heartMax=e.int64();break;default:e.skipType(7&o)}}return a},a.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},a.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.hearts&&e.hasOwnProperty("hearts")&&!r.isInteger(e.hearts)?"hearts: integer expected":null==e.heartLast||!e.hasOwnProperty("heartLast")||r.isInteger(e.heartLast)||e.heartLast&&r.isInteger(e.heartLast.low)&&r.isInteger(e.heartLast.high)?null==e.heartReloadTime||!e.hasOwnProperty("heartReloadTime")||r.isInteger(e.heartReloadTime)||e.heartReloadTime&&r.isInteger(e.heartReloadTime.low)&&r.isInteger(e.heartReloadTime.high)?null==e.heartMax||!e.hasOwnProperty("heartMax")||r.isInteger(e.heartMax)||e.heartMax&&r.isInteger(e.heartMax.low)&&r.isInteger(e.heartMax.high)?null:"heartMax: integer|Long expected":"heartReloadTime: integer|Long expected":"heartLast: integer|Long expected"},a.fromObject=function(e){if(e instanceof i.phoenix.melody.MelodyResProfileHearts)return e;var t=new i.phoenix.melody.MelodyResProfileHearts;return null!=e.hearts&&(t.hearts=0|e.hearts),null!=e.heartLast&&(r.Long?(t.heartLast=r.Long.fromValue(e.heartLast)).unsigned=!1:"string"===typeof e.heartLast?t.heartLast=parseInt(e.heartLast,10):"number"===typeof e.heartLast?t.heartLast=e.heartLast:"object"===typeof e.heartLast&&(t.heartLast=new r.LongBits(e.heartLast.low>>>0,e.heartLast.high>>>0).toNumber())),null!=e.heartReloadTime&&(r.Long?(t.heartReloadTime=r.Long.fromValue(e.heartReloadTime)).unsigned=!1:"string"===typeof e.heartReloadTime?t.heartReloadTime=parseInt(e.heartReloadTime,10):"number"===typeof e.heartReloadTime?t.heartReloadTime=e.heartReloadTime:"object"===typeof e.heartReloadTime&&(t.heartReloadTime=new r.LongBits(e.heartReloadTime.low>>>0,e.heartReloadTime.high>>>0).toNumber())),null!=e.heartMax&&(r.Long?(t.heartMax=r.Long.fromValue(e.heartMax)).unsigned=!1:"string"===typeof e.heartMax?t.heartMax=parseInt(e.heartMax,10):"number"===typeof e.heartMax?t.heartMax=e.heartMax:"object"===typeof e.heartMax&&(t.heartMax=new r.LongBits(e.heartMax.low>>>0,e.heartMax.high>>>0).toNumber())),t},a.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.hearts=0,r.Long){var i=new r.Long(0,0,!1);n.heartLast=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.heartLast=t.longs===String?"0":0;if(r.Long){i=new r.Long(0,0,!1);n.heartReloadTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.heartReloadTime=t.longs===String?"0":0;if(r.Long){i=new r.Long(0,0,!1);n.heartMax=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.heartMax=t.longs===String?"0":0}return null!=e.hearts&&e.hasOwnProperty("hearts")&&(n.hearts=e.hearts),null!=e.heartLast&&e.hasOwnProperty("heartLast")&&("number"===typeof e.heartLast?n.heartLast=t.longs===String?String(e.heartLast):e.heartLast:n.heartLast=t.longs===String?r.Long.prototype.toString.call(e.heartLast):t.longs===Number?new r.LongBits(e.heartLast.low>>>0,e.heartLast.high>>>0).toNumber():e.heartLast),null!=e.heartReloadTime&&e.hasOwnProperty("heartReloadTime")&&("number"===typeof e.heartReloadTime?n.heartReloadTime=t.longs===String?String(e.heartReloadTime):e.heartReloadTime:n.heartReloadTime=t.longs===String?r.Long.prototype.toString.call(e.heartReloadTime):t.longs===Number?new r.LongBits(e.heartReloadTime.low>>>0,e.heartReloadTime.high>>>0).toNumber():e.heartReloadTime),null!=e.heartMax&&e.hasOwnProperty("heartMax")&&("number"===typeof e.heartMax?n.heartMax=t.longs===String?String(e.heartMax):e.heartMax:n.heartMax=t.longs===String?r.Long.prototype.toString.call(e.heartMax):t.longs===Number?new r.LongBits(e.heartMax.low>>>0,e.heartMax.high>>>0).toNumber():e.heartMax),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},a}(),a.MELODY_LEVEL_BADGE=function(){var e={},t=Object.create(e);return t[e[0]="MELODY_STEP_BADGE_NONE"]=0,t[e[1]="MELODY_STEP_BADGE_SILVER"]=1,t[e[2]="MELODY_STEP_BADGE_GOLDEN"]=2,t}(),a}(),a}(),i}(n.n(r)());window.phoenix=i.phoenix},3231:function(e,t,n){"use strict";var r=n(4165),i=n(5861),a=n(4020),o=n(9945),s=n(1884),u=(n(9018),n(7920)),l=n(5869),c=n(2072),h=n(5661),f=n(5703),d=n(3732),p=(0,a.xC)({reducer:{user:s.Pl.reducer,game:u.LH.reducer,global:d.Cp.reducer,worldMap:o.fp.reducer,mainGame:l.T.reducer,onboarding:c.z.reducer,colorTool:h.J.reducer,popup:f.k.reducer},middleware:function(e){return e({serializableCheck:!1})}}),v=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.dispatch((0,u.M6)()),p.dispatch((0,u.dz)()),p.dispatch((0,u.qU)()),e.next=5,p.dispatch((0,s.bW)());case 5:return e.next=7,p.dispatch((0,s.XB)());case 7:return e.next=9,p.dispatch((0,o.AN)());case 9:return e.next=11,p.dispatch((0,o.Q2)());case 11:return e.next=13,p.dispatch((0,o.v7)());case 13:return e.next=15,p.dispatch((0,o.Tj)(1));case 15:p.dispatch((0,u.xJ)());case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();v(),t.Z=p},5661:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r=(0,n(4020).oM)({name:"colorTool",initialState:{bubbleCount:0,selectedColor:-1,bullets:[],cacheLevels:[],colorBubbles:[],specialBubbles:[],showLoadBase64Popup:!1},reducers:{setBubbleCount:function(e,t){e.bubbleCount=t.payload},setSpecificCount:function(e,t){e.colorBubbles=t.payload.colorBubbles,e.specialBubbles=t.payload.specialBubbles},setSelectedColor:function(e,t){e.selectedColor=t.payload},addBullet:function(e,t){for(var n=[1,2,3,5],r=t.payload||1,i=0;i<r;++i){var a=Math.floor(Math.random()*n.length);e.bullets.push(n[a])}},setTrimBullet:function(e,t){e.bullets=e.bullets.filter((function(e){return e>0}))},setBulletColor:function(e,t){e.selectedColor<0||(e.bullets[t.payload]=e.selectedColor)},resetBullets:function(e,t){e.bullets=[]},initBullets:function(e,t){e.bullets=t.payload},addCacheLevel:function(e,t){for(var n=t.payload,r=0;r<e.cacheLevels.length;++r)if(e.cacheLevels[r].levelId===n.levelId)return e.cacheLevels[r]=n,void localStorage.setItem("cacheLevels",JSON.stringify(e.cacheLevels));e.cacheLevels.push(t.payload),localStorage.setItem("cacheLevels",JSON.stringify(e.cacheLevels))},initCacheLevel:function(e,t){var n=localStorage.getItem("cacheLevels");try{var r=JSON.parse(n);e.cacheLevels=r||[]}catch(i){e.cacheLevels=[]}},setShowLoadBase64Popup:function(e,t){e.showLoadBase64Popup=t.payload}}})},7920:function(e,t,n){"use strict";n.d(t,{LH:function(){return h},M6:function(){return p},dz:function(){return v},qU:function(){return f},xJ:function(){return m}});var r=n(4165),i=n(5861),a=n(4020),o=n(7653),s=n(5473),u=n(2749),l=n(3303),c=n(7204),h=(0,a.oM)({name:"game",initialState:{setting:{sound:!0,vibrate:!0},feature:s.Z.APP_CONFIG.feature,deviceInfo:{},gameHubInfo:{}},reducers:{setSound:function(e,t){e.setting.sound=t.payload,c.t.enable=t.payload,u.P.cacheJson("setting",e.setting)},setVibrate:function(e,t){e.setting.vibrate=t.payload,u.P.cacheJson("setting",e.setting)}},extraReducers:function(e){e.addCase(f.fulfilled,(function(e,t){e.setting=t.payload||e.setting})).addCase(p.fulfilled,(function(e,t){t.payload&&(e.feature=t.payload)})).addCase(v.fulfilled,(function(e,t){t.payload&&(e.deviceInfo=t.payload)})).addCase(m.fulfilled,(function(e,t){if(t.payload){var n=t.payload.data;e.gameHubInfo=n}}))}}),f=(0,a.hg)("game/load-setting",(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.P.getJson("setting");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),d=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){if(l.x.isBrowser)return e(null);var n=localStorage.getItem("feature");if(null===n)return setTimeout((function(){d().then((function(t){e(t)}))}),50);e(n)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=(0,a.hg)("game/get-app-param",(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:t=e.sent,n=s.Z.APP_CONFIG;try{(n=JSON.parse(t||"")).feature.params=Object.assign(s.Z.APP_CONFIG.feature.params,n.feature.params)}catch(r){}return e.abrupt("return",n.feature);case 6:case"end":return e.stop()}}),e)})))),v=(0,a.hg)("game/get-device-info",(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.h.getDeviceInfo();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),m=(0,a.hg)("game/fetchGameHubInfo",(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.h.getGameHubInfo());case 1:case"end":return e.stop()}}),e)}))))},3732:function(e,t,n){"use strict";n.d(t,{Cp:function(){return o},Xz:function(){return l},rR:function(){return u}});var r=n(4165),i=n(5861),a=n(4020),o=((0,a.hg)("global/scrRef",function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,a.oM)({name:"global",initialState:{prevScrRef:"",timeStartLoad:0,backStacks:[]},reducers:{setScreenRef:function(e,t){e.prevScrRef=t.payload},setTimeStartLoad:function(e,t){e.timeStartLoad=t.payload},addBackStack:function(e,t){e.backStacks.push(t.payload)},removeBackStack:function(e,t){e.backStacks=e.backStacks.filter((function(e){return e!=t.payload}))}}})),s=o.actions,u=s.addBackStack,l=s.removeBackStack},5869:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var r=n(1413),i=(0,n(4020).oM)({name:"mainGame",initialState:{isUIVisible:!0,isSettingPopupVisible:!1,isConfirmExitPopupVisible:!1,isWinPopupVisible:!1,isLosePopupVisible:!1,currentGame:{level:0,score:0,star1Score:0,star2Score:0,star3Score:0},targetChecker:{},topOpacity:1},reducers:{setUIVisible:function(e,t){e.isUIVisible=t.payload},setSettingPopupVisible:function(e,t){e.isSettingPopupVisible=t.payload},setConfirmExitPopupVisible:function(e,t){e.isConfirmExitPopupVisible=t.payload},setWinPopupVisible:function(e,t){e.isWinPopupVisible=t.payload},setLosePopupVisible:function(e,t){e.isLosePopupVisible=t.payload},setCurrentGame:function(e,t){e.currentGame=(0,r.Z)((0,r.Z)({},e.currentGame),t.payload)},updateTargetChecker:function(e,t){try{e.targetChecker=JSON.parse(JSON.stringify(t.payload))}catch(n){}},setTopOpacity:function(e,t){e.topOpacity=t.payload}}})},2072:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r=(0,n(4020).oM)({name:"onboarding",initialState:{currentStep:-1,finishSteps:[]},reducers:{setStep:function(e,t){e.currentStep=t.payload},nextStep:function(e){e.finishSteps.push(e.currentStep),e.currentStep++}}})},5703:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var r=(0,n(4020).oM)({name:"popup",initialState:{popupErrorQueues:[]},reducers:{addErrorQueue:function(e,t){e.popupErrorQueues.push(t.payload)},removeFirstErrorQueue:function(e){e.popupErrorQueues.shift()}}})},1884:function(e,t,n){"use strict";n.d(t,{GE:function(){return x},My:function(){return S},Pl:function(){return b},XB:function(){return w},bW:function(){return _},g_:function(){return k},hU:function(){return T},vX:function(){return A}});var r=n(4165),i=n(5861),a=n(1413),o=n(4020),s=n(3231),u=n(2749),l=n(7653),c=n(3303),h=n(8197),f=n(5703),d=n(1046),p=n(5422),v=n(2173),m=n.n(v),g=n(5869),y=n(9945),b=(0,o.oM)({name:"user",initialState:{userToken:"",userId:"",agentId:0,username:"",sessionId:"",profile:{},heartInfo:{},pingIntervalId:null},reducers:{stopPing:function(e,t){clearInterval(e.pingIntervalId),e.pingIntervalId=null}},extraReducers:function(e){e.addCase(_.fulfilled,(function(e,t){e.userToken=t.payload.userToken,e.userId=t.payload.userId,e.agentId=t.payload.agentId,e.username=t.payload.username})).addCase(x.fulfilled,(function(e,t){e.profile=(0,a.Z)((0,a.Z)({},e.profile),t.payload)})).addCase(w.fulfilled,(function(e,t){if(console.log("fetchLogin: ",t.payload),t.payload){e.sessionId=t.payload.sessionId,e.profile=t.payload.profile;var n=e.profile,r=n.currentChapter,i=n.currentLevel;setTimeout((function(){s.Z.dispatch(y.fp.actions.setCurrentChapter(r)),s.Z.dispatch(y.fp.actions.setCurrentLevel(i)),s.Z.dispatch(y.fp.actions.updateUserAvatarInfo({levelId:i}))}),0),clearInterval(e.pingIntervalId),e.pingIntervalId=null,e.pingIntervalId=setInterval((function(){s.Z.dispatch(E())}),2e3)}})).addCase(E.fulfilled,(function(e,t){if(t.payload){var n=t.payload,r=Date.now();n.sendAt,n.receiveAt,n.sendAt,n.receiveAt}})).addCase(T.fulfilled,(function(e,t){var n=t.payload,r=n.res,i=n.levelId;console.log("fetchPlaygame: ",r),r&&(e.profile=(0,a.Z)((0,a.Z)({},e.profile),{},{hearts:r.hearts,heartLast:r.heartLast}),setTimeout((function(){d.u.map.reload(i),p.r.emit(p.B.Navigate,h.dI.MainGame)}),0))})).addCase(S.fulfilled,(function(e,t){var n=t.payload,r=n.res,i=n.callback;if(console.log("fetchEndgame: ",r),r){var o=e.profile.chapters.find((function(t){return t.id==e.profile.currentChapter}));o||(o={id:e.profile.currentChapter,levels:[]},e.profile.chapters.push(o));var s=o.levels,u=s.findIndex((function(e){return e.id==r.level.id}));u<=-1?s.push(r.level):s[u]=r.level,e.profile=(0,a.Z)((0,a.Z)({},e.profile),{},{hearts:r.hearts,currentChapter:r.currentChapter,currentLevel:r.currentLevel}),setTimeout((function(){null===i||void 0===i||i()}),0)}})).addCase(A.fulfilled,(function(e,t){console.log("Heart info: ",t.payload),e.heartInfo=t.payload||e.heartInfo})).addCase(M.fulfilled,(function(e,t){console.log("post heartinfo: ",t.payload)}))}}),x=(0,o.hg)("user/updateUserProfile",function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,a,o,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=JSON.parse(JSON.stringify(s.Z.getState().user.profile))).chapters||(i.chapters=[]),a=i.chapters,(o=a.find((function(e){return e.id==t.chapterId})))||(o={id:t.chapterId,levels:[]},a.push(o)),(l=null===(n=o.levels)||void 0===n?void 0:n.find((function(e){return e.id==t.levelId})))||(l={id:t.levelId,stars:0,highScore:0,winOnFirstTime:!1},o.levels.push(l)),l.stars=Math.max(l.stars,t.stars),l.highScore=Math.max(l.highScore,t.highScore),e.next=11,u.P.cacheJson("userProfileKey_v5",i);case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_=(0,o.hg)("user/fetchAppProfile",(0,i.Z)((0,r.Z)().mark((function e(){var t,n,i,a,o,s,u,l,h,f,d;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(window.location.search),n=t.get("userid"),e.next=4,c.x.request(c.w.getProfile);case 4:return i=e.sent,o=(a=i||{}).userId,s=a.token,u=a.name,l=a.agentId,h=void 0===l?0:l,o=o||n||"0978900150",f=s||n||"0978900150",d=u||"Dev Player",console.log("[fetchAppProfile] response: ",i),e.abrupt("return",{userId:o,userToken:f,username:d,agentId:h});case 11:case"end":return e.stop()}}),e)})))),w=(0,o.hg)("user/fetchLogin",(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.h.getLogin();case 2:return!(t=e.sent)&&s.Z.dispatch(f.k.actions.addErrorQueue((0,a.Z)((0,a.Z)({},h.Mi),{},{onCta1Click:function(){c.x.request(c.w.dismiss)},onCloseClick:function(){c.x.request(c.w.dismiss)},onCta2Click:function(){s.Z.dispatch(w())}}))),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),k=(0,o.hg)("user/fetchLogout",(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.h.getLogout());case 1:case"end":return e.stop()}}),e)})))),E=(0,o.hg)("user/fetchPing",(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.h.getPing(1));case 1:case"end":return e.stop()}}),e)})))),T=(0,o.hg)("user/fetchPlaygame",function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,o,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.h.postPlaygame(t);case 2:return!(o=e.sent)&&s.Z.dispatch(f.k.actions.addErrorQueue((0,a.Z)((0,a.Z)({},h.hE),{},{cta2Text:"Th\u1eed l\u1ea1i",onCta2Click:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.dispatch(w());case 2:s.Z.dispatch(T(t));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),errorCode:h.jK.POST_PLAY_GAME}))),m().util.toJSONOptions={enums:Number,defaults:!0},u=null===o||void 0===o||null===(n=o.toJSON)||void 0===n?void 0:n.call(o),e.abrupt("return",{res:u,levelId:t});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S=(0,o.hg)("user/fetchEndgame",function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,o,u,c,v;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.data,u=t.callback,e.next=3,l.h.postEndgame(o.levelId,o.score,o.isComplete);case 3:return!(c=e.sent)&&s.Z.dispatch(f.k.actions.addErrorQueue((0,a.Z)((0,a.Z)({},h.hE),{},{cta2Text:"Th\u1eed l\u1ea1i",onCta2Click:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.dispatch(w());case 2:s.Z.dispatch(S({data:o,callback:u}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onCloseClick:function(){s.Z.dispatch(g.T.actions.setLosePopupVisible(!1)),d.u.setLosePopupVisible(!1),p.r.emit(p.B.Navigate,-1)},errorCode:h.jK.POST_END_GAME}))),m().util.toJSONOptions={enums:Number,defaults:!0},v=null===c||void 0===c||null===(n=c.toJSON)||void 0===n?void 0:n.call(c),console.log("resJson",v),e.abrupt("return",{res:v,callback:u});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),A=(0,o.hg)("user/fetchHeartInfo",(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.h.getHeartInfo();case 2:return!(t=e.sent)&&s.Z.dispatch(f.k.actions.addErrorQueue((0,a.Z)((0,a.Z)({},h.hE),{},{cta2Text:"Th\u1eed l\u1ea1i",onCta2Click:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.dispatch(w());case 2:s.Z.dispatch(A());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),errorCode:h.jK.GET_HEART_INFO}))),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),M=(0,o.hg)("user/fetchPostHeartInfo",function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.h.postHeartInfo(t.hearts,t.heartReloadTime,t.heartMax));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},9945:function(e,t,n){"use strict";n.d(t,{AN:function(){return g},Q2:function(){return m},Tj:function(){return y},fp:function(){return v},v7:function(){return b}});var r=n(4165),i=n(5861),a=n(1413),o=n(4020),s=n(7653),u=n(2749),l=n(2173),c=n.n(l),h=n(3231),f=n(5703),d=n(8197),p=n(1884),v=(0,o.oM)({name:"worldMap",initialState:{showSettingPopup:!1,showPlayNewLevelPopup:!1,showPlayLevelAgainPopup:!1,showFullHeartPopup:!1,showRecoveringHeartPopup:!1,showEndBanner:!1,configVersion:"",images:{},chapters:[],currentChapter:1,currentLevel:0,userAvatarInfo:{levelId:0,x:0,y:0,isMoving:!1}},reducers:{setShowSettingPopup:function(e,t){e.showSettingPopup=t.payload},setShowPlayNewLevelPopup:function(e,t){e.showPlayNewLevelPopup=t.payload},setShowPlayLevelAgainPopup:function(e,t){e.showPlayLevelAgainPopup=t.payload},setShowFullHeartPopup:function(e,t){e.showFullHeartPopup=t.payload},setShowRecoveringHeartPopup:function(e,t){e.showRecoveringHeartPopup=t.payload},setShowEndBanner:function(e,t){e.showEndBanner=t.payload},setCurrentLevel:function(e,t){e.currentLevel=t.payload},setCurrentChapter:function(e,t){e.currentChapter=t.payload},updateUserAvatarInfo:function(e,t){e.userAvatarInfo=(0,a.Z)((0,a.Z)({},e.userAvatarInfo),t.payload)}},extraReducers:function(e){e.addCase(m.fulfilled,(function(e,t){var n,r,i=t.payload;(console.log("fetchConfig: ",i),i&&e.configVersion!==i.version)&&(e.configVersion=i.version,null===(n=i.config)||void 0===n||null===(r=n.images)||void 0===r||r.forEach((function(t){e.images[t.id]=t})),u.P.cacheJson("worldMap/fetchConfig",i))})).addCase(g.fulfilled,(function(e,t){var n,r,i=t.payload;(console.log("fetchConfigFromCache: ",i),i)&&(e.configVersion=i.version,null===(n=i.config)||void 0===n||null===(r=n.images)||void 0===r||r.forEach((function(t){e.images[t.id]=t})))})).addCase(y.fulfilled,(function(e,t){var n=t.payload;console.log("fetchChapterConfig: ",n),n&&n.chapterConfig&&(e.chapters=e.chapters.filter((function(e){return e.id!=n.chapterConfig.id})),e.chapters.push(n.chapterConfig),u.P.cacheJson("worldMap/fetchChapterConfig",e.chapters))})).addCase(b.fulfilled,(function(e,t){var n=t.payload;console.log("fetchChapterConfigFromCache: ",n),n&&(e.chapters=n)}))}}),m=(0,o.hg)("worldMap/fetchConfig",(0,i.Z)((0,r.Z)().mark((function e(){var t,n,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.h.getConfig(h.Z.getState().worldMap.configVersion);case 2:return!(n=e.sent)&&h.Z.dispatch(f.k.actions.addErrorQueue((0,a.Z)((0,a.Z)({},d.hE),{},{cta2Text:"Th\u1eed l\u1ea1i",onCta2Click:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.dispatch((0,p.XB)());case 2:h.Z.dispatch(m());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),errorCode:d.jK.GET_GAME_CONFIG}))),c().util.toJSONOptions={enums:Number,defaults:!0},o=null===n||void 0===n||null===(t=n.toJSON)||void 0===t?void 0:t.call(n),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))),g=(0,o.hg)("worldMap/fetchConfigFromCache",(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.P.getJson("worldMap/fetchConfig"));case 1:case"end":return e.stop()}}),e)})))),y=(0,o.hg)("worldMap/fetchChapterConfig",function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,o,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.h.getChapter(t);case 2:return!(o=e.sent)&&h.Z.dispatch(f.k.actions.addErrorQueue((0,a.Z)((0,a.Z)({},d.hE),{},{cta2Text:"Th\u1eed l\u1ea1i",onCta2Click:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.dispatch((0,p.XB)());case 2:h.Z.dispatch(y(t));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),errorCode:d.jK.GET_CHAPTER_CONFIG}))),c().util.toJSONOptions={enums:Number,defaults:!0},u=null===o||void 0===o||null===(n=o.toJSON)||void 0===n?void 0:n.call(o),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b=(0,o.hg)("worldMap/fetchChapterConfigFromCache",(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.P.getJson("worldMap/fetchChapterConfig"));case 1:case"end":return e.stop()}}),e)}))))},8327:function(e,t,n){"use strict";var r,i=(r=n(5154))&&r.__esModule?r:{default:r};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i.default;t.default=a},2991:function(e,t,n){"use strict";var r,i=(r=n(4379))&&r.__esModule?r:{default:r};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?o(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}function l(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"addHost",value:function(e){var t,n,r=!1;(this.hosts=null===(t=this.hosts)||void 0===t?void 0:t.map((function(t){return t.hostId==e.hostId&&(r=!0,t=s(s({},t),e)),t})),r)||(this.hosts=null!==(n=this.hosts)&&void 0!==n?n:[],this.hosts.push(e))}},{key:"removeHost",value:function(e){var t;this.hosts=null===(t=this.hosts)||void 0===t?void 0:t.filter((function(t){return t.hostId!=e.hostId}))}},{key:"currentHost",get:function(){var e;return 0<(null===(e=this.hosts)||void 0===e?void 0:e.length)?this.hosts[this.hosts.length-1]:{}}},{key:"verifyResponse",value:function(e){return!!e.miniApp}},{key:"response",value:function(e){try{var t=JSON.parse(e);if(t&&this.verifyResponse(t)){var n=t.uuid,r=t.result,i=t.func,o=t.isListening,s=this.callbacks[n];if(s){try{if("object"===a(r))s(r);else{var u=JSON.parse(r||"");s(u||r)}}catch(e){s(r)}if(0===i.indexOf("observerUploadDocuments")||o)return;"removeCallback"==i?this.callbacks&&this.callbacks[n]&&delete this.callbacks[n]:this.removeCallback(n)}}}catch(e){}}},{key:"removeCallback",value:function(e){this.dispatchFunction("removeCallback",e),this.callbacks&&this.callbacks[e]&&delete this.callbacks[e]}},{key:"dispatch",value:function(){var e=this,t=null,n=Array.from(arguments),r=n[0];if(n.shift(),0<n.length){var a=n[n.length-1];"function"==typeof a&&(t=a,n.pop())}var o=this.getUniqueId();this.callbacks||(this.callbacks={}),t&&(this.callbacks[o]=t);var s=i.default.apiVersion,u=this.currentHost,l={func:r,args:n,uuid:o,platform:this.platform,apiVersion:s,miniApp:u};return this.request(l,t),{remove:function(){e.removeCallback(o)}}}},{key:"request",value:function(){}},{key:"getUniqueId",value:function(){return Math.random().toString(36).substring(2)+Date.now().toString(36)}},{key:"dispatchFunction",value:function(){return this.dispatch.apply(this,arguments)}}],[{key:"init",value:function(t){var r,i=(null===t||void 0===t||null===(r=t.client)||void 0===r?void 0:r.web)||t||{},a=i.appId;return e.instances[a]||(e.instances[a]=new this(i)),e.instances[a].addHost(i),n.g.miniAppApi=e.instances[a],e.instances[a]}}]),e}();t.default=h,l(h,"instances",{}),l(h,"hosts",[])},5154:function(e,t,n){"use strict";var r,i=(r=n(2991))&&r.__esModule?r:{default:r};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}function s(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:t+""}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=n.call(this,e)).props=e,r.platform="web",window.addEventListener("message",(function(e){r.response(e.data)})),r}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e);var n=l(t);return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"request",value:function(e){var t=JSON.stringify(e),n=window.ReactNativeWebView;n&&n.postMessage(t)}}]),t}(i.default);t.default=h},6429:function(e,t,n){"use strict";var r,i=(r=n(8327))&&r.__esModule?r:{default:r};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}function s(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:t+""}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e);var n=l(t);return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"getBillCount",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getBillCount"].concat(t))}},{key:"getFolderVoucherCount",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getFolderVoucherCount"].concat(t))}},{key:"getChatCount",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getChatCount"].concat(t))}},{key:"getMobileVoucherCount",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getMobileVoucherCount"].concat(t))}},{key:"getUserBills",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getUserBills"].concat(t))}},{key:"saveBill",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["saveBill"].concat(t))}},{key:"chatGRPCConnect",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["chatGRPCConnect"].concat(t))}},{key:"chatSendMessageGRPC",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["chatSendMessageGRPC"].concat(t))}},{key:"listenChat",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["listenChat"].concat(t))}},{key:"copyToClipboard",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["copyToClipboard"].concat(t))}},{key:"openDialer",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["openDialer"].concat(t))}},{key:"getBase64FromUrl",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getBase64FromUrl"].concat(t))}},{key:"setBrightnessLevel",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["setBrightnessLevel"].concat(t))}},{key:"getBrightnessLevel",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getBrightnessLevel"].concat(t))}},{key:"getSystemBrightnessLevel",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getSystemBrightnessLevel"].concat(t))}},{key:"sendSMS",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["sendSMS"].concat(t))}},{key:"getScreenShot",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getScreenShot"].concat(t))}},{key:"enableScreenshots",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["enableScreenshots"].concat(t))}},{key:"getIpAddress",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getIpAddress"].concat(t))}},{key:"getImage",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getImage"].concat(t))}},{key:"getMedia",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getMedia"].concat(t))}},{key:"saveImage",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["saveImage"].concat(t))}},{key:"getImageSize",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getImageSize"].concat(t))}},{key:"getImageRotateFromUri",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getImageRotateFromUri"].concat(t))}},{key:"openURLWithPackageId",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["openURLWithPackageId"].concat(t))}},{key:"openURL",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["openURL"].concat(t))}},{key:"playYouTube",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["playYouTube"].concat(t))}},{key:"requestATTPermision",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["requestATTPermision"].concat(t))}},{key:"trackEvent",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["trackEvent"].concat(t))}},{key:"track",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["track"].concat(t))}},{key:"trackToTrail",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["trackToTrail"].concat(t))}},{key:"trackPurchase",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["trackPurchase"].concat(t))}},{key:"loginFacebook",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["loginFacebook"].concat(t))}},{key:"shareFacebook",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["shareFacebook"].concat(t))}},{key:"throwJSException",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["throwJSException"].concat(t))}},{key:"uploadImage",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["uploadImage"].concat(t))}},{key:"share",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["share"].concat(t))}},{key:"compressVideo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["compressVideo"].concat(t))}},{key:"setBadgeFeature",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["setBadgeFeature"].concat(t))}},{key:"getDeviceInfo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getDeviceInfo"].concat(t))}},{key:"openDeviceSetting",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["openDeviceSetting"].concat(t))}},{key:"isHighPerformanceDevice",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["isHighPerformanceDevice"].concat(t))}},{key:"registerShakeSensitivity",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["registerShakeSensitivity"].concat(t))}},{key:"unregisterShakeSensitivity",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["unregisterShakeSensitivity"].concat(t))}},{key:"saveCalendarEvent",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["saveCalendarEvent"].concat(t))}},{key:"sendExtraMessage",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["sendExtraMessage"].concat(t))}},{key:"activeKeepAwake",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["activeKeepAwake"].concat(t))}},{key:"requestLogout",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["requestLogout"].concat(t))}},{key:"setBackgroundTimeout",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["setBackgroundTimeout"].concat(t))}},{key:"setFastLogin",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["setFastLogin"].concat(t))}},{key:"getDynamicLink",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getDynamicLink"].concat(t))}},{key:"getToolkit",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getToolkit"].concat(t))}},{key:"showToolkit",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["showToolkit"].concat(t))}},{key:"trackingCloseToolkit",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["trackingCloseToolkit"].concat(t))}},{key:"uploadFiles",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["uploadFiles"].concat(t))}},{key:"getPrivateLink",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getPrivateLink"].concat(t))}},{key:"uploadAvatar",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["uploadAvatar"].concat(t))}},{key:"getConfig",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getConfig"].concat(t))}},{key:"getContactAvatar",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getContactAvatar"].concat(t))}},{key:"getContacts",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getContacts"].concat(t))}},{key:"getAgentContacts",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getAgentContacts"].concat(t))}},{key:"getContactInfo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getContactInfo"].concat(t))}},{key:"getContact",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getContact"].concat(t))}},{key:"queryContact",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["queryContact"].concat(t))}},{key:"saveContact",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["saveContact"].concat(t))}},{key:"mapContacts",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["mapContacts"].concat(t))}},{key:"syncContacts",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["syncContacts"].concat(t))}},{key:"syncContactAfter1Day",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["syncContactAfter1Day"].concat(t))}},{key:"syncContactAfter1Minute",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["syncContactAfter1Minute"].concat(t))}},{key:"pickSingleDocument",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["pickSingleDocument"].concat(t))}},{key:"pickMultiDocument",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["pickMultiDocument"].concat(t))}},{key:"uploadDocuments",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["uploadDocuments"].concat(t))}},{key:"observerUploadDocuments",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["observerUploadDocuments"].concat(t))}},{key:"cancelUpload",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["cancelUpload"].concat(t))}},{key:"startCaptureSideDocument",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startCaptureSideDocument"].concat(t))}},{key:"startCaptureFace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startCaptureFace"].concat(t))}},{key:"faceMatching",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["faceMatching"].concat(t))}},{key:"addFace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["addFace"].concat(t))}},{key:"getKycStatus",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getKycStatus"].concat(t))}},{key:"getAvatarEndPoint",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getAvatarEndPoint"].concat(t))}},{key:"getResourceEndpoint",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getResourceEndpoint"].concat(t))}},{key:"getFirebaseWebAppConfig",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getFirebaseWebAppConfig"].concat(t))}},{key:"checkABTestFlow",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["checkABTestFlow"].concat(t))}},{key:"getSteps",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getSteps"].concat(t))}},{key:"getFullListFriendMoMo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getFullListFriendMoMo"].concat(t))}},{key:"friendQuery",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["friendQuery"].concat(t))}},{key:"requestGameAction",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["requestGameAction"].concat(t))}},{key:"listenAcademy",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["listenAcademy"].concat(t))}},{key:"getBadgeTicket",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getBadgeTicket"].concat(t))}},{key:"listen",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["listen"].concat(t))}},{key:"requestLoan",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["requestLoan"].concat(t))}},{key:"requestLocation",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["requestLocation"].concat(t))}},{key:"requestLocationWithOptions",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["requestLocationWithOptions"].concat(t))}},{key:"getLocation",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getLocation"].concat(t))}},{key:"chatCrmGRPCConnect",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["chatCrmGRPCConnect"].concat(t))}},{key:"chatCrmSendMessageGRPC",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["chatCrmSendMessageGRPC"].concat(t))}},{key:"chatCrmGetConnectionStatus",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["chatCrmGetConnectionStatus"].concat(t))}},{key:"chatCrmGRPCDisconnect",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["chatCrmGRPCDisconnect"].concat(t))}},{key:"listenChatCrm",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["listenChatCrm"].concat(t))}},{key:"subscribeMqttTopic",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["subscribeMqttTopic"].concat(t))}},{key:"unSubscribeMqttTopic",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["unSubscribeMqttTopic"].concat(t))}},{key:"fetchNetworkInfo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["fetchNetworkInfo"].concat(t))}},{key:"useNetInfo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["useNetInfo"].concat(t))}},{key:"sendMessage",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["sendMessage"].concat(t))}},{key:"getMessage",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getMessage"].concat(t))}},{key:"sendConfirmMessage",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["sendConfirmMessage"].concat(t))}},{key:"sendProxyMessage",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["sendProxyMessage"].concat(t))}},{key:"sendCloudMessage",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["sendCloudMessage"].concat(t))}},{key:"getCloudMessage",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getCloudMessage"].concat(t))}},{key:"clickNotification",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["clickNotification"].concat(t))}},{key:"showPopupNotification",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["showPopupNotification"].concat(t))}},{key:"observer",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["observer"].concat(t))}},{key:"getDataObserver",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getDataObserver"].concat(t))}},{key:"setDataObserver",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["setDataObserver"].concat(t))}},{key:"getPassengerInfo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getPassengerInfo"].concat(t))}},{key:"setPassengerInfo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["setPassengerInfo"].concat(t))}},{key:"requestPayment",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["requestPayment"].concat(t))}},{key:"internalRequestPayment",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["internalRequestPayment"].concat(t))}},{key:"requestPaymentSdk",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["requestPaymentSdk"].concat(t))}},{key:"addItemToCart",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["addItemToCart"].concat(t))}},{key:"gotoCart",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["gotoCart"].concat(t))}},{key:"clearCart",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["clearCart"].concat(t))}},{key:"getSources",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getSources"].concat(t))}},{key:"countTrace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["countTrace"].concat(t))}},{key:"errorTrace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["errorTrace"].concat(t))}},{key:"startTrace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startTrace"].concat(t))}},{key:"stopTrace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["stopTrace"].concat(t))}},{key:"traceSuccess",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["traceSuccess"].concat(t))}},{key:"traceFail",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["traceFail"].concat(t))}},{key:"startTraceScreenLoad",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startTraceScreenLoad"].concat(t))}},{key:"startTraceScreenInteraction",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startTraceScreenInteraction"].concat(t))}},{key:"startTraceScreenGoal",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startTraceScreenGoal"].concat(t))}},{key:"requestPermission",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["requestPermission"].concat(t))}},{key:"checkPermission",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["checkPermission"].concat(t))}},{key:"scanQRCode",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["scanQRCode"].concat(t))}},{key:"realmQuery",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["realmQuery"].concat(t))}},{key:"realmSave",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["realmSave"].concat(t))}},{key:"realmDelete",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["realmDelete"].concat(t))}},{key:"navigate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["navigate"].concat(t))}},{key:"startApp",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startApp"].concat(t))}},{key:"startMiniApp",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startMiniApp"].concat(t))}},{key:"startService",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startService"].concat(t))}},{key:"startServiceId",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startServiceId"].concat(t))}},{key:"startFeature",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startFeature"].concat(t))}},{key:"startFeatureCode",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startFeatureCode"].concat(t))}},{key:"openWeb",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["openWeb"].concat(t))}},{key:"dismiss",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["dismiss"].concat(t))}},{key:"dismissAll",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["dismissAll"].concat(t))}},{key:"goBack",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["goBack"].concat(t))}},{key:"goHome",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["goHome"].concat(t))}},{key:"navigateTab",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["navigateTab"].concat(t))}},{key:"getListFriendMoMo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getListFriendMoMo"].concat(t))}},{key:"getRelationShipStatus",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getRelationShipStatus"].concat(t))}},{key:"acceptFriendRequest",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["acceptFriendRequest"].concat(t))}},{key:"sendFriendRequest",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["sendFriendRequest"].concat(t))}},{key:"blockUser",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["blockUser"].concat(t))}},{key:"unBlockUser",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["unBlockUser"].concat(t))}},{key:"getFacebookFriendList",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getFacebookFriendList"].concat(t))}},{key:"socialShare",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["socialShare"].concat(t))}},{key:"downloadMediaFile",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["downloadMediaFile"].concat(t))}},{key:"playSound",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["playSound"].concat(t))}},{key:"pauseSound",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["pauseSound"].concat(t))}},{key:"resumeSound",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["resumeSound"].concat(t))}},{key:"stopSound",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["stopSound"].concat(t))}},{key:"getItem",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getItem"].concat(t))}},{key:"setItem",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["setItem"].concat(t))}},{key:"removeItem",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["removeItem"].concat(t))}},{key:"requestSync",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["requestSync"].concat(t))}},{key:"getTransactionWithServiceIds",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getTransactionWithServiceIds"].concat(t))}},{key:"getTransactionInfo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getTransactionInfo"].concat(t))}},{key:"getTransactionStatusCode",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getTransactionStatusCode"].concat(t))}},{key:"getStatusInfo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getStatusInfo"].concat(t))}},{key:"getAllTransactionStatusInfo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getAllTransactionStatusInfo"].concat(t))}},{key:"getAllTransactionStatusCode",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getAllTransactionStatusCode"].concat(t))}},{key:"getMoneySourceName",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getMoneySourceName"].concat(t))}},{key:"getFeatureById",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getFeatureById"].concat(t))}},{key:"startTranHisDetail",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startTranHisDetail"].concat(t))}},{key:"getFilteredTranHisList",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getFilteredTranHisList"].concat(t))}},{key:"getListTransaction",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getListTransaction"].concat(t))}},{key:"getListTransaction6M",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getListTransaction6M"].concat(t))}},{key:"getBrowseTransaction",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getBrowseTransaction"].concat(t))}},{key:"getDetailTransaction",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getDetailTransaction"].concat(t))}},{key:"getListTransactionBaseInfo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getListTransactionBaseInfo"].concat(t))}},{key:"formatTransactionBaseInfo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["formatTransactionBaseInfo"].concat(t))}},{key:"sendThanksMessage",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["sendThanksMessage"].concat(t))}},{key:"showToast",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["showToast"].concat(t))}},{key:"showToastDebug",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["showToastDebug"].concat(t))}},{key:"hideToast",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["hideToast"].concat(t))}},{key:"showLoading",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["showLoading"].concat(t))}},{key:"hideLoading",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["hideLoading"].concat(t))}},{key:"showAlert",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["showAlert"].concat(t))}},{key:"showAction",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["showAction"].concat(t))}},{key:"showPicker",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["showPicker"].concat(t))}},{key:"getProfile",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getProfile"].concat(t))}},{key:"requestUserInfo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["requestUserInfo"].concat(t))}},{key:"requestUserConsents",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["requestUserConsents"].concat(t))}},{key:"getUserConsents",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getUserConsents"].concat(t))}},{key:"setProfile",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["setProfile"].concat(t))}},{key:"observerProfile",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["observerProfile"].concat(t))}},{key:"setUserProfileExtraOnServer",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["setUserProfileExtraOnServer"].concat(t))}},{key:"getUserUUID",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getUserUUID"].concat(t))}},{key:"getUserAuth",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getUserAuth"].concat(t))}},{key:"getWalletId",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getWalletId"].concat(t))}},{key:"updateItemServer",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["updateItemServer"].concat(t))}},{key:"updateItemLocal",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["updateItemLocal"].concat(t))}},{key:"getItemsServer",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getItemsServer"].concat(t))}},{key:"getItemsLocal",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getItemsLocal"].concat(t))}},{key:"getItemLocal",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getItemLocal"].concat(t))}},{key:"getVouchersCount",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getVouchersCount"].concat(t))}},{key:"getVouchers",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getVouchers"].concat(t))}},{key:"onUseVoucher",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["onUseVoucher"].concat(t))}},{key:"getVoucherBackend",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getVoucherBackend"].concat(t))}},{key:"pushWebNavigationOptions",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["pushWebNavigationOptions"].concat(t))}},{key:"popWebNavigationOptions",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["popWebNavigationOptions"].concat(t))}},{key:"popNWebNavigationOptions",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["popNWebNavigationOptions"].concat(t))}},{key:"replaceWebNavigationOptions",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["replaceWebNavigationOptions"].concat(t))}},{key:"triggerEventVibration",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["triggerEventVibration"].concat(t))}},{key:"startStaticServer",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startStaticServer"].concat(t))}},{key:"stopStaticServer",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["stopStaticServer"].concat(t))}},{key:"extractTextFromImage",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["extractTextFromImage"].concat(t))}},{key:"parseEMVCOToTags",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["parseEMVCOToTags"].concat(t))}},{key:"extractBeneficiaryInfo",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["extractBeneficiaryInfo"].concat(t))}},{key:"checkClipboardPermission",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["checkClipboardPermission"].concat(t))}},{key:"showClipboardPermission",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["showClipboardPermission"].concat(t))}},{key:"transferFromClipboard",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["transferFromClipboard"].concat(t))}},{key:"getMiniPath",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getMiniPath"].concat(t))}},{key:"observerSources",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["observerSources"].concat(t))}},{key:"startSyncAfterPayment",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["startSyncAfterPayment"].concat(t))}},{key:"stopSyncAfterPayment",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["stopSyncAfterPayment"].concat(t))}},{key:"checkStatusBluetooth",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["checkStatusBluetooth"].concat(t))}},{key:"scanBluetoothDevices",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["scanBluetoothDevices"].concat(t))}},{key:"connectToBluetoothDevice",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["connectToBluetoothDevice"].concat(t))}},{key:"disconnectToBluetoothDevice",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["disconnectToBluetoothDevice"].concat(t))}},{key:"printTextOnPrinter",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["printTextOnPrinter"].concat(t))}},{key:"printPicOnPrinter",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["printPicOnPrinter"].concat(t))}},{key:"getToolkitConfig",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getToolkitConfig"].concat(t))}},{key:"addShortcut",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["addShortcut"].concat(t))}},{key:"shareApp",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["shareApp"].concat(t))}},{key:"addFavorite",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["addFavorite"].concat(t))}},{key:"showToastSuggestion",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["showToastSuggestion"].concat(t))}},{key:"hideToastSuggestion",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["hideToastSuggestion"].concat(t))}},{key:"preLoadFiles",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["preLoadFiles"].concat(t))}},{key:"getPathFiles",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["getPathFiles"].concat(t))}},{key:"encryptRSA",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["encryptRSA"].concat(t))}},{key:"decryptRSA",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatchFunction.apply(this,["decryptRSA"].concat(t))}}]),t}(i.default);t.default=h},9100:function(e,t,n){"use strict";var r,i=(r=n(6429))&&r.__esModule?r:{default:r};t.Z=void 0;var a={},o=null,s=null,u={get:function(e,t){var n=this;return this[t]?"function"==typeof this[t]?this[t].bind(this):this[t]:a[t]?"function"==typeof a[t]?a[t].bind(a):a[t]:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];0<Object.keys(a).length?console.warn("undefined is not a function"):n.waitForInit().then((function(){try{if("function"==typeof a[t]){var e=a[t];e.call.apply(e,[a].concat(r))}else console.warn("Error when calling function: ".concat(t,". ApiBase haven't been initialized yet!"))}catch(e){console.warn("MaxApiError: "+e)}}))}},set:function(e,t,n){return a[t]=n,!0},init:function(e){a=i.default.init(e),!o||!s||(s(!0),o=null,s=null)},waitForInit:function(){return o||(o=new Promise((function(e,t){s=e}))),o},registerApp:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;return t.bridgeMode=null!==(e=n.g)&&void 0!==e&&e.__repack__&&"vn.momo.platform"!=t.appId?1:2,i.default.registerApp(t,r,(function(e){a=e,!o||!s||(s(!0),o=null,s=null)}))},registerWidget:function(e,t){var n={widget:e,isWidget:!0};return this.registerApp(n,t)}},l=new Proxy({},u);t.Z=l},7223:function(e){"use strict";e.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,a=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,o){n[r]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(s){a&&(a=!1,o(s))}}))}},1938:function(e,t){"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),i=new Array(123),a=0;a<64;)i[r[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,n){for(var i,a=null,o=[],s=0,u=0;t<n;){var l=e[t++];switch(u){case 0:o[s++]=r[l>>2],i=(3&l)<<4,u=1;break;case 1:o[s++]=r[i|l>>4],i=(15&l)<<2,u=2;break;case 2:o[s++]=r[i|l>>6],o[s++]=r[63&l],u=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return u&&(o[s++]=r[i],o[s++]=61,1===u&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var o="invalid encoding";n.decode=function(e,t,n){for(var r,a=n,s=0,u=0;u<e.length;){var l=e.charCodeAt(u++);if(61===l&&s>1)break;if(void 0===(l=i[l]))throw Error(o);switch(s){case 0:r=l,s=1;break;case 1:t[n++]=r<<2|(48&l)>>4,r=l,s=2;break;case 2:t[n++]=(15&r)<<4|(60&l)>>2,r=l,s=3;break;case 3:t[n++]=(3&r)<<6|l,s=0}}if(1===s)throw Error(o);return n-a},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},7857:function(e){"use strict";function t(e,n){"string"===typeof e&&(n=e,e=void 0);var r=[];function i(e){if("string"!==typeof e){var n=a();if(t.verbose&&console.log("codegen: "+n),n="return "+n,e){for(var o=Object.keys(e),s=new Array(o.length+1),u=new Array(o.length),l=0;l<o.length;)s[l]=o[l],u[l]=e[o[l++]];return s[l]=n,Function.apply(null,s).apply(null,u)}return Function(n)()}for(var c=new Array(arguments.length-1),h=0;h<c.length;)c[h]=arguments[++h];if(h=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var n=c[h++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),h!==c.length)throw Error("parameter count mismatch");return r.push(e),i}function a(t){return"function "+(t||n||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return i.toString=a,i}e.exports=t,t.verbose=!1},6597:function(e){"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},8774:function(e,t,n){"use strict";e.exports=a;var r=n(7223),i=n(7640)("fs");function a(e,t,n){return"function"===typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&i&&i.readFile?i.readFile(e,(function(r,i){return r&&"undefined"!==typeof XMLHttpRequest?a.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))})):a.xhr(e,t,n):r(a,this,e,t)}a.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!==typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)}},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}},2678:function(e){"use strict";function t(e){return"undefined"!==typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function a(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:a,e.writeFloatBE=r?a:i,e.readFloatLE=r?o:s,e.readFloatBE=r?s:o}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var a=Math.floor(Math.log(t)/Math.LN2);e((i<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,n,r)}}function o(e,t,n){var r=e(t,n),i=2*(r>>31)+1,a=r>>>23&255,o=8388607&r;return 255===a?o?NaN:i*(1/0):0===a?1401298464324817e-60*i*o:i*Math.pow(2,a-150)*(o+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=o.bind(null,i),e.readFloatBE=o.bind(null,a)}(),"undefined"!==typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function a(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:a,e.writeDoubleBE=r?a:i,e.readDoubleLE=r?o:s,e.readDoubleBE=r?s:o}():function(){function t(e,t,n,r,i,a){var o=r<0?1:0;if(o&&(r=-r),0===r)e(0,i,a+t),e(1/r>0?0:2147483648,i,a+n);else if(isNaN(r))e(0,i,a+t),e(2146959360,i,a+n);else if(r>17976931348623157e292)e(0,i,a+t),e((o<<31|2146435072)>>>0,i,a+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,a+t),e((o<<31|s/4294967296)>>>0,i,a+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=r*Math.pow(2,-u))>>>0,i,a+t),e((o<<31|u+1023<<20|1048576*s&1048575)>>>0,i,a+n)}}}function o(e,t,n,r,i){var a=e(r,i+t),o=e(r,i+n),s=2*(o>>31)+1,u=o>>>20&2047,l=4294967296*(1048575&o)+a;return 2047===u?l?NaN:s*(1/0):0===u?5e-324*s*l:s*Math.pow(2,u-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=o.bind(null,i,0,4),e.readDoubleBE=o.bind(null,a,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7640:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},8464:function(e,t){"use strict";var n=t,r=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=r(e),i="";n&&(i=t.shift()+"/");for(var a=0;a<t.length;)".."===t[a]?a>0&&".."!==t[a-1]?t.splice(--a,2):n?t.splice(a,1):++a:"."===t[a]?t.splice(a,1):++a;return i+t.join("/")};n.resolve=function(e,t,n){return n||(t=i(t)),r(t)?t:(n||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},110:function(e){"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,a=null,o=r;return function(n){if(n<1||n>i)return e(n);o+n>r&&(a=e(r),o=0);var s=t.call(a,o,o+=n);return 7&o&&(o=1+(7|o)),s}}},2842:function(e,t){"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,a=[],o=0;t<n;)(r=e[t++])<128?a[o++]=r:r>191&&r<224?a[o++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[o++]=55296+(r>>10),a[o++]=56320+(1023&r)):a[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,a.slice(0,o))),i.join("")):String.fromCharCode.apply(String,a.slice(0,o))},n.write=function(e,t,n){for(var r,i,a=n,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&56320===(64512&(i=e.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&i),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-a}},4020:function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[H]}function a(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===z}(e)||Array.isArray(e)||!!e[W]||!!(null===(t=e.constructor)||void 0===t?void 0:t[W])||f(e)||d(e))}function o(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:q)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[H];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:d(e)?3:0}function u(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){return 2===s(e)?e.get(t):e[t]}function c(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function h(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return U&&e instanceof Map}function d(e){return Y&&e instanceof Set}function p(e){return e.o||e.t}function v(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=$(e);delete t[H];for(var n=q(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),y(e)||i(e)||!a(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&o(e,(function(e,t){return m(t,!0)}),!0)),e}function g(){r(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=K[e];return t||r(18,e),t}function x(e,t){K[e]||(K[e]=t)}function _(){return V}function w(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function k(e){E(e),e.p.forEach(S),e.p=null}function E(e){e===V&&(V=e.l)}function T(e){return V={p:[],l:V,h:e,m:!0,_:0}}function S(e){var t=e[H];0===t.i||1===t.i?t.j():t.g=!0}function A(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.O||b("ES5").S(t,e,i),i?(n[H].P&&(k(t),r(4)),a(e)&&(e=M(t,e),t.l||C(t,e)),t.u&&b("Patches").M(n[H].t,e,t.u,t.s)):e=M(t,n,[]),k(t),t.u&&t.v(t.u,t.s),e!==G?e:void 0}function M(e,t,n){if(y(t))return t;var r=t[H];if(!r)return o(t,(function(i,a){return P(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return C(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=v(r.k):r.o,a=i,s=!1;3===r.i&&(a=new Set(i),i.clear(),s=!0),o(a,(function(t,a){return P(e,r,i,t,a,n,s)})),C(e,i,!1),n&&e.u&&b("Patches").N(r,n,e.u,e.s)}return r.o}function P(e,t,n,r,o,s,l){if(i(o)){var h=M(e,o,s&&t&&3!==t.i&&!u(t.R,r)?s.concat(r):void 0);if(c(n,r,h),!i(h))return;e.m=!1}else l&&n.add(o);if(a(o)&&!y(o)){if(!e.h.D&&e._<1)return;M(e,o),t&&t.A.l||C(e,o)}}function C(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&m(t,n)}function I(e,t){var n=e[H];return(n?p(n):e)[t]}function R(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function O(e){e.P||(e.P=!0,e.l&&O(e.l))}function L(e){e.o||(e.o=v(e.t))}function N(e,t,n){var r=f(t)?b("MapSet").F(t,n):d(t)?b("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:_(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=J;n&&(i=[r],a=Q);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):b("ES5").J(t,n);return(n?n.A:_()).p.push(r),r}function B(e){return i(e)||r(22,e),function e(t){if(!a(t))return t;var n,r=t[H],i=s(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=D(t,i),r.I=!1}else n=D(t,i);return o(n,(function(t,i){r&&l(r.t,t)===i||c(n,t,e(i))})),3===i?new Set(n):n}(e)}function D(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return v(e)}function F(){function e(e,t){var n=a[e];return n?n.enumerable=t:a[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[H];return J.get(t,e)},set:function(t){var n=this[H];J.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][H];if(!i.P)switch(i.i){case 5:r(i)&&O(i);break;case 4:n(i)&&O(i)}}}function n(e){for(var t=e.t,n=e.k,r=q(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==H){var o=t[a];if(void 0===o&&!u(t,a))return!0;var s=n[a],l=s&&s[H];if(l?l.t!==o:!h(s,o))return!0}}var c=!!t[H];return r.length!==q(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var a={};x("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=$(n);delete a[H];for(var o=q(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:_(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,H,{value:a,writable:!0}),i},S:function(e,n,a){a?i(n)&&n[H].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[H];if(n){var i=n.t,a=n.k,s=n.R,l=n.i;if(4===l)o(a,(function(t){t!==H&&(void 0!==i[t]||u(i,t)?s[t]||e(a[t]):(s[t]=!0,O(n)))})),o(i,(function(e){void 0!==a[e]||u(a,e)||(s[e]=!1,O(n))}));else if(5===l){if(r(n)&&(O(n),s.length=!0),a.length<i.length)for(var c=a.length;c<i.length;c++)s[c]=!1;else for(var h=i.length;h<a.length;h++)s[h]=!0;for(var f=Math.min(a.length,i.length),d=0;d<f;d++)a.hasOwnProperty(d)||(s[d]=!0),void 0===s[d]&&e(a[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.d(t,{xC:function(){return Be},hg:function(){return Ge},oM:function(){return Ze}});var Z,V,j="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),U="undefined"!=typeof Map,Y="undefined"!=typeof Set,X="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,G=j?Symbol.for("immer-nothing"):((Z={})["immer-nothing"]=!0,Z),W=j?Symbol.for("immer-draftable"):"__$immer_draftable",H=j?Symbol.for("immer-state"):"__$immer_state",z=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),q="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,$=Object.getOwnPropertyDescriptors||function(e){var t={};return q(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},K={},J={get:function(e,t){if(t===H)return e;var n=p(e);if(!u(n,t))return function(e,t,n){var r,i=R(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!a(r)?r:r===I(e.t,t)?(L(e),e.o[t]=N(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=R(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=I(p(e),t),a=null==i?void 0:i[H];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(h(n,i)&&(void 0!==n||u(e.t,t)))return!0;L(e),O(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==I(e.t,t)||t in e.t?(e.R[t]=!1,L(e),O(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},Q={};o(J,(function(e,t){Q[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Q.deleteProperty=function(e,t){return Q.set.call(this,e,t,void 0)},Q.set=function(e,t,n){return J.set.call(this,e[0],t,n,e[0])};var ee=function(){function e(e){var t=this;this.O=X,this.D=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var u;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),a(e)){var l=T(t),c=N(t,e,void 0),h=!0;try{u=n(c),h=!1}finally{h?k(l):E(l)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return w(l,i),A(e,l)}),(function(e){throw k(l),e})):(w(l,i),A(u,l))}if(!e||"object"!=typeof e){if(void 0===(u=n(e))&&(u=e),u===G&&(u=void 0),t.D&&m(u,!0),i){var f=[],d=[];b("Patches").M(e,u,f,d),i(f,d)}return u}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){a(e)||r(8),i(e)&&(e=B(e));var t=T(this),n=N(this,e,void 0);return n[H].C=!0,E(t),n},t.finishDraft=function(e,t){var n=(e&&e[H]).A;return w(n,t),A(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!X&&r(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var a=b("Patches").$;return i(e)?a(e,t):this.produce(e,(function(e){return a(e,t)}))},e}(),te=new ee,ne=te.produce,re=(te.produceWithPatches.bind(te),te.setAutoFreeze.bind(te),te.setUseProxies.bind(te),te.applyPatches.bind(te),te.createDraft.bind(te),te.finishDraft.bind(te),ne),ie=n(1413);function ae(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var oe="function"===typeof Symbol&&Symbol.observable||"@@observable",se=function(){return Math.random().toString(36).substring(7).split("").join(".")},ue={INIT:"@@redux/INIT"+se(),REPLACE:"@@redux/REPLACE"+se(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+se()}};function le(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ce(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(ae(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(ae(1));return n(ce)(e,t)}if("function"!==typeof e)throw new Error(ae(2));var i=e,a=t,o=[],s=o,u=!1;function l(){s===o&&(s=o.slice())}function c(){if(u)throw new Error(ae(3));return a}function h(e){if("function"!==typeof e)throw new Error(ae(4));if(u)throw new Error(ae(5));var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error(ae(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),o=null}}}function f(e){if(!le(e))throw new Error(ae(7));if("undefined"===typeof e.type)throw new Error(ae(8));if(u)throw new Error(ae(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:ue.INIT}),(r={dispatch:f,subscribe:h,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(ae(10));i=e,f({type:ue.REPLACE})}})[oe]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ae(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[oe]=function(){return this},e},r}function he(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:ue.INIT}))throw new Error(ae(12));if("undefined"===typeof n(void 0,{type:ue.PROBE_UNKNOWN_ACTION()}))throw new Error(ae(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],l=n[u],c=e[u],h=l(c,t);if("undefined"===typeof h){t&&t.type;throw new Error(ae(14))}i[u]=h,r=r||h!==c}return(r=r||o.length!==Object.keys(e).length)?i:e}}function fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function de(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(ae(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=fe.apply(void 0,a)(n.dispatch),(0,ie.Z)((0,ie.Z)({},n),{},{dispatch:r})}}}function pe(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var ve=pe();ve.withExtraArgument=pe;var me=ve,ge=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ye=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},be=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},xe=Object.defineProperty,_e=Object.defineProperties,we=Object.getOwnPropertyDescriptors,ke=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable,Se=function(e,t,n){return t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ae=function(e,t){for(var n in t||(t={}))Ee.call(t,n)&&Se(e,n,t[n]);if(ke)for(var r=0,i=ke(t);r<i.length;r++){n=i[r];Te.call(t,n)&&Se(e,n,t[n])}return e},Me=function(e,t){return _e(e,we(t))},Pe=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},Ce="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?fe:fe.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ie(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Re=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return ge(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,be([void 0],e[0].concat(this)))):new(t.bind.apply(t,be([void 0],e.concat(this))))},t}(Array);function Oe(e){return a(e)?re(e,(function(){})):e}function Le(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Re);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(me.withExtraArgument(n.extraArgument)):r.push(me));0;return r}(e)}}var Ne=!0;function Be(e){var t,n=Le(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,l=void 0===u||u,c=r.preloadedState,h=void 0===c?void 0:c,f=r.enhancers,d=void 0===f?void 0:f;if("function"===typeof a)t=a;else{if(!Ie(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=he(a)}var p=s;if("function"===typeof p&&(p=p(n),!Ne&&!Array.isArray(p)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!Ne&&p.some((function(e){return"function"!==typeof e})))throw new Error("each middleware provided to configureStore must be a function");var v=de.apply(void 0,p),m=fe;l&&(m=Ce(Ae({trace:!Ne},"object"===typeof l&&l)));var g=[v];return Array.isArray(d)?g=be([v],d):"function"===typeof d&&(g=d(g)),ce(t,h,m.apply(void 0,g))}function De(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ae(Ae({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Fe(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Ze(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Oe(e.initialState),o=e.reducers||{},s=Object.keys(o),u={},l={},c={};function h(){var t="function"===typeof e.extraReducers?Fe(e.extraReducers):[e.extraReducers],n=t[0],o=void 0===n?{}:n,s=t[1],u=void 0===s?[]:s,c=t[2],h=void 0===c?void 0:c,f=Ae(Ae({},o),l);return function(e,t,n,r){void 0===n&&(n=[]);var o,s="function"===typeof t?Fe(t):[t,n,r],u=s[0],l=s[1],c=s[2];if(function(e){return"function"===typeof e}(e))o=function(){return Oe(e())};else{var h=Oe(e);o=function(){return h}}function f(e,t){void 0===e&&(e=o());var n=be([u[t.type]],l.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var r;if(i(e))return void 0===(r=n(e,t))?e:r;if(a(e))return re(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return f.getInitialState=o,f}(r,(function(e){for(var t in f)e.addCase(t,f[t]);for(var n=0,r=u;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}h&&e.addDefaultCase(h)}))}return s.forEach((function(e){var n,r,i=o[e],a=t+"/"+e;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,u[e]=n,l[a]=n,c[e]=r?De(a,r):De(a)})),{name:t,reducer:function(e,t){return n||(n=h()),n(e,t)},actions:c,caseReducers:u,getInitialState:function(){return n||(n=h()),n.getInitialState()}}}var Ve=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},je=["name","message","stack","code"],Ue=function(e,t){this.payload=e,this.meta=t},Ye=function(e,t){this.payload=e,this.meta=t},Xe=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=je;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},Ge=function(){function e(e,t,n){var r=De(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Me(Ae({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=De(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Me(Ae({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=De(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||Xe)(e||"Rejected"),meta:Me(Ae({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,l){var c,h=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Ve(),f=new o;function d(e){c=e,f.abort()}var p=function(){return Pe(this,null,(function(){var o,p,v,m,g,y;return ye(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:l}),null===(x=m)||"object"!==typeof x||"function"!==typeof x.then?[3,2]:[4,m];case 1:m=b.sent(),b.label=2;case 2:if(!1===m||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,g=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:c||"Aborted"})}))})),s(i(h,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:h,arg:e},{getState:u,extra:l}))),[4,Promise.race([g,Promise.resolve(t(e,{dispatch:s,getState:u,extra:l,requestId:h,signal:f.signal,abort:d,rejectWithValue:function(e,t){return new Ue(e,t)},fulfillWithValue:function(e,t){return new Ye(e,t)}})).then((function(t){if(t instanceof Ue)throw t;return t instanceof Ye?r(t.payload,h,e,t.meta):r(t,h,e)}))])];case 3:return v=b.sent(),[3,5];case 4:return y=b.sent(),v=y instanceof Ue?a(null,h,e,y.payload,y.meta):a(y,h,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var x}))}))}();return Object.assign(p,{abort:d,requestId:h,arg:e,unwrap:function(){return p.then(We)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function We(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var He="listenerMiddleware";De(He+"/add"),De(He+"/removeAll"),De(He+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var ze,qe=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:qe(10);F()},2470:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,a=u(e),o=a[0],s=a[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),c=0,h=s>0?o-4:o;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,u=r-i;s<u;s+=o)a.push(l(e,s,s+o>u?u:s+o));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=a.length;o<s;++o)n[o]=a[o],r[a.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},918:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(6115).default,o=n(1655).default,s=n(6389).default,u=n(2470),l=n(545),c="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=d,t.h2=50;var h=2147483647;function f(e){if(e>h)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,d.prototype),t}function d(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return m(e)}return p(e,t,n)}function p(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!d.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|x(e,t),r=f(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(ee(e,Uint8Array)){var t=new Uint8Array(e);return y(t.buffer,t.byteOffset,t.byteLength)}return g(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer))return y(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(ee(e,SharedArrayBuffer)||e&&ee(e.buffer,SharedArrayBuffer)))return y(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return d.from(r,t,n);var i=function(e){if(d.isBuffer(e)){var t=0|b(e.length),n=f(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||te(e.length)?f(0):g(e);if("Buffer"===e.type&&Array.isArray(e.data))return g(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return d.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function v(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function m(e){return v(e),f(e<0?0:0|b(e))}function g(e){for(var t=e.length<0?0:0|b(e.length),n=f(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function y(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,d.prototype),r}function b(e){if(e>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|e}function x(e,t){if(d.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(i)return r?-1:K(e).length;t=(""+t).toLowerCase(),i=!0}}function _(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function k(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),te(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=d.from(t,r)),d.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var h=!0,f=0;f<u;f++)if(l(e,a+f)!==l(t,f)){h=!1;break}if(h)return a}return-1}function T(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a,o=t.length;for(r>o/2&&(r=o/2),a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(te(s))return a;e[n+a]=s}return a}function S(e,t,n,r){return Q(K(t,e.length-n),e,n,r)}function A(e,t,n,r){return Q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function M(e,t,n,r){return Q(J(t),e,n,r)}function P(e,t,n,r){return Q(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?u.fromByteArray(e):u.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var u=void 0,l=void 0,c=void 0,h=void 0;switch(s){case 1:a<128&&(o=a);break;case 2:128===(192&(u=e[i+1]))&&(h=(31&a)<<6|63&u)>127&&(o=h);break;case 3:u=e[i+1],l=e[i+2],128===(192&u)&&128===(192&l)&&(h=(15&a)<<12|(63&u)<<6|63&l)>2047&&(h<55296||h>57343)&&(o=h);break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(h=(15&a)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&h<1114112&&(o=h)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}(r)}d.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),d.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(e,t,n){return p(e,t,n)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(e,t,n){return function(e,t,n){return v(e),e<=0?f(e):void 0!==t?"string"===typeof n?f(e).fill(t,n):f(e).fill(t):f(e)}(e,t,n)},d.allocUnsafe=function(e){return m(e)},d.allocUnsafeSlow=function(e){return m(e)},d.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==d.prototype},d.compare=function(e,t){if(ee(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),ee(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=d.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(ee(a,Uint8Array))i+a.length>r.length?(d.isBuffer(a)||(a=d.from(a)),a.copy(r,i)):Uint8Array.prototype.set.call(r,a,i);else{if(!d.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i)}i+=a.length}return r},d.byteLength=x,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},d.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):_.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},c&&(d.prototype[c]=d.prototype.inspect),d.prototype.compare=function(e,t,n,r,i){if(ee(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(r,i),l=e.slice(t,n),c=0;c<s;++c)if(u[c]!==l[c]){a=u[c],o=l[c];break}return a<o?-1:o<a?1:0},d.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},d.prototype.indexOf=function(e,t,n){return k(this,e,t,n,!0)},d.prototype.lastIndexOf=function(e,t,n){return k(this,e,t,n,!1)},d.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return T(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return A(this,e,t,n);case"base64":return M(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=ne[e[a]];return i}function B(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length-1;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function D(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,r,i,a){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function Z(e,t,n,r,i){H(t,r,i,e,n,7);var a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function V(e,t,n,r,i){H(t,r,i,e,n,7);var a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function j(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,i){return t=+t,n>>>=0,i||j(e,0,n,4),l.write(e,t,n,r,23,4),n+4}function Y(e,t,n,r,i){return t=+t,n>>>=0,i||j(e,0,n,8),l.write(e,t,n,r,52,8),n+8}d.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,d.prototype),r},d.prototype.readUintLE=d.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},d.prototype.readUintBE=d.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},d.prototype.readUint8=d.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readBigUInt64LE=re((function(e){z(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);var r=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+n*Math.pow(2,24);return BigInt(r)+(BigInt(i)<<BigInt(32))})),d.prototype.readBigUInt64BE=re((function(e){z(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);var r=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),d.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},d.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},d.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readBigInt64LE=re((function(e){z(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);var r=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),d.prototype.readBigInt64BE=re((function(e){z(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);var r=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n)})),d.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),l.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),l.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),l.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),l.read(this,e,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},d.prototype.writeUint8=d.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,1,255,0),this[t]=255&e,t+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeBigUInt64LE=re((function(e){return Z(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),d.prototype.writeBigUInt64BE=re((function(e){return V(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),d.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},d.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},d.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},d.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeBigInt64LE=re((function(e){return Z(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),d.prototype.writeBigInt64BE=re((function(e){return V(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),d.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},d.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},d.prototype.writeDoubleLE=function(e,t,n){return Y(this,e,t,!0,n)},d.prototype.writeDoubleBE=function(e,t,n){return Y(this,e,t,!1,n)},d.prototype.copy=function(e,t,n,r){if(!d.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},d.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!d.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=d.isBuffer(e)?e:d.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var X={};function G(e,t,n){X[e]=function(n){o(l,n);var u=s(l);function l(){var n;return r(this,l),n=u.call(this),Object.defineProperty(a(n),"message",{value:t.apply(a(n),arguments),writable:!0,configurable:!0}),n.name="".concat(n.name," [").concat(e,"]"),n.stack,delete n.name,n}return i(l,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),l}(n)}function W(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function H(e,t,n,r,i,a){if(e>n||e<t){var o,s="bigint"===typeof t?"n":"";throw o=a>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(a+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(a+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(a+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(n).concat(s),new X.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,i,a)}function z(e,t){if("number"!==typeof e)throw new X.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw z(e,n),new X.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new X.ERR_BUFFER_OUT_OF_BOUNDS;throw new X.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}G("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),G("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),G("ERR_OUT_OF_RANGE",(function(e,t,n){var r='The value of "'.concat(e,'" is out of range.'),i=n;return Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?i=W(String(n)):"bigint"===typeof n&&(i=String(n),(n>Math.pow(BigInt(2),BigInt(32))||n<-Math.pow(BigInt(2),BigInt(32)))&&(i=W(i)),i+="n"),r+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var $=/[^+/0-9A-Za-z-_]/g;function K(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function J(e){return u.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function Q(e,t,n,r){var i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function ee(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function te(e){return e!==e}var ne=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}();function re(e){return"undefined"===typeof BigInt?ie:e}function ie(){throw new Error("BigInt not supported")}},6583:function(e){"use strict";function t(e,t,r){r=r||2;var a,o,s,u,h,f,p,v=t&&t.length,m=v?t[0]*r:e.length,g=n(e,0,m,r,!0),y=[];if(!g||g.next===g.prev)return y;if(v&&(g=function(e,t,r,i){var a,o,s,u=[];for(a=0,o=t.length;a<o;a++)(s=n(e,t[a]*i,a<o-1?t[a+1]*i:e.length,i,!1))===s.next&&(s.steiner=!0),u.push(d(s));for(u.sort(l),a=0;a<u.length;a++)r=c(u[a],r);return r}(e,t,g,r)),e.length>80*r){a=s=e[0],o=u=e[1];for(var b=r;b<m;b+=r)(h=e[b])<a&&(a=h),(f=e[b+1])<o&&(o=f),h>s&&(s=h),f>u&&(u=f);p=0!==(p=Math.max(s-a,u-o))?32767/p:0}return i(g,y,r,a,o,p,0),y}function n(e,t,n,r,i){var a,o;if(i===S(e,t,n,r)>0)for(a=t;a<n;a+=r)o=k(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=k(a,e[a],e[a+1],o);return o&&g(o,o.next)&&(E(o),o=o.next),o}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!g(r,r.next)&&0!==m(r.prev,r,r.next))r=r.next;else{if(E(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function i(e,t,n,l,c,h,d){if(e){!d&&h&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=f(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,l,c,h);for(var p,v,m=e;e.prev!==e.next;)if(p=e.prev,v=e.next,h?o(e,l,c,h):a(e))t.push(p.i/n|0),t.push(e.i/n|0),t.push(v.i/n|0),E(e),e=v.next,m=v.next;else if((e=v)===m){d?1===d?i(e=s(r(e),t,n),t,n,l,c,h,2):2===d&&u(e,t,n,l,c,h):i(r(e),t,n,l,c,h,1);break}}}function a(e){var t=e.prev,n=e,r=e.next;if(m(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,u=n.y,l=r.y,c=i<a?i<o?i:o:a<o?a:o,h=s<u?s<l?s:l:u<l?u:l,f=i>a?i>o?i:o:a>o?a:o,d=s>u?s>l?s:l:u>l?u:l,v=r.next;v!==t;){if(v.x>=c&&v.x<=f&&v.y>=h&&v.y<=d&&p(i,s,a,u,o,l,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function o(e,t,n,r){var i=e.prev,a=e,o=e.next;if(m(i,a,o)>=0)return!1;for(var s=i.x,u=a.x,l=o.x,c=i.y,h=a.y,d=o.y,v=s<u?s<l?s:l:u<l?u:l,g=c<h?c<d?c:d:h<d?h:d,y=s>u?s>l?s:l:u>l?u:l,b=c>h?c>d?c:d:h>d?h:d,x=f(v,g,t,n,r),_=f(y,b,t,n,r),w=e.prevZ,k=e.nextZ;w&&w.z>=x&&k&&k.z<=_;){if(w.x>=v&&w.x<=y&&w.y>=g&&w.y<=b&&w!==i&&w!==o&&p(s,c,u,h,l,d,w.x,w.y)&&m(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,k.x>=v&&k.x<=y&&k.y>=g&&k.y<=b&&k!==i&&k!==o&&p(s,c,u,h,l,d,k.x,k.y)&&m(k.prev,k,k.next)>=0)return!1;k=k.nextZ}for(;w&&w.z>=x;){if(w.x>=v&&w.x<=y&&w.y>=g&&w.y<=b&&w!==i&&w!==o&&p(s,c,u,h,l,d,w.x,w.y)&&m(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;k&&k.z<=_;){if(k.x>=v&&k.x<=y&&k.y>=g&&k.y<=b&&k!==i&&k!==o&&p(s,c,u,h,l,d,k.x,k.y)&&m(k.prev,k,k.next)>=0)return!1;k=k.nextZ}return!0}function s(e,t,n){var i=e;do{var a=i.prev,o=i.next.next;!g(a,o)&&y(a,i,i.next,o)&&_(a,o)&&_(o,a)&&(t.push(a.i/n|0),t.push(i.i/n|0),t.push(o.i/n|0),E(i),E(i.next),i=e=o),i=i.next}while(i!==e);return r(i)}function u(e,t,n,a,o,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&v(u,l)){var c=w(u,l);return u=r(u,u.next),c=r(c,c.next),i(u,t,n,a,o,s,0),void i(c,t,n,a,o,s,0)}l=l.next}u=u.next}while(u!==e)}function l(e,t){return e.x-t.x}function c(e,t){var n=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o&&(o=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==t);if(!n)return null;var u,l=n,c=n.x,f=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&p(a<f?i:o,a,c,f,a<f?o:i,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(i-r.x),_(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,d=u)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var i=w(n,e);return r(i,i.next),r(n,n.next)}function h(e,t){return m(e.prev,e,t.prev)<0&&m(t.next,e,e.next)<0}function f(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function p(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function v(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&y(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(_(e,t)&&_(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(m(e.prev,e,t.prev)||m(e,t.prev,t))||g(e,t)&&m(e.prev,e,e.next)>0&&m(t.prev,t,t.next)>0)}function m(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function g(e,t){return e.x===t.x&&e.y===t.y}function y(e,t,n,r){var i=x(m(e,t,n)),a=x(m(e,t,r)),o=x(m(n,r,e)),s=x(m(n,r,t));return i!==a&&o!==s||(!(0!==i||!b(e,n,t))||(!(0!==a||!b(e,r,t))||(!(0!==o||!b(n,e,r))||!(0!==s||!b(n,t,r)))))}function b(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function x(e){return e>0?1:e<0?-1:0}function _(e,t){return m(e.prev,e,e.next)<0?m(e,t,e.next)>=0&&m(e,e.prev,t)>=0:m(e,t,e.prev)<0||m(e,e.next,t)<0}function w(e,t){var n=new T(e.i,e.x,e.y),r=new T(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function k(e,t,n,r){var i=new T(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function E(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function T(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(S(e,0,a,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;o-=Math.abs(S(e,l,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;h+=Math.abs((e[f]-e[p])*(e[d+1]-e[f+1])-(e[f]-e[d])*(e[p+1]-e[f+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},548:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,a),!0;case 6:return c.fn.call(c.context,t,r,i,a,o),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&l.push(s[u]);l.length?this._events[a]=1===l.length?l[0]:l:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},8041:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,a,o,l;if(s(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,l=c,console&&console.warn&&console.warn(l)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=a[e];if(void 0===u)return!1;if("function"===typeof u)r(u,this,t);else{var l=u.length,c=p(u,l);for(n=0;n<l;++n)r(c[n],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return s(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,a,o;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},1036:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,{$i:function(){return ne},DY:function(){return ue},Fc:function(){return m},Fo:function(){return ln},GN:function(){return bt},JV:function(){return un},Ks:function(){return nn},Ok:function(){return le},Pr:function(){return he},S5:function(){return Qt},SI:function(){return D},UI:function(){return ot},Wy:function(){return ze},Yv:function(){return En},bJ:function(){return wn},bQ:function(){return V},cy:function(){return de},d4:function(){return F},fS:function(){return ce},if:function(){return Ut},kr:function(){return _t},l1:function(){return Nt},lC:function(){return W},m2:function(){return P},p8:function(){return _n},r9:function(){return S},sm:function(){return kn},xr:function(){return wt}});var a,o,s,u,l,c,h,f,d,p,v,m={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},g={duration:.5,overwrite:!1,delay:0},y=1e8,b=1e-8,x=2*Math.PI,_=x/4,w=0,k=Math.sqrt,E=Math.cos,T=Math.sin,S=function(e){return"string"===typeof e},A=function(e){return"function"===typeof e},M=function(e){return"number"===typeof e},P=function(e){return"undefined"===typeof e},C=function(e){return"object"===typeof e},I=function(e){return!1!==e},R=function(){return"undefined"!==typeof window},O=function(e){return A(e)||S(e)},L="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},N=Array.isArray,B=/(?:-?\.?\d|\.)+/gi,D=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,F=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Z=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,V=/[+-]=-?[.\d]+/,j=/[^,'"\[\]\s]+/gi,U=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Y={},X={},G=function(e){return(X=xe(e,Y))&&_n},W=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},H=function(e,t){return!t&&console.warn(e)},z=function(e,t){return e&&(Y[e]=t)&&X&&(X[e]=t)||Y},q=function(){return 0},$={suppressEvents:!0,isStart:!0,kill:!1},K={suppressEvents:!0,kill:!1},J={suppressEvents:!0},Q={},ee=[],te={},ne={},re={},ie=30,ae=[],oe="",se=function(e){var t,n,r=e[0];if(C(r)||A(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=ae.length;n--&&!ae[n].targetTest(r););t=ae[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Nt(e[n],t)))||e.splice(n,1);return e},ue=function(e){return e._gsap||se(Je(e))[0]._gsap},le=function(e,t,n){return(n=e[t])&&A(n)?e[t]():P(n)&&e.getAttribute&&e.getAttribute(t)||n},ce=function(e,t){return(e=e.split(",")).forEach(t)||e},he=function(e){return Math.round(1e5*e)/1e5||0},fe=function(e){return Math.round(1e7*e)/1e7||0},de=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},pe=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},ve=function(){var e,t,n=ee.length,r=ee.slice(0);for(te={},ee.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},me=function(e,t,n,r){ee.length&&!o&&ve(),e.render(t,n,r||o&&t<0&&(e._initted||e._startAt)),ee.length&&!o&&ve()},ge=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(j).length<2?t:S(e)?e.trim():e},ye=function(e){return e},be=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},xe=function(e,t){for(var n in t)e[n]=t[n];return e},_e=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=C(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},we=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},ke=function(e){var t,n=e.parent||u,r=e.keyframes?(t=N(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):be;if(I(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Ee=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,o=e[r];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},Te=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,a=t._next;i?i._next=a:e[n]===t&&(e[n]=a),a?a._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},Se=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Ae=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Me=function(e,t,n,r){return e._startAt&&(o?e._startAt.revert(K):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Pe=function e(t){return!t||t._ts&&e(t.parent)},Ce=function(e){return e._repeat?Ie(e._tTime,e=e.duration()+e._rDelay)*e:0},Ie=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},Re=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Oe=function(e){return e._end=fe(e._start+(e._tDur/Math.abs(e._ts||e._rts||b)||0))},Le=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=fe(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Oe(e),n._dirty||Ae(n,e)),e},Ne=function(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=Re(e.rawTime(),t),(!t._dur||He(0,t.totalDuration(),n)-t._tTime>b)&&t.render(n,!0)),Ae(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},Be=function(e,t,n,r){return t.parent&&Se(t),t._start=fe((M(n)?n:n||e!==u?Xe(e,n,t):e._time)+t._delay),t._end=fe(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Ee(e,t,"_first","_last",e._sort?"_start":0),Ve(t)||(e._recent=t),r||Ne(e,t),e._ts<0&&Le(e,e._tTime),e},De=function(e,t){return(Y.ScrollTrigger||W("scrollTrigger",t))&&Y.ScrollTrigger.create(t,e)},Fe=function(e,t,n,r,i){return Yt(e,t,i),e._initted?!n&&e._pt&&!o&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&d!==wt.frame?(ee.push(e),e._lazy=[i,r],1):void 0:1},Ze=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},Ve=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},je=function(e,t,n,r){var i=e._repeat,a=fe(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:fe(a*(i+1)+e._rDelay*i):a,o>0&&!r&&Le(e,e._tTime=e._tDur*o),e.parent&&Oe(e),n||Ae(e.parent,e),e},Ue=function(e){return e instanceof Dt?Ae(e):je(e,e._dur)},Ye={_start:0,endTime:q,totalDuration:q},Xe=function e(t,n,r){var i,a,o,s=t.labels,u=t._recent||Ye,l=t.duration()>=y?u.endTime(!1):t._dur;return S(n)&&(isNaN(n)||n in s)?(a=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===a||">"===a?(i>=0&&(n=n.replace(/=/,"")),("<"===a?u._start:u.endTime(u._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?u:r).totalDuration()/100:1)):i<0?(n in s||(s[n]=l),s[n]):(a=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(a=a/100*(N(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+a:l+a)):null==n?l:+n},Ge=function(e,t,n){var r,i,a=M(t[1]),o=(a?2:1)+(e<2?0:1),s=t[o];if(a&&(s.duration=t[1]),s.parent=n,e){for(r=s,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=I(i.vars.inherit)&&i.parent;s.immediateRender=I(r.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return new zt(t[0],s,t[o+1])},We=function(e,t){return e||0===e?t(e):t},He=function(e,t,n){return n<e?e:n>t?t:n},ze=function(e,t){return S(e)&&(t=U.exec(e))?t[1]:""},qe=[].slice,$e=function(e,t){return e&&C(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&C(e[0]))&&!e.nodeType&&e!==l},Ke=function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return S(e)&&!t||$e(e,1)?(r=n).push.apply(r,Je(e)):n.push(e)}))||n},Je=function(e,t,n){return s&&!t&&s.selector?s.selector(e):!S(e)||n||!c&&kt()?N(e)?Ke(e,n):$e(e)?qe.call(e,0):e?[e]:[]:qe.call((t||h).querySelectorAll(e),0)},Qe=function(e){return e=Je(e)[0]||H("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Je(t,n.querySelectorAll?n:n===e?H("Invalid scope")||h.createElement("div"):e)}},et=function(e){return e.sort((function(){return.5-Math.random()}))},tt=function(e){if(A(e))return e;var t=C(e)?e:{each:e},n=Ct(t.ease),r=t.from||0,i=parseFloat(t.base)||0,a={},o=r>0&&r<1,s=isNaN(r)||o,u=t.axis,l=r,c=r;return S(r)?l=c={center:.5,edges:.5,end:1}[r]||0:!o&&s&&(l=r[0],c=r[1]),function(e,o,h){var f,d,p,v,m,g,b,x,_,w=(h||t).length,E=a[w];if(!E){if(!(_="auto"===t.grid?0:(t.grid||[1,y])[1])){for(b=-y;b<(b=h[_++].getBoundingClientRect().left)&&_<w;);_--}for(E=a[w]=[],f=s?Math.min(_,w)*l-.5:r%_,d=_===y?0:s?w*c/_-.5:r/_|0,b=0,x=y,g=0;g<w;g++)p=g%_-f,v=d-(g/_|0),E[g]=m=u?Math.abs("y"===u?v:p):k(p*p+v*v),m>b&&(b=m),m<x&&(x=m);"random"===r&&et(E),E.max=b-x,E.min=x,E.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(_>w?w-1:u?"y"===u?w/_:_:Math.max(_,w/_))||0)*("edges"===r?-1:1),E.b=w<0?i-w:i,E.u=ze(t.amount||t.each)||0,n=n&&w<0?Mt(n):n}return w=(E[e]-E.min)/E.max||0,fe(E.b+(n?n(w):w)*E.v)+E.u}},nt=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=fe(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(M(n)?0:ze(n))}},rt=function(e,t){var n,r,i=N(e);return!i&&C(e)&&(n=i=e.radius||y,e.values?(e=Je(e.values),(r=!M(e[0]))&&(n*=n)):e=nt(e.increment)),We(t,i?A(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,a,o=parseFloat(r?t.x:t),s=parseFloat(r?t.y:0),u=y,l=0,c=e.length;c--;)(i=r?(i=e[c].x-o)*i+(a=e[c].y-s)*a:Math.abs(e[c]-o))<u&&(u=i,l=c);return l=!n||u<=n?e[l]:t,r||l===t||M(t)?l:l+ze(t)}:nt(e))},it=function(e,t,n,r){return We(N(e)?!t:!0===n?!!(n=0):!r,(function(){return N(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},at=function(e,t,n){return We(n,(function(n){return e[~~t(n)]}))},ot=function(e){for(var t,n,r,i,a=0,o="";~(t=e.indexOf("random(",a));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?j:B),o+=e.substr(a,t-a)+it(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),a=r+1;return o+e.substr(a,e.length-a)},st=function(e,t,n,r,i){var a=t-e,o=r-n;return We(i,(function(t){return n+((t-e)/a*o||0)}))},ut=function(e,t,n){var r,i,a,o=e.labels,s=y;for(r in o)(i=o[r]-t)<0===!!n&&i&&s>(i=Math.abs(i))&&(a=r,s=i);return a},lt=function(e,t,n){var r,i,a,o=e.vars,u=o[t],l=s,c=e._ctx;if(u)return r=o[t+"Params"],i=o.callbackScope||e,n&&ee.length&&ve(),c&&(s=c),a=r?u.apply(i,r):u.call(i),s=l,a},ct=function(e){return Se(e),e.scrollTrigger&&e.scrollTrigger.kill(!!o),e.progress()<1&&lt(e,"onInterrupt"),e},ht=[],ft=function(e){if(R()){var t=(e=!e.name&&e.default||e).name,n=A(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:q,render:rn,add:jt,kill:on,modifier:an,rawVars:0},a={targetTest:0,get:0,getSetter:Qt,aliases:{},register:0};if(kt(),e!==r){if(ne[t])return;be(r,be(we(e,i),a)),xe(r.prototype,xe(i,we(e,a))),ne[r.prop=t]=r,e.targetTest&&(ae.push(r),Q[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}z(t,r),e.register&&e.register(_n,r,ln)}else ht.push(e)},dt=255,pt={aqua:[0,dt,dt],lime:[0,dt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,dt],navy:[0,0,128],white:[dt,dt,dt],olive:[128,128,0],yellow:[dt,dt,0],orange:[dt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[dt,0,0],pink:[dt,192,203],cyan:[0,dt,dt],transparent:[dt,dt,dt,0]},vt=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*dt+.5|0},mt=function(e,t,n){var r,i,a,o,s,u,l,c,h,f,d=e?M(e)?[e>>16,e>>8&dt,e&dt]:0:pt.black;if(!d){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),pt[e])d=pt[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),a=e.charAt(3),e="#"+r+r+i+i+a+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(d=parseInt(e.substr(1,6),16))>>16,d>>8&dt,d&dt,parseInt(e.substr(7),16)/255];d=[(e=parseInt(e.substr(1),16))>>16,e>>8&dt,e&dt]}else if("hsl"===e.substr(0,3))if(d=f=e.match(B),t){if(~e.indexOf("="))return d=e.match(D),n&&d.length<4&&(d[3]=1),d}else o=+d[0]%360/360,s=+d[1]/100,r=2*(u=+d[2]/100)-(i=u<=.5?u*(s+1):u+s-u*s),d.length>3&&(d[3]*=1),d[0]=vt(o+1/3,r,i),d[1]=vt(o,r,i),d[2]=vt(o-1/3,r,i);else d=e.match(B)||pt.transparent;d=d.map(Number)}return t&&!f&&(r=d[0]/dt,i=d[1]/dt,a=d[2]/dt,u=((l=Math.max(r,i,a))+(c=Math.min(r,i,a)))/2,l===c?o=s=0:(h=l-c,s=u>.5?h/(2-l-c):h/(l+c),o=l===r?(i-a)/h+(i<a?6:0):l===i?(a-r)/h+2:(r-i)/h+4,o*=60),d[0]=~~(o+.5),d[1]=~~(100*s+.5),d[2]=~~(100*u+.5)),n&&d.length<4&&(d[3]=1),d},gt=function(e){var t=[],n=[],r=-1;return e.split(bt).forEach((function(e){var i=e.match(F)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},yt=function(e,t,n){var r,i,a,o,s="",u=(e+s).match(bt),l=t?"hsla(":"rgba(",c=0;if(!u)return e;if(u=u.map((function(e){return(e=mt(e,t,1))&&l+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(a=gt(e),(r=n.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(bt,"1").split(F)).length-1;c<o;c++)s+=i[c]+(~r.indexOf(c)?u.shift()||l+"0,0,0,0)":(a.length?a:u.length?u:n).shift());if(!i)for(o=(i=e.split(bt)).length-1;c<o;c++)s+=i[c]+u[c];return s+i[o]},bt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in pt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),xt=/hsl[a]?\(/,_t=function(e){var t,n=e.join(" ");if(bt.lastIndex=0,bt.test(n))return t=xt.test(n),e[1]=yt(e[1],t),e[0]=yt(e[0],t,gt(e[1])),!0},wt=function(){var e,t,n,r,i,a,o=Date.now,s=500,u=33,d=o(),p=d,m=1e3/240,g=m,y=[],b=function n(l){var c,h,f,v,b=o()-p,x=!0===l;if(b>s&&(d+=b-u),((c=(f=(p+=b)-d)-g)>0||x)&&(v=++r.frame,i=f-1e3*r.time,r.time=f/=1e3,g+=c+(c>=m?4:m-c),h=1),x||(e=t(n)),h)for(a=0;a<y.length;a++)y[a](f,i,v,l)};return r={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){f&&(!c&&R()&&(l=c=window,h=l.document||{},Y.gsap=_n,(l.gsapVersions||(l.gsapVersions=[])).push(_n.version),G(X||l.GreenSockGlobals||!l.gsap&&l||{}),n=l.requestAnimationFrame,ht.forEach(ft)),e&&r.sleep(),t=n||function(e){return setTimeout(e,g-1e3*r.time+1|0)},v=1,b(2))},sleep:function(){(n?l.cancelAnimationFrame:clearTimeout)(e),v=0,t=q},lagSmoothing:function(e,t){s=e||1/0,u=Math.min(t||33,s)},fps:function(e){m=1e3/(e||240),g=1e3*r.time+m},add:function(e,t,n){var i=t?function(t,n,a,o){e(t,n,a,o),r.remove(i)}:e;return r.remove(e),y[n?"unshift":"push"](i),kt(),i},remove:function(e,t){~(t=y.indexOf(e))&&y.splice(t,1)&&a>=t&&a--},_listeners:y}}(),kt=function(){return!v&&wt.wake()},Et={},Tt=/^[\d.\-M][\d.\-,\s]/,St=/["']/g,At=function(e){for(var t,n,r,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,u=a.length;s<u;s++)n=a[s],t=s!==u-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(St,"").trim():+r,o=n.substr(t+1).trim();return i},Mt=function(e){return function(t){return 1-e(1-t)}},Pt=function e(t,n){for(var r,i=t._first;i;)i instanceof Dt?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Ct=function(e,t){return e&&(A(e)?e:Et[e]||function(e){var t=(e+"").split("("),n=Et[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[At(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(ge)):Et._CE&&Tt.test(e)?Et._CE("",e):n}(e))||t},It=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:n,easeInOut:r};return ce(e,(function(e){for(var t in Et[e]=Y[e]=a,Et[i=e.toLowerCase()]=n,a)Et[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=Et[e+"."+t]=a[t]})),a},Rt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Ot=function e(t,n,r){var i=n>=1?n:1,a=(r||(t?.3:.45))/(n<1?n:1),o=a/x*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*T((e-o)*a)+1},u="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:Rt(s);return a=x/a,u.config=function(n,r){return e(t,n,r)},u},Lt=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Rt(r);return i.config=function(n){return e(t,n)},i};ce("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;It(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),Et.Linear.easeNone=Et.none=Et.Linear.easeIn,It("Elastic",Ot("in"),Ot("out"),Ot()),function(e,t){var n=1/t,r=function(r){return r<n?e*r*r:r<.7272727272727273?e*Math.pow(r-1.5/t,2)+.75:r<.9090909090909092?e*(r-=2.25/t)*r+.9375:e*Math.pow(r-2.625/t,2)+.984375};It("Bounce",(function(e){return 1-r(1-e)}),r)}(7.5625,2.75),It("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),It("Circ",(function(e){return-(k(1-e*e)-1)})),It("Sine",(function(e){return 1===e?1:1-E(e*_)})),It("Back",Lt("in"),Lt("out"),Lt()),Et.SteppedEase=Et.steps=Y.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*He(0,.99999999,e)|0)+i)*n}}},g.ease=Et["quad.out"],ce("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return oe+=e+","+e+"Params,"}));var Nt=function(e,t){this.id=w++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:le,this.set=t?t.getSetter:Qt},Bt=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,je(this,+e.duration,1,1),this.data=e.data,s&&(this._ctx=s,s.data.push(this)),v||wt.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,je(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(kt(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Le(this,e),!n._dp||n.parent||Ne(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Be(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===b||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),me(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Ce(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Ce(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Ie(this._tTime,n)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?Re(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(He(-Math.abs(this._delay),this._tDur,t),!0),Oe(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(kt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==b&&(this._tTime-=b)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Be(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(I(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Re(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=J);var t=o;return o=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),o=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(t._ts||1),t=t._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,Ue(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,Ue(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Xe(this,e),I(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,I(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-b))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=A(e)?e:ye,i=function(){var e=t.then;t.then=null,A(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){ct(this)},e}();be(Bt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Dt=function(e){function t(t,n){var i;return void 0===t&&(t={}),(i=e.call(this,t)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=I(t.sortChildren),u&&Be(t.parent||u,r(i),n),t.reversed&&i.reverse(),t.paused&&i.paused(!0),t.scrollTrigger&&De(r(i),t.scrollTrigger),i}i(t,e);var n=t.prototype;return n.to=function(e,t,n){return Ge(0,arguments,this),this},n.from=function(e,t,n){return Ge(1,arguments,this),this},n.fromTo=function(e,t,n,r){return Ge(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,ke(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new zt(e,t,Xe(this,n),1),this},n.call=function(e,t,n){return Be(this,zt.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,a,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new zt(e,n,Xe(this,i)),this},n.staggerFrom=function(e,t,n,r,i,a,o){return n.runBackwards=1,ke(n).immediateRender=I(n.immediateRender),this.staggerTo(e,t,n,r,i,a,o)},n.staggerFromTo=function(e,t,n,r,i,a,o,s){return r.startAt=n,ke(r).immediateRender=I(r.immediateRender),this.staggerTo(e,t,r,i,a,o,s)},n.render=function(e,t,n){var r,i,a,s,l,c,h,f,d,p,v,m,g=this._time,y=this._dirty?this.totalDuration():this._tDur,x=this._dur,_=e<=0?0:fe(e),w=this._zTime<0!==e<0&&(this._initted||!x);if(this!==u&&_>y&&e>=0&&(_=y),_!==this._tTime||n||w){if(g!==this._time&&x&&(_+=this._time-g,e+=this._time-g),r=_,d=this._start,c=!(f=this._ts),w&&(x||(g=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(v=this._yoyo,l=x+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*l+e,t,n);if(r=fe(_%l),_===y?(s=this._repeat,r=x):((s=~~(_/l))&&s===_/l&&(r=x,s--),r>x&&(r=x)),p=Ie(this._tTime,l),!g&&this._tTime&&p!==s&&this._tTime-p*l-this._dur<=0&&(p=s),v&&1&s&&(r=x-r,m=1),s!==p&&!this._lock){var k=v&&1&p,E=k===(v&&1&s);if(s<p&&(k=!k),g=k?0:x,this._lock=1,this.render(g||(m?0:fe(s*l)),t,!x)._lock=0,this._tTime=_,!t&&this.parent&&lt(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),g&&g!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(x=this._dur,y=this._tDur,E&&(this._lock=2,g=k?x:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;Pt(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,fe(g),fe(r)),h&&(_-=r-(r=h._start))),this._tTime=_,this._time=r,this._act=!f,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,g=0),!g&&r&&!t&&!s&&(lt(this,"onStart"),this._tTime!==_))return this;if(r>=g&&e>=0)for(i=this._first;i;){if(a=i._next,(i._act||r>=i._start)&&i._ts&&h!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!c){h=0,a&&(_+=this._zTime=-1e-8);break}}i=a}else{i=this._last;for(var T=e<0?e:r;i;){if(a=i._prev,(i._act||T<=i._end)&&i._ts&&h!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(T-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(T-i._start)*i._ts,t,n||o&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!c){h=0,a&&(_+=this._zTime=T?-1e-8:b);break}}i=a}}if(h&&!t&&(this.pause(),h.render(r>=g?0:-1e-8)._zTime=r>=g?1:-1,this._ts))return this._start=d,Oe(this),this.render(e,t,n);this._onUpdate&&!t&&lt(this,"onUpdate",!0),(_===y&&this._tTime>=this.totalDuration()||!_&&g)&&(d!==this._start&&Math.abs(f)===Math.abs(this._ts)||this._lock||((e||!x)&&(_===y&&this._ts>0||!_&&this._ts<0)&&Se(this,1),t||e<0&&!g||!_&&!g&&y||(lt(this,_===y&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<y&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(M(t)||(t=Xe(this,t,e)),!(e instanceof Bt)){if(N(e))return e.forEach((function(e){return n.add(e,t)})),this;if(S(e))return this.addLabel(e,t);if(!A(e))return this;e=zt.delayedCall(0,e)}return this!==e?Be(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-y);for(var i=[],a=this._first;a;)a._start>=r&&(a instanceof zt?t&&i.push(a):(n&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,n)))),a=a._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return S(e)?this.removeLabel(e):A(e)?this.killTweensOf(e):(Te(this,e),e===this._recent&&(this._recent=this._last),Ae(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=fe(wt.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=Xe(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=zt.delayedCall(0,t||q,n);return r.data="isPause",this._hasPause=1,Be(this,r,Xe(this,e))},n.removePause=function(e){var t=this._first;for(e=Xe(this,e);t;)t._start===e&&"isPause"===t.data&&Se(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Ft!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=Je(e),a=this._first,o=M(t);a;)a instanceof zt?pe(a._targets,i)&&(o?(!Ft||a._initted&&a._ts)&&a.globalTime(0)<=t&&a.globalTime(a.totalDuration())>t:!t||a.isActive())&&r.push(a):(n=a.getTweensOf(i,t)).length&&r.push.apply(r,n),a=a._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=Xe(r,e),a=t,o=a.startAt,s=a.onStart,u=a.onStartParams,l=a.immediateRender,c=zt.to(r,be({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||b,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());c._dur!==e&&je(c,e,0,1).render(c._time,!0,!0),n=1}s&&s.apply(c,u||[])}},t));return l?c.render(0):c},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,be({startAt:{time:Xe(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),ut(this,Xe(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),ut(this,Xe(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+b)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,a=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in a)a[r]>=n&&(a[r]+=e);return Ae(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Ae(this)},n.totalDuration=function(e){var t,n,r,i=0,a=this,o=a._last,s=y;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-e:e));if(a._dirty){for(r=a.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>s&&a._sort&&o._ts&&!a._lock?(a._lock=1,Be(a,o,n-o._delay,1)._lock=0):s=n,n<0&&o._ts&&(i-=n,(!r&&!a._dp||r&&r.smoothChildTiming)&&(a._start+=n/a._ts,a._time-=n,a._tTime-=n),a.shiftChildren(-n,!1,-Infinity),s=0),o._end>i&&o._ts&&(i=o._end),o=t;je(a,a===u&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(e){if(u._ts&&(me(u,Re(e,u)),d=wt.frame),wt.frame>=ie){ie+=m.autoSleep||120;var t=u._first;if((!t||!t._ts)&&m.autoSleep&&wt._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||wt.sleep()}}},t}(Bt);be(Dt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ft,Zt,Vt=function(e,t,n,r,i,a,o){var s,u,l,c,h,f,d,p,v=new ln(this._pt,e,t,0,1,nn,null,i),m=0,g=0;for(v.b=n,v.e=r,n+="",(d=~(r+="").indexOf("random("))&&(r=ot(r)),a&&(a(p=[n,r],e,t),n=p[0],r=p[1]),u=n.match(Z)||[];s=Z.exec(r);)c=s[0],h=r.substring(m,s.index),l?l=(l+1)%5:"rgba("===h.substr(-5)&&(l=1),c!==u[g++]&&(f=parseFloat(u[g-1])||0,v._pt={_next:v._pt,p:h||1===g?h:",",s:f,c:"="===c.charAt(1)?de(f,c)-f:parseFloat(c)-f,m:l&&l<4?Math.round:0},m=Z.lastIndex);return v.c=m<r.length?r.substring(m,r.length):"",v.fp=o,(V.test(r)||d)&&(v.e=0),this._pt=v,v},jt=function(e,t,n,r,i,a,o,s,u,l){A(r)&&(r=r(i||0,e,a));var c,h=e[t],f="get"!==n?n:A(h)?u?e[t.indexOf("set")||!A(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():h,d=A(h)?u?Kt:$t:qt;if(S(r)&&(~r.indexOf("random(")&&(r=ot(r)),"="===r.charAt(1)&&((c=de(f,r)+(ze(f)||0))||0===c)&&(r=c)),!l||f!==r||Zt)return isNaN(f*r)||""===r?(!h&&!(t in e)&&W(t,r),Vt.call(this,e,t,f,r,d,s||m.stringFilter,u)):(c=new ln(this._pt,e,t,+f||0,r-(f||0),"boolean"===typeof h?tn:en,0,d),u&&(c.fp=u),o&&c.modifier(o,this,e),this._pt=c)},Ut=function(e,t,n,r,i,a){var o,s,u,l;if(ne[e]&&!1!==(o=new ne[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(A(e)&&(e=Gt(e,i,t,n,r)),!C(e)||e.style&&e.nodeType||N(e)||L(e))return S(e)?Gt(e,i,t,n,r):e;var a,o={};for(a in e)o[a]=Gt(e[a],i,t,n,r);return o}(t[e],r,i,a,n),n,r,a)&&(n._pt=s=new ln(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==p))for(u=n._ptLookup[n._targets.indexOf(i)],l=o._props.length;l--;)u[o._props[l]]=s;return o},Yt=function e(t,n,r){var i,s,l,c,h,f,d,p,v,m,x,_,w,k=t.vars,E=k.ease,T=k.startAt,S=k.immediateRender,A=k.lazy,M=k.onUpdate,P=k.onUpdateParams,C=k.callbackScope,R=k.runBackwards,O=k.yoyoEase,L=k.keyframes,N=k.autoRevert,B=t._dur,D=t._startAt,F=t._targets,Z=t.parent,V=Z&&"nested"===Z.data?Z.vars.targets:F,j="auto"===t._overwrite&&!a,U=t.timeline;if(U&&(!L||!E)&&(E="none"),t._ease=Ct(E,g.ease),t._yEase=O?Mt(Ct(!0===O?E:O,g.ease)):0,O&&t._yoyo&&!t._repeat&&(O=t._yEase,t._yEase=t._ease,t._ease=O),t._from=!U&&!!k.runBackwards,!U||L&&!k.stagger){if(_=(p=F[0]?ue(F[0]).harness:0)&&k[p.prop],i=we(k,Q),D&&(D._zTime<0&&D.progress(1),n<0&&R&&S&&!N?D.render(-1,!0):D.revert(R&&B?K:$),D._lazy=0),T){if(Se(t._startAt=zt.set(F,be({data:"isStart",overwrite:!1,parent:Z,immediateRender:!0,lazy:!D&&I(A),startAt:null,delay:0,onUpdate:M,onUpdateParams:P,callbackScope:C,stagger:0},T))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(o||!S&&!N)&&t._startAt.revert(K),S&&B&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(R&&B&&!D)if(n&&(S=!1),l=be({overwrite:!1,data:"isFromStart",lazy:S&&!D&&I(A),immediateRender:S,stagger:0,parent:Z},i),_&&(l[p.prop]=_),Se(t._startAt=zt.set(F,l)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(o?t._startAt.revert(K):t._startAt.render(-1,!0)),t._zTime=n,S){if(!n)return}else e(t._startAt,b,b);for(t._pt=t._ptCache=0,A=B&&I(A)||A&&!B,s=0;s<F.length;s++){if(d=(h=F[s])._gsap||se(F)[s]._gsap,t._ptLookup[s]=m={},te[d.id]&&ee.length&&ve(),x=V===F?s:V.indexOf(h),p&&!1!==(v=new p).init(h,_||i,t,x,V)&&(t._pt=c=new ln(t._pt,h,v.name,0,1,v.render,v,0,v.priority),v._props.forEach((function(e){m[e]=c})),v.priority&&(f=1)),!p||_)for(l in i)ne[l]&&(v=Ut(l,i,t,x,h,V))?v.priority&&(f=1):m[l]=c=jt.call(t,h,l,"get",i[l],x,V,0,k.stringFilter);t._op&&t._op[s]&&t.kill(h,t._op[s]),j&&t._pt&&(Ft=t,u.killTweensOf(h,m,t.globalTime(n)),w=!t.parent,Ft=0),t._pt&&A&&(te[d.id]=1)}f&&un(t),t._onInit&&t._onInit(t)}t._onUpdate=M,t._initted=(!t._op||t._pt)&&!w,L&&n<=0&&U.render(y,!0,!0)},Xt=function(e,t,n,r){var i,a,o=t.ease||r||"power1.inOut";if(N(t))a=n[e]||(n[e]=[]),t.forEach((function(e,n){return a.push({t:n/(t.length-1)*100,v:e,e:o})}));else for(i in t)a=n[i]||(n[i]=[]),"ease"===i||a.push({t:parseFloat(e),v:t[i],e:o})},Gt=function(e,t,n,r,i){return A(e)?e.call(t,n,r,i):S(e)&&~e.indexOf("random(")?ot(e):e},Wt=oe+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Ht={};ce(Wt+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return Ht[e]=1}));var zt=function(e){function t(t,n,i,o){var s;"number"===typeof n&&(i.duration=n,n=i,i=null);var l,c,h,f,d,p,v,g,y=(s=e.call(this,o?n:ke(n))||this).vars,b=y.duration,x=y.delay,_=y.immediateRender,w=y.stagger,k=y.overwrite,E=y.keyframes,T=y.defaults,S=y.scrollTrigger,A=y.yoyoEase,P=n.parent||u,R=(N(t)||L(t)?M(t[0]):"length"in n)?[t]:Je(t);if(s._targets=R.length?se(R):H("GSAP target "+t+" not found. https://greensock.com",!m.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=k,E||w||O(b)||O(x)){if(n=s.vars,(l=s.timeline=new Dt({data:"nested",defaults:T||{},targets:P&&"nested"===P.data?P.vars.targets:R})).kill(),l.parent=l._dp=r(s),l._start=0,w||O(b)||O(x)){if(f=R.length,v=w&&tt(w),C(w))for(d in w)~Wt.indexOf(d)&&(g||(g={}),g[d]=w[d]);for(c=0;c<f;c++)(h=we(n,Ht)).stagger=0,A&&(h.yoyoEase=A),g&&xe(h,g),p=R[c],h.duration=+Gt(b,r(s),c,p,R),h.delay=(+Gt(x,r(s),c,p,R)||0)-s._delay,!w&&1===f&&h.delay&&(s._delay=x=h.delay,s._start+=x,h.delay=0),l.to(p,h,v?v(c,p,R):0),l._ease=Et.none;l.duration()?b=x=0:s.timeline=0}else if(E){ke(be(l.vars.defaults,{ease:"none"})),l._ease=Ct(E.ease||n.ease||"none");var B,D,F,Z=0;if(N(E))E.forEach((function(e){return l.to(R,e,">")})),l.duration();else{for(d in h={},E)"ease"===d||"easeEach"===d||Xt(d,E[d],h,E.easeEach);for(d in h)for(B=h[d].sort((function(e,t){return e.t-t.t})),Z=0,c=0;c<B.length;c++)(F={ease:(D=B[c]).e,duration:(D.t-(c?B[c-1].t:0))/100*b})[d]=D.v,l.to(R,F,Z),Z+=F.duration;l.duration()<b&&l.to({},{duration:b-l.duration()})}}b||s.duration(b=l.duration())}else s.timeline=0;return!0!==k||a||(Ft=r(s),u.killTweensOf(R),Ft=0),Be(P,r(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),(_||!b&&!E&&s._start===fe(P._time)&&I(_)&&Pe(r(s))&&"nested"!==P.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-x)||0)),S&&De(r(s),S),s}i(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,a,s,u,l,c,h,f,d=this._time,p=this._tDur,v=this._dur,m=e<0,g=e>p-b&&!m?p:e<b?0:e;if(v){if(g!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(r=g,h=this.timeline,this._repeat){if(s=v+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*s+e,t,n);if(r=fe(g%s),g===p?(a=this._repeat,r=v):((a=~~(g/s))&&a===g/s&&(r=v,a--),r>v&&(r=v)),(l=this._yoyo&&1&a)&&(f=this._yEase,r=v-r),u=Ie(this._tTime,s),r===d&&!n&&this._initted)return this._tTime=g,this;a!==u&&(h&&this._yEase&&Pt(h,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=n=1,this.render(fe(s*a),!0).invalidate()._lock=0))}if(!this._initted){if(Fe(this,m?e:r,n,t,g))return this._tTime=0,this;if(d!==this._time)return this;if(v!==this._dur)return this.render(e,t,n)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(f||this._ease)(r/v),this._from&&(this.ratio=c=1-c),r&&!d&&!t&&!a&&(lt(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;h&&h.render(e<0?e:!r&&l?-1e-8:h._dur*h._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&Me(this,e,0,n),lt(this,"onUpdate")),this._repeat&&a!==u&&this.vars.onRepeat&&!t&&this.parent&&lt(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&Me(this,e,0,!0),(e||!v)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Se(this,1),t||m&&!d||!(g||d||l)||(lt(this,g===p?"onComplete":"onReverseComplete",!0),this._prom&&!(g<p&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,a,s,u=e.ratio,l=t<0||!t&&(!e._start&&Ze(e)&&(e._initted||!Ve(e))||(e._ts<0||e._dp._ts<0)&&!Ve(e))?0:1,c=e._rDelay,h=0;if(c&&e._repeat&&(h=He(0,e._tDur,t),a=Ie(h,c),e._yoyo&&1&a&&(l=1-l),a!==Ie(e._tTime,c)&&(u=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==u||o||r||e._zTime===b||!t&&e._zTime){if(!e._initted&&Fe(e,t,r,n,h))return;for(s=e._zTime,e._zTime=t||(n?b:0),n||(n=t&&!s),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=h,i=e._pt;i;)i.r(l,i.d),i=i._next;t<0&&Me(e,t,0,!0),e._onUpdate&&!n&&lt(e,"onUpdate"),h&&e._repeat&&!n&&e.parent&&lt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&Se(e,1),n||o||(lt(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r){v||wt.wake(),this._ts||this.play();var i=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Yt(this,i),function(e,t,n,r,i,a,o){var s,u,l,c,h=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!h)for(h=e._ptCache[t]=[],l=e._ptLookup,c=e._targets.length;c--;){if((s=l[c][t])&&s.d&&s.d._pt)for(s=s.d._pt;s&&s.p!==t&&s.fp!==t;)s=s._next;if(!s)return Zt=1,e.vars[t]="+=0",Yt(e,o),Zt=0,1;h.push(s)}for(c=h.length;c--;)(s=(u=h[c])._pt||u).s=!r&&0!==r||i?s.s+(r||0)+a*s.c:r,s.c=n-s.s,u.e&&(u.e=he(n)+ze(u.e)),u.b&&(u.b=s.s+ze(u.b))}(this,e,t,n,r,this._ease(i/this._dur),i)?this.resetTo(e,t,n,r):(Le(this,0),this.parent||Ee(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?ct(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Ft&&!0!==Ft.vars.overwrite)._first||ct(this),this.parent&&n!==this.timeline.totalDuration()&&je(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,a,o,s,u,l,c=this._targets,h=e?Je(e):c,f=this._ptLookup,d=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(c,h))return"all"===t&&(this._pt=0),ct(this);for(r=this._op=this._op||[],"all"!==t&&(S(t)&&(s={},ce(t,(function(e){return s[e]=1})),t=s),t=function(e,t){var n,r,i,a,o=e[0]?ue(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(r in n=xe({},t),s)if(r in n)for(i=(a=s[r].split(",")).length;i--;)n[a[i]]=n[r];return n}(c,t)),l=c.length;l--;)if(~h.indexOf(c[l]))for(s in i=f[l],"all"===t?(r[l]=t,o=i,a={}):(a=r[l]=r[l]||{},o=t),o)(u=i&&i[s])&&("kill"in u.d&&!0!==u.d.kill(s)||Te(this,u,"_pt"),delete i[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&d&&ct(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return Ge(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return Ge(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return u.killTweensOf(e,t,n)},t}(Bt);be(zt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ce("staggerTo,staggerFrom,staggerFromTo",(function(e){zt[e]=function(){var t=new Dt,n=qe.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var qt=function(e,t,n){return e[t]=n},$t=function(e,t,n){return e[t](n)},Kt=function(e,t,n,r){return e[t](r.fp,n)},Jt=function(e,t,n){return e.setAttribute(t,n)},Qt=function(e,t){return A(e[t])?$t:P(e[t])&&e.setAttribute?Jt:qt},en=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},tn=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},nn=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},rn=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},an=function(e,t,n,r){for(var i,a=this._pt;a;)i=a._next,a.p===r&&a.modifier(e,t,n),a=i},on=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Te(this,r,"_pt"):r.dep||(t=1),r=n;return!t},sn=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},un=function(e){for(var t,n,r,i,a=e._pt;a;){for(t=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:i)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:i=a,a=t}e._pt=r},ln=function(){function e(e,t,n,r,i,a,o,s,u){this.t=t,this.s=r,this.c=i,this.p=n,this.r=a||en,this.d=o||this,this.set=s||qt,this.pr=u||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=sn,this.m=e,this.mt=n,this.tween=t},e}();ce(oe+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return Q[e]=1})),Y.TweenMax=Y.TweenLite=zt,Y.TimelineLite=Y.TimelineMax=Dt,u=new Dt({sortChildren:!1,defaults:g,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),m.stringFilter=_t;var cn=[],hn={},fn=[],dn=0,pn=function(e){return(hn[e]||fn).map((function(e){return e()}))},vn=function(){var e=Date.now(),t=[];e-dn>2&&(pn("matchMediaInit"),cn.forEach((function(e){var n,r,i,a,o=e.queries,s=e.conditions;for(r in o)(n=l.matchMedia(o[r]).matches)&&(i=1),n!==s[r]&&(s[r]=n,a=1);a&&(e.revert(),i&&t.push(e))})),pn("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e)})),dn=e,pn("matchMedia"))},mn=function(){function e(e,t){this.selector=t&&Qe(t),this.data=[],this._r=[],this.isReverted=!1,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){A(e)&&(n=t,t=e,e=A);var r=this,i=function(){var e,i=s,a=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=Qe(n)),s=r,e=t.apply(r,arguments),A(e)&&r._r.push(e),s=i,r.selector=a,r.isReverted=!1,e};return r.last=i,e===A?i(r):e?r[e]=i:i},t.ignore=function(e){var t=s;s=null,e(this),s=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof zt&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e){var r=this.getTweens();this.data.forEach((function(e){"isFlip"===e.data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})))})),r.map((function(e){return{g:e.globalTime(0),t:e}})).sort((function(e,t){return t.g-e.g||-1})).forEach((function(t){return t.t.revert(e)})),this.data.forEach((function(t){return!(t instanceof Bt)&&t.revert&&t.revert(e)})),this._r.forEach((function(t){return t(e,n)})),this.isReverted=!0}else this.data.forEach((function(e){return e.kill&&e.kill()}));if(this.clear(),t){var i=cn.indexOf(this);~i&&cn.splice(i,1)}},t.revert=function(e){this.kill(e||{})},e}(),gn=function(){function e(e){this.contexts=[],this.scope=e}var t=e.prototype;return t.add=function(e,t,n){C(e)||(e={matches:e});var r,i,a,o=new mn(0,n||this.scope),s=o.conditions={};for(i in this.contexts.push(o),t=o.add("onMatch",t),o.queries=e,e)"all"===i?a=1:(r=l.matchMedia(e[i]))&&(cn.indexOf(o)<0&&cn.push(o),(s[i]=r.matches)&&(a=1),r.addListener?r.addListener(vn):r.addEventListener("change",vn));return a&&t(o),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),yn={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return ft(e)}))},timeline:function(e){return new Dt(e)},getTweensOf:function(e,t){return u.getTweensOf(e,t)},getProperty:function(e,t,n,r){S(e)&&(e=Je(e)[0]);var i=ue(e||{}).get,a=n?ye:ge;return"native"===n&&(n=""),e?t?a((ne[t]&&ne[t].get||i)(e,t,n,r)):function(t,n,r){return a((ne[t]&&ne[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=Je(e)).length>1){var r=e.map((function(e){return _n.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var a=ne[t],o=ue(e),s=o.harness&&(o.harness.aliases||{})[t]||t,u=a?function(t){var r=new a;p._pt=0,r.init(e,n?t+n:t,p,0,[e]),r.render(1,r),p._pt&&rn(1,p)}:o.set(e,s);return a?u:function(t){return u(e,s,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,i=_n.to(e,xe(((r={})[t]="+=0.1",r.paused=!0,r),n||{})),a=function(e,n,r){return i.resetTo(t,e,n,r)};return a.tween=i,a},isTweening:function(e){return u.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ct(e.ease,g.ease)),_e(g,e||{})},config:function(e){return _e(m,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!ne[e]&&!Y[e]&&H(t+" effect requires "+e+" plugin.")})),re[t]=function(e,t,r){return n(Je(e),be(t||{},i),r)},a&&(Dt.prototype[t]=function(e,n,r){return this.add(re[t](e,C(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){Et[e]=Ct(t)},parseEase:function(e,t){return arguments.length?Ct(e,t):Et},getById:function(e){return u.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new Dt(e);for(i.smoothChildTiming=I(e.smoothChildTiming),u.remove(i),i._dp=0,i._time=i._tTime=u._time,n=u._first;n;)r=n._next,!t&&!n._dur&&n instanceof zt&&n.vars.onComplete===n._targets[0]||Be(i,n,n._start-n._delay),n=r;return Be(u,i,0),i},context:function(e,t){return e?new mn(e,t):s},matchMedia:function(e){return new gn(e)},matchMediaRefresh:function(){return cn.forEach((function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()}))||vn()},addEventListener:function(e,t){var n=hn[e]||(hn[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=hn[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return N(t)?at(t,e(0,t.length),n):We(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,a=2*i;return N(t)?at(t,e(0,t.length-1),n):We(r,(function(e){return t+((e=(a+(e-t)%a)%a||0)>i?a-e:e)}))},distribute:tt,random:it,snap:rt,normalize:function(e,t,n){return st(e,t,0,1,n)},getUnit:ze,clamp:function(e,t,n){return We(n,(function(n){return He(e,t,n)}))},splitColor:mt,toArray:Je,selector:Qe,mapRange:st,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||ze(n))}},interpolate:function e(t,n,r,i){var a=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!a){var o,s,u,l,c,h=S(t),f={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(N(t)&&!N(n)){for(u=[],l=t.length,c=l-2,s=1;s<l;s++)u.push(e(t[s-1],t[s]));l--,a=function(e){e*=l;var t=Math.min(c,~~e);return u[t](e-t)},r=n}else i||(t=xe(N(t)?[]:{},t));if(!u){for(o in n)jt.call(f,t,o,"get",n[o]);a=function(e){return rn(e,f)||(h?t.p:t)}}}return We(r,a)},shuffle:et},install:G,effects:re,ticker:wt,updateRoot:Dt.updateRoot,plugins:ne,globalTimeline:u,core:{PropTween:ln,globals:z,Tween:zt,Timeline:Dt,Animation:Bt,getCache:ue,_removeLinkedListItem:Te,reverting:function(){return o},context:function(e){return e&&s&&(s.data.push(e),e._ctx=s),s},suppressOverwrites:function(e){return a=e}}};ce("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return yn[e]=zt[e]})),wt.add(Dt.updateRoot),p=yn.to({},{duration:0});var bn=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},xn=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(S(n)&&(r={},ce(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,a=e._targets;for(n in t)for(r=a.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=bn(i,n)),i&&i.modifier&&i.modifier(t[n],e,a[r],n))}(e,n)}}}},_n=yn.registerPlugin({name:"attr",init:function(e,t,n,r,i){var a,o,s;for(a in this.tween=n,t)s=e.getAttribute(a)||"",(o=this.add(e,"setAttribute",(s||0)+"",t[a],r,i,0,0,a)).op=a,o.b=s,this._props.push(a)},render:function(e,t){for(var n=t._pt;n;)o?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},xn("roundProps",nt),xn("modifiers"),xn("snap",rt))||yn;zt.version=Dt.version=_n.version="3.11.5",f=1,R()&&kt();Et.Power0,Et.Power1,Et.Power2,Et.Power3,Et.Power4;var wn=Et.Linear,kn=(Et.Quad,Et.Cubic,Et.Quart,Et.Quint,Et.Strong,Et.Elastic,Et.Back,Et.SteppedEase,Et.Bounce),En=Et.Sine;Et.Expo,Et.Circ},2243:function(e,t,n){"use strict";n.d(t,{ZP:function(){return ke},p8:function(){return ke}});var r,i,a,o,s,u,l,c,h=n(1036),f={},d=180/Math.PI,p=Math.PI/180,v=Math.atan2,m=/([A-Z])/g,g=/(left|right|width|margin|padding|x)/i,y=/[\s,\(]\S/,b={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},x=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},_=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},w=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},k=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},E=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},T=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},S=function(e,t,n){return e.style[t]=n},A=function(e,t,n){return e.style.setProperty(t,n)},M=function(e,t,n){return e._gsap[t]=n},P=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},C=function(e,t,n,r,i){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},I=function(e,t,n,r,i){var a=e._gsap;a[t]=n,a.renderTransform(i,a)},R="transform",O=R+"Origin",L=function e(t,n){var r=this,i=this.target,a=i.style;if(t in f){if(this.tfm=this.tfm||{},"transform"===t)return b.transform.split(",").forEach((function(t){return e.call(r,t,n)}));if(~(t=b[t]||t).indexOf(",")?t.split(",").forEach((function(e){return r.tfm[e]=J(i,e)})):this.tfm[t]=i._gsap.x?i._gsap[t]:J(i,t),this.props.indexOf(R)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(O,n,"")),t=R}(a||n)&&this.props.push(t,n,a[t])},N=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},B=function(){var e,t,n=this.props,r=this.target,i=r.style,a=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(m,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)a[t]=this.tfm[t];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=l())&&e.isStart||i[R]||(N(i),a.uncache=1)}},D=function(e,t){var n={target:e,props:[],revert:B,save:L};return e._gsap||h.p8.core.getCache(e),t&&t.split(",").forEach((function(e){return n.save(e)})),n},F=function(e,t){var n=i.createElementNS?i.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):i.createElement(e);return n.style?n:i.createElement(e)},Z=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(m,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,j(n)||n,1)||""},V="O,Moz,ms,Ms,Webkit".split(","),j=function(e,t,n){var r=(t||s).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(V[i]+e in r););return i<0?null:(3===i?"ms":i>=0?V[i]:"")+e},U=function(){"undefined"!==typeof window&&window.document&&(r=window,i=r.document,a=i.documentElement,s=F("div")||{style:{}},F("div"),R=j(R),O=R+"Origin",s.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",c=!!j("perspective"),l=h.p8.core.reverting,o=1)},Y=function e(t){var n,r=F("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(a.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(u){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),a.removeChild(r),this.style.cssText=s,n},X=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},G=function(e){var t;try{t=e.getBBox()}catch(n){t=Y.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Y||(t=Y.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+X(e,["x","cx","x1"])||0,y:+X(e,["y","cy","y1"])||0,width:0,height:0}},W=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!G(e))},H=function(e,t){if(t){var n=e.style;t in f&&t!==O&&(t=R),n.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),n.removeProperty(t.replace(m,"-$1").toLowerCase())):n.removeAttribute(t)}},z=function(e,t,n,r,i,a){var o=new h.Fo(e._pt,t,n,0,1,a?T:E);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},q={deg:1,rad:1,turn:1},$={grid:1,flex:1},K=function e(t,n,r,a){var o,u,l,c,d=parseFloat(r)||0,p=(r+"").trim().substr((d+"").length)||"px",v=s.style,m=g.test(n),y="svg"===t.tagName.toLowerCase(),b=(y?"client":"offset")+(m?"Width":"Height"),x=100,_="px"===a,w="%"===a;return a===p||!d||q[a]||q[p]?d:("px"!==p&&!_&&(d=e(t,n,r,"px")),c=t.getCTM&&W(t),!w&&"%"!==p||!f[n]&&!~n.indexOf("adius")?(v[m?"width":"height"]=x+(_?p:a),u=~n.indexOf("adius")||"em"===a&&t.appendChild&&!y?t:t.parentNode,c&&(u=(t.ownerSVGElement||{}).parentNode),u&&u!==i&&u.appendChild||(u=i.body),(l=u._gsap)&&w&&l.width&&m&&l.time===h.xr.time&&!l.uncache?(0,h.Pr)(d/l.width*x):((w||"%"===p)&&!$[Z(u,"display")]&&(v.position=Z(t,"position")),u===t&&(v.position="static"),u.appendChild(s),o=s[b],u.removeChild(s),v.position="absolute",m&&w&&((l=(0,h.DY)(u)).time=h.xr.time,l.width=u[b]),(0,h.Pr)(_?o*d/x:o&&d?x/o*d:0))):(o=c?t.getBBox()[m?"width":"height"]:t[b],(0,h.Pr)(w?d/o*x:d/100*o)))},J=function(e,t,n,r){var i;return o||U(),t in b&&"transform"!==t&&~(t=b[t]).indexOf(",")&&(t=t.split(",")[0]),f[t]&&"transform"!==t?(i=ce(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:he(Z(e,O))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=re[t]&&re[t](e,t,n)||Z(e,t)||(0,h.Ok)(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?K(e,t,i,n)+n:i},Q=function(e,t,n,r){if(!n||"none"===n){var i=j(t,e,1),a=i&&Z(e,i,1);a&&a!==n?(t=i,n=a):"borderColor"===t&&(n=Z(e,"borderTopColor"))}var o,s,u,l,c,f,d,p,v,m,g,y=new h.Fo(this._pt,e.style,t,0,1,h.Ks),b=0,x=0;if(y.b=n,y.e=r,n+="","auto"===(r+="")&&(e.style[t]=r,r=Z(e,t)||r,e.style[t]=n),o=[n,r],(0,h.kr)(o),r=o[1],u=(n=o[0]).match(h.d4)||[],(r.match(h.d4)||[]).length){for(;s=h.d4.exec(r);)d=s[0],v=r.substring(b,s.index),c?c=(c+1)%5:"rgba("!==v.substr(-5)&&"hsla("!==v.substr(-5)||(c=1),d!==(f=u[x++]||"")&&(l=parseFloat(f)||0,g=f.substr((l+"").length),"="===d.charAt(1)&&(d=(0,h.cy)(l,d)+g),p=parseFloat(d),m=d.substr((p+"").length),b=h.d4.lastIndex-m.length,m||(m=m||h.Fc.units[t]||g,b===r.length&&(r+=m,y.e+=m)),g!==m&&(l=K(e,t,f,m)||0),y._pt={_next:y._pt,p:v||1===x?v:",",s:l,c:p-l,m:c&&c<4||"zIndex"===t?Math.round:0});y.c=b<r.length?r.substring(b,r.length):""}else y.r="display"===t&&"none"===r?T:E;return h.bQ.test(r)&&(y.e=0),this._pt=y,y},ee={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},te=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=ee[n]||n,t[1]=ee[r]||r,t.join(" ")},ne=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,a=t.t,o=a.style,s=t.u,u=a._gsap;if("all"===s||!0===s)o.cssText="",r=1;else for(i=(s=s.split(",")).length;--i>-1;)n=s[i],f[n]&&(r=1,n="transformOrigin"===n?O:R),H(a,n);r&&(H(a,R),u&&(u.svg&&a.removeAttribute("transform"),ce(a,1),u.uncache=1,N(o)))}},re={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var a=e._pt=new h.Fo(e._pt,t,n,0,0,ne);return a.u=r,a.pr=-10,a.tween=i,e._props.push(n),1}}},ie=[1,0,0,1,0,0],ae={},oe=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},se=function(e){var t=Z(e,R);return oe(t)?ie:t.substr(7).match(h.SI).map(h.Pr)},ue=function(e,t){var n,r,i,o,s=e._gsap||(0,h.DY)(e),u=e.style,l=se(e);return s.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?ie:l:(l!==ie||e.offsetParent||e===a||s.svg||(i=u.display,u.display="block",(n=e.parentNode)&&e.offsetParent||(o=1,r=e.nextElementSibling,a.appendChild(e)),l=se(e),i?u.display=i:H(e,"display"),o&&(r?n.insertBefore(e,r):n?n.appendChild(e):a.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},le=function(e,t,n,r,i,a){var o,s,u,l=e._gsap,c=i||ue(e,!0),h=l.xOrigin||0,f=l.yOrigin||0,d=l.xOffset||0,p=l.yOffset||0,v=c[0],m=c[1],g=c[2],y=c[3],b=c[4],x=c[5],_=t.split(" "),w=parseFloat(_[0])||0,k=parseFloat(_[1])||0;n?c!==ie&&(s=v*y-m*g)&&(u=w*(-m/s)+k*(v/s)-(v*x-m*b)/s,w=w*(y/s)+k*(-g/s)+(g*x-y*b)/s,k=u):(w=(o=G(e)).x+(~_[0].indexOf("%")?w/100*o.width:w),k=o.y+(~(_[1]||_[0]).indexOf("%")?k/100*o.height:k)),r||!1!==r&&l.smooth?(b=w-h,x=k-f,l.xOffset=d+(b*v+x*g)-b,l.yOffset=p+(b*m+x*y)-x):l.xOffset=l.yOffset=0,l.xOrigin=w,l.yOrigin=k,l.smooth=!!r,l.origin=t,l.originIsAbsolute=!!n,e.style[O]="0px 0px",a&&(z(a,l,"xOrigin",h,w),z(a,l,"yOrigin",f,k),z(a,l,"xOffset",d,l.xOffset),z(a,l,"yOffset",p,l.yOffset)),e.setAttribute("data-svg-origin",w+" "+k)},ce=function(e,t){var n=e._gsap||new h.l1(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,a,o,s,u,l,f,m,g,y,b,x,_,w,k,E,T,S,A,M,P,C,I,L,N,B,D,F,V,j,U,Y=e.style,X=n.scaleX<0,G="px",H="deg",z=getComputedStyle(e),q=Z(e,O)||"0";return r=i=a=u=l=f=m=g=y=0,o=s=1,n.svg=!(!e.getCTM||!W(e)),z.translate&&("none"===z.translate&&"none"===z.scale&&"none"===z.rotate||(Y[R]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[R]?z[R]:"")),Y.scale=Y.rotate=Y.translate="none"),_=ue(e,n.svg),n.svg&&(n.uncache?(L=e.getBBox(),q=n.xOrigin-L.x+"px "+(n.yOrigin-L.y)+"px",I=""):I=!t&&e.getAttribute("data-svg-origin"),le(e,I||q,!!I||n.originIsAbsolute,!1!==n.smooth,_)),b=n.xOrigin||0,x=n.yOrigin||0,_!==ie&&(T=_[0],S=_[1],A=_[2],M=_[3],r=P=_[4],i=C=_[5],6===_.length?(o=Math.sqrt(T*T+S*S),s=Math.sqrt(M*M+A*A),u=T||S?v(S,T)*d:0,(m=A||M?v(A,M)*d+u:0)&&(s*=Math.abs(Math.cos(m*p))),n.svg&&(r-=b-(b*T+x*A),i-=x-(b*S+x*M))):(U=_[6],V=_[7],B=_[8],D=_[9],F=_[10],j=_[11],r=_[12],i=_[13],a=_[14],l=(w=v(U,F))*d,w&&(I=P*(k=Math.cos(-w))+B*(E=Math.sin(-w)),L=C*k+D*E,N=U*k+F*E,B=P*-E+B*k,D=C*-E+D*k,F=U*-E+F*k,j=V*-E+j*k,P=I,C=L,U=N),f=(w=v(-A,F))*d,w&&(k=Math.cos(-w),j=M*(E=Math.sin(-w))+j*k,T=I=T*k-B*E,S=L=S*k-D*E,A=N=A*k-F*E),u=(w=v(S,T))*d,w&&(I=T*(k=Math.cos(w))+S*(E=Math.sin(w)),L=P*k+C*E,S=S*k-T*E,C=C*k-P*E,T=I,P=L),l&&Math.abs(l)+Math.abs(u)>359.9&&(l=u=0,f=180-f),o=(0,h.Pr)(Math.sqrt(T*T+S*S+A*A)),s=(0,h.Pr)(Math.sqrt(C*C+U*U)),w=v(P,C),m=Math.abs(w)>2e-4?w*d:0,y=j?1/(j<0?-j:j):0),n.svg&&(I=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!oe(Z(e,R)),I&&e.setAttribute("transform",I))),Math.abs(m)>90&&Math.abs(m)<270&&(X?(o*=-1,m+=u<=0?180:-180,u+=u<=0?180:-180):(s*=-1,m+=m<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+G,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+G,n.z=a+G,n.scaleX=(0,h.Pr)(o),n.scaleY=(0,h.Pr)(s),n.rotation=(0,h.Pr)(u)+H,n.rotationX=(0,h.Pr)(l)+H,n.rotationY=(0,h.Pr)(f)+H,n.skewX=m+H,n.skewY=g+H,n.transformPerspective=y+G,(n.zOrigin=parseFloat(q.split(" ")[2])||0)&&(Y[O]=he(q)),n.xOffset=n.yOffset=0,n.force3D=h.Fc.force3D,n.renderTransform=n.svg?ye:c?ge:de,n.uncache=0,n},he=function(e){return(e=e.split(" "))[0]+" "+e[1]},fe=function(e,t,n){var r=(0,h.Wy)(t);return(0,h.Pr)(parseFloat(t)+parseFloat(K(e,"x",n+"px",r)))+r},de=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,ge(e,t)},pe="0deg",ve="0px",me=") ",ge=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,s=n.z,u=n.rotation,l=n.rotationY,c=n.rotationX,h=n.skewX,f=n.skewY,d=n.scaleX,v=n.scaleY,m=n.transformPerspective,g=n.force3D,y=n.target,b=n.zOrigin,x="",_="auto"===g&&e&&1!==e||!0===g;if(b&&(c!==pe||l!==pe)){var w,k=parseFloat(l)*p,E=Math.sin(k),T=Math.cos(k);k=parseFloat(c)*p,w=Math.cos(k),a=fe(y,a,E*w*-b),o=fe(y,o,-Math.sin(k)*-b),s=fe(y,s,T*w*-b+b)}m!==ve&&(x+="perspective("+m+me),(r||i)&&(x+="translate("+r+"%, "+i+"%) "),(_||a!==ve||o!==ve||s!==ve)&&(x+=s!==ve||_?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+me),u!==pe&&(x+="rotate("+u+me),l!==pe&&(x+="rotateY("+l+me),c!==pe&&(x+="rotateX("+c+me),h===pe&&f===pe||(x+="skew("+h+", "+f+me),1===d&&1===v||(x+="scale("+d+", "+v+me),y.style[R]=x||"translate(0, 0)"},ye=function(e,t){var n,r,i,a,o,s=t||this,u=s.xPercent,l=s.yPercent,c=s.x,f=s.y,d=s.rotation,v=s.skewX,m=s.skewY,g=s.scaleX,y=s.scaleY,b=s.target,x=s.xOrigin,_=s.yOrigin,w=s.xOffset,k=s.yOffset,E=s.forceCSS,T=parseFloat(c),S=parseFloat(f);d=parseFloat(d),v=parseFloat(v),(m=parseFloat(m))&&(v+=m=parseFloat(m),d+=m),d||v?(d*=p,v*=p,n=Math.cos(d)*g,r=Math.sin(d)*g,i=Math.sin(d-v)*-y,a=Math.cos(d-v)*y,v&&(m*=p,o=Math.tan(v-m),i*=o=Math.sqrt(1+o*o),a*=o,m&&(o=Math.tan(m),n*=o=Math.sqrt(1+o*o),r*=o)),n=(0,h.Pr)(n),r=(0,h.Pr)(r),i=(0,h.Pr)(i),a=(0,h.Pr)(a)):(n=g,a=y,r=i=0),(T&&!~(c+"").indexOf("px")||S&&!~(f+"").indexOf("px"))&&(T=K(b,"x",c,"px"),S=K(b,"y",f,"px")),(x||_||w||k)&&(T=(0,h.Pr)(T+x-(x*n+_*i)+w),S=(0,h.Pr)(S+_-(x*r+_*a)+k)),(u||l)&&(o=b.getBBox(),T=(0,h.Pr)(T+u/100*o.width),S=(0,h.Pr)(S+l/100*o.height)),o="matrix("+n+","+r+","+i+","+a+","+T+","+S+")",b.setAttribute("transform",o),E&&(b.style[R]=o)},be=function(e,t,n,r,i){var a,o,s=360,u=(0,h.r9)(i),l=parseFloat(i)*(u&&~i.indexOf("rad")?d:1)-r,c=r+l+"deg";return u&&("short"===(a=i.split("_")[1])&&(l%=s)!==l%180&&(l+=l<0?s:-360),"cw"===a&&l<0?l=(l+36e9)%s-~~(l/s)*s:"ccw"===a&&l>0&&(l=(l-36e9)%s-~~(l/s)*s)),e._pt=o=new h.Fo(e._pt,t,n,r,l,_),o.e=c,o.u="deg",e._props.push(n),o},xe=function(e,t){for(var n in t)e[n]=t[n];return e},_e=function(e,t,n){var r,i,a,o,s,u,l,c=xe({},n._gsap),d=n.style;for(i in c.svg?(a=n.getAttribute("transform"),n.setAttribute("transform",""),d[R]=t,r=ce(n,1),H(n,R),n.setAttribute("transform",a)):(a=getComputedStyle(n)[R],d[R]=t,r=ce(n,1),d[R]=a),f)(a=c[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=(0,h.Wy)(a)!==(l=(0,h.Wy)(o))?K(n,i,a,l):parseFloat(a),u=parseFloat(o),e._pt=new h.Fo(e._pt,r,i,s,u-s,x),e._pt.u=l||0,e._props.push(i));xe(r,c)};(0,h.fS)("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",a="Left",o=(t<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map((function(n){return t<2?e+n:"border"+n+e}));re[t>1?"border"+e:e]=function(e,t,n,r,i){var a,s;if(arguments.length<4)return a=o.map((function(t){return J(e,t,n)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(r+"").split(" "),s={},o.forEach((function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]})),e.init(t,s,i)}}));var we={name:"css",register:U,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var a,s,u,l,c,d,p,v,m,g,_,E,T,S,A,M,P=this._props,C=e.style,I=n.vars.startAt;for(p in o||U(),this.styles=this.styles||D(e),M=this.styles.props,this.tween=n,t)if("autoRound"!==p&&(s=t[p],!h.$i[p]||!(0,h.if)(p,t,n,r,e,i)))if(c=typeof s,d=re[p],"function"===c&&(c=typeof(s=s.call(n,r,e,i))),"string"===c&&~s.indexOf("random(")&&(s=(0,h.UI)(s)),d)d(this,e,p,s,n)&&(A=1);else if("--"===p.substr(0,2))a=(getComputedStyle(e).getPropertyValue(p)+"").trim(),s+="",h.GN.lastIndex=0,h.GN.test(a)||(v=(0,h.Wy)(a),m=(0,h.Wy)(s)),m?v!==m&&(a=K(e,p,a,m)+m):v&&(s+=v),this.add(C,"setProperty",a,s,r,i,0,0,p),P.push(p),M.push(p,0,C[p]);else if("undefined"!==c){if(I&&p in I?(a="function"===typeof I[p]?I[p].call(n,r,e,i):I[p],(0,h.r9)(a)&&~a.indexOf("random(")&&(a=(0,h.UI)(a)),(0,h.Wy)(a+"")||(a+=h.Fc.units[p]||(0,h.Wy)(J(e,p))||""),"="===(a+"").charAt(1)&&(a=J(e,p))):a=J(e,p),l=parseFloat(a),(g="string"===c&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),u=parseFloat(s),p in b&&("autoAlpha"===p&&(1===l&&"hidden"===J(e,"visibility")&&u&&(l=0),M.push("visibility",0,C.visibility),z(this,C,"visibility",l?"inherit":"hidden",u?"inherit":"hidden",!u)),"scale"!==p&&"transform"!==p&&~(p=b[p]).indexOf(",")&&(p=p.split(",")[0])),_=p in f)if(this.styles.save(p),E||((T=e._gsap).renderTransform&&!t.parseTransform||ce(e,t.parseTransform),S=!1!==t.smoothOrigin&&T.smooth,(E=this._pt=new h.Fo(this._pt,C,R,0,1,T.renderTransform,T,0,-1)).dep=1),"scale"===p)this._pt=new h.Fo(this._pt,T,"scaleY",T.scaleY,(g?(0,h.cy)(T.scaleY,g+u):u)-T.scaleY||0,x),this._pt.u=0,P.push("scaleY",p),p+="X";else{if("transformOrigin"===p){M.push(O,0,C[O]),s=te(s),T.svg?le(e,s,0,S,0,this):((m=parseFloat(s.split(" ")[2])||0)!==T.zOrigin&&z(this,T,"zOrigin",T.zOrigin,m),z(this,C,p,he(a),he(s)));continue}if("svgOrigin"===p){le(e,s,1,S,0,this);continue}if(p in ae){be(this,T,p,l,g?(0,h.cy)(l,g+s):s);continue}if("smoothOrigin"===p){z(this,T,"smooth",T.smooth,s);continue}if("force3D"===p){T[p]=s;continue}if("transform"===p){_e(this,s,e);continue}}else p in C||(p=j(p)||p);if(_||(u||0===u)&&(l||0===l)&&!y.test(s)&&p in C)u||(u=0),(v=(a+"").substr((l+"").length))!==(m=(0,h.Wy)(s)||(p in h.Fc.units?h.Fc.units[p]:v))&&(l=K(e,p,a,m)),this._pt=new h.Fo(this._pt,_?T:C,p,l,(g?(0,h.cy)(l,g+u):u)-l,_||"px"!==m&&"zIndex"!==p||!1===t.autoRound?x:k),this._pt.u=m||0,v!==m&&"%"!==m&&(this._pt.b=a,this._pt.r=w);else if(p in C)Q.call(this,e,p,a,g?g+s:s);else if(p in e)this.add(e,p,a||e[p],g?g+s:s,r,i);else if("parseTransform"!==p){(0,h.lC)(p,s);continue}_||(p in C?M.push(p,0,C[p]):M.push(p,1,a||e[p])),P.push(p)}A&&(0,h.JV)(this)},render:function(e,t){if(t.tween._time||!l())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:J,aliases:b,getSetter:function(e,t,n){var r=b[t];return r&&r.indexOf(",")<0&&(t=r),t in f&&t!==O&&(e._gsap.x||J(e,"x"))?n&&u===n?"scale"===t?P:M:(u=n||{})&&("scale"===t?C:I):e.style&&!(0,h.m2)(e.style[t])?S:~t.indexOf("-")?A:(0,h.S5)(e,t)},core:{_removeProperty:H,_getMatrix:ue}};h.p8.utils.checkPrefix=j,h.p8.core.getStyleSaver=D,function(e,t,n,r){var i=(0,h.fS)(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){f[e]=1}));(0,h.fS)(t,(function(e){h.Fc.units[e]="deg",ae[e]=1})),b[i[13]]=e+","+t,(0,h.fS)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");b[t[1]]=i[t[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),(0,h.fS)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){h.Fc.units[e]="px"})),h.p8.registerPlugin(we);var ke=h.p8.registerPlugin(we)||h.p8;ke.core.Tween},7861:function(e,t,n){"use strict";var r=n(9456),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=c(n);h&&(o=o.concat(h(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=f(n,g);try{l(t,g,y)}catch(b){}}}}return t}},229:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case m:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return _(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||_(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=_},9456:function(e,t,n){"use strict";e.exports=n(229)},545:function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=256*a+e[t+h],h+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+h],h+=f,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=l}return(d?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*u-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+d]=255&o,d+=p,o/=256,l-=8);e[n+d-p]|=128*v}},2173:function(e,t,n){"use strict";e.exports=n(3094)},8865:function(e){"use strict";e.exports=r;var t,n=/\/|\./;function r(e,t){n.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),r[e]=t}r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),r("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:t}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(e){return r[e]||null}},4597:function(e,t,n){"use strict";var r=t,i=n(6531),a=n(8052);function o(e,t,n,r){var a=!1;if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",r);for(var o=t.resolvedType.values,s=Object.keys(o),u=0;u<s.length;++u)o[s[u]]!==t.typeDefault||a||(e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',r,r,r),t.repeated||e("break"),a=!0),e("case%j:",s[u])("case %i:",o[s[u]])("m%s=%j",r,o[s[u]])("break");e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var l=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,l)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,l?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length >= 0)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r)}}return e}function s(e,t,n,r){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",r,n,r,r,n,r,r):e("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var a=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":a=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,a?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r)}}return e}r.fromObject=function(e){var t=e.fieldsArray,n=a.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<t.length;++r){var s=t[r].resolve(),u=a.safeProp(s.name);s.map?(n("if(d%s){",u)('if(typeof d%s!=="object")',u)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",u),o(n,s,r,u+"[ks[i]]")("}")("}")):s.repeated?(n("if(d%s){",u)("if(!Array.isArray(d%s))",u)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",u)("for(var i=0;i<d%s.length;++i){",u),o(n,s,r,u+"[i]")("}")("}")):(s.resolvedType instanceof i||n("if(d%s!=null){",u),o(n,s,r,u),s.resolvedType instanceof i||n("}"))}return n("return m")},r.toObject=function(e){var t=e.fieldsArray.slice().sort(a.compareFieldsById);if(!t.length)return a.codegen()("return {}");for(var n=a.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],o=[],u=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?r:t[l].map?o:u).push(t[l]);if(r.length){for(n("if(o.arrays||o.defaults){"),l=0;l<r.length;++l)n("d%s=[]",a.safeProp(r[l].name));n("}")}if(o.length){for(n("if(o.objects||o.defaults){"),l=0;l<o.length;++l)n("d%s={}",a.safeProp(o[l].name));n("}")}if(u.length){for(n("if(o.defaults){"),l=0;l<u.length;++l){var c=u[l],h=a.safeProp(c.name);if(c.resolvedType instanceof i)n("d%s=o.enums===String?%j:%j",h,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",h)("}else")("d%s=o.longs===String?%j:%i",h,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var f="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",h,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",h,f)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",h,h)("}")}else n("d%s=%j",h,c.typeDefault)}n("}")}var d=!1;for(l=0;l<t.length;++l){c=t[l];var p=e._fieldsArray.indexOf(c);h=a.safeProp(c.name);c.map?(d||(d=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",h,h)("d%s={}",h)("for(var j=0;j<ks2.length;++j){"),s(n,c,p,h+"[ks2[j]]")("}")):c.repeated?(n("if(m%s&&m%s.length){",h,h)("d%s=[]",h)("for(var j=0;j<m%s.length;++j){",h),s(n,c,p,h+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",h,c.name),s(n,c,p,h),c.partOf&&n("if(o.oneofs)")("d%s=%j",a.safeProp(c.partOf.name),c.name)),n("}")}return n("return d")}},1625:function(e,t,n){"use strict";e.exports=function(e){var t=a.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var s=e._fieldsArray[n].resolve(),u=s.resolvedType instanceof r?"int32":s.type,l="m"+a.safeProp(s.name);t("case %i: {",s.id),s.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),void 0!==i.defaults[s.keyType]?t("k=%j",i.defaults[s.keyType]):t("k=null"),void 0!==i.defaults[u]?t("value=%j",i.defaults[u]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",s.keyType)("case 2:"),void 0===i.basic[u]?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",u),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==i.long[s.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',l):t("%s[k]=value",l)):s.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==i.packed[u]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,u)("}else"),void 0===i.basic[u]?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,n):t("%s.push(r.%s())",l,u)):void 0===i.basic[u]?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,n):t("%s=r.%s()",l,u),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var c=e._fieldsArray[n];c.required&&t("if(!m.hasOwnProperty(%j))",c.name)("throw util.ProtocolError(%j,{instance:m})",o(c))}return t("return m")};var r=n(6531),i=n(5028),a=n(8052);function o(e){return"missing required '"+e.name+"'"}},6652:function(e,t,n){"use strict";e.exports=function(e){for(var t,n=a.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(a.compareFieldsById),u=0;u<s.length;++u){var l=s[u].resolve(),c=e._fieldsArray.indexOf(l),h=l.resolvedType instanceof r?"int32":l.type,f=i.basic[h];t="m"+a.safeProp(l.name),l.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|i.mapKey[l.keyType],l.keyType),void 0===f?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",c,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|f,h,t),n("}")("}")):l.repeated?(n("if(%s!=null&&%s.length){",t,t),l.packed&&void 0!==i.packed[h]?n("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",h,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),void 0===f?o(n,l,c,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(l.id<<3|f)>>>0,h,t)),n("}")):(l.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,l.name),void 0===f?o(n,l,c,t):n("w.uint32(%i).%s(%s)",(l.id<<3|f)>>>0,h,t))}return n("return w")};var r=n(6531),i=n(5028),a=n(8052);function o(e,t,n,r){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}},6531:function(e,t,n){"use strict";e.exports=o;var r=n(2028);((o.prototype=Object.create(r.prototype)).constructor=o).className="Enum";var i=n(706),a=n(8052);function o(e,t,n,i,a,o){if(r.call(this,e,n),t&&"object"!==typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=a||{},this.valuesOptions=o,this.reserved=void 0,t)for(var s=Object.keys(t),u=0;u<s.length;++u)"number"===typeof t[s[u]]&&(this.valuesById[this.values[s[u]]=t[s[u]]]=s[u])}o.fromJSON=function(e,t){var n=new o(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},o.prototype.add=function(e,t,n,r){if(!a.isString(e))throw TypeError("name must be a string");if(!a.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return r&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[e]=r||null),this.comments[e]=n||null,this},o.prototype.remove=function(e){if(!a.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this},o.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},o.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},6151:function(e,t,n){"use strict";e.exports=l;var r=n(2028);((l.prototype=Object.create(r.prototype)).constructor=l).className="Field";var i,a=n(6531),o=n(5028),s=n(8052),u=/^required|optional|repeated$/;function l(e,t,n,i,a,l,c){if(s.isObject(i)?(c=a,l=i,i=a=void 0):s.isObject(a)&&(c=l,l=a,a=void 0),r.call(this,e,l),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(n))throw TypeError("type must be a string");if(void 0!==i&&!u.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==a&&!s.isString(a))throw TypeError("extend must be a string");"proto3_optional"===i&&(i="optional"),this.rule=i&&"optional"!==i?i:void 0,this.type=n,this.id=t,this.extend=a||void 0,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&void 0!==o.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=c}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),r.prototype.setOption.call(this,e,t,n)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof a&&"string"===typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof a)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"===typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},l.d=function(e,t,n,r){return"function"===typeof t?t=s.decorateType(t).name:t&&"object"===typeof t&&(t=s.decorateEnum(t).name),function(i,a){s.decorateType(i.constructor).add(new l(a,e,t,n,{default:r}))}},l._configure=function(e){i=e}},7661:function(e,t,n){"use strict";var r=e.exports=n(9488);r.build="light",r.load=function(e,t,n){return"function"===typeof t?(n=t,t=new r.Root):t||(t=new r.Root),t.load(e,n)},r.loadSync=function(e,t){return t||(t=new r.Root),t.loadSync(e)},r.encoder=n(6652),r.decoder=n(1625),r.verifier=n(2962),r.converter=n(4597),r.ReflectionObject=n(2028),r.Namespace=n(706),r.Root=n(2808),r.Enum=n(6531),r.Type=n(9549),r.Field=n(6151),r.OneOf=n(9825),r.MapField=n(1686),r.Service=n(2342),r.Method=n(5597),r.Message=n(9140),r.wrappers=n(2481),r.types=n(5028),r.util=n(8052),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},9488:function(e,t,n){"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(8050),r.BufferWriter=n(2149),r.Reader=n(2422),r.BufferReader=n(4148),r.util=n(9716),r.rpc=n(7523),r.roots=n(3107),r.configure=i,i()},3094:function(e,t,n){"use strict";var r=e.exports=n(7661);r.build="full",r.tokenize=n(9625),r.parse=n(443),r.common=n(8865),r.Root._configure(r.Type,r.parse,r.common)},1686:function(e,t,n){"use strict";e.exports=o;var r=n(6151);((o.prototype=Object.create(r.prototype)).constructor=o).className="MapField";var i=n(5028),a=n(8052);function o(e,t,n,i,o,s){if(r.call(this,e,t,i,void 0,void 0,o,s),!a.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(e,t){return new o(e,t.id,t.keyType,t.type,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},o.d=function(e,t,n){return"function"===typeof n?n=a.decorateType(n).name:n&&"object"===typeof n&&(n=a.decorateEnum(n).name),function(r,i){a.decorateType(r.constructor).add(new o(i,e,t,n))}}},9140:function(e,t,n){"use strict";e.exports=i;var r=n(9716);function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},5597:function(e,t,n){"use strict";e.exports=a;var r=n(2028);((a.prototype=Object.create(r.prototype)).constructor=a).className="Method";var i=n(8052);function a(e,t,n,a,o,s,u,l,c){if(i.isObject(o)?(u=o,o=s=void 0):i.isObject(s)&&(u=s,s=void 0),void 0!==t&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(n))throw TypeError("requestType must be a string");if(!i.isString(a))throw TypeError("responseType must be a string");r.call(this,e,u),this.type=t||"rpc",this.requestType=n,this.requestStream=!!o||void 0,this.responseType=a,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l,this.parsedOptions=c}a.fromJSON=function(e,t){return new a(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},a.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},706:function(e,t,n){"use strict";e.exports=h;var r=n(2028);((h.prototype=Object.create(r.prototype)).constructor=h).className="Namespace";var i,a,o,s=n(6151),u=n(8052),l=n(9825);function c(e,t){if(e&&e.length){for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}}function h(e,t){r.call(this,e,t),this.nested=void 0,this._nestedArray=null}function f(e){return e._nestedArray=null,e}h.fromJSON=function(e,t){return new h(e,t.options).addJSON(t.nested)},h.arrayToJSON=c,h.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!==typeof e[n]&&e[n][0]<=t&&e[n][1]>t)return!0;return!1},h.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(h.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=u.toArray(this.nested))}}),h.prototype.toJSON=function(e){return u.toObject(["options",this.options,"nested",c(this.nestedArray,e)])},h.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),r=0;r<n.length;++r)t=e[n[r]],this.add((void 0!==t.fields?i.fromJSON:void 0!==t.values?o.fromJSON:void 0!==t.methods?a.fromJSON:void 0!==t.id?s.fromJSON:h.fromJSON)(n[r],t));return this},h.prototype.get=function(e){return this.nested&&this.nested[e]||null},h.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof o)return this.nested[e].values;throw Error("no such enum: "+e)},h.prototype.add=function(e){if(!(e instanceof s&&void 0!==e.extend||e instanceof i||e instanceof l||e instanceof o||e instanceof a||e instanceof h))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof h&&e instanceof h)||t instanceof i||t instanceof a)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,r=0;r<n.length;++r)e.add(n[r]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),f(this)},h.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),f(this)},h.prototype.define=function(e,t){if(u.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof h))throw Error("path conflicts with non-namespace objects")}else n.add(n=new h(r))}return t&&n.addJSON(t),n},h.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof h?e[t++].resolveAll():e[t++].resolve();return this.resolve()},h.prototype.lookup=function(e,t,n){if("boolean"===typeof t?(n=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),u.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||t.indexOf(r.constructor)>-1)return r}else if(r instanceof h&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof h&&(r=this._nestedArray[i].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},h.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},h.prototype.lookupEnum=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},h.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,o]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},h.prototype.lookupService=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},h._configure=function(e,t,n){i=e,a=t,o=n}},2028:function(e,t,n){"use strict";e.exports=a,a.className="ReflectionObject";var r,i=n(8052);function a(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(a.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),a.prototype.toJSON=function(){throw Error()},a.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof r&&t._handleAdd(this)},a.prototype.onRemove=function(e){var t=e.root;t instanceof r&&t._handleRemove(this),this.parent=null,this.resolved=!1},a.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},a.prototype.getOption=function(e){if(this.options)return this.options[e]},a.prototype.setOption=function(e,t,n){return n&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},a.prototype.setParsedOption=function(e,t,n){this.parsedOptions||(this.parsedOptions=[]);var r=this.parsedOptions;if(n){var a=r.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(a){var o=a[e];i.setProperty(o,n,t)}else(a={})[e]=i.setProperty({},n,t),r.push(a)}else{var s={};s[e]=t,r.push(s)}return this},a.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},a.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},a._configure=function(e){r=e}},9825:function(e,t,n){"use strict";e.exports=o;var r=n(2028);((o.prototype=Object.create(r.prototype)).constructor=o).className="OneOf";var i=n(6151),a=n(8052);function o(e,t,n,i){if(Array.isArray(t)||(n=t,t=void 0),r.call(this,e,n),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}o.fromJSON=function(e,t){return new o(e,t.oneof,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},o.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},o.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},o.prototype.onAdd=function(e){r.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}s(this)},o.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,e)},o.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){a.decorateType(t.constructor).add(new o(n,e)),Object.defineProperty(t,n,{get:a.oneOfGetter(e),set:a.oneOfSetter(e)})}}},443:function(e,t,n){"use strict";e.exports=E,E.filename=null,E.defaults={keepCase:!1};var r=n(9625),i=n(2808),a=n(9549),o=n(6151),s=n(1686),u=n(9825),l=n(6531),c=n(2342),h=n(5597),f=n(5028),d=n(8052),p=/^[1-9][0-9]*$/,v=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,g=/^-?0[x][0-9a-fA-F]+$/,y=/^0[0-7]+$/,b=/^-?0[0-7]+$/,x=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,_=/^[a-zA-Z_][a-zA-Z_0-9]*$/,w=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,k=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function E(e,t,n){t instanceof i||(n=t,t=new i),n||(n=E.defaults);var T,S,A,M,P,C=n.preferTrailingComment||!1,I=r(e,n.alternateCommentMode||!1),R=I.next,O=I.push,L=I.peek,N=I.skip,B=I.cmnt,D=!0,F=!1,Z=t,V=n.keepCase?function(e){return e}:d.camelCase;function j(e,t,n){var r=E.filename;return n||(E.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(r?r+", ":"")+"line "+I.line+")")}function U(){var e,t=[];do{if('"'!==(e=R())&&"'"!==e)throw j(e);t.push(R()),N(e),e=L()}while('"'===e||"'"===e);return t.join("")}function Y(e){var t=R();switch(t){case"'":case'"':return O(t),U();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var n=1;"-"===e.charAt(0)&&(n=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return n*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(p.test(e))return n*parseInt(e,10);if(m.test(e))return n*parseInt(e,16);if(y.test(e))return n*parseInt(e,8);if(x.test(e))return n*parseFloat(e);throw j(e,"number",t)}(t,!0)}catch(n){if(e&&w.test(t))return t;throw j(t,"value")}}function X(e,t){var n,r;do{!t||'"'!==(n=L())&&"'"!==n?e.push([r=G(R()),N("to",!0)?G(R()):r]):e.push(U())}while(N(",",!0));N(";")}function G(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw j(e,"id");if(v.test(e))return parseInt(e,10);if(g.test(e))return parseInt(e,16);if(b.test(e))return parseInt(e,8);throw j(e,"id")}function W(){if(void 0!==T)throw j("package");if(T=R(),!w.test(T))throw j(T,"name");Z=Z.define(T),N(";")}function H(){var e,t=L();switch(t){case"weak":e=A||(A=[]),R();break;case"public":R();default:e=S||(S=[])}t=U(),N(";"),e.push(t)}function z(){if(N("="),M=U(),!(F="proto3"===M)&&"proto2"!==M)throw j(M,"syntax");N(";")}function q(e,t){switch(t){case"option":return ee(e,t),N(";"),!0;case"message":return K(e,t),!0;case"enum":return Q(e,t),!0;case"service":return function(e,t){if(!_.test(t=R()))throw j(t,"service name");var n=new c(t);$(n,(function(e){if(!q(n,e)){if("rpc"!==e)throw j(e);!function(e,t){var n=B(),r=t;if(!_.test(t=R()))throw j(t,"name");var i,a,o,s,u=t;N("("),N("stream",!0)&&(a=!0);if(!w.test(t=R()))throw j(t);i=t,N(")"),N("returns"),N("("),N("stream",!0)&&(s=!0);if(!w.test(t=R()))throw j(t);o=t,N(")");var l=new h(u,r,i,o,a,s);l.comment=n,$(l,(function(e){if("option"!==e)throw j(e);ee(l,e),N(";")})),e.add(l)}(n,e)}})),e.add(n)}(e,t),!0;case"extend":return function(e,t){if(!w.test(t=R()))throw j(t,"reference");var n=t;$(null,(function(t){switch(t){case"required":case"repeated":J(e,t,n);break;case"optional":J(e,F?"proto3_optional":"optional",n);break;default:if(!F||!w.test(t))throw j(t);O(t),J(e,"optional",n)}}))}(e,t),!0}return!1}function $(e,t,n){var r=I.line;if(e&&("string"!==typeof e.comment&&(e.comment=B()),e.filename=E.filename),N("{",!0)){for(var i;"}"!==(i=R());)t(i);N(";",!0)}else n&&n(),N(";"),e&&("string"!==typeof e.comment||C)&&(e.comment=B(r)||e.comment)}function K(e,t){if(!_.test(t=R()))throw j(t,"type name");var n=new a(t);$(n,(function(e){if(!q(n,e))switch(e){case"map":!function(e){N("<");var t=R();if(void 0===f.mapKey[t])throw j(t,"type");N(",");var n=R();if(!w.test(n))throw j(n,"type");N(">");var r=R();if(!_.test(r))throw j(r,"name");N("=");var i=new s(V(r),G(R()),t,n);$(i,(function(e){if("option"!==e)throw j(e);ee(i,e),N(";")}),(function(){re(i)})),e.add(i)}(n);break;case"required":case"repeated":J(n,e);break;case"optional":J(n,F?"proto3_optional":"optional");break;case"oneof":!function(e,t){if(!_.test(t=R()))throw j(t,"name");var n=new u(V(t));$(n,(function(e){"option"===e?(ee(n,e),N(";")):(O(e),J(n,"optional"))})),e.add(n)}(n,e);break;case"extensions":X(n.extensions||(n.extensions=[]));break;case"reserved":X(n.reserved||(n.reserved=[]),!0);break;default:if(!F||!w.test(e))throw j(e);O(e),J(n,"optional")}})),e.add(n)}function J(e,t,n){var r=R();if("group"!==r){for(;r.endsWith(".")||L().startsWith(".");)r+=R();if(!w.test(r))throw j(r,"type");var i=R();if(!_.test(i))throw j(i,"name");i=V(i),N("=");var s=new o(i,G(R()),r,t,n);if($(s,(function(e){if("option"!==e)throw j(e);ee(s,e),N(";")}),(function(){re(s)})),"proto3_optional"===t){var l=new u("_"+i);s.setOption("proto3_optional",!0),l.add(s),e.add(l)}else e.add(s);F||!s.repeated||void 0===f.packed[r]&&void 0!==f.basic[r]||s.setOption("packed",!1,!0)}else!function(e,t){var n=R();if(!_.test(n))throw j(n,"name");var r=d.lcFirst(n);n===r&&(n=d.ucFirst(n));N("=");var i=G(R()),s=new a(n);s.group=!0;var u=new o(r,i,n,t);u.filename=E.filename,$(s,(function(e){switch(e){case"option":ee(s,e),N(";");break;case"required":case"repeated":J(s,e);break;case"optional":J(s,F?"proto3_optional":"optional");break;case"message":K(s,e);break;case"enum":Q(s,e);break;default:throw j(e)}})),e.add(s).add(u)}(e,t)}function Q(e,t){if(!_.test(t=R()))throw j(t,"name");var n=new l(t);$(n,(function(e){switch(e){case"option":ee(n,e),N(";");break;case"reserved":X(n.reserved||(n.reserved=[]),!0);break;default:!function(e,t){if(!_.test(t))throw j(t,"name");N("=");var n=G(R(),!0),r={options:void 0,setOption:function(e,t){void 0===this.options&&(this.options={}),this.options[e]=t}};$(r,(function(e){if("option"!==e)throw j(e);ee(r,e),N(";")}),(function(){re(r)})),e.add(t,n,r.comment,r.options)}(n,e)}})),e.add(n)}function ee(e,t){var n=N("(",!0);if(!w.test(t=R()))throw j(t,"name");var r,i=t,a=i;n&&(N(")"),a=i="("+i+")",t=L(),k.test(t)&&(r=t.slice(1),i+=t,R())),N("="),function(e,t,n,r){e.setParsedOption&&e.setParsedOption(t,n,r)}(e,a,te(e,i),r)}function te(e,t){if(N("{",!0)){for(var n={};!N("}",!0);){if(!_.test(P=R()))throw j(P,"name");var r,i=P;if(N(":",!0),"{"===L())r=te(e,t+"."+P);else if("["===L()){var a;if(r=[],N("[",!0)){do{a=Y(!0),r.push(a)}while(N(",",!0));N("]"),"undefined"!==typeof a&&ne(e,t+"."+P,a)}}else r=Y(!0),ne(e,t+"."+P,r);var o=n[i];o&&(r=[].concat(o).concat(r)),n[i]=r,N(",",!0),N(";",!0)}return n}var s=Y(!0);return ne(e,t,s),s}function ne(e,t,n){e.setOption&&e.setOption(t,n)}function re(e){if(N("[",!0)){do{ee(e,"option")}while(N(",",!0));N("]")}return e}for(;null!==(P=R());)switch(P){case"package":if(!D)throw j(P);W();break;case"import":if(!D)throw j(P);H();break;case"syntax":if(!D)throw j(P);z();break;case"option":ee(Z,P),N(";");break;default:if(q(Z,P)){D=!1;continue}throw j(P)}return E.filename=null,{package:T,imports:S,weakImports:A,syntax:M,root:t}}},2422:function(e,t,n){"use strict";e.exports=u;var r,i=n(9716),a=i.LongBits,o=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var l="undefined"!==typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},c=function(){return i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new r(e):l(e)})(e)}:l};function h(){var e=new a(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw s(this,8);return new a(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}u.create=c(),u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return e}}(),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},u.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},u.prototype.skip=function(e){if("number"===typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){r=e,u.create=c(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},4148:function(e,t,n){"use strict";e.exports=a;var r=n(2422);(a.prototype=Object.create(r.prototype)).constructor=a;var i=n(9716);function a(e){r.call(this,e)}a._configure=function(){i.Buffer&&(a.prototype._slice=i.Buffer.prototype.slice)},a.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},a._configure()},2808:function(e,t,n){"use strict";e.exports=h;var r=n(706);((h.prototype=Object.create(r.prototype)).constructor=h).className="Root";var i,a,o,s=n(6151),u=n(6531),l=n(9825),c=n(8052);function h(e){r.call(this,"",e),this.deferred=[],this.files=[]}function f(){}h.fromJSON=function(e,t){return t||(t=new h),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},h.prototype.resolvePath=c.path.resolve,h.prototype.fetch=c.fetch,h.prototype.load=function e(t,n,r){"function"===typeof n&&(r=n,n=void 0);var i=this;if(!r)return c.asPromise(e,i,t,n);var s=r===f;function u(e,t){if(r){var n=r;if(r=null,s)throw e;n(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var n=e.substring(t);if(n in o)return n}return null}function h(e,t){try{if(c.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),c.isString(t)){a.filename=e;var r,o=a(t,i,n),h=0;if(o.imports)for(;h<o.imports.length;++h)(r=l(o.imports[h])||i.resolvePath(e,o.imports[h]))&&d(r);if(o.weakImports)for(h=0;h<o.weakImports.length;++h)(r=l(o.weakImports[h])||i.resolvePath(e,o.weakImports[h]))&&d(r,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(f){u(f)}s||p||u(null,i)}function d(e,t){if(e=l(e)||e,!(i.files.indexOf(e)>-1))if(i.files.push(e),e in o)s?h(e,o[e]):(++p,setTimeout((function(){--p,h(e,o[e])})));else if(s){var n;try{n=c.fs.readFileSync(e).toString("utf8")}catch(a){return void(t||u(a))}h(e,n)}else++p,i.fetch(e,(function(n,a){--p,r&&(n?t?p||u(null,i):u(n):h(e,a))}))}var p=0;c.isString(t)&&(t=[t]);for(var v,m=0;m<t.length;++m)(v=i.resolvePath("",t[m]))&&d(v);if(s)return i;p||u(null,i)},h.prototype.loadSync=function(e,t){if(!c.isNode)throw Error("not supported");return this.load(e,t,f)},h.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var d=/^[A-Z]/;function p(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new s(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.get(r.name)||(r.declaringField=t,t.extensionField=r,n.add(r)),!0}return!1}h.prototype._handleAdd=function(e){if(e instanceof s)void 0===e.extend||e.extensionField||p(0,e)||this.deferred.push(e);else if(e instanceof u)d.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof i)for(var t=0;t<this.deferred.length;)p(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);d.test(e.name)&&(e.parent[e.name]=e)}},h.prototype._handleRemove=function(e){if(e instanceof s){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof u)d.test(e.name)&&delete e.parent[e.name];else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);d.test(e.name)&&delete e.parent[e.name]}},h._configure=function(e,t,n){i=e,a=t,o=n}},3107:function(e){"use strict";e.exports={}},7523:function(e,t,n){"use strict";t.Service=n(1331)},1331:function(e,t,n){"use strict";e.exports=i;var r=n(9716);function i(e,t,n){if("function"!==typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,a,o){if(!a)throw TypeError("request must be specified");var s=this;if(!o)return r.asPromise(e,s,t,n,i,a);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),(function(e,n){if(e)return s.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",n,t),o(null,n)}s.end(!0)}))}catch(u){return s.emit("error",u,t),void setTimeout((function(){o(u)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},2342:function(e,t,n){"use strict";e.exports=s;var r=n(706);((s.prototype=Object.create(r.prototype)).constructor=s).className="Service";var i=n(5597),a=n(8052),o=n(7523);function s(e,t){r.call(this,e,t),this.methods={},this._methodsArray=null}function u(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var n=new s(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),a=0;a<r.length;++a)n.add(i.fromJSON(r[a],t.methods[r[a]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},s.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return a.toObject(["options",t&&t.options||void 0,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=a.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||r.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return r.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,u(this)):r.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,u(this)}return r.prototype.remove.call(this,e)},s.prototype.create=function(e,t,n){for(var r,i=new o.Service(e,t,n),s=0;s<this.methodsArray.length;++s){var u=a.lcFirst((r=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[u]=a.codegen(["r","c"],a.isReserved(u)?u+"_":u)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return i}},9625:function(e){"use strict";e.exports=h;var t=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,r=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*/]+ */,a=/^\s*\*?\/*/,o=/\n/g,s=/\s/,u=/\\(.?)/g,l={0:"\0",r:"\r",n:"\n",t:"\t"};function c(e){return e.replace(u,(function(e,t){switch(t){case"\\":case"":return t;default:return l[t]||""}}))}function h(e,u){e=e.toString();var l=0,h=e.length,f=1,d=0,p={},v=[],m=null;function g(e){return Error("illegal "+e+" (line "+f+")")}function y(t){return e.charAt(t)}function b(t,n,r){var s,l={type:e.charAt(t++),lineEmpty:!1,leading:r},c=t-(u?2:3);do{if(--c<0||"\n"===(s=e.charAt(c))){l.lineEmpty=!0;break}}while(" "===s||"\t"===s);for(var h=e.substring(t,n).split(o),v=0;v<h.length;++v)h[v]=h[v].replace(u?a:i,"").trim();l.text=h.join("\n").trim(),p[f]=l,d=f}function x(t){var n=_(t),r=e.substring(t,n);return/^\s*\/{1,2}/.test(r)}function _(e){for(var t=e;t<h&&"\n"!==y(t);)t++;return t}function w(){if(v.length>0)return v.shift();if(m)return function(){var t="'"===m?r:n;t.lastIndex=l-1;var i=t.exec(e);if(!i)throw g("string");return l=t.lastIndex,k(m),m=null,c(i[1])}();var i,a,o,d,p,w=0===l;do{if(l===h)return null;for(i=!1;s.test(o=y(l));)if("\n"===o&&(w=!0,++f),++l===h)return null;if("/"===y(l)){if(++l===h)throw g("comment");if("/"===y(l))if(u){if(d=l,p=!1,x(l)){p=!0;do{if((l=_(l))===h)break;if(l++,!w)break}while(x(l))}else l=Math.min(h,_(l)+1);p&&(b(d,l,w),w=!0),f++,i=!0}else{for(p="/"===y(d=l+1);"\n"!==y(++l);)if(l===h)return null;++l,p&&(b(d,l-1,w),w=!0),++f,i=!0}else{if("*"!==(o=y(l)))return"/";d=l+1,p=u||"*"===y(d);do{if("\n"===o&&++f,++l===h)throw g("comment");a=o,o=y(l)}while("*"!==a||"/"!==o);++l,p&&(b(d,l-2,w),w=!0),i=!0}}}while(i);var E=l;if(t.lastIndex=0,!t.test(y(E++)))for(;E<h&&!t.test(y(E));)++E;var T=e.substring(l,l=E);return'"'!==T&&"'"!==T||(m=T),T}function k(e){v.push(e)}function E(){if(!v.length){var e=w();if(null===e)return null;k(e)}return v[0]}return Object.defineProperty({next:w,peek:E,push:k,skip:function(e,t){var n=E();if(n===e)return w(),!0;if(!t)throw g("token '"+n+"', '"+e+"' expected");return!1},cmnt:function(e){var t,n=null;return void 0===e?(t=p[f-1],delete p[f-1],t&&(u||"*"===t.type||t.lineEmpty)&&(n=t.leading?t.text:null)):(d<e&&E(),t=p[e],delete p[e],!t||t.lineEmpty||!u&&"/"!==t.type||(n=t.leading?null:t.text)),n}},"line",{get:function(){return f}})}h.unescape=c},9549:function(e,t,n){"use strict";e.exports=y;var r=n(706);((y.prototype=Object.create(r.prototype)).constructor=y).className="Type";var i=n(6531),a=n(9825),o=n(6151),s=n(1686),u=n(2342),l=n(9140),c=n(2422),h=n(8050),f=n(8052),d=n(6652),p=n(1625),v=n(2962),m=n(4597),g=n(2481);function y(e,t){r.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=f.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=f.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,f.merge(e.prototype,t)),e.$type=e.prototype.$type=this,f.merge(e,l,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:f.oneOfGetter(this._oneofsArray[n].oneof),set:f.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,r)}}}),y.generateConstructor=function(e){for(var t,n=f.codegen(["p"],e.name),r=0;r<e.fieldsArray.length;++r)(t=e._fieldsArray[r]).map?n("this%s={}",f.safeProp(t.name)):t.repeated&&n("this%s=[]",f.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},y.fromJSON=function(e,t){var n=new y(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var l=Object.keys(t.fields),c=0;c<l.length;++c)n.add(("undefined"!==typeof t.fields[l[c]].keyType?s.fromJSON:o.fromJSON)(l[c],t.fields[l[c]]));if(t.oneofs)for(l=Object.keys(t.oneofs),c=0;c<l.length;++c)n.add(a.fromJSON(l[c],t.oneofs[l[c]]));if(t.nested)for(l=Object.keys(t.nested),c=0;c<l.length;++c){var h=t.nested[l[c]];n.add((void 0!==h.id?o.fromJSON:void 0!==h.fields?y.fromJSON:void 0!==h.values?i.fromJSON:void 0!==h.methods?u.fromJSON:r.fromJSON)(l[c],h))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},y.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return f.toObject(["options",t&&t.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},y.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return r.prototype.resolveAll.call(this)},y.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},y.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof o&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof a?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):r.prototype.add.call(this,e)},y.prototype.remove=function(e){if(e instanceof o&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof a){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return r.prototype.remove.call(this,e)},y.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},y.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)},y.prototype.create=function(e){return new this.ctor(e)},y.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=d(this)({Writer:h,types:t,util:f}),this.decode=p(this)({Reader:c,types:t,util:f}),this.verify=v(this)({types:t,util:f}),this.fromObject=m.fromObject(this)({types:t,util:f}),this.toObject=m.toObject(this)({types:t,util:f});var r=g[e];if(r){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(i),i.toObject=this.toObject,this.toObject=r.toObject.bind(i)}return this},y.prototype.encode=function(e,t){return this.setup().encode(e,t)},y.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},y.prototype.decode=function(e,t){return this.setup().decode(e,t)},y.prototype.decodeDelimited=function(e){return e instanceof c||(e=c.create(e)),this.decode(e,e.uint32())},y.prototype.verify=function(e){return this.setup().verify(e)},y.prototype.fromObject=function(e){return this.setup().fromObject(e)},y.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},y.d=function(e){return function(t){f.decorateType(t,e)}}},5028:function(e,t,n){"use strict";var r=t,i=n(8052),a=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(e,t){var n=0,r={};for(t|=0;n<e.length;)r[a[n+t]]=e[n++];return r}r.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),r.long=o([0,0,0,1,1],7),r.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},8052:function(e,t,n){"use strict";var r,i,a=e.exports=n(9716),o=n(3107);a.codegen=n(7857),a.fetch=n(8774),a.path=n(8464),a.fs=a.inquire("fs"),a.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},a.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],i=e[n++];void 0!==i&&(t[r]=i)}return t};var s=/\\/g,u=/"/g;a.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},a.safeProp=function(e){return!/^[$\w_]+$/.test(e)||a.isReserved(e)?'["'+e.replace(s,"\\\\").replace(u,'\\"')+'"]':"."+e},a.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;a.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,(function(e,t){return t.toUpperCase()}))},a.compareFieldsById=function(e,t){return e.id-t.id},a.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(a.decorateRoot.remove(e.$type),e.$type.name=t,a.decorateRoot.add(e.$type)),e.$type;r||(r=n(9549));var i=new r(t||e.name);return a.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var c=0;a.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=n(6531));var t=new i("Enum"+c++,e);return a.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},a.setProperty=function(e,t,n){if("object"!==typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,n,r){var i=n.shift();if("__proto__"===i)return t;if(n.length>0)t[i]=e(t[i]||{},n,r);else{var a=t[i];a&&(r=[].concat(a).concat(r)),t[i]=r}return t}(e,t=t.split("."),n)},Object.defineProperty(a,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(n(2808)))}})},6112:function(e,t,n){"use strict";e.exports=i;var r=n(9716);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var a=i.zero=new i(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return a;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"===typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):a},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===o?a:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9716:function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function a(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}r.asPromise=n(7223),r.base64=n(1938),r.EventEmitter=n(6597),r.float=n(2678),r.inquire=n(7640),r.utf8=n(2842),r.pool=n(110),r.LongBits=n(6112),r.isNode=Boolean("undefined"!==typeof n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!==typeof window&&window||"undefined"!==typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"===typeof e||e instanceof String},r.isObject=function(e){return e&&"object"===typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"===typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"===typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=a,r.ProtocolError=a("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},2962:function(e,t,n){"use strict";e.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=e.oneofsArray,r={};n.length&&t("var p={}");for(var u=0;u<e.fieldsArray.length;++u){var l=e._fieldsArray[u].resolve(),c="m"+i.safeProp(l.name);if(l.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",c,l.name),l.map)t("if(!util.isObject(%s))",c)("return%j",a(l,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),s(t,l,"k[i]"),o(t,l,u,c+"[k[i]]")("}");else if(l.repeated)t("if(!Array.isArray(%s))",c)("return%j",a(l,"array"))("for(var i=0;i<%s.length;++i){",c),o(t,l,u,c+"[i]")("}");else{if(l.partOf){var h=i.safeProp(l.partOf.name);1===r[l.partOf.name]&&t("if(p%s===1)",h)("return%j",l.partOf.name+": multiple values"),r[l.partOf.name]=1,t("p%s=1",h)}o(t,l,u,c)}l.optional&&t("}")}return t("return null")};var r=n(6531),i=n(8052);function a(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function o(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(%s){",i)("default:")("return%j",a(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),s=0;s<o.length;++s)e("case %i:",t.resolvedType.values[o[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",a(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",a(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",a(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",a(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",a(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",a(t,"buffer"))}return e}function s(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",a(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",a(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",a(t,"boolean key"))}return e}},2481:function(e,t,n){"use strict";var r=t,i=n(9140);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),n=this.lookup(t);if(n){var r="."===e["@type"].charAt(0)?e["@type"].slice(1):e["@type"];return-1===r.indexOf("/")&&(r="/"+r),this.create({type_url:r,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n="",r="";if(t&&t.json&&e.type_url&&e.value){r=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var a=this.lookup(r);a&&(e=a.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var o=e.$type.toObject(e,t);return""===n&&(n="type.googleapis.com/"),r=n+("."===e.$type.fullName[0]?e.$type.fullName.slice(1):e.$type.fullName),o["@type"]=r,o}return this.toObject(e,t)}}},8050:function(e,t,n){"use strict";e.exports=h;var r,i=n(9716),a=i.LongBits,o=i.base64,s=i.utf8;function u(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function l(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function h(){this.len=0,this.head=new u(l,0,0),this.tail=this.head,this.states=null}var f=function(){return i.Buffer?function(){return(h.create=function(){return new r})()}:function(){return new h}};function d(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function v(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function m(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}h.create=f(),h.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(h.alloc=i.pool(h.alloc,i.Array.prototype.subarray)),h.prototype._push=function(e,t,n){return this.tail=this.tail.next=new u(e,t,n),this.len+=t,this},p.prototype=Object.create(u.prototype),p.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},h.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},h.prototype.int32=function(e){return e<0?this._push(v,10,a.fromNumber(e)):this.uint32(e)},h.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},h.prototype.uint64=function(e){var t=a.from(e);return this._push(v,t.length(),t)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(e){var t=a.from(e).zzEncode();return this._push(v,t.length(),t)},h.prototype.bool=function(e){return this._push(d,1,e?1:0)},h.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(e){var t=a.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},h.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var g=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};h.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var n=h.alloc(t=o.length(e));o.decode(e,n,0),e=n}return this.uint32(t)._push(g,t,e)},h.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(d,1,0)},h.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new u(l,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(l,0,0),this.len=0),this},h.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},h.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},h._configure=function(e){r=e,h.create=f(),r._configure()}},2149:function(e,t,n){"use strict";e.exports=a;var r=n(8050);(a.prototype=Object.create(r.prototype)).constructor=a;var i=n(9716);function a(){r.call(this)}function o(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}a._configure=function(){a.alloc=i._Buffer_allocUnsafe,a.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},a.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a.writeBytesBuffer,t,e),this},a.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},a._configure()},9605:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var a={};if("string"!==typeof e||0===e.length)return a;var o=/\+/g;e=e.split(n);var s=1e3;i&&"number"===typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var c,h,f,d,p=e[l].replace(o,"%20"),v=p.indexOf(r);v>=0?(c=p.substr(0,v),h=p.substr(v+1)):(c=p,h=""),f=decodeURIComponent(c),d=decodeURIComponent(h),t(a,f)?Array.isArray(a[f])?a[f].push(d):a[f]=[a[f],d]:a[f]=d}return a}},3033:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(t(e))})).join(n):a+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},2902:function(e,t,n){"use strict";t.decode=t.parse=n(9605),t.encode=t.stringify=n(3033)},534:function(e,t,n){"use strict";var r=n(7313),i=n(2224);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),A=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var B,D=Object.assign;function F(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var Z=!1;function V(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function j(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case T:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function Y(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function X(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=X(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){K(e,t);var n=X(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function ae(e,t){var n=X(t.value),r=X(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Ee=null;function Te(e){if(e=bi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Se(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Ae(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Me(e,t){return e(t)}function Pe(){}var Ce=!1;function Ie(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return Me(e,t,n)}finally{Ce=!1,(null!==ke||null!==Ee)&&(Pe(),Ae())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Oe=!1}function Ne(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Be=!1,De=null,Fe=!1,Ze=null,Ve={onError:function(e){Be=!0,De=e}};function je(e,t,n,r,i,a,o,s,u){Be=!1,De=null,Ne.apply(Ve,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ue(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,ze=i.unstable_cancelCallback,qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ke=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,kt,Et,Tt,St=!1,At=[],Mt=null,Pt=null,Ct=null,It=new Map,Rt=new Map,Ot=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Bt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=yi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Zt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){St=!1,null!==Mt&&Ft(Mt)&&(Mt=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Ct&&Ft(Ct)&&(Ct=null),It.forEach(Zt),Rt.forEach(Zt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return jt(t,e)}if(0<At.length){jt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&jt(Mt,e),null!==Pt&&jt(Pt,e),null!==Ct&&jt(Ct,e),It.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Dt(n),null===n.blockedOn&&Ot.shift()}var Yt=x.ReactCurrentBatchConfig,Xt=!0;function Gt(e,t,n,r){var i=bt,a=Yt.transition;Yt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,Yt.transition=a}}function Wt(e,t,n,r){var i=bt,a=Yt.transition;Yt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,Yt.transition=a}}function Ht(e,t,n,r){if(Xt){var i=qt(e,t,n,r);if(null===i)Xr(e,t,r,zt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=Bt(Mt,e,t,n,r,i),!0;case"dragenter":return Pt=Bt(Pt,e,t,n,r,i),!0;case"mouseover":return Ct=Bt(Ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return It.set(a,Bt(It.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Bt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&_t(a),null===(a=qt(e,t,n,r))&&Xr(e,t,r,zt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Xr(e,t,r,null,n)}}var zt=null;function qt(e,t,n,r){if(zt=null,null!==(e=yi(e=_e(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ye(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Kt=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),hn=D({},ln,{view:0,detail:0}),fn=an(hn),dn=D({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(D({},dn,{dataTransfer:0})),mn=an(D({},hn,{relatedTarget:0})),gn=an(D({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(D({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return En}var Sn=D({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(Sn),Mn=an(D({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(D({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Cn=an(D({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=D({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(In),On=[9,13,27,32],Ln=c&&"CompositionEvent"in window,Nn=null;c&&"documentMode"in document&&(Nn=document.documentMode);var Bn=c&&"TextEvent"in window&&!Nn,Dn=c&&(!Ln||Nn&&8<Nn&&11>=Nn),Fn=String.fromCharCode(32),Zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Yn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function zn(e){Fr(e,0)}function qn(e){if(H(xi(e)))return e}function $n(e,t){if("change"===e)return t}var Kn=!1;if(c){var Jn;if(c){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Jn=Qn}else Jn=!1;Kn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&qn(Hn)){var t=[];Gn(t,Hn,e,_e(e)),Ie(zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Hn)}function ar(e,t){if("click"===e)return qn(t)}function or(e,t){if("input"===e||"change"===e)return qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=z((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==z(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Er={};function Tr(e){if(kr[e])return kr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Sr=Tr("animationend"),Ar=Tr("animationiteration"),Mr=Tr("animationstart"),Pr=Tr("transitionend"),Cr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Cr.set(e,t),u(t,[e])}for(var Or=0;Or<Ir.length;Or++){var Lr=Ir[Or];Rr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Ar,"onAnimationIteration"),Rr(Mr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Pr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(je.apply(this,arguments),Be){if(!Be)throw Error(a(198));var c=De;Be=!1,De=null,Fe||(Fe=!0,Ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Dr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Dr(i,s,l),a=u}}}if(Fe)throw e=Ze,Fe=!1,Ze=null,e}function Zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Yr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Yr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Vr("selectionchange",!1,t))}}function Yr(e,t,n,r){switch($t(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ie((function(){var r=a,i=_e(n),o=[];e:{var s=Cr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Sr:case Ar:case Mr:u=gn;break;case Pr:u=Cn;break;case"scroll":u=fn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Mn}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Re(p,f))&&c.push(Gr(p,v,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(h=Ue(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Mn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:xi(u),d=null==l?s:xi(l),(s=new c(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,yi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,v=c),h=v,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Hr(d))p++;for(d=0,v=f;v;v=Hr(v))d++;for(;0<p-d;)c=Hr(c),p--;for(;0<d-p;)f=Hr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Hr(c),f=Hr(f)}c=null}else c=null;null!==u&&zr(o,s,u,c,!1),null!==l&&null!==h&&zr(o,h,l,c,!0)}if("select"===(u=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Xn(s))if(Kn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?xi(r):window,e){case"focusin":(Xn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":xr(o,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Jt="value"in(Kt=i)?Kt.value:Kt.textContent,Un=!0)),0<(g=Wr(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=jn(n))&&(b.data=y))),(y=Bn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Ln&&Vn(e,t)?(e=en(),Qt=Jt=Kt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Re(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Re(n,a))&&o.unshift(Gr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Gr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Kr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(a(425))}function Qr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,mi="__reactListeners$"+hi,gi="__reactHandles$"+hi;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[di]||null}var wi=[],ki=-1;function Ei(e){return{current:e}}function Ti(e){0>ki||(e.current=wi[ki],wi[ki]=null,ki--)}function Si(e,t){ki++,wi[ki]=e.current,e.current=t}var Ai={},Mi=Ei(Ai),Pi=Ei(!1),Ci=Ai;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ti(Pi),Ti(Mi)}function Li(e,t,n){if(Mi.current!==Ai)throw Error(a(168));Si(Mi,t),Si(Pi,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,Y(e)||"Unknown",i));return D({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Ci=Mi.current,Si(Mi,e),Si(Pi,Pi.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ni(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,Ti(Pi),Ti(Mi),Si(Mi,e)):Ti(Pi),Si(Pi,n)}var Fi=null,Zi=!1,Vi=!1;function ji(e){null===Fi?Fi=[e]:Fi.push(e)}function Ui(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Qe,Ui),i}finally{bt=t,Vi=!1}}return null}var Yi=[],Xi=0,Gi=null,Wi=0,Hi=[],zi=0,qi=null,$i=1,Ki="";function Ji(e,t){Yi[Xi++]=Wi,Yi[Xi++]=Gi,Gi=e,Wi=t}function Qi(e,t,n){Hi[zi++]=$i,Hi[zi++]=Ki,Hi[zi++]=qi,qi=e;var r=$i;e=Ki;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Ki=a+e}else $i=1<<a|n<<i|r,Ki=e}function ea(e){null!==e.return&&(Ji(e,1),Qi(e,1,0))}function ta(e){for(;e===Gi;)Gi=Yi[--Xi],Yi[Xi]=null,Wi=Yi[--Xi],Yi[Xi]=null;for(;e===qi;)qi=Hi[--zi],Hi[zi]=null,Ki=Hi[--zi],Hi[zi]=null,$i=Hi[--zi],Hi[zi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==qi?{id:$i,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=x.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ei(null),ya=null,ba=null,xa=null;function _a(){xa=ba=ya=null}function wa(e){var t=ga.current;Ti(ga),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ya=e,xa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Sa=null;function Aa(e){null===Sa?Sa=[e]:Sa.push(e)}function Ma(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Aa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ca=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Aa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function Na(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Da(e,t,n,r){var i=e.updateQueue;Ca=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,c=l=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=D({},h,f);break e;case 2:Ca=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Du|=o,e.lanes=o,e.memoizedState=h}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Za=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ja={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(rl(t,e,i,r),Na(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(rl(t,e,i,r),Na(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=La(e,i,r))&&(rl(t,e,r,n),Na(t,e,r))}};function Ua(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ya(e,t,n){var r=!1,i=Ai,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Ri(t)?Ci:Mi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Ai),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ja,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ja.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Za,Ia(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Ri(t)?Ci:Mi.current,i.context=Ii(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ja.enqueueReplaceState(i,i.state,null),Da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ll(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&za(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Nl(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Bl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Nl(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case w:return(t=Zl(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Bl(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:h(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return h(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(i,h,s[v],u);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,h=m}if(v===s.length)return n(i,h),ia&&Ji(i,v),l;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===c?l=h:c.sibling=h,c=h);return ia&&Ji(i,v),l}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function m(i,s,u,l){var c=N(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===h?c=b:h.sibling=b,h=b,v=g}if(y.done)return n(i,v),ia&&Ji(i,m),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,l))&&(s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return ia&&Ji(i,m),c}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===k){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&za(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Wa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===k?((a=Bl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Nl(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Zl(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(N(o))return m(r,a,o,u);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=qa(!0),Ka=qa(!1),Ja={},Qa=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Qa,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Qa),Si(Qa,t)}function io(){Ti(Qa),Ti(eo),Ti(to)}function ao(e){no(to.current);var t=no(Qa.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si(Qa,n))}function oo(e){eo.current===e&&(Ti(Qa),Ti(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var ho=x.ReactCurrentDispatcher,fo=x.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,xo=0,_o=0;function wo(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,xo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,ho.current=ls,e=n(r,i)}while(bo)}if(ho.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function To(){var e=0!==xo;return xo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Ao(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Mo(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var h=c.lane;if((po&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,vo.lanes|=h,Du|=h}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Du|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Co(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Io(){}function Ro(e,t){var n=vo,r=Ao(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,xs=!0),r=r.queue,Xo(No.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Zo(9,Lo.bind(null,n,r,i,t),void 0,null),null===Cu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,Bo(t)&&Do(e)}function No(e,t,n){return n((function(){Bo(t)&&Do(e)}))}function Bo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Do(e){var t=Pa(e,1);null!==t&&rl(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Ao().memoizedState}function jo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Zo(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=Ao();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Zo(t,n,a,r))}vo.flags|=e,i.memoizedState=Zo(1|t,n,a,r)}function Yo(e,t){return jo(8390656,8,e,t)}function Xo(e,t){return Uo(2048,8,e,t)}function Go(e,t){return Uo(4,2,e,t)}function Wo(e,t){return Uo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,Ho.bind(null,t,e),n)}function qo(){}function $o(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Du|=n,e.baseState=!0),t)}function Qo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=n,fo.transition=r}}function es(){return Ao().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ma(e,t,n,r))){rl(n,e,r,tl()),as(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Aa(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ma(e,t,i,r))&&(rl(n,e,r,i=tl()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ta,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Ta,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Yo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:qo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Qo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Yo(No.bind(null,r,o,e),[e]),r.flags|=2048,Zo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Cu.identifierPrefix;if(ia){var n=Ki;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=xo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ta,useCallback:$o,useContext:Ta,useEffect:Xo,useImperativeHandle:zo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Ko,useReducer:Po,useRef:Vo,useState:function(){return Po(Mo)},useDebugValue:qo,useDeferredValue:function(e){return Jo(Ao(),mo.memoizedState,e)},useTransition:function(){return[Po(Mo)[0],Ao().memoizedState]},useMutableSource:Io,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ta,useCallback:$o,useContext:Ta,useEffect:Xo,useImperativeHandle:zo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Ko,useReducer:Co,useRef:Vo,useState:function(){return Co(Mo)},useDebugValue:qo,useDeferredValue:function(e){var t=Ao();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Co(Mo)[0],Ao().memoizedState]},useMutableSource:Io,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gu||(Gu=!0,Wu=r),fs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,La(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=x.ReactCurrentOwner,xs=!1;function _s(e,t,n,r){t.child=null===e?Ka(t,null,n,r):$a(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=To(),null===e||xs?(ia&&n&&ea(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function ks(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ol(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Ll(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return As(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Lu,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Lu,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Lu,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Lu,Ou),Ou|=r;return _s(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,i){var a=Ri(n)?Ci:Mi.current;return a=Ii(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=To(),null===e||xs?(ia&&r&&ea(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Ms(e,t,n,r,i){if(Ri(n)){var a=!0;Bi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Xs(e,t),Ya(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ta(l):l=Ii(t,l=Ri(n)?Ci:Mi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Xa(t,o,r,l),Ca=!1;var f=t.memoizedState;o.state=f,Da(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Pi.current||Ca?("function"===typeof c&&(Va(t,n,c,r),u=t.memoizedState),(s=Ca||Ua(t,n,s,r,f,u,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ta(u):u=Ii(t,u=Ri(n)?Ci:Mi.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&Xa(t,o,r,u),Ca=!1,f=t.memoizedState,o.state=f,Da(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||Pi.current||Ca?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(l=Ca||Ua(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,a,i)}function Ps(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Di(t,n,!1),Gs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):_s(e,t,s,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Cs(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ro(e,t.containerInfo)}function Is(e,t,n,r,i){return da(),pa(i),t.flags|=256,_s(e,t,n,r),t.child}var Rs,Os,Ls,Ns,Bs={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Dl(u,i,0,null),e=Bl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Bs,e):Zs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=hs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Dl({mode:"visible",children:r.children},i,0,null),(o=Bl(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Bs,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=hs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),xs||u){if(null!==(r=Cu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Pa(e,i),rl(r,e,i,-1))}return ml(),Vs(e,t,s,r=hs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ml.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[zi++]=$i,Hi[zi++]=Ki,Hi[zi++]=qi,$i=e.id,Ki=e.overflow,qi=t),t=Zs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ll(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ll(r,s):(s=Bl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ds(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Bs,i}return e=(s=e.child).sibling,i=Ll(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Zs(e,t){return(t=Dl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Us(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ys(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,a);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Du|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ll(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ll(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Hs(t),null;case 3:return r=t.stateNode,io(),Ti(Pi),Ti(Mi),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sl(aa),aa=null))),Os(e,t),Hs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hs(t),null}if(e=no(Qa.current),ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Zr("cancel",r),Zr("close",r);break;case"iframe":case"object":case"embed":Zr("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Zr(Nr[i],r);break;case"source":Zr("error",r);break;case"img":case"image":case"link":Zr("error",r),Zr("load",r);break;case"details":Zr("toggle",r);break;case"input":$(r,o),Zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Zr("invalid",r);break;case"textarea":ie(r,o),Zr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Zr("scroll",r)}switch(n){case"input":W(r),Q(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Zr("cancel",e),Zr("close",e),i=r;break;case"iframe":case"object":case"embed":Zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Zr(Nr[i],e);i=r;break;case"source":Zr("error",e),i=r;break;case"img":case"image":case"link":Zr("error",e),Zr("load",e),i=r;break;case"details":Zr("toggle",e),i=r;break;case"input":$(e,r),i=q(e,r),Zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),Zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Zr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Zr("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":W(e),Q(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+X(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Qa.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Hs(t),null;case 13:if(Ti(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),o=!1}else null!==aa&&(sl(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Nu&&(Nu=3):ml())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return io(),Os(e,t),null===e&&Ur(t.stateNode.containerInfo),Hs(t),null;case 10:return wa(t.type._context),Hs(t),null;case 19:if(Ti(so),null===(o=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Nu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ke()>Yu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Hs(t),null}else 2*Ke()-o.renderingStartTime>Yu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ke(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function qs(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Pi),Ti(Mi),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Qa.current);var a,o=null;switch(n){case"input":i=q(e,i),r=q(e,r),o=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Zr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Ks=!1,Js="function"===typeof WeakSet?WeakSet:Set,Qs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Tl(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var hu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ks||eu(n,t);case 6:var r=hu,i=fu;hu=null,du(e,t,n),fu=i,null!==(hu=r)&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ut(e)):ui(hu,n.stateNode));break;case 4:r=hu,i=fu,hu=n.stateNode.containerInfo,fu=!0,du(e,t,n),hu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Ks&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tl(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,du(e,t,n),Ks=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Pl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,fu=!1;break e;case 3:case 4:hu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===hu)throw Error(a(160));pu(o,s,i),hu=null,fu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Tl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Tl(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Tl(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Tl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&K(i,o),be(u,s);var c=be(u,o);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):b(i,h,f,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Tl(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Tl(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Tl(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Uu=Ke())),4&r&&vu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(c=Ks)||h,mu(t,e),Ks=c):mu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Qs=e,h=e.child;null!==h;){for(f=Qs=h;null!==Qs;){switch(p=(d=Qs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Tl(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){wu(f);continue}}null!==p?(p.return=d,Qs=p):wu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){Tl(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Tl(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Tl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Qs=e,xu(e,t,n)}function xu(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var i=Qs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ks;s=$s;var l=Ks;if($s=o,(Ks=u)&&!l)for(Qs=i;null!==Qs;)u=(o=Qs).child,22===o.tag&&null!==o.memoizedState?ku(i):null!==u?(u.return=o,Qs=u):ku(i);for(;null!==a;)Qs=a,xu(a,t,n),a=a.sibling;Qs=i,$s=s,Ks=l}_u(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qs=a):_u(e)}}function _u(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ks)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(a(163))}Ks||512&t.flags&&au(t)}catch(d){Tl(t,t.return,d)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function wu(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function ku(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Tl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Tl(t,i,u)}}var a=t.return;try{au(t)}catch(u){Tl(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Tl(t,o,u)}}}catch(u){Tl(t,t.return,u)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Eu,Tu=Math.ceil,Su=x.ReactCurrentDispatcher,Au=x.ReactCurrentOwner,Mu=x.ReactCurrentBatchConfig,Pu=0,Cu=null,Iu=null,Ru=0,Ou=0,Lu=Ei(0),Nu=0,Bu=null,Du=0,Fu=0,Zu=0,Vu=null,ju=null,Uu=0,Yu=1/0,Xu=null,Gu=!1,Wu=null,Hu=null,zu=!1,qu=null,$u=0,Ku=0,Ju=null,Qu=-1,el=0;function tl(){return 0!==(6&Pu)?Ke():-1!==Qu?Qu:Qu=Ke()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Pu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rl(e,t,n,r){if(50<Ku)throw Ku=0,Ju=null,Error(a(185));gt(e,n,r),0!==(2&Pu)&&e===Cu||(e===Cu&&(0===(2&Pu)&&(Fu|=n),4===Nu&&ul(e,Ru)),il(e,r),1===n&&0===Pu&&0===(1&t.mode)&&(Yu=Ke()+500,Zi&&Ui()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Cu?Ru:0);if(0===r)null!==n&&ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&ze(n),1===t)0===e.tag?function(e){Zi=!0,ji(e)}(ll.bind(null,e)):ji(ll.bind(null,e)),oi((function(){0===(6&Pu)&&Ui()})),n=null;else{switch(xt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Qu=-1,el=0,0!==(6&Pu))throw Error(a(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=ft(e,e===Cu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=Pu;Pu|=2;var o=vl();for(Cu===e&&Ru===t||(Xu=null,Yu=Ke()+500,dl(e,t));;)try{bl();break}catch(u){pl(e,u)}_a(),Su.current=o,Pu=i,null!==Iu?t=0:(Cu=null,Ru=0,t=Nu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Bu,dl(e,0),ul(e,r),il(e,Ke()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Bu,dl(e,0),ul(e,r),il(e,Ke()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,ju,Xu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Uu+500-Ke())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,ju,Xu),t);break}wl(e,ju,Xu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,ju,Xu),r);break}wl(e,ju,Xu);break;default:throw Error(a(329))}}}return il(e,Ke()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=ju,ju=n,null!==t&&sl(t)),e}function sl(e){null===ju?ju=e:ju.push.apply(ju,e)}function ul(e,t){for(t&=~Zu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Pu))throw Error(a(327));kl();var t=ft(e,0);if(0===(1&t))return il(e,Ke()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Bu,dl(e,0),ul(e,t),il(e,Ke()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,ju,Xu),il(e,Ke()),null}function cl(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Yu=Ke()+500,Zi&&Ui())}}function hl(e){null!==qu&&0===qu.tag&&0===(6&Pu)&&kl();var t=Pu;Pu|=1;var n=Mu.transition,r=bt;try{if(Mu.transition=null,bt=1,e)return e()}finally{bt=r,Mu.transition=n,0===(6&(Pu=t))&&Ui()}}function fl(){Ou=Lu.current,Ti(Lu)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Iu)for(n=Iu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ti(Pi),Ti(Mi),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(so);break;case 10:wa(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Cu=e,Iu=e=Ll(e.current,null),Ru=Ou=t,Nu=0,Bu=null,Zu=Fu=Du=0,ju=Vu=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pl(e,t){for(;;){var n=Iu;try{if(_a(),ho.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,xo=0,Au.current=null,null===n||null===n.return){Nu=1,Bu=t,Iu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Ru,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Nu&&(Nu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,ps(0,l,t));break e;case 1:u=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hu||!Hu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}_l(n)}catch(x){t=x,Iu===n&&null!==n&&(Iu=n=n.return);continue}break}}function vl(){var e=Su.current;return Su.current=os,null===e?os:e}function ml(){0!==Nu&&3!==Nu&&2!==Nu||(Nu=4),null===Cu||0===(268435455&Du)&&0===(268435455&Fu)||ul(Cu,Ru)}function gl(e,t){var n=Pu;Pu|=2;var r=vl();for(Cu===e&&Ru===t||(Xu=null,dl(e,t));;)try{yl();break}catch(i){pl(e,i)}if(_a(),Pu=n,Su.current=r,null!==Iu)throw Error(a(261));return Cu=null,Ru=0,Nu}function yl(){for(;null!==Iu;)xl(Iu)}function bl(){for(;null!==Iu&&!qe();)xl(Iu)}function xl(e){var t=Eu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?_l(e):Iu=t,Au.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=zs(n,t,Ou)))return void(Iu=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(Iu=n);if(null===e)return Nu=6,void(Iu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Iu=t);Iu=t=e}while(null!==t);0===Nu&&(Nu=5)}function wl(e,t,n){var r=bt,i=Mu.transition;try{Mu.transition=null,bt=1,function(e,t,n,r){do{kl()}while(null!==qu);if(0!==(6&Pu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cu&&(Iu=Cu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||zu||(zu=!0,Cl(tt,(function(){return kl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Mu.transition,Mu.transition=null;var s=bt;bt=1;var u=Pu;Pu|=4,Au.current=null,function(e,t){if(ei=Xt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,u=-1,l=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Xt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(_){Tl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Xt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),$e(),Pu=u,bt=s,Mu.transition=o}else e.current=n;if(zu&&(zu=!1,qu=e,$u=i),o=e.pendingLanes,0===o&&(Hu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Ke()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gu)throw Gu=!1,e=Wu,Wu=null,e;0!==(1&$u)&&0!==e.tag&&kl(),o=e.pendingLanes,0!==(1&o)?e===Ju?Ku++:(Ku=0,Ju=e):Ku=0,Ui()}(e,t,n,r)}finally{Mu.transition=i,bt=r}return null}function kl(){if(null!==qu){var e=xt($u),t=Mu.transition,n=bt;try{if(Mu.transition=null,bt=16>e?16:e,null===qu)var r=!1;else{if(e=qu,qu=null,$u=0,0!==(6&Pu))throw Error(a(331));var i=Pu;for(Pu|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Qs=c;null!==Qs;){var h=Qs;switch(h.tag){case 0:case 11:case 15:ru(8,h,o)}var f=h.child;if(null!==f)f.return=h,Qs=f;else for(;null!==Qs;){var d=(h=Qs).sibling,p=h.return;if(ou(h),h===c){Qs=null;break}if(null!==d){d.return=p,Qs=d;break}Qs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Qs=y;break e}Qs=o.return}}var b=e.current;for(Qs=b;null!==Qs;){var x=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Qs=x;else e:for(s=b;null!==Qs;){if(0!==(2048&(u=Qs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(w){Tl(u,u.return,w)}if(u===s){Qs=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,Qs=_;break e}Qs=u.return}}if(Pu=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{bt=n,Mu.transition=t}}return!1}function El(e,t,n){e=La(e,t=ps(0,t=cs(n,t),1),1),t=tl(),null!==e&&(gt(e,1,t),il(e,t))}function Tl(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=La(t,e=vs(t,e=cs(n,e),1),1),e=tl(),null!==t&&(gt(t,1,e),il(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Ru&n)===n&&(4===Nu||3===Nu&&(130023424&Ru)===Ru&&500>Ke()-Uu?dl(e,0):Zu|=n),il(e,t)}function Al(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Pa(e,t))&&(gt(e,t,n),il(e,n))}function Ml(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Al(e,n)}function Pl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Al(e,n)}function Cl(e,t){return He(e,t)}function Il(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Il(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ll(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ol(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Bl(n.children,i,o,t);case E:s=8,i|=8;break;case T:return(e=Rl(12,n,t,2|i)).elementType=T,e.lanes=o,e;case P:return(e=Rl(13,n,t,i)).elementType=P,e.lanes=o,e;case C:return(e=Rl(19,n,t,i)).elementType=C,e.lanes=o,e;case O:return Dl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case A:s=9;break e;case M:s=11;break e;case I:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Bl(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Dl(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Zl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jl(e,t,n,r,i,a,o,s,u){return e=new Vl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(a),e}function Ul(e){if(!e)return Ai;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Ni(e,n,t)}return t}function Yl(e,t,n,r,i,a,o,s,u){return(e=jl(n,r,!0,e,0,a,0,s,u)).context=Ul(null),n=e.current,(a=Oa(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,La(n,a,i),e.current.lanes=i,gt(e,i,r),il(e,r),e}function Xl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=Ul(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=La(i,t,o))&&(rl(e,i,o,a),Na(e,i,o)),o}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Cs(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Bi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Si(so,1&so.current),null!==(e=Gs(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ys(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Gs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ia&&0!==(1048576&t.flags)&&Qi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xs(e,t),e=t.pendingProps;var i=Ii(t,Mi.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Bi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ia(t),i.updater=ja,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Ps(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===I)return 14}return 2}(r),e=ma(r,e),i){case 0:t=As(null,t,r,e,n);break e;case 1:t=Ms(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=ks(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Cs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Da(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Is(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Is(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ka(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Pi.current){t=Gs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ka(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ka(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ta(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),ks(e,t,r,i=ma(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Xs(e,t),t.tag=1,Ri(r)?(e=!0,Bi(t)):e=!1,Ea(t,n),Ya(t,r,i),Ga(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Ys(e,t,n);case 22:return Ts(e,t,n)}throw Error(a(156,t.tag))};var zl="function"===typeof reportError?reportError:function(e){console.error(e)};function ql(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Kl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ql(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Gl(o);s.call(e)}}Xl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gl(o);a.call(e)}}var o=Yl(t,r,e,0,null,!1,0,"",Ql);return e._reactRootContainer=o,e[pi]=o.current,Ur(8===e.nodeType?e.parentNode:e),hl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gl(u);s.call(e)}}var u=jl(e,0,!1,null,0,!1,0,"",Ql);return e._reactRootContainer=u,e[pi]=u.current,Ur(8===e.nodeType?e.parentNode:e),hl((function(){Xl(t,u,n,r)})),u}(n,t,e,i,r);return Gl(o)}$l.prototype.render=ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xl(e,t,null,null)},$l.prototype.unmount=ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hl((function(){Xl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Dt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Ke()),0===(6&Pu)&&(Yu=Ke()+500,Ui()))}break;case 13:hl((function(){var t=Pa(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Hl(e,1)}},wt=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)rl(t,e,134217728,tl());Hl(e,134217728)}},kt=function(e){if(13===e.tag){var t=nl(e),n=Pa(e,t);if(null!==n)rl(n,e,t,tl());Hl(e,t)}},Et=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Me=cl,Pe=hl;var tc={usingClientEntryPoint:!1,Events:[bi,xi,_i,Se,Ae,cl]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kl(e))throw Error(a(299));var n=!1,r="",i=zl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return hl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=zl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Yl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(hl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1739:function(e,t,n){"use strict";var r=n(1168);t.s=r.createRoot,r.hydrateRoot},1168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},1624:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case h:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===s||e===o||e===f||e===d||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===u||e.$$typeof===l||e.$$typeof===h||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=g},6214:function(e,t,n){"use strict";e.exports=n(1624)},5554:function(e,t,n){"use strict";n.d(t,{zt:function(){return b},I0:function(){return T},v9:function(){return v}});var r=n(1239),i=n(7058),a=n(1168);var o=function(e){e()},s=function(){return o},u=n(7313),l=(0,u.createContext)(null);function c(){return(0,u.useContext)(l)}var h=function(){throw new Error("uSES not initialized!")},f=h,d=function(e,t){return e===t};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e===l?c:function(){return(0,u.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;var r=t(),i=r.store,a=r.subscription,o=r.getServerState,s=f(a.addNestedSub,i.getState,o||i.getState,e,n);return(0,u.useDebugValue)(s),s}}var v=p();n(7861),n(6214);var m={notify:function(){},get:function(){return[]}};function g(e,t){var n,r=m;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=m)},getListeners:function(){return r}};return o}var y=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?u.useLayoutEffect:u.useEffect;var b=function(e){var t=e.store,n=e.context,r=e.children,i=e.serverState,a=(0,u.useMemo)((function(){var e=g(t);return{store:t,subscription:e,getServerState:i?function(){return i}:void 0}}),[t,i]),o=(0,u.useMemo)((function(){return t.getState()}),[t]);y((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,o]);var s=n||l;return u.createElement(s.Provider,{value:a},r)};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e===l?c:function(){return(0,u.useContext)(e)};return function(){return t().store}}var _=x();function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e===l?_:x(e);return function(){return t().dispatch}}var k,E,T=w();k=i.useSyncExternalStoreWithSelector,f=k,function(e){e}(r.useSyncExternalStore),E=a.unstable_batchedUpdates,o=E},5918:function(e,t,n){"use strict";var r=n(7313),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},306:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=b.prototype=new y;x.constructor=b,v(x,g.prototype),x.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+M(u,0):a,_(o)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",_(e))for(var l=0;l<e.length;l++){var c=a+M(s=e[l],l);u+=P(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,c=a+M(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},7313:function(e,t,n){"use strict";e.exports=n(306)},6417:function(e,t,n){"use strict";e.exports=n(5918)},3095:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function _(e){if(m=!1,x(e),!v)if(null!==r(l))v=!0,O(w);else{var t=r(c);null!==t&&L(_,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(S),S=-1),p=!0;var a=d;try{for(x(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!P());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),x(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&L(_,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,T=null,S=-1,A=5,M=-1;function P(){return!(t.unstable_now()-M<A)}function C(){if(null!==T){var e=t.unstable_now();M=e;var n=!0;try{n=T(!0,e)}finally{n?k():(E=!1,T=null)}}else E=!1}if("function"===typeof b)k=function(){b(C)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,R=I.port2;I.port1.onmessage=C,k=function(){R.postMessage(null)}}else k=function(){g(C,0)};function O(e){T=e,E||(E=!0,k())}function L(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(S),S=-1):m=!0,L(_,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},2224:function(e,t,n){"use strict";e.exports=n(3095)},6036:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n.g&&n.g;a.global!==a&&a.window!==a&&a.self;var o,s=2147483647,u=36,l=1,c=26,h=38,f=700,d=72,p=128,v="-",m=/^xn--/,g=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=u-l,_=Math.floor,w=String.fromCharCode;function k(e){throw RangeError(b[e])}function E(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function T(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+E((e=e.replace(y,".")).split("."),t).join(".")}function S(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function A(e){return E(e,(function(e){var t="";return e>65535&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=w(e)})).join("")}function M(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,n){var r=0;for(e=n?_(e/f):e>>1,e+=_(e/t);e>x*c>>1;r+=u)e=_(e/x);return _(r+(x+1)*e/(e+h))}function C(e){var t,n,r,i,a,o,h,f,m,g,y,b=[],x=e.length,w=0,E=p,T=d;for((n=e.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&k("not-basic"),b.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<x;){for(a=w,o=1,h=u;i>=x&&k("invalid-input"),((f=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||f>_((s-w)/o))&&k("overflow"),w+=f*o,!(f<(m=h<=T?l:h>=T+c?c:h-T));h+=u)o>_(s/(g=u-m))&&k("overflow"),o*=g;T=P(w-a,t=b.length+1,0==a),_(w/t)>s-E&&k("overflow"),E+=_(w/t),w%=t,b.splice(w++,0,E)}return A(b)}function I(e){var t,n,r,i,a,o,h,f,m,g,y,b,x,E,T,A=[];for(b=(e=S(e)).length,t=p,n=0,a=d,o=0;o<b;++o)(y=e[o])<128&&A.push(w(y));for(r=i=A.length,i&&A.push(v);r<b;){for(h=s,o=0;o<b;++o)(y=e[o])>=t&&y<h&&(h=y);for(h-t>_((s-n)/(x=r+1))&&k("overflow"),n+=(h-t)*x,t=h,o=0;o<b;++o)if((y=e[o])<t&&++n>s&&k("overflow"),y==t){for(f=n,m=u;!(f<(g=m<=a?l:m>=a+c?c:m-a));m+=u)T=f-g,E=u-g,A.push(w(M(g+T%E,0))),f=_(T/E);A.push(w(M(f,0))),a=P(n,x,r==i),n=0,++r}++n,++t}return A.join("")}o={version:"1.3.2",ucs2:{decode:S,encode:A},decode:C,encode:I,toASCII:function(e){return T(e,(function(e){return g.test(e)?"xn--"+I(e):e}))},toUnicode:function(e){return T(e,(function(e){return m.test(e)?C(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},2770:function(e,t,n){"use strict";var r=n(6036),i=n(4070);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=b,t.DB=function(e,t){return b(e,!1,!0).resolve(t)},t.WU=function(e){i.isString(e)&&(e=b(e));return e instanceof a?e.format():a.prototype.format.call(e)};var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),h=["%","/","?",";","#"].concat(c),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(2902);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof a)return e;var r=new a;return r.parse(e,t,n),r}a.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",l=e.split(s);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var x=u.exec(b);if(x)return this.path=b,this.href=b,this.pathname=x[1],x[2]?(this.search=x[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=o.exec(b);if(_){var w=(_=_[0]).toLowerCase();this.protocol=w,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===b.substr(0,2);!k||_&&m[_]||(b=b.substr(2),this.slashes=!0)}if(!m[_]&&(k||_&&!g[_])){for(var E,T,S=-1,A=0;A<f.length;A++){-1!==(M=b.indexOf(f[A]))&&(-1===S||M<S)&&(S=M)}-1!==(T=-1===S?b.lastIndexOf("@"):b.lastIndexOf("@",S))&&(E=b.slice(0,T),b=b.slice(T+1),this.auth=decodeURIComponent(E)),S=-1;for(A=0;A<h.length;A++){var M;-1!==(M=b.indexOf(h[A]))&&(-1===S||M<S)&&(S=M)}-1===S&&(S=b.length),this.host=b.slice(0,S),b=b.slice(S),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var C=this.hostname.split(/\./),I=(A=0,C.length);A<I;A++){var R=C[A];if(R&&!R.match(d)){for(var O="",L=0,N=R.length;L<N;L++)R.charCodeAt(L)>127?O+="x":O+=R[L];if(!O.match(d)){var B=C.slice(0,A),D=C.slice(A+1),F=R.match(p);F&&(B.push(F[1]),D.unshift(F[2])),D.length&&(b="/"+D.join(".")+b),this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var Z=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+Z,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[w])for(A=0,I=c.length;A<I;A++){var j=c[A];if(-1!==b.indexOf(j)){var U=encodeURIComponent(j);U===j&&(U=escape(j)),b=b.split(j).join(U)}}var Y=b.indexOf("#");-1!==Y&&(this.hash=b.substr(Y),b=b.slice(0,Y));var X=b.indexOf("?");if(-1!==X?(this.search=b.substr(X),this.query=b.substr(X+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,X)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Z=this.pathname||"";var G=this.search||"";this.path=Z+G}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},a.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(n[c]=e[c])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var d=h[f];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",y=n.search||"";n.path=v+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),x=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=x||b||n.host&&e.pathname,w=_,k=n.pathname&&n.pathname.split("/")||[],E=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),_=_&&(""===p[0]||""===k[0])),x)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,k=p;else if(p.length)k||(k=[]),k.pop(),k=k.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(E)n.hostname=n.host=k.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!k.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=k.slice(-1)[0],S=(n.host||e.host||k.length>1)&&("."===T||".."===T)||""===T,A=0,M=k.length;M>=0;M--)"."===(T=k[M])?k.splice(M,1):".."===T?(k.splice(M,1),A++):A&&(k.splice(M,1),A--);if(!_&&!w)for(;A--;A)k.unshift("..");!_||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),S&&"/"!==k.join("/").substr(-1)&&k.push("");var P,C=""===k[0]||k[0]&&"/"===k[0].charAt(0);E&&(n.hostname=n.host=C?"":k.length?k.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(_=_||n.host&&k.length)&&!C&&k.unshift(""),k.length?n.pathname=k.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},4070:function(e){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},1531:function(e,t,n){"use strict";var r=n(7313);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})}),[e,n,t]),o((function(){return l(i)&&c({inst:i}),e((function(){l(i)&&c({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},5531:function(e,t,n){"use strict";var r=n(7313),i=n(1239);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=s(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=l((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var d=o(e,h[0],h[1]);return u((function(){f.hasValue=!0,f.value=d}),[d]),c(d),d}},1239:function(e,t,n){"use strict";e.exports=n(1531)},7058:function(e,t,n){"use strict";e.exports=n(5531)},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},9388:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120),i=n(8814),a=n(2963);function o(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1120);function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},i.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},4925:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1002),i=n(7326);function a(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(C){c=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),s=new A(r||[]);return a(o,"_invoke",{value:k(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=h;var d={};function p(){}function v(){}function m(){}var g={};c(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(M([])));b&&b!==t&&n.call(b,s)&&(g=b);var x=m.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(a,o,s,u){var l=f(e[a],e,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==(0,r.Z)(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,u)}))}u(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function M(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=m,a(x,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:v,configurable:!0}),v.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(w.prototype),c(w.prototype,u,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(h(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),c(x,l,"Generator"),c(x,s,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=M,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},5162:function(e,t,n){"use strict";n.d(t,{de:function(){return z},Q2:function(){return _},gN:function(){return p},uz:function(){return te},cU:function(){return D}});var r=n(9439),i=n(172),a={loader:i.nw.LoadParser,resolver:i.nw.ResolveParser,cache:i.nw.CacheParser,detection:i.nw.DetectionParser};i.Rw.handle(i.nw.Asset,(function(e){var t=e.ref;Object.entries(a).filter((function(e){var n=(0,r.Z)(e,1)[0];return!!t[n]})).forEach((function(e){var n,a=(0,r.Z)(e,2),o=a[0],s=a[1];return i.Rw.add(Object.assign(t[o],{extension:null!==(n=t[o].extension)&&void 0!==n?n:s}))}))}),(function(e){var t=e.ref;Object.keys(a).filter((function(e){return!!t[e]})).forEach((function(e){return i.Rw.remove(t[e])}))}));var o=n(3433),s=n(4165),u=n(7762),l=n(5861),c=n(5671),h=n(3144),f=n(8060),d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,c.Z)(this,e),this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}return(0,h.Z)(e,[{key:"add",value:function(e){var t=this;e.forEach((function(e){t._assetList.push(e)})),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}},{key:"_next",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._assetList.length||!this._isActive){e.next=9;break}for(this._isLoading=!0,t=[],n=Math.min(this._assetList.length,this._maxConcurrent),r=0;r<n;r++)t.push(this._assetList.pop());return e.next=7,this._loader.load(t);case 7:this._isLoading=!1,this._next();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"active",get:function(){return this._isActive},set:function(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}]),e}();function p(e,t){var n=e.split("?")[0],r=i.P6.path.extname(n).toLowerCase();return Array.isArray(t)?t.includes(r):r===t}var v=function(e,t){return Array.isArray(e)||(e=[e]),t?e.map((function(e){return"string"===typeof e?t(e):e})):e},m=new(function(){function e(){(0,c.Z)(this,e),this._parsers=[],this._cache=new Map,this._cacheMap=new Map}return(0,h.Z)(e,[{key:"reset",value:function(){this._cacheMap.clear(),this._cache.clear()}},{key:"has",value:function(e){return this._cache.has(e)}},{key:"get",value:function(e){var t=this._cache.get(e);return t||console.warn("[Assets] Asset id ".concat(e," was not found in the Cache")),t}},{key:"set",value:function(e,t){for(var n,r=this,a=v(e),o=0;o<this.parsers.length;o++){var s=this.parsers[o];if(s.test(t)){n=s.getCacheableAssets(a,t);break}}n||(n={},a.forEach((function(e){n[e]=t})));var u=Object.keys(n),l={cacheKeys:u,keys:a};if(a.forEach((function(e){r._cacheMap.set(e,l)})),u.forEach((function(e){r._cache.has(e)&&r._cache.get(e)!==t&&console.warn("[Cache] already has key:",e),r._cache.set(e,n[e])})),t instanceof i.xE){var c=t;a.forEach((function(e){c.baseTexture!==i.xE.EMPTY.baseTexture&&i.VL.addToCache(c.baseTexture,e),i.xE.addToCache(c,e)}))}}},{key:"remove",value:function(e){var t=this;if(this._cacheMap.get(e),this._cacheMap.has(e)){var n=this._cacheMap.get(e);n.cacheKeys.forEach((function(e){t._cache.delete(e)})),n.keys.forEach((function(e){t._cacheMap.delete(e)}))}else console.warn("[Assets] Asset id ".concat(e," was not found in the Cache"))}},{key:"parsers",get:function(){return this._parsers}}]),e}()),g=n(4942),y=n(1413),b=function(e){return!Array.isArray(e)},x=function(){function e(){var t=this;(0,c.Z)(this,e),this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:function(e,n,r){return t._parsersValidated=!1,e[n]=r,!0}}),this.promiseCache={}}return(0,h.Z)(e,[{key:"reset",value:function(){this._parsersValidated=!1,this.promiseCache={}}},{key:"_getLoadPromiseAndParser",value:function(e,t){var n=this,r={promise:null,parser:null};return r.promise=(0,l.Z)((0,s.Z)().mark((function i(){var a,o,u,l,c,h,f,d;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=null,o=null,t.loadParser&&((o=n._parserHash[t.loadParser])||console.warn('[Assets] specified load parser "'.concat(t.loadParser,'" not found while loading ').concat(e))),o){i.next=16;break}u=0;case 5:if(!(u<n.parsers.length)){i.next=13;break}if(!(c=n.parsers[u]).load||null===(l=c.test)||void 0===l||!l.call(c,e,t,n)){i.next=10;break}return o=c,i.abrupt("break",13);case 10:u++,i.next=5;break;case 13:if(o){i.next=16;break}return console.warn("[Assets] ".concat(e," could not be loaded as we don't know how to parse it, ensure the correct parser has been added")),i.abrupt("return",null);case 16:return i.next=18,o.load(e,t,n);case 18:a=i.sent,r.parser=o,h=0;case 21:if(!(h<n.parsers.length)){i.next=40;break}if(!(f=n.parsers[h]).parse){i.next=37;break}if(i.t0=f.parse,!i.t0){i.next=29;break}return i.next=28,null===(d=f.testParse)||void 0===d?void 0:d.call(f,a,t,n);case 28:i.t0=i.sent;case 29:if(!i.t0){i.next=37;break}return i.next=32,f.parse(a,t,n);case 32:if(i.t1=i.sent,i.t1){i.next=35;break}i.t1=a;case 35:a=i.t1,r.parser=f;case 37:h++,i.next=21;break;case 40:return i.abrupt("return",a);case 41:case"end":return i.stop()}}),i)})))(),r}},{key:"load",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,a,o,u,c,h,f=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._parsersValidated||this._validateParsers(),r=0,a={},o=b(t),u=v(t,(function(e){return{src:e}})),c=u.length,h=u.map(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.P6.path.toAbsolute(t.src),a[t.src]){e.next=15;break}return e.prev=2,f.promiseCache[o]||(f.promiseCache[o]=f._getLoadPromiseAndParser(o,t)),e.next=6,f.promiseCache[o].promise;case 6:a[t.src]=e.sent,n&&n(++r/c),e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(2),delete f.promiseCache[o],delete a[t.src],new Error("[Loader.load] Failed to load ".concat(o,".\n").concat(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Promise.all(h);case 9:return e.abrupt("return",o?a[u[0].src]:a);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unload",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,a=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v(t,(function(e){return{src:e}})),r=n.map(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,o,u,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.P6.path.toAbsolute(t.src),!(r=a.promiseCache[n])){e.next=8;break}return e.next=5,r.promise;case 5:l=e.sent,null===(o=r.parser)||void 0===o||null===(u=o.unload)||void 0===u||u.call(o,l,t,a),delete a.promiseCache[n];case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_validateParsers",value:function(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]&&console.warn('[Assets] loadParser name conflict "'.concat(t.name,'"')),(0,y.Z)((0,y.Z)({},e),{},(0,g.Z)({},t.name,t))}),{})}}]),e}(),_=function(e){return e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e}(_||{});function w(e,t){if(Array.isArray(t)){var n,r=(0,u.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e.startsWith("data:".concat(i)))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}return e.startsWith("data:".concat(t))}var k={extension:{type:i.nw.LoadParser,priority:_.Low},name:"loadJson",test:function(e){return w(e,"application/json")||p(e,".json")},load:function(e){return(0,l.Z)((0,s.Z)().mark((function t(){var n,r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Xd.ADAPTER.fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))()}};i.Rw.add(k);var E={name:"loadTxt",extension:{type:i.nw.LoadParser,priority:_.Low},test:function(e){return w(e,"text/plain")||p(e,".txt")},load:function(e){return(0,l.Z)((0,s.Z)().mark((function t(){var n,r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Xd.ADAPTER.fetch(e);case 2:return n=t.sent,t.next=5,n.text();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))()}};i.Rw.add(E);var T=["normal","bold","100","200","300","400","500","600","700","800","900"],S=[".ttf",".otf",".woff",".woff2"],A=["font/ttf","font/otf","font/woff","font/woff2"];function M(e){var t=i.P6.path.extname(e);return i.P6.path.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}var P={extension:{type:i.nw.LoadParser,priority:_.Low},name:"loadWebFont",test:function(e){return w(e,A)||p(e,S)},load:function(e,t){return(0,l.Z)((0,s.Z)().mark((function n(){var r,a,o,u,l,c,h,f,d,p,v,m,g,b;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=i.Xd.ADAPTER.getFontFaceSet())){n.next=18;break}f=[],d=null!==(a=null===(o=t.data)||void 0===o?void 0:o.family)&&void 0!==a?a:M(e),p=null!==(u=null===(l=t.data)||void 0===l||null===(c=l.weights)||void 0===c?void 0:c.filter((function(e){return T.includes(e)})))&&void 0!==u?u:["normal"],v=null!==(h=t.data)&&void 0!==h?h:{},m=0;case 7:if(!(m<p.length)){n.next=17;break}return g=p[m],b=new FontFace(d,"url(".concat(encodeURI(e),")"),(0,y.Z)((0,y.Z)({},v),{},{weight:g})),n.next=12,b.load();case 12:r.add(b),f.push(b);case 14:m++,n.next=7;break;case 17:return n.abrupt("return",1===f.length?f[0]:f);case 18:return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),n.abrupt("return",null);case 20:case"end":return n.stop()}}),n)})))()},unload:function(e){(Array.isArray(e)?e:[e]).forEach((function(e){return i.Xd.ADAPTER.getFontFaceSet().delete(e)}))}};i.Rw.add(P);var C,I,R=0,O={id:"checkImageBitmap",code:"\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=","');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    ")},L="\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };",N=function(){function e(){(0,c.Z)(this,e),this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}return(0,h.Z)(e,[{key:"isImageBitmapSupported",value:function(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise((function(e){var t=URL.createObjectURL(new Blob([O.code],{type:"application/javascript"})),n=new Worker(t);n.addEventListener("message",(function(r){n.terminate(),URL.revokeObjectURL(t),e(r.data)}))}))),this._isImageBitmapSupported}},{key:"loadImageBitmap",value:function(e){return this._run("loadImageBitmap",[e])}},{key:"_initWorkers",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._initialized){e.next=2;break}return e.abrupt("return");case 2:this._initialized=!0;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWorker",value:function(){var e=this;void 0===C&&(C=navigator.hardwareConcurrency||4);var t=this.workerPool.pop();return!t&&this._createdWorkers<C&&(I||(I=URL.createObjectURL(new Blob([L],{type:"application/javascript"}))),this._createdWorkers++,(t=new Worker(I)).addEventListener("message",(function(t){e.complete(t.data),e.returnWorker(t.target),e.next()}))),t}},{key:"returnWorker",value:function(e){this.workerPool.push(e)}},{key:"complete",value:function(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}},{key:"_run",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initWorkers();case 2:return r=new Promise((function(e,r){i.queue.push({id:t,arguments:n,resolve:e,reject:r})})),this.next(),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"next",value:function(){if(this.queue.length){var e=this.getWorker();if(e){var t=this.queue.pop(),n=t.id;this.resolveHash[R]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:R++,id:n})}}}}]),e}(),B=new N;function D(e,t,n){var r=new i.xE(e);return r.baseTexture.on("dispose",(function(){delete t.promiseCache[n]})),r}var F=[".jpeg",".jpg",".png",".webp",".avif"],Z=["image/jpeg","image/png","image/webp","image/avif"];function V(e){return j.apply(this,arguments)}function j(){return(j=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Xd.ADAPTER.fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("[loadImageBitmap] Failed to fetch ".concat(t,": ").concat(n.status," ").concat(n.statusText));case 5:return e.next=7,n.blob();case 7:return r=e.sent,e.next=10,createImageBitmap(r);case 10:return a=e.sent,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U={name:"loadTextures",extension:{type:i.nw.LoadParser,priority:_.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:function(e){return w(e,Z)||p(e,F)},load:function(e,t,n){var r=this;return(0,l.Z)((0,s.Z)().mark((function a(){var o,u;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=null,!globalThis.createImageBitmap||!r.config.preferCreateImageBitmap){a.next=18;break}if(a.t0=r.config.preferWorkers,!a.t0){a.next=7;break}return a.next=6,B.isImageBitmapSupported();case 6:a.t0=a.sent;case 7:if(!a.t0){a.next=13;break}return a.next=10,B.loadImageBitmap(e);case 10:o=a.sent,a.next=16;break;case 13:return a.next=15,V(e);case 15:o=a.sent;case 16:a.next=21;break;case 18:return a.next=20,new Promise((function(t){(o=new Image).crossOrigin=r.config.crossOrigin,o.src=e,o.complete?t(o):o.onload=function(){t(o)}}));case 20:o=a.sent;case 21:return(u=new i.VL(o,(0,y.Z)({resolution:i.P6.getResolutionOfUrl(e)},t.data))).resource.src=e,a.abrupt("return",D(u,n,e));case 24:case"end":return a.stop()}}),a)})))()},unload:function(e){e.destroy(!0)}};i.Rw.add(U);var Y={extension:{type:i.nw.LoadParser,priority:_.High},name:"loadSVG",test:function(e){return w(e,"image/svg+xml")||p(e,".svg")},testParse:function(e){return(0,l.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.pX.test(e));case 1:case"end":return t.stop()}}),t)})))()},parse:function(e,t,n){return(0,l.Z)((0,s.Z)().mark((function r(){var a,o,u,l,c,h;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l=new i.pX(e,null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.resourceOptions),(c=new i.VL(l,(0,y.Z)({resolution:i.P6.getResolutionOfUrl(e)},null===t||void 0===t?void 0:t.data))).resource.src=e,h=D(c,n,e),null!==t&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&null!==(u=o.resourceOptions)&&void 0!==u&&u.autoLoad){r.next=7;break}return r.next=7,l.load();case 7:return r.abrupt("return",h);case 8:case"end":return r.stop()}}),r)})))()},load:function(e,t){return(0,l.Z)((0,s.Z)().mark((function t(){var n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Xd.ADAPTER.fetch(e);case 2:return n=t.sent,t.abrupt("return",n.text());case 4:case"end":return t.stop()}}),t)})))()},unload:U.unload};function X(e,t,n,r,i){for(var a=t[n],o=0;o<a.length;o++){var s=a[o];n<t.length-1?X(e.replace(r[n],s),t,n+1,r,i):i.push(e.replace(r[n],s))}}function G(e){var t=e.match(/\{(.*?)\}/g),n=[];if(t){var r=[];t.forEach((function(e){var t=e.substring(1,e.length-1).split(",");r.push(t)})),X(e,r,0,t,n)}else n.push(e);return n}i.Rw.add(Y);var W=function(){function e(){var t=this;(0,c.Z)(this,e),this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:function(e,n){return"".concat(e).concat(t._bundleIdConnector).concat(n)},extractAssetIdFromBundle:function(e,n){return n.replace("".concat(e).concat(t._bundleIdConnector),"")}},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}return(0,h.Z)(e,[{key:"setBundleIdentifier",value:function(e){var t,n,r;if(this._bundleIdConnector=null!==(t=e.connector)&&void 0!==t?t:this._bundleIdConnector,this._createBundleAssetId=null!==(n=e.createBundleAssetId)&&void 0!==n?n:this._createBundleAssetId,this._extractAssetIdFromBundle=null!==(r=e.extractAssetIdFromBundle)&&void 0!==r?r:this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}},{key:"prefer",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))})),this._resolverHash={}}},{key:"basePath",get:function(){return this._basePath},set:function(e){this._basePath=e}},{key:"rootPath",get:function(){return this._rootPath},set:function(e){this._rootPath=e}},{key:"parsers",get:function(){return this._parsers}},{key:"reset",value:function(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}},{key:"setDefaultSearchParams",value:function(e){if("string"===typeof e)this._defaultSearchParams=e;else{var t=e;this._defaultSearchParams=Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&")}}},{key:"addManifest",value:function(e){var t=this;this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach((function(e){t.addBundle(e.name,e.assets)}))}},{key:"addBundle",value:function(e,t){var n=this,r=[];Array.isArray(t)?t.forEach((function(t){if("string"===typeof t.name){var i=n._createBundleAssetId(e,t.name);r.push(i),n.add([t.name,i],t.srcs,t.data)}else{var a=t.name.map((function(t){return n._createBundleAssetId(e,t)}));a.forEach((function(e){r.push(e)})),n.add([].concat((0,o.Z)(t.name),(0,o.Z)(a)),t.srcs)}})):Object.keys(t).forEach((function(i){r.push(n._createBundleAssetId(e,i)),n.add([i,n._createBundleAssetId(e,i)],t[i])})),this._bundles[e]=r}},{key:"add",value:function(e,t,n){var r=this,a=v(e);a.forEach((function(e){r.hasKey(e)&&console.warn("[Resolver] already has key: ".concat(e," overwriting"))})),Array.isArray(t)||(t="string"===typeof t?G(t):[t]);var o=t.map((function(e){var t,o=e;if("string"===typeof e){for(var s=!1,u=0;u<r._parsers.length;u++){var l=r._parsers[u];if(l.test(e)){o=l.parse(e),s=!0;break}}s||(o={src:e})}return o.format||(o.format=o.src.split(".").pop()),o.alias||(o.alias=a),(r._basePath||r._rootPath)&&(o.src=i.P6.path.toAbsolute(o.src,r._basePath,r._rootPath)),o.src=r._appendDefaultSearchParams(o.src),o.data=null!==(t=o.data)&&void 0!==t?t:n,o}));a.forEach((function(e){r._assetMap[e]=o}))}},{key:"resolveBundle",value:function(e){var t=this,n=b(e);e=v(e);var r={};return e.forEach((function(e){var n=t._bundles[e];if(n){var i=t.resolve(n),a={};for(var o in i){var s=i[o];a[t._extractAssetIdFromBundle(e,o)]=s}r[e]=a}})),n?r[e[0]]:r}},{key:"resolveUrl",value:function(e){var t=this.resolve(e);if("string"!==typeof e){var n={};for(var r in t)n[r]=t[r].src;return n}return t.src}},{key:"resolve",value:function(e){var t=this,n=b(e);e=v(e);var r={};return e.forEach((function(e){if(!t._resolverHash[e])if(t._assetMap[e]){var n,a=t._assetMap[e],o=t._getPreferredOrder(a),s=a[0];null===o||void 0===o||o.priority.forEach((function(e){o.params[e].forEach((function(t){var n=a.filter((function(n){return!!n[e]&&n[e]===t}));n.length&&(a=n)}))})),t._resolverHash[e]=null!==(n=a[0])&&void 0!==n?n:s}else{var u=e;(t._basePath||t._rootPath)&&(u=i.P6.path.toAbsolute(u,t._basePath,t._rootPath)),u=t._appendDefaultSearchParams(u),t._resolverHash[e]={src:u}}r[e]=t._resolverHash[e]})),n?r[e[0]]:r}},{key:"hasKey",value:function(e){return!!this._assetMap[e]}},{key:"hasBundle",value:function(e){return!!this._bundles[e]}},{key:"_getPreferredOrder",value:function(e){for(var t=this,n=function(){var n=e[0],r=t._preferredOrder.find((function(e){return e.params.format.includes(n.format)}));if(r)return{v:r}},r=0;r<e.length;r++){var i=n();if("object"===typeof i)return i.v}return this._preferredOrder[0]}},{key:"_appendDefaultSearchParams",value:function(e){if(!this._defaultSearchParams)return e;var t=/\?/.test(e)?"&":"?";return"".concat(e).concat(t).concat(this._defaultSearchParams)}}]),e}(),H=function(){function e(){(0,c.Z)(this,e),this._detections=[],this._initialized=!1,this.resolver=new W,this.loader=new x,this.cache=m,this._backgroundLoader=new d(this.loader),this._backgroundLoader.active=!0,this.reset()}return(0,h.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n,r,i,a,o,l,c,h,f,d,p,v,m,g,y,b=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=b.length>0&&void 0!==b[0]?b[0]:{},!this._initialized){e.next=4;break}return console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?"),e.abrupt("return");case 4:if(this._initialized=!0,i.defaultSearchParams&&this.resolver.setDefaultSearchParams(i.defaultSearchParams),i.basePath&&(this.resolver.basePath=i.basePath),i.bundleIdentifier&&this.resolver.setBundleIdentifier(i.bundleIdentifier),!i.manifest){e.next=15;break}if("string"!==typeof(a=i.manifest)){e.next=14;break}return e.next=13,this.load(a);case 13:a=e.sent;case 14:this.resolver.addManifest(a);case 15:if(o=null!==(t=null===(n=i.texturePreference)||void 0===n?void 0:n.resolution)&&void 0!==t?t:1,l="number"===typeof o?[o]:o,c=[],null===(r=i.texturePreference)||void 0===r||!r.format){e.next=44;break}f=null===(h=i.texturePreference)||void 0===h?void 0:h.format,c="string"===typeof f?[f]:f,d=(0,u.Z)(this._detections),e.prev=22,d.s();case 24:if((p=d.n()).done){e.next=34;break}return v=p.value,e.next=28,v.test();case 28:if(e.sent){e.next=32;break}return e.next=31,v.remove(c);case 31:c=e.sent;case 32:e.next=24;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(22),d.e(e.t0);case 39:return e.prev=39,d.f(),e.finish(39);case 42:e.next=65;break;case 44:m=(0,u.Z)(this._detections),e.prev=45,m.s();case 47:if((g=m.n()).done){e.next=57;break}return y=g.value,e.next=51,y.test();case 51:if(!e.sent){e.next=55;break}return e.next=54,y.add(c);case 54:c=e.sent;case 55:e.next=47;break;case 57:e.next=62;break;case 59:e.prev=59,e.t1=e.catch(45),m.e(e.t1);case 62:return e.prev=62,m.f(),e.finish(62);case 65:this.resolver.prefer({params:{format:c,resolution:l}}),i.preferences&&this.setPreferences(i.preferences);case 67:case"end":return e.stop()}}),e,this,[[22,36,39,42],[45,59,62,65]])})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(e,t,n){this.resolver.add(e,t,n)}},{key:"load",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,a,o,u=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:return r=b(t),i=v(t).map((function(e){return"string"!==typeof e?(u.resolver.add(e.src,e),e.src):(u.resolver.hasKey(e)||u.resolver.add(e,e),e)})),a=this.resolver.resolve(i),e.next=8,this._mapLoadToResolve(a,n);case 8:return o=e.sent,e.abrupt("return",r?o[i[0]]:o);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addBundle",value:function(e,t){this.resolver.addBundle(e,t)}},{key:"loadBundle",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,a,o,u,l,c,h,f=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:return r=!1,"string"===typeof t&&(r=!0,t=[t]),i=this.resolver.resolveBundle(t),a={},o=Object.keys(i),u=0,l=0,c=function(){null===n||void 0===n||n(++u/l)},h=o.map((function(e){var t=i[e];return l+=Object.keys(t).length,f._mapLoadToResolve(t,c).then((function(t){a[e]=t}))})),e.next=14,Promise.all(h);case 14:return e.abrupt("return",r?a[t[0]]:a);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"backgroundLoad",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:"string"===typeof t&&(t=[t]),n=this.resolver.resolve(t),this._backgroundLoader.add(Object.values(n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"backgroundLoadBundle",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:"string"===typeof t&&(t=[t]),n=this.resolver.resolveBundle(t),Object.values(n).forEach((function(e){r._backgroundLoader.add(Object.values(e))}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}},{key:"get",value:function(e){if("string"===typeof e)return m.get(e);for(var t={},n=0;n<e.length;n++)t[n]=m.get(e[n]);return t}},{key:"_mapLoadToResolve",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,a,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.values(t),i=Object.keys(t),this._backgroundLoader.active=!1,e.next=5,this.loader.load(r,n);case 5:return a=e.sent,this._backgroundLoader.active=!0,u={},r.forEach((function(e,t){var n=a[e.src],r=[e.src];e.alias&&r.push.apply(r,(0,o.Z)(e.alias)),u[i[t]]=n,m.set(r,n)})),e.abrupt("return",u);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unload",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:return n=v(t).map((function(e){return"string"!==typeof e?e.src:e})),r=this.resolver.resolve(n),e.next=7,this._unloadFromResolved(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unloadBundle",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=3;break}return e.next=3,this.init();case 3:return t=v(t),n=this.resolver.resolveBundle(t),r=Object.keys(n).map((function(e){return i._unloadFromResolved(n[e])})),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_unloadFromResolved",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object.values(t)).forEach((function(e){m.remove(e.src)})),e.next=4,this.loader.unload(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"detections",get:function(){return this._detections}},{key:"preferWorkers",get:function(){return U.config.preferWorkers},set:function(e){(0,f.deprecation)("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}},{key:"setPreferences",value:function(e){this.loader.parsers.forEach((function(t){t.config&&Object.keys(t.config).filter((function(t){return t in e})).forEach((function(n){t.config[n]=e[n]}))}))}}]),e}(),z=new H;i.Rw.handleByList(i.nw.LoadParser,z.loader.parsers).handleByList(i.nw.ResolveParser,z.resolver.parsers).handleByList(i.nw.CacheParser,z.cache.parsers).handleByList(i.nw.DetectionParser,z.detections);var q={extension:i.nw.CacheParser,test:function(e){return Array.isArray(e)&&e.every((function(e){return e instanceof i.xE}))},getCacheableAssets:function(e,t){var n={};return e.forEach((function(e){t.forEach((function(t,r){n[e+(0===r?"":r+1)]=t}))})),n}};i.Rw.add(q);var $={extension:{type:i.nw.DetectionParser,priority:1},test:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(globalThis.createImageBitmap){e.next=2;break}return e.abrupt("return",!1);case 2:return"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e.next=5,i.Xd.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then((function(e){return e.blob()}));case 5:return t=e.sent,e.abrupt("return",createImageBitmap(t).then((function(){return!0}),(function(){return!1})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat((0,o.Z)(t),["avif"]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return"avif"!==e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};i.Rw.add($);var K={extension:{type:i.nw.DetectionParser,priority:0},test:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(globalThis.createImageBitmap){e.next=2;break}return e.abrupt("return",!1);case 2:return"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e.next=5,i.Xd.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then((function(e){return e.blob()}));case 5:return t=e.sent,e.abrupt("return",createImageBitmap(t).then((function(){return!0}),(function(){return!1})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat((0,o.Z)(t),["webp"]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return"webp"!==e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};i.Rw.add(K);var J=["png","jpg","jpeg"],Q={extension:{type:i.nw.DetectionParser,priority:-1},test:function(){return Promise.resolve(!0)},add:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat((0,o.Z)(t),J));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return!J.includes(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};i.Rw.add(Q);var ee={extension:i.nw.ResolveParser,test:U.test,parse:function(e){var t,n;return{resolution:parseFloat(null!==(t=null===(n=i.Xd.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:e.split(".").pop(),src:e}}};i.Rw.add(ee);var te=function(e,t){var n=t.split("?")[1];return n&&(e+="?".concat(n)),e}},2050:function(e,t,n){"use strict";n.d(t,{I:function(){return B}});var r=n(9439),i=n(1413),a=n(5671),o=n(3144),s={grad:.9,turn:360,rad:360/(2*Math.PI)},u=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},l=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},c=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},h=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},f=function(e){return{r:c(e.r,0,255),g:c(e.g,0,255),b:c(e.b,0,255),a:c(e.a)}},d=function(e){return{r:l(e.r),g:l(e.g),b:l(e.b),a:l(e.a,3)}},p=/^#([0-9a-f]{3,8})$/i,v=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},m=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),o=a-Math.min(t,n,r),s=o?a===t?(n-r)/o:a===n?2+(r-t)/o:4+(t-n)/o:0;return{h:60*(s<0?s+6:s),s:a?o/a*100:0,v:a/255*100,a:i}},g=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),o=r*(1-n),s=r*(1-(t-a)*n),u=r*(1-(1-t+a)*n),l=a%6;return{r:255*[r,s,o,o,u,r][l],g:255*[u,r,r,s,o,o][l],b:255*[o,o,u,r,r,s][l],a:i}},y=function(e){return{h:h(e.h),s:c(e.s,0,100),l:c(e.l,0,100),a:c(e.a)}},b=function(e){return{h:l(e.h),s:l(e.s),l:l(e.l),a:l(e.a,3)}},x=function(e){return g((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},_=function(e){return{h:(t=m(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},w=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,k=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,E=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,T=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,S={string:[[function(e){var t=p.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?l(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?l(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=E.exec(e)||T.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:f({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=w.exec(e)||k.exec(e);if(!t)return null;var n,r,i=y({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(s[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return x(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=void 0===i?1:i;return u(t)&&u(n)&&u(r)?f({r:Number(t),g:Number(n),b:Number(r),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,a=void 0===i?1:i;if(!u(t)||!u(n)||!u(r))return null;var o=y({h:Number(t),s:Number(n),l:Number(r),a:Number(a)});return x(o)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,a=void 0===i?1:i;if(!u(t)||!u(n)||!u(r))return null;var o=function(e){return{h:h(e.h),s:c(e.s,0,100),v:c(e.v,0,100),a:c(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(a)});return g(o)},"hsv"]]},A=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},M=function(e){return"string"==typeof e?A(e.trim(),S.string):"object"==typeof e&&null!==e?A(e,S.object):[null,void 0]},P=function(e,t){var n=_(e);return{h:n.h,s:c(n.s+100*t,0,100),l:n.l,a:n.a}},C=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},I=function(e,t){var n=_(e);return{h:n.h,s:n.s,l:c(n.l+100*t,0,100),a:n.a}},R=function(){function e(e){this.parsed=M(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return l(C(this.rgba),2)},e.prototype.isDark=function(){return C(this.rgba)<.5},e.prototype.isLight=function(){return C(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=d(this.rgba)).r,n=e.g,r=e.b,a=(i=e.a)<1?v(l(255*i)):"","#"+v(t)+v(n)+v(r)+a;var e,t,n,r,i,a},e.prototype.toRgb=function(){return d(this.rgba)},e.prototype.toRgbString=function(){return t=(e=d(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,i},e.prototype.toHsl=function(){return b(_(this.rgba))},e.prototype.toHslString=function(){return t=(e=b(_(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,i},e.prototype.toHsv=function(){return e=m(this.rgba),{h:l(e.h),s:l(e.s),v:l(e.v),a:l(e.a,3)};var e},e.prototype.invert=function(){return O({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),O(P(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),O(P(this.rgba,-e))},e.prototype.grayscale=function(){return O(P(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),O(I(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),O(I(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?O({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):l(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=_(this.rgba);return"number"==typeof e?O({h:e,s:t.s,l:t.l,a:t.a}):l(t.h)},e.prototype.isEqual=function(e){return this.toHex()===O(e).toHex()},e}(),O=function(e){return e instanceof R?e:new R(e)},L=[];!function(e){e.forEach((function(e){L.indexOf(e)<0&&(e(R,S),L.push(e))}))}([function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var a={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,o,s=r[this.toHex()];if(s)return s;if(null==t?void 0:t.closest){var u=this.toRgb(),l=1/0,c="black";if(!a.length)for(var h in n)a[h]=new e(n[h]).toRgb();for(var f in n){var d=(i=u,o=a[f],Math.pow(i.r-o.r,2)+Math.pow(i.g-o.g,2)+Math.pow(i.b-o.b,2));d<l&&(l=d,c=f)}return c}},t.string.push([function(t){var r=t.toLowerCase(),i="transparent"===r?"#0000":n[r];return i?new e(i).toRgb():null},"name"])}]);var N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16777215;(0,a.Z)(this,e),this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}return(0,o.Z)(e,[{key:"red",get:function(){return this._components[0]}},{key:"green",get:function(){return this._components[1]}},{key:"blue",get:function(){return this._components[2]}},{key:"alpha",get:function(){return this._components[3]}},{key:"setValue",value:function(e){return this.value=e,this}},{key:"value",get:function(){return this._value},set:function(t){if(t instanceof e)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw new Error("Cannot set PIXI.Color#value to null");null!==this._value&&this.isSourceEqual(this._value,t)||(this.normalize(t),this._value=this.cloneSource(t))}}},{key:"cloneSource",value:function(e){return"string"===typeof e||"number"===typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"===typeof e&&null!==e?(0,i.Z)({},e):e}},{key:"isSourceEqual",value:function(e,t){var n=typeof e;if(n!==typeof t)return!1;if("number"===n||"string"===n||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every((function(e,n){return e===t[n]}));if(null!==e&&null!==t){var r=Object.keys(e),i=Object.keys(t);return r.length===i.length&&r.every((function(n){return e[n]===t[n]}))}return e===t}},{key:"toRgba",value:function(){var e=(0,r.Z)(this._components,4);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},{key:"toRgb",value:function(){var e=(0,r.Z)(this._components,3);return{r:e[0],g:e[1],b:e[2]}}},{key:"toRgbaString",value:function(){var e=this.toUint8RgbArray(),t=(0,r.Z)(e,3),n=t[0],i=t[1],a=t[2];return"rgba(".concat(n,",").concat(i,",").concat(a,",").concat(this.alpha,")")}},{key:"toUint8RgbArray",value:function(e){var t,n=(0,r.Z)(this._components,3),i=n[0],a=n[1],o=n[2];return(e=null!==(t=e)&&void 0!==t?t:[])[0]=Math.round(255*i),e[1]=Math.round(255*a),e[2]=Math.round(255*o),e}},{key:"toRgbArray",value:function(e){var t;e=null!==(t=e)&&void 0!==t?t:[];var n=(0,r.Z)(this._components,3),i=n[0],a=n[1],o=n[2];return e[0]=i,e[1]=a,e[2]=o,e}},{key:"toNumber",value:function(){return this._int}},{key:"toLittleEndianNumber",value:function(){var e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}},{key:"multiply",value:function(t){var n=(0,r.Z)(e.temp.setValue(t)._components,4),i=n[0],a=n[1],o=n[2],s=n[3];return this._components[0]*=i,this._components[1]*=a,this._components[2]*=o,this._components[3]*=s,this.refreshInt(),this._value=null,this}},{key:"premultiply",value:function(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}},{key:"toPremultiplied",value:function(e){if(1===e)return(255*e<<24)+this._int;if(0===e)return 0;var t=this._int>>16&255,n=this._int>>8&255,r=255&this._int;return(255*e<<24)+((t=t*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(r=r*e+.5|0)}},{key:"toHex",value:function(){var e=this._int.toString(16);return"#".concat("000000".substring(0,6-e.length)+e)}},{key:"toHexa",value:function(){var e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}},{key:"setAlpha",value:function(e){return this._components[3]=this._clamp(e),this}},{key:"round",value:function(e){var t=(0,r.Z)(this._components,3),n=t[0],i=t[1],a=t[2];return this._components[0]=Math.round(n*e)/e,this._components[1]=Math.round(i*e)/e,this._components[2]=Math.round(a*e)/e,this.refreshInt(),this._value=null,this}},{key:"toArray",value:function(e){var t;e=null!==(t=e)&&void 0!==t?t:[];var n=(0,r.Z)(this._components,4),i=n[0],a=n[1],o=n[2],s=n[3];return e[0]=i,e[1]=a,e[2]=o,e[3]=s,e}},{key:"normalize",value:function(t){var n;if(("number"===typeof t||t instanceof Number)&&t>=0&&t<=16777215){n=[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255,1]}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4){var i=t=this._clamp(t),a=(0,r.Z)(i,4),o=a[0],s=a[1],u=a[2],l=a[3];n=[o,s,u,void 0===l?1:l]}else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4){var c=t=this._clamp(t,0,255),h=(0,r.Z)(c,4),f=h[0],d=h[1],p=h[2],v=h[3];n=[f/255,d/255,p/255,(void 0===v?255:v)/255]}else if("string"===typeof t||"object"===typeof t){if("string"===typeof t){var m=e.HEX_PATTERN.exec(t);m&&(t="#".concat(m[2]))}var g=O(t);if(g.isValid()){var y=g.rgba;n=[y.r/255,y.g/255,y.b/255,y.a]}}if(!n)throw new Error("Unable to convert color ".concat(t));this._components.set(n),this.refreshInt()}},{key:"refreshInt",value:function(){this._clamp(this._components);var e=(0,r.Z)(this._components,3),t=e[0],n=e[1],i=e[2];this._int=(255*t<<16)+(255*n<<8)+(255*i|0)}},{key:"_clamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"number"===typeof e?Math.min(Math.max(e,t),n):(e.forEach((function(r,i){e[i]=Math.min(Math.max(r,t),n)})),e)}}]),e}(),B=N;B.shared=new N,B.temp=new N,B.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i},7820:function(e,t,n){"use strict";n.d(t,{A7:function(){return b},G5:function(){return x},I2:function(){return u},N3:function(){return i},Nt:function(){return d},T$:function(){return o},UN:function(){return g},V0:function(){return a},Vi:function(){return r},WB:function(){return p},aH:function(){return f},cB:function(){return y},iw:function(){return v},lg:function(){return s},mr:function(){return _},oT:function(){return h},sp:function(){return l},vK:function(){return c},yl:function(){return m}});var r=function(e){return e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e}(r||{}),i=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e}(i||{}),a=function(e){return e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e}(a||{}),o=function(e){return e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e}(o||{}),s=function(e){return e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e}(s||{}),u=function(e){return e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e}(u||{}),l=function(e){return e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e}(l||{}),c=function(e){return e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e}(c||{}),h=function(e){return e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e}(h||{}),f=function(e){return e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e}(f||{}),d=function(e){return e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e}(d||{}),p=function(e){return e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e}(p||{}),v=function(e){return e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e}(v||{}),m=function(e){return e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e}(m||{}),g=function(e){return e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e}(g||{}),y=function(e){return e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e}(y||{}),b=function(e){return e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e}(b||{}),x=function(e){return e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e}(x||{}),_=function(e){return e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e}(_||{})},172:function(e,t,n){"use strict";n.d(t,{iw:function(){return i.iw},T$:function(){return i.T$},VL:function(){return A},a$:function(){return M},JZ:function(){return D},Ie:function(){return oe},lW:function(){return C},qm:function(){return E},yl:function(){return i.yl},Cd:function(){return F.Cd},Il:function(){return p.I},ZX:function(){return F.ZX},lg:function(){return i.lg},Pj:function(){return F.Pj},nw:function(){return v.n},I2:function(){return i.I2},wn:function(){return ce},wG:function(){return B},A7:function(){return i.A7},KI:function(){return i.WB},G5:function(){return i.G5},y3:function(){return F.y3},bO:function(){return se},AB:function(){return F.AB},_b:function(){return F._b},E9:function(){return F.E9},mg:function(){return F.mg},$r:function(){return te},ud:function(){return Ae},jl:function(){return F.jl},Ae:function(){return F.Ae},TI:function(){return Ee},c9:function(){return F.c9},aH:function(){return i.aH},HS:function(){return F.HS},pX:function(){return Wt},ex:function(){return ie},ZM:function(){return b},vK:function(){return i.vK},xE:function(){return ke},UX:function(){return Fe},vB:function(){return Mt.vB},wx:function(){return F.wx},uF:function(){return Mt.uF},oo:function(){return re},Rv:function(){return m},Nt:function(){return i.Nt},e6:function(){return Ct},Y9:function(){return Rt},kP:function(){return It},Rw:function(){return v.R},Xd:function(){return a.Xd},P6:function(){return o}});var r=n(1413),i=n(7820),a=n(6824),o=n(8060),s=n(5671),u=n(3144),l=n(7326),c=n(1752),h=n(1120),f=n(136),d=n(9388),p=n(2050),v=n(2629),m=function(){function e(t){(0,s.Z)(this,e),"number"===typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return(0,u.Z)(e,[{key:"int8View",get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}},{key:"uint8View",get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}},{key:"int16View",get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}},{key:"uint16View",get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}},{key:"int32View",get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}},{key:"view",value:function(e){return this["".concat(e,"View")]}},{key:"destroy",value:function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}}],[{key:"sizeOf",value:function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error("".concat(e," isn't a valid view type"))}}}]),e}(),g=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function y(e){for(var t="",n=0;n<e;++n)n>0&&(t+="\nelse "),n<e-1&&(t+="if(test == ".concat(n,".0){}"));return t}var b=function(){function e(){(0,s.Z)(this,e),this.data=0,this.blendMode=i.T$.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return(0,u.Z)(e,[{key:"blend",get:function(){return!!(1&this.data)},set:function(e){!!(1&this.data)!==e&&(this.data^=1)}},{key:"offsets",get:function(){return!!(2&this.data)},set:function(e){!!(2&this.data)!==e&&(this.data^=2)}},{key:"culling",get:function(){return!!(4&this.data)},set:function(e){!!(4&this.data)!==e&&(this.data^=4)}},{key:"depthTest",get:function(){return!!(8&this.data)},set:function(e){!!(8&this.data)!==e&&(this.data^=8)}},{key:"depthMask",get:function(){return!!(32&this.data)},set:function(e){!!(32&this.data)!==e&&(this.data^=32)}},{key:"clockwiseFrontFace",get:function(){return!!(16&this.data)},set:function(e){!!(16&this.data)!==e&&(this.data^=16)}},{key:"blendMode",get:function(){return this._blendMode},set:function(e){this.blend=e!==i.T$.NONE,this._blendMode=e}},{key:"polygonOffset",get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e}},{key:"toString",value:function(){return"[@pixi/core:State blendMode=".concat(this.blendMode," clockwiseFrontFace=").concat(this.clockwiseFrontFace," culling=").concat(this.culling," depthMask=").concat(this.depthMask," polygonOffset=").concat(this.polygonOffset,"]")}}],[{key:"for2d",value:function(){var t=new e;return t.depthTest=!1,t.blend=!0,t}}]),e}(),x=[];function _(e,t){if(!e)return null;var n="";if("string"===typeof e){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(n=r[1].toLowerCase())}for(var i=x.length-1;i>=0;--i){var a=x[i];if(a.test&&a.test(e,n))return new a(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var w=function(){function e(t){(0,s.Z)(this,e),this.items=[],this._name=t,this._aliasCount=0}return(0,u.Z)(e,[{key:"emit",value:function(e,t,n,r,i,a,o,s){if(arguments.length>8)throw new Error("max arguments reached");var u=this.name,l=this.items;this._aliasCount++;for(var c=0,h=l.length;c<h;c++)l[c][u](e,t,n,r,i,a,o,s);return l===this.items&&this._aliasCount--,this}},{key:"ensureNonAliasedItems",value:function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}},{key:"add",value:function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}},{key:"remove",value:function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}},{key:"contains",value:function(e){return this.items.includes(e)}},{key:"removeAll",value:function(){return this.ensureNonAliasedItems(),this.items.length=0,this}},{key:"destroy",value:function(){this.removeAll(),this.items=null,this._name=null}},{key:"empty",get:function(){return 0===this.items.length}},{key:"name",get:function(){return this._name}}]),e}();Object.defineProperties(w.prototype,{dispatch:{value:w.prototype.emit},run:{value:w.prototype.emit}});var k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,s.Z)(this,e),this._width=t,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new w("setRealSize"),this.onUpdate=new w("update"),this.onError=new w("onError")}return(0,u.Z)(e,[{key:"bind",value:function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}},{key:"unbind",value:function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}},{key:"resize",value:function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))}},{key:"valid",get:function(){return!!this._width&&!!this._height}},{key:"update",value:function(){this.destroyed||this.onUpdate.emit()}},{key:"load",value:function(){return Promise.resolve(this)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"style",value:function(e,t,n){return!1}},{key:"dispose",value:function(){}},{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}}],[{key:"test",value:function(e,t){return!1}}]),e}(),E=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e,r){var i;(0,s.Z)(this,n);var a=r||{},o=a.width,u=a.height;if(!o||!u)throw new Error("BufferResource width or height invalid");return(i=t.call(this,o,u)).data=e,i}return(0,u.Z)(n,[{key:"upload",value:function(e,t,n){var r=e.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===i.iw.UNPACK);var a=t.realWidth,o=t.realHeight;return n.width===a&&n.height===o?r.texSubImage2D(t.target,0,0,0,a,o,t.format,n.type,this.data):(n.width=a,n.height=o,r.texImage2D(t.target,0,n.internalFormat,a,o,0,t.format,n.type,this.data)),!0}},{key:"dispose",value:function(){this.data=null}}],[{key:"test",value:function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}]),n}(k),T={scaleMode:i.aH.NEAREST,format:i.I2.RGBA,alphaMode:i.iw.NPM},S=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,s.Z)(this,n),e=t.call(this);var u=i=Object.assign({},n.defaultOptions,i),l=u.alphaMode,c=u.mipmap,h=u.anisotropicLevel,f=u.scaleMode,d=u.width,p=u.height,v=u.wrapMode,m=u.format,g=u.type,y=u.target,b=u.resolution,x=u.resourceOptions;return!r||r instanceof k||((r=_(r,x)).internal=!0),e.resolution=b||a.Xd.RESOLUTION,e.width=Math.round((d||0)*e.resolution)/e.resolution,e.height=Math.round((p||0)*e.resolution)/e.resolution,e._mipmap=c,e.anisotropicLevel=h,e._wrapMode=v,e._scaleMode=f,e.format=m,e.type=g,e.target=y,e.alphaMode=l,e.uid=(0,o.uid)(),e.touched=0,e.isPowerOfTwo=!1,e._refreshPOT(),e._glTextures={},e.dirtyId=0,e.dirtyStyleId=0,e.cacheId=null,e.valid=d>0&&p>0,e.textureCacheIds=[],e.destroyed=!1,e.resource=null,e._batchEnabled=0,e._batchLocation=0,e.parentTextureArray=null,e.setResource(r),e}return(0,u.Z)(n,[{key:"realWidth",get:function(){return Math.round(this.width*this.resolution)}},{key:"realHeight",get:function(){return Math.round(this.height*this.resolution)}},{key:"mipmap",get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}},{key:"scaleMode",get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}},{key:"wrapMode",get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}},{key:"setStyle",value:function(e,t){var n;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this}},{key:"setSize",value:function(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)}},{key:"setRealSize",value:function(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}},{key:"_refreshPOT",value:function(){this.isPowerOfTwo=(0,o.isPow2)(this.realWidth)&&(0,o.isPow2)(this.realHeight)}},{key:"setResolution",value:function(e){var t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}},{key:"setResource",value:function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}},{key:"update",value:function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}},{key:"onError",value:function(e){this.emit("error",this,e)}},{key:"destroy",value:function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete o.BaseTextureCache[this.cacheId],delete o.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),n.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}},{key:"dispose",value:function(){this.emit("dispose",this)}},{key:"castToBaseTexture",value:function(){return this}}],[{key:"from",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Xd.STRICT_TEXTURE_CACHE,i="string"===typeof e,s=null;if(i)s=e;else{if(!e._pixiId){var u=(null===t||void 0===t?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId="".concat(u,"_").concat((0,o.uid)())}s=e._pixiId}var l=o.BaseTextureCache[s];if(i&&r&&!l)throw new Error('The cacheId "'.concat(s,'" does not exist in BaseTextureCache.'));return l||((l=new n(e,t)).cacheId=s,n.addToCache(l,s)),l}},{key:"fromBuffer",value:function(e,t,r,a){e=e||new Float32Array(t*r*4);var o=new E(e,{width:t,height:r}),s=e instanceof Float32Array?i.vK.FLOAT:i.vK.UNSIGNED_BYTE;return new n(o,Object.assign({},T,a||{width:t,height:r,type:s}))}},{key:"addToCache",value:function(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),o.BaseTextureCache[t]&&o.BaseTextureCache[t]!==e&&console.warn("BaseTexture added to the cache with an id [".concat(t,"] that already had an entry")),o.BaseTextureCache[t]=e)}},{key:"removeFromCache",value:function(e){if("string"===typeof e){var t=o.BaseTextureCache[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete o.BaseTextureCache[e],t}}else if(null!==e&&void 0!==e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete o.BaseTextureCache[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}}]),n}(o.EventEmitter),A=S;A.defaultOptions={mipmap:i.WB.POW2,anisotropicLevel:0,scaleMode:i.aH.LINEAR,wrapMode:i.Nt.CLAMP,alphaMode:i.iw.UNPACK,target:i.sp.TEXTURE_2D,format:i.I2.RGBA,type:i.vK.UNSIGNED_BYTE},A._globalBatch=0;var M=(0,u.Z)((function e(){(0,s.Z)(this,e),this.texArray=null,this.blend=0,this.type=i.lg.TRIANGLES,this.start=0,this.size=0,this.data=null})),P=0,C=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,s.Z)(this,e),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=P++,this.disposeRunner=new w("disposeBuffer")}return(0,u.Z)(e,[{key:"update",value:function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroy",value:function(){this.dispose(),this.data=null}},{key:"index",get:function(){return this.type===i.mr.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?i.mr.ELEMENT_ARRAY_BUFFER:i.mr.ARRAY_BUFFER}}],[{key:"from",value:function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)}}]),e}(),I=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.vK.FLOAT,o=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;(0,s.Z)(this,e),this.buffer=t,this.size=n,this.normalized=r,this.type=a,this.stride=o,this.start=u,this.instance=l,this.divisor=c}return(0,u.Z)(e,[{key:"destroy",value:function(){this.buffer=null}}],[{key:"from",value:function(t,n,r,i,a){return new e(t,n,r,i,a)}}]),e}(),R={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var O={5126:4,5123:2,5121:1},L=0,N={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.Z)(this,e),this.buffers=t,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=L++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new w("disposeGeometry"),this.refCount=0}return(0,u.Z)(e,[{key:"addAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof C||(t instanceof Array&&(t=new Float32Array(t)),t=new C(t));var u=e.split("|");if(u.length>1){for(var l=0;l<u.length;l++)this.addAttribute(u[l],t,n,r,i);return this}var c=this.buffers.indexOf(t);return-1===c&&(this.buffers.push(t),c=this.buffers.length-1),this.attributes[e]=new I(c,n,r,i,a,o,s),this.instanced=this.instanced||s,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"getBuffer",value:function(e){return this.buffers[this.getAttribute(e).buffer]}},{key:"addIndex",value:function(e){return e instanceof C||(e instanceof Array&&(e=new Uint16Array(e)),e=new C(e)),e.type=i.mr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}},{key:"getIndex",value:function(){return this.indexBuffer}},{key:"interleave",value:function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],n=[],r=new C;for(e in this.attributes){var i=this.attributes[e],a=this.buffers[i.buffer];t.push(a.data),n.push(i.size*O[i.type]/4),i.buffer=0}for(r.data=function(e,t){for(var n=0,r=0,i={},a=0;a<e.length;a++)r+=t[a],n+=e[a].length;for(var s=new ArrayBuffer(4*n),u=null,l=0,c=0;c<e.length;c++){var h=t[c],f=e[c],d=(0,o.getBufferType)(f);i[d]||(i[d]=new R[d](s)),u=i[d];for(var p=0;p<f.length;p++)u[(p/h|0)*r+l+p%h]=f[p];l+=h}return new Float32Array(s)}(t,n),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}},{key:"getSize",value:function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroy",value:function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}},{key:"clone",value:function(){for(var t=new e,n=0;n<this.buffers.length;n++)t.buffers[n]=new C(this.buffers[n].data.slice(0));for(var r in this.attributes){var a=this.attributes[r];t.attributes[r]=new I(a.buffer,a.size,a.normalized,a.type,a.stride,a.start,a.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=i.mr.ELEMENT_ARRAY_BUFFER),t}}],[{key:"merge",value:function(t){for(var n,r=new e,a=[],s=[],u=[],l=0;l<t.length;l++){n=t[l];for(var c=0;c<n.buffers.length;c++)s[c]=s[c]||0,s[c]+=n.buffers[c].data.length,u[c]=0}for(var h=0;h<n.buffers.length;h++)a[h]=new(N[(0,o.getBufferType)(n.buffers[h].data)])(s[h]),r.buffers[h]=new C(a[h]);for(var f=0;f<t.length;f++){n=t[f];for(var d=0;d<n.buffers.length;d++)a[d].set(n.buffers[d].data,u[d]),u[d]+=n.buffers[d].data.length}if(r.attributes=n.attributes,n.indexBuffer){r.indexBuffer=r.buffers[n.buffers.indexOf(n.indexBuffer)],r.indexBuffer.type=i.mr.ELEMENT_ARRAY_BUFFER;for(var p=0,v=0,m=0,g=0,y=0;y<n.buffers.length;y++)if(n.buffers[y]!==n.indexBuffer){g=y;break}for(var b in n.attributes){var x=n.attributes[b];(0|x.buffer)===g&&(v+=x.size*O[x.type]/4)}for(var _=0;_<t.length;_++){for(var w=t[_].indexBuffer.data,k=0;k<w.length;k++)r.indexBuffer.data[k+m]+=p;p+=t[_].buffers[g].data.length/v,m+=w.length}}return r}}]),e}(),D=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,s.Z)(this,n),(e=t.call(this))._buffer=new C(null,r,!1),e._indexBuffer=new C(null,r,!0),e.addAttribute("aVertexPosition",e._buffer,2,!1,i.vK.FLOAT).addAttribute("aTextureCoord",e._buffer,2,!1,i.vK.FLOAT).addAttribute("aColor",e._buffer,4,!0,i.vK.UNSIGNED_BYTE).addAttribute("aTextureId",e._buffer,1,!0,i.vK.FLOAT).addIndex(e._indexBuffer),e}return(0,u.Z)(n)}(B),F=n(4643),Z=[{test:function(e){return"float"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n            if(uv["'.concat(e,'"] !== ud["').concat(e,'"].value)\n            {\n                ud["').concat(e,'"].value = uv["').concat(e,'"]\n                gl.uniform1f(ud["').concat(e,'"].location, uv["').concat(e,'"])\n            }\n            ')}},{test:function(e,t){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray&&(null==t||void 0!==t.castToBaseTexture)},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'.concat(e,'"], t);\n\n            if(ud["').concat(e,'"].value !== t)\n            {\n                ud["').concat(e,'"].value = t;\n                gl.uniform1i(ud["').concat(e,'"].location, t);\n; // eslint-disable-line max-len\n            }')}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'.concat(e,'"].location, false, uv["').concat(e,'"].toArray(true));\n            ')},codeUbo:function(e){return"\n                var ".concat(e,"_matrix = uv.").concat(e,".toArray(true);\n\n                data[offset] = ").concat(e,"_matrix[0];\n                data[offset+1] = ").concat(e,"_matrix[1];\n                data[offset+2] = ").concat(e,"_matrix[2];\n        \n                data[offset + 4] = ").concat(e,"_matrix[3];\n                data[offset + 5] = ").concat(e,"_matrix[4];\n                data[offset + 6] = ").concat(e,"_matrix[5];\n        \n                data[offset + 8] = ").concat(e,"_matrix[6];\n                data[offset + 9] = ").concat(e,"_matrix[7];\n                data[offset + 10] = ").concat(e,"_matrix[8];\n            ")}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["').concat(e,'"].location, v.x, v.y);\n                }')},codeUbo:function(e){return"\n                v = uv.".concat(e,";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ")}},{test:function(e){return"vec2"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["').concat(e,'"].location, v[0], v[1]);\n                }\n            ')}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["').concat(e,'"].location, v.x, v.y, v.width, v.height)\n                }')},codeUbo:function(e){return"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ")}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["').concat(e,'"].location, v.red, v.green, v.blue, v.alpha)\n                }')},codeUbo:function(e){return"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                ")}},{test:function(e,t){return"vec3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["').concat(e,'"].location, v.red, v.green, v.blue)\n                }')},codeUbo:function(e){return"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                ")}},{test:function(e){return"vec4"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["').concat(e,'"].location, v[0], v[1], v[2], v[3])\n                }')}}],V={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},j={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var U,Y={},X=Y;function G(){if(!U){U=i.cB.MEDIUM;var e=function(){var e;if(X===Y||null!==(e=X)&&void 0!==e&&e.isContextLost()){var t,n=a.Xd.ADAPTER.createCanvas();a.Xd.PREFER_ENV>=i.Vi.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),X=t}return X}();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);U=t.precision?i.cB.HIGH:i.cB.MEDIUM}}return U}var W={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function H(e){return W[e]}var z=null,q={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function $(e,t){if(!z){var n=Object.keys(q);z={};for(var r=0;r<n.length;++r){var i=n[r];z[e[i]]=q[i]}}return z[t]}function K(e,t,n){if("precision"!==e.substring(0,9)){var r=t;return t===i.cB.HIGH&&n!==i.cB.HIGH&&(r=i.cB.MEDIUM),"precision ".concat(r," float;\n").concat(e)}return n!==i.cB.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var J=0,Q={},ee=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pixi-shader",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,s.Z)(this,e),this.extra={},this.id=J++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=a,"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),Q[r]?(Q[r]++,r+="-".concat(Q[r])):Q[r]=1,this.vertexSrc="#define SHADER_NAME ".concat(r,"\n").concat(this.vertexSrc),this.fragmentSrc="#define SHADER_NAME ".concat(r,"\n").concat(this.fragmentSrc),this.vertexSrc=K(this.vertexSrc,e.defaultVertexPrecision,i.cB.HIGH),this.fragmentSrc=K(this.fragmentSrc,e.defaultFragmentPrecision,G())),this.glPrograms={},this.syncUniforms=null}return(0,u.Z)(e,null,[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"}},{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"}},{key:"from",value:function(t,n,r){var i=t+n,a=o.ProgramCache[i];return a||(o.ProgramCache[i]=a=new e(t,n,r)),a}}]),e}(),te=ee;te.defaultVertexPrecision=i.cB.HIGH,te.defaultFragmentPrecision=o.isMobile.apple.device?i.cB.HIGH:i.cB.MEDIUM;var ne=0,re=function(){function e(t,n,r){(0,s.Z)(this,e),this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=ne++,this.static=!!n,this.ubo=!!r,t instanceof C?(this.buffer=t,this.buffer.type=i.mr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new C(new Float32Array(1)),this.buffer.type=i.mr.UNIFORM_BUFFER,this.autoManage=!0))}return(0,u.Z)(e,[{key:"update",value:function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}},{key:"add",value:function(t,n,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new e(n,r)}}],[{key:"from",value:function(t,n,r){return new e(t,n,r)}},{key:"uboFrom",value:function(t,n){return new e(t,null===n||void 0===n||n,!0)}}]),e}(),ie=function(){function e(t,n){(0,s.Z)(this,e),this.uniformBindCount=0,this.program=t,this.uniformGroup=n?n instanceof re?n:new re(n):new re({}),this.disposeRunner=new w("disposeShader")}return(0,u.Z)(e,[{key:"checkUniformExists",value:function(e,t){if(t.uniforms[e])return!0;for(var n in t.uniforms){var r=t.uniforms[n];if(r.group&&this.checkUniformExists(e,r))return!0}return!1}},{key:"destroy",value:function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}},{key:"uniforms",get:function(){return this.uniformGroup.uniforms}}],[{key:"from",value:function(t,n,r){return new e(te.from(t,n),r)}}]),e}(),ae=function(){function e(t,n){if((0,s.Z)(this,e),this.vertexSrc=t,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}return(0,u.Z)(e,[{key:"generateShader",value:function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=re.from({uSamplers:t},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,"".concat(e))).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new te(this.vertexSrc,r)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new F.y3,default:this.defaultGroupCache[e]};return new ie(this.programCache[e],i)}},{key:"generateSampleSrc",value:function(e){var t="";t+="\n",t+="\n";for(var n=0;n<e;n++)n>0&&(t+="\nelse "),n<e-1&&(t+="if(vTextureId < ".concat(n,".5)")),t+="\n{",t+="\n\tcolor = texture2D(uSamplers[".concat(n,"], vTextureCoord);"),t+="\n}";return t+="\n",t+="\n"}}]),e}(),oe=function(){function e(){(0,s.Z)(this,e),this.elements=[],this.ids=[],this.count=0}return(0,u.Z)(e,[{key:"clear",value:function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}]),e}();var se=function(){function e(t){(0,s.Z)(this,e),this.renderer=t}return(0,u.Z)(e,[{key:"flush",value:function(){}},{key:"destroy",value:function(){this.renderer=null}},{key:"start",value:function(){}},{key:"stop",value:function(){this.flush()}},{key:"render",value:function(e){}}]),e}(),ue=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).setShaderGenerator(),r.geometryClass=D,r.vertexSize=6,r.state=b.for2d(),r.size=4*n.defaultBatchSize,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.maxTextures=1,r.renderer.on("prerender",r.onPrerender,(0,l.Z)(r)),e.runners.contextChange.add((0,l.Z)(r)),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return(0,u.Z)(n,[{key:"MAX_TEXTURES",get:function(){return(0,o.deprecation)("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}},{key:"setShaderGenerator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.vertex,r=void 0===t?n.defaultVertexSrc:t,i=e.fragment,a=void 0===i?n.defaultFragmentTemplate:i;this.shaderGenerator=new ae(r,a)}},{key:"contextChange",value:function(){var e=this.renderer.gl;a.Xd.PREFER_ENV===i.Vi.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),n.defaultMaxTextures),this.maxTextures=function(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=g.replace(/%forloop%/gi,y(e));if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}return e}(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}},{key:"initFlushBuffers",value:function(){for(var e=n._drawCallPool,t=n._textureArrayPool,r=this.size/4,i=Math.floor(r/this.maxTextures)+1;e.length<r;)e.push(new M);for(;t.length<i;)t.push(new oe);for(var a=0;a<this.maxTextures;a++)this._tempBoundTextures[a]=null}},{key:"onPrerender",value:function(){this._flushId=0}},{key:"render",value:function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}},{key:"buildTexturesAndDrawCalls",value:function(){var e=this._bufferedTextures,t=this.maxTextures,r=n._textureArrayPool,i=this.renderer.batch,a=this._tempBoundTextures,o=this.renderer.textureGC.count,s=++A._globalBatch,u=0,l=r[0],c=0;i.copyBoundTextures(a,t);for(var h=0;h<this._bufferSize;++h){var f=e[h];e[h]=null,f._batchEnabled!==s&&(l.count>=t&&(i.boundArray(l,a,s,t),this.buildDrawCalls(l,c,h),c=h,l=r[++u],++s),f._batchEnabled=s,f.touched=o,l.elements[l.count++]=f)}l.count>0&&(i.boundArray(l,a,s,t),this.buildDrawCalls(l,c,this._bufferSize),++u,++s);for(var d=0;d<a.length;d++)a[d]=null;A._globalBatch=s}},{key:"buildDrawCalls",value:function(e,t,r){var i=this._bufferedElements,a=this._attributeBuffer,s=this._indexBuffer,u=this.vertexSize,l=n._drawCallPool,c=this._dcIndex,h=this._aIndex,f=this._iIndex,d=l[c];d.start=this._iIndex,d.texArray=e;for(var p=t;p<r;++p){var v=i[p],m=v._texture.baseTexture,g=o.premultiplyBlendMode[m.alphaMode?1:0][v.blendMode];i[p]=null,t<p&&d.blend!==g&&(d.size=f-d.start,t=p,(d=l[++c]).texArray=e,d.start=f),this.packInterleavedGeometry(v,a,s,h,f),h+=v.vertexData.length/2*u,f+=v.indices.length,d.blend=g}t<r&&(d.size=f-d.start,++c),this._dcIndex=c,this._aIndex=h,this._iIndex=f}},{key:"bindAndClearTexArray",value:function(e){for(var t=this.renderer.texture,n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}},{key:"updateGeometry",value:function(){var e=this._packedGeometries,t=this._attributeBuffer,r=this._indexBuffer;n.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}},{key:"drawBatches",value:function(){for(var e=this._dcIndex,t=this.renderer,r=t.gl,i=t.state,a=n._drawCallPool,o=null,s=0;s<e;s++){var u=a[s],l=u.texArray,c=u.type,h=u.size,f=u.start,d=u.blend;o!==l&&(o=l,this.bindAndClearTexArray(l)),this.state.blendMode=d,i.set(this.state),r.drawElements(c,h,r.UNSIGNED_SHORT,2*f)}}},{key:"flush",value:function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}},{key:"start",value:function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),n.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}},{key:"stop",value:function(){this.flush()}},{key:"destroy",value:function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),(0,c.Z)((0,h.Z)(n.prototype),"destroy",this).call(this)}},{key:"getAttributeBuffer",value:function(e){var t=(0,o.nextPow2)(Math.ceil(e/8)),n=(0,o.log2)(t),r=8*t;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new m(r*this.vertexSize*4)),i}},{key:"getIndexBuffer",value:function(e){var t=(0,o.nextPow2)(Math.ceil(e/12)),n=(0,o.log2)(t),r=12*t;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}},{key:"packInterleavedGeometry",value:function(e,t,n,r,i){for(var a=t.uint32View,o=t.float32View,s=r/this.vertexSize,u=e.uvs,l=e.indices,c=e.vertexData,h=e._texture.baseTexture._batchLocation,f=Math.min(e.worldAlpha,1),d=p.I.shared.setValue(e._tintRGB).toPremultiplied(f),v=0;v<c.length;v+=2)o[r++]=c[v],o[r++]=c[v+1],o[r++]=u[v],o[r++]=u[v+1],a[r++]=d,o[r++]=h;for(var m=0;m<l.length;m++)n[i++]=s+l[m]}}],[{key:"defaultMaxTextures",get:function(){var e;return this._defaultMaxTextures=null!==(e=this._defaultMaxTextures)&&void 0!==e?e:function(e){var t=!0,n=a.Xd.ADAPTER.getNavigator();if(a.tq.tablet||a.tq.phone){if(a.tq.apple.device){var r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(t=!1)}if(a.tq.android.device){var i=n.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)<7&&(t=!1)}}return t?e:4}(32),this._defaultMaxTextures},set:function(e){this._defaultMaxTextures=e}},{key:"canUploadSameBuffer",get:function(){var e;return this._canUploadSameBuffer=null!==(e=this._canUploadSameBuffer)&&void 0!==e?e:!a.tq.apple.device,this._canUploadSameBuffer},set:function(e){this._canUploadSameBuffer=e}},{key:"defaultVertexSrc",get:function(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"}},{key:"defaultFragmentTemplate",get:function(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"}}]),n}(se),le=ue;le.defaultBatchSize=4096,le.extension={name:"batch",type:v.n.RendererPlugin},le._drawCallPool=[],le._textureArrayPool=[],v.R.add(le);var ce=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i){var a;(0,s.Z)(this,n);var o=te.from(e||n.defaultVertexSrc,r||n.defaultFragmentSrc);return(a=t.call(this,o,i)).padding=0,a.resolution=n.defaultResolution,a.multisample=n.defaultMultisample,a.enabled=!0,a.autoFit=!0,a.state=new b,a}return(0,u.Z)(n,[{key:"apply",value:function(e,t,n,r,i){e.applyFilter(this,t,n,r)}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._resolution=e}}],[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"}},{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"}}]),n}(ie);ce.defaultResolution=1,ce.defaultMultisample=i.G5.NONE;var he=function(){function e(){(0,s.Z)(this,e),this.clearBeforeRender=!0,this._backgroundColor=new p.I(0),this.alpha=1}return(0,u.Z)(e,[{key:"init",value:function(e){this.clearBeforeRender=e.clearBeforeRender;var t=e.backgroundColor,n=e.background,r=e.backgroundAlpha,i=null!==n&&void 0!==n?n:t;void 0!==i&&(this.color=i),this.alpha=r}},{key:"color",get:function(){return this._backgroundColor.value},set:function(e){this._backgroundColor.setValue(e)}},{key:"alpha",get:function(){return this._backgroundColor.alpha},set:function(e){this._backgroundColor.setAlpha(e)}},{key:"backgroundColor",get:function(){return this._backgroundColor}},{key:"destroy",value:function(){}}]),e}();he.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},he.extension={type:[v.n.RendererSystem,v.n.CanvasRendererSystem],name:"background"},v.R.add(he);var fe=function(){function e(t){(0,s.Z)(this,e),this.renderer=t,this.emptyRenderer=new se(t),this.currentRenderer=this.emptyRenderer}return(0,u.Z)(e,[{key:"setObjectRenderer",value:function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}},{key:"flush",value:function(){this.setObjectRenderer(this.emptyRenderer)}},{key:"reset",value:function(){this.setObjectRenderer(this.emptyRenderer)}},{key:"copyBoundTextures",value:function(e,t){for(var n=this.renderer.texture.boundTextures,r=t-1;r>=0;--r)e[r]=n[r]||null,e[r]&&(e[r]._batchLocation=r)}},{key:"boundArray",value:function(e,t,n,r){for(var i=e.elements,a=e.ids,o=e.count,s=0,u=0;u<o;u++){var l=i[u],c=l._batchLocation;if(c>=0&&c<r&&t[c]===l)a[u]=c;else for(;s<r;){var h=t[s];if(!h||h._batchEnabled!==n||h._batchLocation!==s){a[u]=s,l._batchLocation=s,t[s]=l;break}s++}}}},{key:"destroy",value:function(){this.renderer=null}}]),e}();fe.extension={type:v.n.RendererSystem,name:"batch"},v.R.add(fe);var de=0,pe=function(){function e(t){(0,s.Z)(this,e),this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}return(0,u.Z)(e,[{key:"isLost",get:function(){return!this.gl||this.gl.isContextLost()}},{key:"contextChange",value:function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=de++}},{key:"init",value:function(e){if(e.context)this.initFromContext(e.context);else{var t=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}},{key:"initFromContext",value:function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=de++,this.renderer.runners.contextChange.emit(e);var t=this.renderer.view;void 0!==t.addEventListener&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}},{key:"initFromOptions",value:function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)}},{key:"createContext",value:function(e,t){var n;if(a.Xd.PREFER_ENV>=i.Vi.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}},{key:"getExtensions",value:function(){var e=this.gl,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}},{key:"handleContextLost",value:function(e){var t=this;e.preventDefault(),setTimeout((function(){t.gl.isContextLost()&&t.extensions.loseContext&&t.extensions.loseContext.restoreContext()}),0)}},{key:"handleContextRestored",value:function(){this.renderer.runners.contextChange.emit(this.gl)}},{key:"destroy",value:function(){var e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}},{key:"postrender",value:function(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}},{key:"validateContext",value:function(e){var t=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}]),e}();pe.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},pe.extension={type:v.n.RendererSystem,name:"context"},v.R.add(pe);var ve=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"upload",value:function(e,t,n){var r=e.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===i.iw.UNPACK);var a=t.realWidth,o=t.realHeight;return n.width===a&&n.height===o?r.texSubImage2D(t.target,0,0,0,a,o,t.format,n.type,this.data):(n.width=a,n.height=o,r.texImage2D(t.target,0,n.internalFormat,a,o,0,t.format,n.type,this.data)),!0}}]),n}(E),me=function(){function e(t,n){(0,s.Z)(this,e),this.width=Math.round(t||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new w("disposeFramebuffer"),this.multisample=i.G5.NONE}return(0,u.Z)(e,[{key:"colorTexture",get:function(){return this.colorTextures[0]}},{key:"addColorTexture",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return this.colorTextures[e]=t||new A(null,{scaleMode:i.aH.NEAREST,resolution:1,mipmap:i.WB.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}},{key:"addDepthTexture",value:function(e){return this.depthTexture=e||new A(new ve(null,{width:this.width,height:this.height}),{scaleMode:i.aH.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:i.WB.OFF,format:i.I2.DEPTH_COMPONENT,type:i.vK.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}},{key:"enableDepth",value:function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}},{key:"enableStencil",value:function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}},{key:"resize",value:function(e,t){if(e=Math.round(e),t=Math.round(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var r=this.colorTextures[n],i=r.resolution;r.setSize(e/i,t/i)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(e/a,t/a)}}}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroyDepthTexture",value:function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}]),e}(),ge=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};((0,s.Z)(this,n),"number"===typeof a)&&(a={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});return a.width=a.width||100,a.height=a.height||100,null!==(e=a.multisample)&&void 0!==e||(a.multisample=i.G5.NONE),(r=t.call(this,null,a)).mipmap=i.WB.OFF,r.valid=!0,r._clear=new p.I([0,0,0,0]),r.framebuffer=new me(r.realWidth,r.realHeight).addColorTexture(0,(0,l.Z)(r)),r.framebuffer.multisample=a.multisample,r.maskStack=[],r.filterStack=[{}],r}return(0,u.Z)(n,[{key:"clearColor",get:function(){return this._clear.value},set:function(e){this._clear.setValue(e)}},{key:"clear",get:function(){return this._clear}},{key:"resize",value:function(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}},{key:"dispose",value:function(){this.framebuffer.dispose(),(0,c.Z)((0,h.Z)(n.prototype),"dispose",this).call(this)}},{key:"destroy",value:function(){(0,c.Z)((0,h.Z)(n.prototype),"destroy",this).call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}]),n}(A),ye=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;(0,s.Z)(this,n);var i=e,a=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return(r=t.call(this,a,o)).source=e,r.noSubImage=!1,r}return(0,u.Z)(n,[{key:"upload",value:function(e,t,n,r){var a=e.gl,o=t.realWidth,s=t.realHeight;if(r=r||this.source,"undefined"!==typeof HTMLImageElement&&r instanceof HTMLImageElement){if(!r.complete||0===r.naturalWidth)return!1}else if("undefined"!==typeof HTMLVideoElement&&r instanceof HTMLVideoElement&&r.readyState<=1&&0===r.buffered.length)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===i.iw.UNPACK),this.noSubImage||t.target!==a.TEXTURE_2D||n.width!==o||n.height!==s?(n.width=o,n.height=s,a.texImage2D(t.target,0,n.internalFormat,t.format,n.type,r)):a.texSubImage2D(a.TEXTURE_2D,0,0,0,t.format,n.type,r),!0}},{key:"update",value:function(){if(!this.destroyed){var e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),(0,c.Z)((0,h.Z)(n.prototype),"update",this).call(this)}}},{key:"dispose",value:function(){this.source=null}}],[{key:"crossOrigin",value:function(e,t,n){void 0!==n||t.startsWith("data:")?!1!==n&&(e.crossOrigin="string"===typeof n?n:"anonymous"):e.crossOrigin=(0,o.determineCrossOrigin)(t)}}]),n}(k),be=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e,r){var i,o;if((0,s.Z)(this,n),r=r||{},"string"===typeof e){var u=new Image;ye.crossOrigin(u,e,r.crossorigin),u.src=e,e=u}return o=t.call(this,e),!e.complete&&o._width&&o._height&&(o._width=0,o._height=0),o.url=e.src,o._process=null,o.preserveBitmap=!1,o.createBitmap=(null!==(i=r.createBitmap)&&void 0!==i?i:a.Xd.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,o.alphaMode="number"===typeof r.alphaMode?r.alphaMode:null,o.bitmap=null,o._load=null,!1!==r.autoLoad&&o.load(),o}return(0,u.Z)(n,[{key:"load",value:function(e){var t=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((function(e,n){var r=t.source;t.url=r.src;var i=function(){t.destroyed||(r.onload=null,r.onerror=null,t.resize(r.width,r.height),t._load=null,t.createBitmap?e(t.process()):e(t))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(e){n(e),t.onError.emit(e)})}))),this._load}},{key:"process",value:function(){var e=this,t=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var n=globalThis.createImageBitmap,r=!t.crossOrigin||"anonymous"===t.crossOrigin;return this._process=fetch(t.src,{mode:r?"cors":"no-cors"}).then((function(e){return e.blob()})).then((function(r){return n(r,0,0,t.width,t.height,{premultiplyAlpha:null===e.alphaMode||e.alphaMode===i.iw.UNPACK?"premultiply":"none"})})).then((function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))})),this._process}},{key:"upload",value:function(e,t,r){if("number"===typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return(0,c.Z)((0,h.Z)(n.prototype),"upload",this).call(this,e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if((0,c.Z)((0,h.Z)(n.prototype),"upload",this).call(this,e,t,r,this.bitmap),!this.preserveBitmap){var i=!0,a=t._glTextures;for(var o in a){var s=a[o];if(s!==r&&s.dirtyId!==t.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}},{key:"dispose",value:function(){this.source.onload=null,this.source.onerror=null,(0,c.Z)((0,h.Z)(n.prototype),"dispose",this).call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}}],[{key:"test",value:function(e){return"undefined"!==typeof HTMLImageElement&&("string"===typeof e||e instanceof HTMLImageElement)}}]),n}(ye),xe=function(){function e(){(0,s.Z)(this,e),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return(0,u.Z)(e,[{key:"set",value:function(e,t,n){var r=t.width,i=t.height;if(n){var a=e.width/2/r,o=e.height/2/i,s=e.x/r+a,u=e.y/i+o;n=F.Lv.add(n,F.Lv.NW),this.x0=s+a*F.Lv.uX(n),this.y0=u+o*F.Lv.uY(n),n=F.Lv.add(n,2),this.x1=s+a*F.Lv.uX(n),this.y1=u+o*F.Lv.uY(n),n=F.Lv.add(n,2),this.x2=s+a*F.Lv.uX(n),this.y2=u+o*F.Lv.uY(n),n=F.Lv.add(n,2),this.x3=s+a*F.Lv.uX(n),this.y3=u+o*F.Lv.uY(n)}else this.x0=e.x/r,this.y0=e.y/i,this.x1=(e.x+e.width)/r,this.y1=e.y/i,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/i,this.x3=e.x/r,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}},{key:"toString",value:function(){return"[@pixi/core:TextureUvs x0=".concat(this.x0," y0=").concat(this.y0," x1=").concat(this.x1," y1=").concat(this.y1," x2=").concat(this.x2," y2=").concat(this.y2," x3=").concat(this.x3," y3=").concat(this.y3,"]")}}]),e}(),_e=new xe;function we(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}var ke=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i,a,o,u,c){var h;if((0,s.Z)(this,n),(h=t.call(this)).noFrame=!1,r||(h.noFrame=!0,r=new F.Ae(0,0,1,1)),e instanceof n&&(e=e.baseTexture),h.baseTexture=e,h._frame=r,h.trim=a,h.valid=!1,h._uvs=_e,h.uvMatrix=null,h.orig=i||r,h._rotate=Number(o||0),!0===o)h._rotate=2;else if(h._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=u?new F.E9(u.x,u.y):new F.E9(0,0),h.defaultBorders=c,h._updateID=0,h.textureCacheIds=[],e.valid?h.noFrame?e.valid&&h.onBaseTextureUpdated(e):h.frame=r:e.once("loaded",h.onBaseTextureUpdated,(0,l.Z)(h)),h.noFrame&&e.on("update",h.onBaseTextureUpdated,(0,l.Z)(h)),h}return(0,u.Z)(n,[{key:"update",value:function(){this.baseTexture.resource&&this.baseTexture.resource.update()}},{key:"onBaseTextureUpdated",value:function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}},{key:"destroy",value:function(e){if(this.baseTexture){if(e){var t=this.baseTexture.resource;null!==t&&void 0!==t&&t.url&&o.TextureCache[t.url]&&n.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,n.removeFromCache(this),this.textureCacheIds=null}},{key:"clone",value:function(){var e,t=this._frame.clone(),r=this._frame===this.orig?t:this.orig.clone(),i=new n(this.baseTexture,!this.noFrame&&t,r,null===(e=this.trim)||void 0===e?void 0:e.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=t),i}},{key:"updateUvs",value:function(){this._uvs===_e&&(this._uvs=new xe),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}},{key:"resolution",get:function(){return this.baseTexture.resolution}},{key:"frame",get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,n=e.y,r=e.width,i=e.height,a=t+r>this.baseTexture.width,o=n+i>this.baseTexture.height;if(a||o){var s=a&&o?"and":"or",u="X: ".concat(t," + ").concat(r," = ").concat(t+r," > ").concat(this.baseTexture.width),l="Y: ".concat(n," + ").concat(i," = ").concat(n+i," > ").concat(this.baseTexture.height);throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: ".concat(u," ").concat(s," ").concat(l))}this.valid=r&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}},{key:"castToBaseTexture",value:function(){return this.baseTexture}}],[{key:"from",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Xd.STRICT_TEXTURE_CACHE,i="string"===typeof e,s=null;if(i)s=e;else if(e instanceof A){if(!e.cacheId){var u=(null===t||void 0===t?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId="".concat(u,"-").concat((0,o.uid)()),A.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){var l=(null===t||void 0===t?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId="".concat(l,"_").concat((0,o.uid)())}s=e._pixiId}var c=o.TextureCache[s];if(i&&r&&!c)throw new Error('The cacheId "'.concat(s,'" does not exist in TextureCache.'));return c||e instanceof A?!c&&e instanceof A&&(c=new n(e),n.addToCache(c,s)):(t.resolution||(t.resolution=(0,o.getResolutionOfUrl)(e)),(c=new n(new A(e,t))).baseTexture.cacheId=s,A.addToCache(c.baseTexture,s),n.addToCache(c,s)),c}},{key:"fromURL",value:function(e,t){var r=Object.assign({autoLoad:!1},null===t||void 0===t?void 0:t.resourceOptions),i=n.from(e,Object.assign({resourceOptions:r},t),!1),a=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):a.load().then((function(){return Promise.resolve(i)}))}},{key:"fromBuffer",value:function(e,t,r,i){return new n(A.fromBuffer(e,t,r,i))}},{key:"fromLoader",value:function(e,t,r,i){var a=new A(e,Object.assign({scaleMode:A.defaultOptions.scaleMode,resolution:(0,o.getResolutionOfUrl)(t)},i)),s=a.resource;s instanceof be&&(s.url=t);var u=new n(a);return r||(r=t),A.addToCache(u.baseTexture,r),n.addToCache(u,r),r!==t&&(A.addToCache(u.baseTexture,t),n.addToCache(u,t)),u.baseTexture.valid?Promise.resolve(u):new Promise((function(e){u.baseTexture.once("loaded",(function(){return e(u)}))}))}},{key:"addToCache",value:function(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),o.TextureCache[t]&&o.TextureCache[t]!==e&&console.warn("Texture added to the cache with an id [".concat(t,"] that already had an entry")),o.TextureCache[t]=e)}},{key:"removeFromCache",value:function(e){if("string"===typeof e){var t=o.TextureCache[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete o.TextureCache[e],t}}else if(null!==e&&void 0!==e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)o.TextureCache[e.textureCacheIds[r]]===e&&delete o.TextureCache[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}},{key:"EMPTY",get:function(){return n._EMPTY||(n._EMPTY=new n(new A),we(n._EMPTY),we(n._EMPTY.baseTexture)),n._EMPTY}},{key:"WHITE",get:function(){if(!n._WHITE){var e=a.Xd.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),n._WHITE=new n(A.from(e)),we(n._WHITE),we(n._WHITE.baseTexture)}return n._WHITE}}]),n}(o.EventEmitter),Ee=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),(i=t.call(this,e,r)).valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return(0,u.Z)(n,[{key:"framebuffer",get:function(){return this.baseTexture.framebuffer}},{key:"multisample",get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e}},{key:"resize",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.baseTexture.resolution,i=Math.round(e*r)/r,a=Math.round(t*r)/r;this.valid=i>0&&a>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=a,n&&this.baseTexture.resize(i,a),this.updateUvs()}},{key:"setResolution",value:function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}}],[{key:"create",value:function(e){return new n(new ge(e))}}]),n}(ke),Te=function(){function e(t){(0,s.Z)(this,e),this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return(0,u.Z)(e,[{key:"createTexture",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.G5.NONE,r=new ge(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new Ee(r)}},{key:"getOptimalTexture",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.G5.NONE;e=Math.ceil(e*r-1e-6),t=Math.ceil(t*r-1e-6),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?n=a>1?-a:-1:(n=((65535&(e=(0,o.nextPow2)(e)))<<16|65535&(t=(0,o.nextPow2)(t)))>>>0,a>1&&(n+=4294967296*a)),this.texturePool[n]||(this.texturePool[n]=[]);var s=this.texturePool[n].pop();return s||(s=this.createTexture(e,t,a)),s.filterPoolKey=n,s.setResolution(r),s}},{key:"getFilterTexture",value:function(e,t,n){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||i.G5.NONE);return r.filterFrame=e.filterFrame,r}},{key:"returnTexture",value:function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}},{key:"returnFilterTexture",value:function(e){this.returnTexture(e)}},{key:"clear",value:function(e){if(e=!1!==e)for(var t in this.texturePool){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0)}this.texturePool={}}},{key:"setScreenSize",value:function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){for(var t in this.enableFullScreen=e.width>0&&e.height>0,this.texturePool)if(Number(t)<0){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}]),e}();Te.SCREEN_KEY=-1;var Se=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.call(this)).addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return(0,u.Z)(n)}(B),Ae=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.call(this)).vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new C(e.vertices),e.uvBuffer=new C(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return(0,u.Z)(n,[{key:"map",value:function(e,t){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+t.width/e.width,this.uvs[3]=r,this.uvs[4]=n+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=n,this.uvs[7]=r+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this.invalidate(),this}},{key:"invalidate",value:function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}]),n}(B),Me=function(){function e(){(0,s.Z)(this,e),this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=i.G5.NONE,this.sourceFrame=new F.Ae,this.destinationFrame=new F.Ae,this.bindingSourceFrame=new F.Ae,this.bindingDestinationFrame=new F.Ae,this.filters=[],this.transform=null}return(0,u.Z)(e,[{key:"clear",value:function(){this.target=null,this.filters=null,this.renderTexture=null}}]),e}(),Pe=[new F.E9,new F.E9,new F.E9,new F.E9],Ce=new F.y3,Ie=function(){function e(t){(0,s.Z)(this,e),this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new Te,this.statePool=[],this.quad=new Se,this.quadUv=new Ae,this.tempRect=new F.Ae,this.activeState={},this.globalUniforms=new re({outputFrame:new F.Ae,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return(0,u.Z)(e,[{key:"init",value:function(){this.texturePool.setScreenSize(this.renderer.view)}},{key:"push",value:function(e,t){for(var n,r=this.renderer,i=this.defaultFilterStack,a=this.statePool.pop()||new Me,o=this.renderer.renderTexture,s=t[0].resolution,u=t[0].multisample,l=t[0].padding,c=t[0].autoFit,h=null===(n=t[0].legacy)||void 0===n||n,f=1;f<t.length;f++){var d,p=t[f];s=Math.min(s,p.resolution),u=Math.min(u,p.multisample),l=this.useMaxPadding?Math.max(l,p.padding):l+p.padding,c=c&&p.autoFit,h=h||null===(d=p.legacy)||void 0===d||d}1===i.length&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(a),a.resolution=s,a.multisample=u,a.legacy=h,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(l);var v=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(Ce.copyFrom(r.projection.transform).invert(),v),c?(a.sourceFrame.fit(v),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(v)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,s,u),a.filters=t,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=a.sourceFrame.width,m.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(o.sourceFrame),a.bindingDestinationFrame.copyFrom(o.destinationFrame),a.transform=r.projection.transform,r.projection.transform=null,o.bind(a.renderTexture,a.sourceFrame,m),r.framebuffer.clear(0,0,0,0)}},{key:"pop",value:function(){var e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;var r=this.globalUniforms.uniforms;r.outputFrame=t.sourceFrame,r.resolution=t.resolution;var a=r.inputSize,o=r.inputPixel,s=r.inputClamp;if(a[0]=t.destinationFrame.width,a[1]=t.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*t.resolution),o[1]=Math.round(a[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=t.sourceFrame.width*a[2]-.5*o[2],s[3]=t.sourceFrame.height*a[3]-.5*o[3],t.legacy){var u=r.filterArea;u[0]=t.destinationFrame.width,u[1]=t.destinationFrame.height,u[2]=t.sourceFrame.x,u[3]=t.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,t.renderTexture,l.renderTexture,i.yl.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var c=t.renderTexture,h=this.getOptimalFilterTexture(c.width,c.height,t.resolution);h.filterFrame=c.filterFrame;var f=0;for(f=0;f<n.length-1;++f){1===f&&t.multisample>1&&((h=this.getOptimalFilterTexture(c.width,c.height,t.resolution)).filterFrame=c.filterFrame),n[f].apply(this,c,h,i.yl.CLEAR,t);var d=c;c=h,h=d}n[f].apply(this,c,l.renderTexture,i.yl.BLEND,t),f>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(h)}t.clear(),this.statePool.push(t)}},{key:"bindAndClear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.yl.CLEAR,n=this.renderer,r=n.renderTexture,a=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,null!==e&&void 0!==e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=1&a.stateId||this.forceClear;(t===i.yl.CLEAR||t===i.yl.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}},{key:"applyFilter",value:function(e,t,n,r){var a=this.renderer;a.state.set(e.state),this.bindAndClear(n,r),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(i.lg.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(i.lg.TRIANGLE_STRIP))}},{key:"calculateSpriteMatrix",value:function(e,t){var n=this.activeState,r=n.sourceFrame,i=n.destinationFrame,a=t._texture.orig,o=e.set(i.width,0,0,i.height,r.x,r.y),s=t.worldTransform.copyTo(F.y3.TEMP_MATRIX);return s.invert(),o.prepend(s),o.scale(1/a.width,1/a.height),o.translate(t.anchor.x,t.anchor.y),o}},{key:"destroy",value:function(){this.renderer=null,this.texturePool.clear(!1)}},{key:"getOptimalFilterTexture",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.G5.NONE;return this.texturePool.getOptimalTexture(e,t,n,r)}},{key:"getFilterTexture",value:function(e,t,n){if("number"===typeof e){var r=e;e=t,t=r}e=e||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||i.G5.NONE);return a.filterFrame=e.filterFrame,a}},{key:"returnFilterTexture",value:function(e){this.texturePool.returnTexture(e)}},{key:"emptyPool",value:function(){this.texturePool.clear(!0)}},{key:"resize",value:function(){this.texturePool.setScreenSize(this.renderer.view)}},{key:"transformAABB",value:function(e,t){var n=Pe[0],r=Pe[1],i=Pe[2],a=Pe[3];n.set(t.left,t.top),r.set(t.left,t.bottom),i.set(t.right,t.top),a.set(t.right,t.bottom),e.apply(n,n),e.apply(r,r),e.apply(i,i),e.apply(a,a);var o=Math.min(n.x,r.x,i.x,a.x),s=Math.min(n.y,r.y,i.y,a.y),u=Math.max(n.x,r.x,i.x,a.x),l=Math.max(n.y,r.y,i.y,a.y);t.x=o,t.y=s,t.width=u-o,t.height=l-s}},{key:"roundFrame",value:function(e,t,n,r,i){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(i){var a=i,o=a.a,s=a.b,u=a.c,l=a.d;if((Math.abs(s)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}(i=i?Ce.copyFrom(i):Ce.identity()).translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.transformAABB(i,e),e.ceil(t),this.transformAABB(i.invert(),e)}}}]),e}();Ie.extension={type:v.n.RendererSystem,name:"filter"},v.R.add(Ie);var Re=(0,u.Z)((function e(t){(0,s.Z)(this,e),this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=i.G5.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0})),Oe=new F.Ae,Le=function(){function e(t){(0,s.Z)(this,e),this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new me(10,10),this.msaaSamples=null}return(0,u.Z)(e,[{key:"contextChange",value:function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new F.Ae,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;a.Xd.PREFER_ENV===i.Vi.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}},{key:"bind",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.gl;if(e){var i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,i.mipLevel=n),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,i.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var a=0;a<e.colorTextures.length;a++){var o=e.colorTextures[a];this.renderer.texture.unbind(o.parentTextureArray||o)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){var s=t.width>>n,u=t.height>>n,l=s/t.width;this.setViewport(t.x*l,t.y*l,s,u)}else{var c=e.width>>n,h=e.height>>n;this.setViewport(0,0,c,h)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}},{key:"setViewport",value:function(e,t,n,r){var i=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),r=Math.round(r),i.width===n&&i.height===r&&i.x===e&&i.y===t||(i.x=e,i.y=t,i.width=n,i.height=r,this.gl.viewport(e,t,n,r))}},{key:"size",get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}},{key:"clear",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.V0.COLOR|i.V0.DEPTH,o=this.gl;o.clearColor(e,t,n,r),o.clear(a)}},{key:"initFramebuffer",value:function(e){var t=this.gl,n=new Re(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}},{key:"resizeFramebuffer",value:function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));var r=e.colorTextures,i=r.length;t.drawBuffers||(i=Math.min(i,1));for(var a=0;a<i;a++){var o=r[a],s=o.parentTextureArray||o;this.renderer.texture.bind(s,0),0===a&&n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,s._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}},{key:"updateFramebuffer",value:function(e,t){var n=this.gl,r=e.glFramebuffers[this.CONTEXT_UID],i=e.colorTextures,a=i.length;n.drawBuffers||(a=Math.min(a,1)),r.multisample>1&&this.canMultisampleFramebuffer(e)?r.msaaBuffer=r.msaaBuffer||n.createRenderbuffer():r.msaaBuffer&&(n.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var o=[],s=0;s<a;s++){var u=i[s],l=u.parentTextureArray||u;this.renderer.texture.bind(l,0),0===s&&r.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,r.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+s,u.target,l._glTextures[this.CONTEXT_UID].texture,t),o.push(n.COLOR_ATTACHMENT0+s))}if((o.length>1&&n.drawBuffers(o),e.depthTexture)&&this.writeDepthTexture){var c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,t)}!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture?r.stencil&&(n.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r.stencil))}},{key:"canMultisampleFramebuffer",value:function(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}},{key:"detectSamples",value:function(e){var t=this.msaaSamples,n=i.G5.NONE;if(e<=1||null===t)return n;for(var r=0;r<t.length;r++)if(t[r]<=e){n=t[r];break}return 1===n&&(n=i.G5.NONE),n}},{key:"blit",value:function(e,t,n){var r=this.current,i=this.renderer,a=this.gl,o=this.CONTEXT_UID;if(2===i.context.webGLVersion&&r){var s=r.glFramebuffers[o];if(s){if(!e){if(!s.msaaBuffer)return;var u=r.colorTextures[0];if(!u)return;s.blitFramebuffer||(s.blitFramebuffer=new me(r.width,r.height),s.blitFramebuffer.addColorTexture(0,u)),(e=s.blitFramebuffer).colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),e.width===r.width&&e.height===r.height||(e.width=r.width,e.height=r.height,e.dirtyId++,e.dirtySize++)}t||((t=Oe).width=r.width,t.height=r.height),n||(n=t);var l=t.width===n.width&&t.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,s.framebuffer),a.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,l?a.NEAREST:a.LINEAR)}}}},{key:"disposeFramebuffer",value:function(e,t){var n=e.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(e);i>=0&&this.managedFramebuffers.splice(i,1),e.disposeRunner.remove(this),t||(r.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&r.deleteRenderbuffer(n.msaaBuffer),n.stencil&&r.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,t)}}},{key:"disposeAll",value:function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)}},{key:"forceStencil",value:function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.stencil=!0;var n=e.width,r=e.height,i=this.gl,a=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,a),t.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,t.multisample,i.DEPTH24_STENCIL8,n,r):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,n,r),t.stencil=a,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,a)}}}},{key:"reset",value:function(){this.current=this.unknownFramebuffer,this.viewport=new F.Ae}},{key:"destroy",value:function(){this.renderer=null}}]),e}();Le.extension={type:v.n.RendererSystem,name:"framebuffer"},v.R.add(Le);var Ne={5126:4,5123:2,5121:1},Be=function(){function e(t){(0,s.Z)(this,e),this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return(0,u.Z)(e,[{key:"contextChange",value:function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){var n=this.renderer.context.extensions.vertexArrayObject;a.Xd.PREFER_ENV===i.Vi.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(e){return n.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return n.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==t.webGLVersion){var r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=function(e,t){return r.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,n,i,a){return r.drawElementsInstancedANGLE(e,t,n,i,a)},e.drawArraysInstanced=function(e,t,n,i){return r.drawArraysInstancedANGLE(e,t,n,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}},{key:"bind",value:function(e,t){t=t||this.renderer.shader.shader;var n=this.gl,r=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1;r||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={},i=!0);var a=r[t.program.id]||this.initGeometryVao(e,t,i);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(e,t.program)),this.updateBuffers()}},{key:"reset",value:function(){this.unbind()}},{key:"updateBuffers",value:function(){for(var e=this._activeGeometry,t=this.renderer.buffer,n=0;n<e.buffers.length;n++){var r=e.buffers[n];t.update(r)}}},{key:"checkCompatibility",value:function(e,t){var n=e.attributes,r=t.attributeData;for(var i in r)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'.concat(i,'" attribute'))}},{key:"getSignature",value:function(e,t){var n=e.attributes,r=t.attributeData,i=["g",e.id];for(var a in n)r[a]&&i.push(a,r[a].location);return i.join("-")}},{key:"initGeometryVao",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,s=t.program;s.glPrograms[a]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,s);var u=this.getSignature(e,s),l=e.glVertexArrayObjects[this.CONTEXT_UID],c=l[u];if(c)return l[s.id]=c,c;var h=e.buffers,f=e.attributes,d={},p={};for(var v in h)d[v]=0,p[v]=0;for(var m in f)!f[m].size&&s.attributeData[m]?f[m].size=s.attributeData[m].size:f[m].size||console.warn("PIXI Geometry attribute '".concat(m,"' size cannot be determined (likely the bound shader does not have the attribute)")),d[f[m].buffer]+=f[m].size*Ne[f[m].type];for(var g in f){var y=f[g],b=y.size;void 0===y.stride&&(d[y.buffer]===b*Ne[y.type]?y.stride=0:y.stride=d[y.buffer]),void 0===y.start&&(y.start=p[y.buffer],p[y.buffer]+=b*Ne[y.type])}c=r.createVertexArray(),r.bindVertexArray(c);for(var x=0;x<h.length;x++){var _=h[x];o.bind(_),n&&_._glBuffers[a].refCount++}return this.activateVao(e,s),l[s.id]=c,l[u]=c,r.bindVertexArray(null),o.unbind(i.mr.ARRAY_BUFFER),c}},{key:"disposeGeometry",value:function(e,t){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,a=e.buffers,o=null===(n=this.renderer)||void 0===n?void 0:n.buffer;if(e.disposeRunner.remove(this),r){if(o)for(var s=0;s<a.length;s++){var u=a[s]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,0!==u.refCount||t||o.dispose(a[s],t))}if(!t)for(var l in r)if("g"===l[0]){var c=r[l];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}}},{key:"disposeAll",value:function(e){for(var t=Object.keys(this.managedGeometries),n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)}},{key:"activateVao",value:function(e,t){var n=this.gl,r=this.CONTEXT_UID,i=this.renderer.buffer,a=e.buffers,o=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);var s=null;for(var u in o){var l=o[u],c=a[l.buffer],h=c._glBuffers[r];if(t.attributeData[u]){s!==h&&(i.bind(c),s=h);var f=t.attributeData[u].location;if(n.enableVertexAttribArray(f),n.vertexAttribPointer(f,l.size,l.type||n.FLOAT,l.normalized,l.stride,l.start),l.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(f,l.divisor)}}}}},{key:"draw",value:function(e,t,n,r){var i=this.gl,a=this._activeGeometry;if(a.indexBuffer){var o=a.indexBuffer.data.BYTES_PER_ELEMENT,s=2===o?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?a.instanced?i.drawElementsInstanced(e,t||a.indexBuffer.data.length,s,(n||0)*o,r||1):i.drawElements(e,t||a.indexBuffer.data.length,s,(n||0)*o):console.warn("unsupported index buffer type: uint32")}else a.instanced?i.drawArraysInstanced(e,n,t||a.getSize(),r||1):i.drawArrays(e,n,t||a.getSize());return this}},{key:"unbind",value:function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}},{key:"destroy",value:function(){this.renderer=null}}]),e}();Be.extension={type:v.n.RendererSystem,name:"geometry"},v.R.add(Be);var De=new F.y3,Fe=function(){function e(t,n){(0,s.Z)(this,e),this._texture=t,this.mapCoord=new F.y3,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin="undefined"===typeof n?.5:n,this.isSimple=!1}return(0,u.Z)(e,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1}},{key:"multiplyUvs",value:function(e,t){void 0===t&&(t=e);for(var n=this.mapCoord,r=0;r<e.length;r+=2){var i=e[r],a=e[r+1];t[r]=i*n.a+a*n.c+n.tx,t[r+1]=i*n.b+a*n.d+n.ty}return t}},{key:"update",value:function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=t.orig,i=t.trim;i&&(De.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(De));var a=t.baseTexture,o=this.uClampFrame,s=this.clampMargin/a.resolution,u=this.clampOffset;return o[0]=(t._frame.x+s+u)/a.width,o[1]=(t._frame.y+s+u)/a.height,o[2]=(t._frame.x+t._frame.width-s+u)/a.width,o[3]=(t._frame.y+t._frame.height-s+u)/a.height,this.uClampOffset[0]=u/a.realWidth,this.uClampOffset[1]=u/a.realHeight,this.isSimple=t._frame.width===a.width&&t._frame.height===a.height&&0===t.rotate,!0}}]),e}(),Ze=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i){var a;(0,s.Z)(this,n);var o=null;return"string"!==typeof e&&void 0===r&&void 0===i&&(o=e,e=void 0,r=void 0,i=void 0),(a=t.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",r||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",i)).maskSprite=o,a.maskMatrix=new F.y3,a}return(0,u.Z)(n,[{key:"maskSprite",get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}},{key:"apply",value:function(e,t,n,r){var i=this._maskSprite,a=i._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new Fe(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,t,n,r))}}]),n}(ce),Ve=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,s.Z)(this,e),this.type=i.A7.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ce.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return(0,u.Z)(e,[{key:"filter",get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}},{key:"reset",value:function(){this.pooled&&(this.maskObject=null,this.type=i.A7.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}},{key:"copyCountersOrReset",value:function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}]),e}(),je=function(){function e(t){(0,s.Z)(this,e),this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return(0,u.Z)(e,[{key:"setMaskStack",value:function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}},{key:"push",value:function(e,t){var n=t;if(!n.isMaskData){var r=this.maskDataPool.pop()||new Ve;r.pooled=!0,r.maskObject=t,n=r}var a=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n._colorMask=a?a._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==i.A7.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case i.A7.SCISSOR:this.renderer.scissor.push(n);break;case i.A7.STENCIL:this.renderer.stencil.push(n);break;case i.A7.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case i.A7.COLOR:this.pushColorMask(n)}n.type===i.A7.SPRITE&&this.maskStack.push(n)}},{key:"pop",value:function(e){var t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case i.A7.SCISSOR:this.renderer.scissor.pop(t);break;case i.A7.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case i.A7.SPRITE:this.popSpriteMask(t);break;case i.A7.COLOR:this.popColorMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){var n=this.maskStack[this.maskStack.length-1];n.type===i.A7.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}},{key:"detect",value:function(e){var t=e.maskObject;t?t.isSprite?e.type=i.A7.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=i.A7.SCISSOR:e.type=i.A7.STENCIL:e.type=i.A7.COLOR}},{key:"pushSpriteMask",value:function(e){var t=e.maskObject,n=e._target,r=e._filters;r||(r=this.alphaMaskPool[this.alphaMaskIndex])||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new Ze]);var i,a,o=this.renderer,s=o.renderTexture;if(s.current){var u,l=s.current;i=e.resolution||l.resolution,a=null!==(u=e.multisample)&&void 0!==u?u:l.multisample}else{var c;i=e.resolution||o.resolution,a=null!==(c=e.multisample)&&void 0!==c?c:o.multisample}r[0].resolution=i,r[0].multisample=a,r[0].maskSprite=t;var h=n.filterArea;n.filterArea=t.getBounds(!0),o.filter.push(n,r),n.filterArea=h,e._filters||this.alphaMaskIndex++}},{key:"popSpriteMask",value:function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}},{key:"pushColorMask",value:function(e){var t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask(0!==(1&n),0!==(2&n),0!==(4&n),0!==(8&n))}},{key:"popColorMask",value:function(e){var t=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask(0!==(1&n),0!==(2&n),0!==(4&n),0!==(8&n))}},{key:"destroy",value:function(){this.renderer=null}}]),e}();je.extension={type:v.n.RendererSystem,name:"mask"},v.R.add(je);var Ue=function(){function e(t){(0,s.Z)(this,e),this.renderer=t,this.maskStack=[],this.glConst=0}return(0,u.Z)(e,[{key:"getStackLength",value:function(){return this.maskStack.length}},{key:"setMaskStack",value:function(e){var t=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var r=this.getStackLength();r!==n&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}},{key:"_useCurrent",value:function(){}},{key:"destroy",value:function(){this.renderer=null,this.maskStack=null}}]),e}(),Ye=new F.y3,Xe=[],Ge=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).glConst=a.Xd.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,r}return(0,u.Z)(n,[{key:"getStackLength",value:function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}},{key:"calcScissorRect",value:function(e){var t;if(!e._scissorRectLocal){var n=e._scissorRect,r=e.maskObject,i=this.renderer,a=i.renderTexture,o=r.getBounds(!0,null!==(t=Xe.pop())&&void 0!==t?t:new F.Ae);this.roundFrameToPixels(o,a.current?a.current.resolution:i.resolution,a.sourceFrame,a.destinationFrame,i.projection.transform),n&&o.fit(n),e._scissorRectLocal=o}}},{key:"testScissor",value:function(e){var t=e.maskObject;if(!t.isFastRect||!t.isFastRect())return!1;if(n.isMatrixRotated(t.worldTransform))return!1;if(n.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0}},{key:"roundFrameToPixels",value:function(e,t,r,i,a){n.isMatrixRotated(a)||((a=a?Ye.copyFrom(a):Ye.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.renderer.filter.transformAABB(a,e),e.fit(i),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}},{key:"push",value:function(e){e._scissorRectLocal||this.calcScissorRect(e);var t=this.renderer.gl;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}},{key:"pop",value:function(e){var t=this.renderer.gl;e&&Xe.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}},{key:"_useCurrent",value:function(){var e,t=this.maskStack[this.maskStack.length-1]._scissorRect;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}}],[{key:"isMatrixRotated",value:function(e){if(!e)return!1;var t=e.a,n=e.b,r=e.c,i=e.d;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(i)>1e-4)}}]),n}(Ue);Ge.extension={type:v.n.RendererSystem,name:"scissor"},v.R.add(Ge);var We=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).glConst=a.Xd.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,r}return(0,u.Z)(n,[{key:"getStackLength",value:function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}},{key:"push",value:function(e){var t=e.maskObject,n=this.renderer.gl,r=e._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;var i=e._colorMask;0!==i&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,r,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==i&&(e._colorMask=i,n.colorMask(0!==(1&i),0!==(2&i),0!==(4&i),0!==(8&i))),this._useCurrent()}},{key:"pop",value:function(e){var t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{var n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,r=n?n._colorMask:15;0!==r&&(n._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==r&&(n._colorMask=r,t.colorMask(0!==(1&r),0!==(2&r),0!==(4&r),0!==(8&r))),this._useCurrent()}}},{key:"_useCurrent",value:function(){var e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}]),n}(Ue);We.extension={type:v.n.RendererSystem,name:"stencil"},v.R.add(We);var He=function(){function e(t){(0,s.Z)(this,e),this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:function(){return(0,o.deprecation)("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get:function(){return(0,o.deprecation)("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get:function(){return(0,o.deprecation)("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}return(0,u.Z)(e,[{key:"init",value:function(){var e=this.rendererPlugins;for(var t in e)this.plugins[t]=new e[t](this.renderer)}},{key:"destroy",value:function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}]),e}();He.extension={type:[v.n.RendererSystem,v.n.CanvasRendererSystem],name:"_plugin"},v.R.add(He);var ze=function(){function e(t){(0,s.Z)(this,e),this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new F.y3,this.transform=null}return(0,u.Z)(e,[{key:"update",value:function(e,t,n,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)}},{key:"calculateProjection",value:function(e,t,n,r){var i=this.projectionMatrix,a=r?-1:1;i.identity(),i.a=1/t.width*2,i.d=a*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-a-t.y*i.d}},{key:"setTransform",value:function(e){}},{key:"destroy",value:function(){this.renderer=null}}]),e}();ze.extension={type:v.n.RendererSystem,name:"projection"},v.R.add(ze);var qe=n(4925),$e=["region"],Ke=new F.wx,Je=function(){function e(t){(0,s.Z)(this,e),this.renderer=t,this._tempMatrix=new F.y3}return(0,u.Z)(e,[{key:"generateTexture",value:function(e,t){var n=t||{},i=n.region,a=(0,qe.Z)(n,$e),o=i||e.getLocalBounds(null,!0);0===o.width&&(o.width=1),0===o.height&&(o.height=1);var s=Ee.create((0,r.Z)({width:o.width,height:o.height},a));this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;var u=e.transform;return e.transform=Ke,this.renderer.render(e,{renderTexture:s,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=u,s}},{key:"destroy",value:function(){}}]),e}();Je.extension={type:[v.n.RendererSystem,v.n.CanvasRendererSystem],name:"textureGenerator"},v.R.add(Je);var Qe=new F.Ae,et=new F.Ae,tt=function(){function e(t){(0,s.Z)(this,e),this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new F.Ae,this.destinationFrame=new F.Ae,this.viewportFrame=new F.Ae}return(0,u.Z)(e,[{key:"bind",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=this.renderer;this.current=r,r?(n=(e=r.baseTexture).resolution,i||(Qe.width=r.frame.width,Qe.height=r.frame.height,i=Qe),a||(et.x=r.frame.x,et.y=r.frame.y,et.width=i.width,et.height=i.height,a=et),t=e.framebuffer):(n=o.resolution,i||(Qe.width=o._view.screen.width,Qe.height=o._view.screen.height,i=Qe),a||((a=Qe).width=i.width,a.height=i.height));var s=this.viewportFrame;s.x=a.x*n,s.y=a.y*n,s.width=a.width*n,s.height=a.height*n,r||(s.y=o.view.height-(s.y+s.height)),s.ceil(),this.renderer.framebuffer.bind(t,s),this.renderer.projection.update(a,i,n,!t),r?this.renderer.mask.setMaskStack(e.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(i),this.destinationFrame.copyFrom(a)}},{key:"clear",value:function(e,t){var n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,r=e?p.I.shared.setValue(e):n,i=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,o=i.width!==a.width||i.height!==a.height;if(o){var s=this.viewportFrame,u=s.x,l=s.y,c=s.width,h=s.height;u=Math.round(u),l=Math.round(l),c=Math.round(c),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,l,c,h)}this.renderer.framebuffer.clear(r.red,r.green,r.blue,r.alpha,t),o&&this.renderer.scissor.pop()}},{key:"resize",value:function(){this.bind(null)}},{key:"reset",value:function(){this.bind(null)}},{key:"destroy",value:function(){this.renderer=null}}]),e}();tt.extension={type:v.n.RendererSystem,name:"renderTexture"},v.R.add(tt);var nt=function(){function e(t,n){(0,s.Z)(this,e),this.program=t,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return(0,u.Z)(e,[{key:"destroy",value:function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}]),e}();function rt(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function it(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}function at(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return it(2*t);case"bvec3":return it(3*t);case"bvec4":return it(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function ot(e,t){var n,r=e.getShaderSource(t).split("\n").map((function(e,t){return"".concat(t,": ").concat(e)})),i=e.getShaderInfoLog(t),a=i.split("\n"),o={},s=a.map((function(e){return parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(e){return!(!e||o[e])&&(o[e]=!0,!0)})),u=[""];s.forEach((function(e){r[e-1]="%c".concat(r[e-1],"%c"),u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var l=r.join("\n");u[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),(n=console).warn.apply(n,u),console.groupEnd()}function st(e,t){var n,r=rt(e,e.VERTEX_SHADER,t.vertexSrc),i=rt(e,e.FRAGMENT_SHADER,t.fragmentSrc),a=e.createProgram();e.attachShader(a,r),e.attachShader(a,i);var o=null===(n=t.extra)||void 0===n?void 0:n.transformFeedbackVaryings;if(o&&("function"!==typeof e.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(a,o.names,"separate"===o.bufferMode?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||function(e,t,n,r){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||ot(e,n),e.getShaderParameter(r,e.COMPILE_STATUS)||ot(e,r),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}(e,a,r,i),t.attributeData=function(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=t.getActiveAttrib(e,i);if(!a.name.startsWith("gl_")){var o=$(t,a.type),s={type:o,name:a.name,size:H(o),location:t.getAttribLocation(e,a.name)};n[a.name]=s}}return n}(a,e),t.uniformData=function(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;i++){var a=t.getActiveUniform(e,i),o=a.name.replace(/\[.*?\]$/,""),s=!!a.name.match(/\[.*?\]$/),u=$(t,a.type);n[o]={name:o,index:i,type:u,size:a.size,isArray:s,value:at(u,a.size)}}return n}(a,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var s=Object.keys(t.attributeData);s.sort((function(e,t){return e>t?1:-1}));for(var u=0;u<s.length;u++)t.attributeData[s[u]].location=u,e.bindAttribLocation(a,u,s[u]);e.linkProgram(a)}e.deleteShader(r),e.deleteShader(i);var l={};for(var c in t.uniformData){var h=t.uniformData[c];l[c]={location:e.getUniformLocation(a,c),value:at(h.type,h.size)}}return new nt(a,l)}function ut(e,t,n,r,i){n.buffer.update(i)}var lt,ct={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},ht={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function ft(e,t){if(!e.autoManage)return{size:0,syncFunc:ut};for(var n=function(e,t){var n=[];for(var r in e)t[r]&&n.push(t[r]);return n.sort((function(e,t){return e.index-t.index})),n}(e.uniforms,t),r=function(e){for(var t=e.map((function(e){return{data:e,offset:0,dataLen:0,dirty:0}})),n=0,r=0,i=0,a=0;a<t.length;a++){var o=t[a];if(n=ht[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){var s=r%n%16;r+=s,i+=s}r+n>16?(i=16*Math.ceil(i/16),o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return{uboElements:t,size:i=16*Math.ceil(i/16)}}(n),i=r.uboElements,a=r.size,o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],s=0;s<i.length;s++){for(var u=i[s],l=e.uniforms[u.data.name],c=u.data.name,h=!1,f=0;f<Z.length;f++){var d=Z[f];if(d.codeUbo&&d.test(u.data,l)){o.push("offset = ".concat(u.offset/4,";"),Z[f].codeUbo(u.data.name,l)),h=!0;break}}if(!h)if(u.data.size>1){var p=H(u.data.type),v=Math.max(ht[u.data.type]/16,1),m=p/v,g=(4-m%4)%4;o.push("\n                cv = ud.".concat(c,".value;\n                v = uv.").concat(c,";\n                offset = ").concat(u.offset/4,";\n\n                t = 0;\n\n                for(var i=0; i < ").concat(u.data.size*v,"; i++)\n                {\n                    for(var j = 0; j < ").concat(m,"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ").concat(g,";\n                }\n\n                "))}else{var y=ct[u.data.type];o.push("\n                cv = ud.".concat(c,".value;\n                v = uv.").concat(c,";\n                offset = ").concat(u.offset/4,";\n                ").concat(y,";\n                "))}}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}var dt=0,pt={textureCount:0,uboCount:0},vt=function(){function e(t){(0,s.Z)(this,e),this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=dt++}return(0,u.Z)(e,[{key:"systemCheck",value:function(){if(!function(){if("boolean"===typeof lt)return lt;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");lt=!0===e({a:"b"},"a","b")}catch(t){lt=!1}return lt}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}},{key:"contextChange",value:function(e){this.gl=e,this.reset()}},{key:"bind",value:function(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),t||(pt.textureCount=0,pt.uboCount=0,this.syncUniformGroup(e.uniformGroup,pt)),r}},{key:"setUniforms",value:function(e){var t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)}},{key:"syncUniformGroup",value:function(e,t){var n=this.getGlProgram();e.static&&e.dirtyId===n.uniformDirtyGroups[e.id]||(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))}},{key:"syncUniforms",value:function(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)}},{key:"createSyncGroups",value:function(e){var t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=function(e,t){var n=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in e.uniforms){var i=t[r];if(i){for(var a=e.uniforms[r],o=!1,s=0;s<Z.length;s++)if(Z[s].test(i,a)){n.push(Z[s].code(r,a)),o=!0;break}if(!o){var u=(1!==i.size||i.isArray?j:V)[i.type].replace("location",'ud["'.concat(r,'"].location'));n.push('\n            cu = ud["'.concat(r,'"];\n            cv = cu.value;\n            v = uv["').concat(r,'"];\n            ').concat(u,";"))}}else{var l;null!==(l=e.uniforms[r])&&void 0!==l&&l.group&&(e.uniforms[r].ubo?n.push("\n                        renderer.shader.syncUniformBufferGroup(uv.".concat(r,", '").concat(r,"');\n                    ")):n.push("\n                        renderer.shader.syncUniformGroup(uv.".concat(r,", syncData);\n                    ")))}}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}},{key:"syncUniformBufferGroup",value:function(e,t){var n=this.getGlProgram();if(!e.static||0!==e.dirtyId||!n.uniformGroups[e.id]){e.dirtyId=0;var r=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),r(n.uniformData,e.uniforms,this.renderer,pt,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])}},{key:"createSyncBufferGroup",value:function(e,t,n){var r=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var i=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,r.uniformBlockBinding(t.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;var a=this.getSignature(e,this.shader.program.uniformData,"ubo"),o=this._uboCache[a];if(o||(o=this._uboCache[a]=ft(e,this.shader.program.uniformData)),e.autoManage){var s=new Float32Array(o.size/4);e.buffer.update(s)}return t.uniformGroups[e.id]=o.syncFunc,t.uniformGroups[e.id]}},{key:"getSignature",value:function(e,t,n){var r=e.uniforms,i=["".concat(n,"-")];for(var a in r)i.push(a),t[a]&&i.push(t[a].type);return i.join("-")}},{key:"getGlProgram",value:function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}},{key:"generateProgram",value:function(e){var t=this.gl,n=e.program,r=st(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=r,r}},{key:"reset",value:function(){this.program=null,this.shader=null}},{key:"disposeShader",value:function(e){this.shader===e&&(this.shader=null)}},{key:"destroy",value:function(){this.renderer=null,this.destroyed=!0}}]),e}();vt.extension={type:v.n.RendererSystem,name:"shader"},v.R.add(vt);var mt=function(){function e(t){(0,s.Z)(this,e),this.renderer=t}return(0,u.Z)(e,[{key:"run",value:function(e){var t=this.renderer;t.runners.init.emit(t.options),e.hello&&console.log("PixiJS ".concat("7.2.3"," - ",t.rendererLogId," - https://pixijs.com")),t.resize(t.screen.width,t.screen.height)}},{key:"destroy",value:function(){}}]),e}();mt.defaultOptions={hello:!1},mt.extension={type:[v.n.RendererSystem,v.n.CanvasRendererSystem],name:"startup"},v.R.add(mt);var gt=function(){function e(){(0,s.Z)(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=i.T$.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new b,this.defaultState.blend=!0}return(0,u.Z)(e,[{key:"contextChange",value:function(e){this.gl=e,this.blendModes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[i.T$.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.ADD]=[e.ONE,e.ONE],t[i.T$.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.NONE]=[0,0],t[i.T$.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[i.T$.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.T$.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[i.T$.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[i.T$.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[i.T$.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[i.T$.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[i.T$.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[i.T$.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[i.T$.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[i.T$.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()}},{key:"set",value:function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,n=0;t;)1&t&&this.map[n].call(this,!!(e.data&1<<n)),t>>=1,n++;this.stateId=e.data}for(var r=0;r<this.checks.length;r++)this.checks[r](this,e)}},{key:"forceState",value:function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(var n=0;n<this.checks.length;n++)this.checks[n](this,e);this.stateId=e.data}},{key:"setBlend",value:function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}},{key:"setOffset",value:function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}},{key:"setDepthTest",value:function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}},{key:"setDepthMask",value:function(e){this.gl.depthMask(e)}},{key:"setCullFace",value:function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}},{key:"setFrontFace",value:function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}},{key:"setBlendMode",value:function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],n=this.gl;2===t.length?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}}},{key:"setPolygonOffset",value:function(e,t){this.gl.polygonOffset(e,t)}},{key:"reset",value:function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}},{key:"updateCheck",value:function(e,t){var n=this.checks.indexOf(e);t&&-1===n?this.checks.push(e):t||-1===n||this.checks.splice(n,1)}},{key:"destroy",value:function(){this.gl=null}}],[{key:"checkBlendMode",value:function(e,t){e.setBlendMode(t.blendMode)}},{key:"checkPolygonOffset",value:function(e,t){e.setPolygonOffset(1,t.polygonOffset)}}]),e}(),yt=gt;yt.extension={type:v.n.RendererSystem,name:"state"},v.R.add(yt);var bt=n(7762),xt=n(3433),_t=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.apply(this,arguments)).runners={},e._systemsHash={},e}return(0,u.Z)(n,[{key:"setup",value:function(e){var t;this.addRunners.apply(this,(0,xt.Z)(e.runners));var n,r=(null!==(t=e.priority)&&void 0!==t?t:[]).filter((function(t){return e.systems[t]})),i=[].concat((0,xt.Z)(r),(0,xt.Z)(Object.keys(e.systems).filter((function(e){return!r.includes(e)})))),a=(0,bt.Z)(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;this.addSystem(e.systems[o],o)}}catch(s){a.e(s)}finally{a.f()}}},{key:"addRunners",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e.runners[t]=new w(t)}))}},{key:"addSystem",value:function(e,t){var n=new e(this);if(this[t])throw new Error('Whoops! The name "'.concat(t,'" is already in use'));for(var r in this[t]=n,this._systemsHash[t]=n,this.runners)this.runners[r].add(n);return this}},{key:"emitWithCustomOptions",value:function(e,t){var n=this,r=Object.keys(this._systemsHash);e.items.forEach((function(i){var a=r.find((function(e){return n._systemsHash[e]===i}));i[e.name](t[a])}))}},{key:"destroy",value:function(){Object.values(this.runners).forEach((function(e){e.destroy()})),this._systemsHash={}}}]),n}(o.EventEmitter),wt=function(){function e(t){(0,s.Z)(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=e.defaultMaxIdle,this.checkCountMax=e.defaultCheckCountMax,this.mode=e.defaultMode}return(0,u.Z)(e,[{key:"postrender",value:function(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==i.UN.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}},{key:"run",value:function(){for(var e=this.renderer.texture,t=e.managedTextures,n=!1,r=0;r<t.length;r++){var i=t[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[r]=null,n=!0)}if(n){for(var a=0,o=0;o<t.length;o++)null!==t[o]&&(t[a++]=t[o]);t.length=a}}},{key:"unload",value:function(e){var t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(var r=e.children.length-1;r>=0;r--)this.unload(e.children[r])}},{key:"destroy",value:function(){this.renderer=null}}]),e}();wt.defaultMode=i.UN.AUTO,wt.defaultMaxIdle=3600,wt.defaultCheckCountMax=600,wt.extension={type:v.n.RendererSystem,name:"textureGC"},v.R.add(wt);var kt=(0,u.Z)((function e(t){(0,s.Z)(this,e),this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=i.vK.UNSIGNED_BYTE,this.internalFormat=i.I2.RGBA,this.samplerType=0})),Et=n(4942);var Tt=function(){function e(t){(0,s.Z)(this,e),this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new A,this.hasIntegerTextures=!1}return(0,u.Z)(e,[{key:"contextChange",value:function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(e){var t,n,r,a,o,s,u,l,c,h,f,d,p;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?(f={},(0,Et.Z)(f,i.vK.UNSIGNED_BYTE,(n={},(0,Et.Z)(n,i.I2.RGBA,e.RGBA8),(0,Et.Z)(n,i.I2.RGB,e.RGB8),(0,Et.Z)(n,i.I2.RG,e.RG8),(0,Et.Z)(n,i.I2.RED,e.R8),(0,Et.Z)(n,i.I2.RGBA_INTEGER,e.RGBA8UI),(0,Et.Z)(n,i.I2.RGB_INTEGER,e.RGB8UI),(0,Et.Z)(n,i.I2.RG_INTEGER,e.RG8UI),(0,Et.Z)(n,i.I2.RED_INTEGER,e.R8UI),(0,Et.Z)(n,i.I2.ALPHA,e.ALPHA),(0,Et.Z)(n,i.I2.LUMINANCE,e.LUMINANCE),(0,Et.Z)(n,i.I2.LUMINANCE_ALPHA,e.LUMINANCE_ALPHA),n)),(0,Et.Z)(f,i.vK.BYTE,(r={},(0,Et.Z)(r,i.I2.RGBA,e.RGBA8_SNORM),(0,Et.Z)(r,i.I2.RGB,e.RGB8_SNORM),(0,Et.Z)(r,i.I2.RG,e.RG8_SNORM),(0,Et.Z)(r,i.I2.RED,e.R8_SNORM),(0,Et.Z)(r,i.I2.RGBA_INTEGER,e.RGBA8I),(0,Et.Z)(r,i.I2.RGB_INTEGER,e.RGB8I),(0,Et.Z)(r,i.I2.RG_INTEGER,e.RG8I),(0,Et.Z)(r,i.I2.RED_INTEGER,e.R8I),r)),(0,Et.Z)(f,i.vK.UNSIGNED_SHORT,(a={},(0,Et.Z)(a,i.I2.RGBA_INTEGER,e.RGBA16UI),(0,Et.Z)(a,i.I2.RGB_INTEGER,e.RGB16UI),(0,Et.Z)(a,i.I2.RG_INTEGER,e.RG16UI),(0,Et.Z)(a,i.I2.RED_INTEGER,e.R16UI),(0,Et.Z)(a,i.I2.DEPTH_COMPONENT,e.DEPTH_COMPONENT16),a)),(0,Et.Z)(f,i.vK.SHORT,(o={},(0,Et.Z)(o,i.I2.RGBA_INTEGER,e.RGBA16I),(0,Et.Z)(o,i.I2.RGB_INTEGER,e.RGB16I),(0,Et.Z)(o,i.I2.RG_INTEGER,e.RG16I),(0,Et.Z)(o,i.I2.RED_INTEGER,e.R16I),o)),(0,Et.Z)(f,i.vK.UNSIGNED_INT,(s={},(0,Et.Z)(s,i.I2.RGBA_INTEGER,e.RGBA32UI),(0,Et.Z)(s,i.I2.RGB_INTEGER,e.RGB32UI),(0,Et.Z)(s,i.I2.RG_INTEGER,e.RG32UI),(0,Et.Z)(s,i.I2.RED_INTEGER,e.R32UI),(0,Et.Z)(s,i.I2.DEPTH_COMPONENT,e.DEPTH_COMPONENT24),s)),(0,Et.Z)(f,i.vK.INT,(u={},(0,Et.Z)(u,i.I2.RGBA_INTEGER,e.RGBA32I),(0,Et.Z)(u,i.I2.RGB_INTEGER,e.RGB32I),(0,Et.Z)(u,i.I2.RG_INTEGER,e.RG32I),(0,Et.Z)(u,i.I2.RED_INTEGER,e.R32I),u)),(0,Et.Z)(f,i.vK.FLOAT,(l={},(0,Et.Z)(l,i.I2.RGBA,e.RGBA32F),(0,Et.Z)(l,i.I2.RGB,e.RGB32F),(0,Et.Z)(l,i.I2.RG,e.RG32F),(0,Et.Z)(l,i.I2.RED,e.R32F),(0,Et.Z)(l,i.I2.DEPTH_COMPONENT,e.DEPTH_COMPONENT32F),l)),(0,Et.Z)(f,i.vK.HALF_FLOAT,(c={},(0,Et.Z)(c,i.I2.RGBA,e.RGBA16F),(0,Et.Z)(c,i.I2.RGB,e.RGB16F),(0,Et.Z)(c,i.I2.RG,e.RG16F),(0,Et.Z)(c,i.I2.RED,e.R16F),c)),(0,Et.Z)(f,i.vK.UNSIGNED_SHORT_5_6_5,(0,Et.Z)({},i.I2.RGB,e.RGB565)),(0,Et.Z)(f,i.vK.UNSIGNED_SHORT_4_4_4_4,(0,Et.Z)({},i.I2.RGBA,e.RGBA4)),(0,Et.Z)(f,i.vK.UNSIGNED_SHORT_5_5_5_1,(0,Et.Z)({},i.I2.RGBA,e.RGB5_A1)),(0,Et.Z)(f,i.vK.UNSIGNED_INT_2_10_10_10_REV,(h={},(0,Et.Z)(h,i.I2.RGBA,e.RGB10_A2),(0,Et.Z)(h,i.I2.RGBA_INTEGER,e.RGB10_A2UI),h)),(0,Et.Z)(f,i.vK.UNSIGNED_INT_10F_11F_11F_REV,(0,Et.Z)({},i.I2.RGB,e.R11F_G11F_B10F)),(0,Et.Z)(f,i.vK.UNSIGNED_INT_5_9_9_9_REV,(0,Et.Z)({},i.I2.RGB,e.RGB9_E5)),(0,Et.Z)(f,i.vK.UNSIGNED_INT_24_8,(0,Et.Z)({},i.I2.DEPTH_STENCIL,e.DEPTH24_STENCIL8)),(0,Et.Z)(f,i.vK.FLOAT_32_UNSIGNED_INT_24_8_REV,(0,Et.Z)({},i.I2.DEPTH_STENCIL,e.DEPTH32F_STENCIL8)),t=f):(p={},(0,Et.Z)(p,i.vK.UNSIGNED_BYTE,(d={},(0,Et.Z)(d,i.I2.RGBA,e.RGBA),(0,Et.Z)(d,i.I2.RGB,e.RGB),(0,Et.Z)(d,i.I2.ALPHA,e.ALPHA),(0,Et.Z)(d,i.I2.LUMINANCE,e.LUMINANCE),(0,Et.Z)(d,i.I2.LUMINANCE_ALPHA,e.LUMINANCE_ALPHA),d)),(0,Et.Z)(p,i.vK.UNSIGNED_SHORT_5_6_5,(0,Et.Z)({},i.I2.RGB,e.RGB)),(0,Et.Z)(p,i.vK.UNSIGNED_SHORT_4_4_4_4,(0,Et.Z)({},i.I2.RGBA,e.RGBA)),(0,Et.Z)(p,i.vK.UNSIGNED_SHORT_5_5_5_1,(0,Et.Z)({},i.I2.RGBA,e.RGBA)),t=p),t}(e);var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};var r=new kt(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new kt(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var a=0;a<6;a++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var o=0;o<this.boundTextures.length;o++)this.bind(null,o)}},{key:"bind",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.gl;if(null!==(n=e=null===(t=e)||void 0===t?void 0:t.castToBaseTexture())&&void 0!==n&&n.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var a=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(e.target,a.texture)),a.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),this.updateTexture(e)):a.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[r]=null}},{key:"reset",value:function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}},{key:"unbind",value:function(e){var t=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<n.length;r++)n[r]===this.unknownTexture&&this.bind(null,r)}for(var i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}},{key:"ensureSamplerType",value:function(e){var t=this.boundTextures,n=this.hasIntegerTextures,r=this.CONTEXT_UID;if(n)for(var a=e-1;a>=0;--a){var o=t[a];if(o)o._glTextures[r].samplerType!==i.oT.FLOAT&&this.renderer.texture.unbind(o)}}},{key:"initTexture",value:function(e){var t=new kt(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}},{key:"initTextureType",value:function(e,t){var n,r;t.internalFormat=null!==(n=null===(r=this.internalFormats[e.type])||void 0===r?void 0:r[e.format])&&void 0!==n?n:e.format,2===this.webGLVersion&&e.type===i.vK.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}},{key:"updateTexture",value:function(e){var t,n=e._glTextures[this.CONTEXT_UID];if(n){var r=this.renderer;if(this.initTextureType(e,n),null!==(t=e.resource)&&void 0!==t&&t.upload(r,e,n))n.samplerType!==i.oT.FLOAT&&(this.hasIntegerTextures=!0);else{var a=e.realWidth,o=e.realHeight,s=r.gl;(n.width!==a||n.height!==o||n.dirtyId<0)&&(n.width=a,n.height=o,s.texImage2D(e.target,0,n.internalFormat,a,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}}},{key:"destroyTexture",value:function(e,t){var n=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var r=this.managedTextures.indexOf(e);-1!==r&&(0,o.removeItems)(this.managedTextures,r,1)}}},{key:"updateTextureStyle",value:function(e){var t,n=e._glTextures[this.CONTEXT_UID];n&&(e.mipmap!==i.WB.POW2&&2===this.webGLVersion||e.isPowerOfTwo?n.mipmap=e.mipmap>=1:n.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?n.wrapMode=e.wrapMode:n.wrapMode=i.Nt.CLAMP,null!==(t=e.resource)&&void 0!==t&&t.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}},{key:"setStyle",value:function(e,t){var n=this.gl;if(t.mipmap&&e.mipmap!==i.WB.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===i.aH.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&e.anisotropicLevel>0&&e.scaleMode===i.aH.LINEAR){var a=Math.min(e.anisotropicLevel,n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,r.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===i.aH.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===i.aH.LINEAR?n.LINEAR:n.NEAREST)}},{key:"destroy",value:function(){this.renderer=null}}]),e}();Tt.extension={type:v.n.RendererSystem,name:"texture"},v.R.add(Tt);var St=function(){function e(t){(0,s.Z)(this,e),this.renderer=t}return(0,u.Z)(e,[{key:"contextChange",value:function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}},{key:"bind",value:function(e){var t=this.gl,n=this.CONTEXT_UID,r=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,r)}},{key:"unbind",value:function(){var e=this.gl;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}},{key:"beginTransformFeedback",value:function(e,t){var n=this.gl,r=this.renderer;t&&r.shader.bind(t),n.beginTransformFeedback(e)}},{key:"endTransformFeedback",value:function(){this.gl.endTransformFeedback()}},{key:"createGLTransformFeedback",value:function(e){var t=this.gl,n=this.renderer,r=this.CONTEXT_UID,i=t.createTransformFeedback();e._glTransformFeedbacks[r]=i,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i);for(var a=0;a<e.buffers.length;a++){var o=e.buffers[a];o&&(n.buffer.update(o),o._glBuffers[r].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,a,o._glBuffers[r].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),i}},{key:"disposeTransformFeedback",value:function(e,t){var n=e._glTransformFeedbacks[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this);var i=this.renderer.buffer;if(i)for(var a=0;a<e.buffers.length;a++){var o=e.buffers[a];if(o){var s=o._glBuffers[this.CONTEXT_UID];s&&(s.refCount--,0!==s.refCount||t||i.dispose(o,t))}}n&&(t||r.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}},{key:"destroy",value:function(){this.renderer=null}}]),e}();St.extension={type:v.n.RendererSystem,name:"transformFeedback"},v.R.add(St);var At=function(){function e(t){(0,s.Z)(this,e),this.renderer=t}return(0,u.Z)(e,[{key:"init",value:function(e){this.screen=new F.Ae(0,0,e.width,e.height),this.element=e.view||a.Xd.ADAPTER.createCanvas(),this.resolution=e.resolution||a.Xd.RESOLUTION,this.autoDensity=!!e.autoDensity}},{key:"resizeView",value:function(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);var n=this.element.width/this.resolution,r=this.element.height/this.resolution;this.screen.width=n,this.screen.height=r,this.autoDensity&&(this.element.style.width="".concat(n,"px"),this.element.style.height="".concat(r,"px")),this.renderer.emit("resize",n,r),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}},{key:"destroy",value:function(e){var t;e&&(null===(t=this.element.parentNode)||void 0===t||t.removeChild(this.element));this.renderer=null,this.element=null,this.screen=null}}]),e}();At.defaultOptions={width:800,height:600,resolution:a.Xd.RESOLUTION,autoDensity:!1},At.extension={type:[v.n.RendererSystem,v.n.CanvasRendererSystem],name:"_view"},v.R.add(At),a.Xd.PREFER_ENV=i.Vi.WEBGL2,a.Xd.STRICT_TEXTURE_CACHE=!1,a.Xd.RENDER_OPTIONS=(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},pe.defaultOptions),he.defaultOptions),At.defaultOptions),mt.defaultOptions),Object.defineProperties(a.Xd,{WRAP_MODE:{get:function(){return A.defaultOptions.wrapMode},set:function(e){(0,o.deprecation)("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),A.defaultOptions.wrapMode=e}},SCALE_MODE:{get:function(){return A.defaultOptions.scaleMode},set:function(e){(0,o.deprecation)("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),A.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get:function(){return A.defaultOptions.mipmap},set:function(e){(0,o.deprecation)("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),A.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get:function(){return A.defaultOptions.anisotropicLevel},set:function(e){(0,o.deprecation)("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),A.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get:function(){return(0,o.deprecation)("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),ce.defaultResolution},set:function(e){ce.defaultResolution=e}},FILTER_MULTISAMPLE:{get:function(){return(0,o.deprecation)("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),ce.defaultMultisample},set:function(e){ce.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get:function(){return le.defaultMaxTextures},set:function(e){(0,o.deprecation)("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),le.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get:function(){return le.defaultBatchSize},set:function(e){(0,o.deprecation)("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),le.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get:function(){return le.canUploadSameBuffer},set:function(e){(0,o.deprecation)("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),le.canUploadSameBuffer=e}},GC_MODE:{get:function(){return wt.defaultMode},set:function(e){(0,o.deprecation)("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),wt.defaultMode=e}},GC_MAX_IDLE:{get:function(){return wt.defaultMaxIdle},set:function(e){(0,o.deprecation)("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),wt.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get:function(){return wt.defaultCheckCountMax},set:function(e){(0,o.deprecation)("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),wt.defaultCheckCountMax=e}},PRECISION_VERTEX:{get:function(){return te.defaultVertexPrecision},set:function(e){(0,o.deprecation)("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),te.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get:function(){return te.defaultFragmentPrecision},set:function(e){(0,o.deprecation)("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),te.defaultFragmentPrecision=e}}});var Mt=n(4175),Pt=[];function Ct(e){var t,n=(0,bt.Z)(Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.test(e))return new r(e)}}catch(i){n.e(i)}finally{n.f()}throw new Error("Unable to auto-detect a suitable renderer.")}v.R.handleByList(v.n.Renderer,Pt);var It="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Rt="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Ot=function(){function e(t){(0,s.Z)(this,e),this.renderer=t}return(0,u.Z)(e,[{key:"contextChange",value:function(e){var t;if(1===this.renderer.context.webGLVersion){var n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{var r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=i.G5.HIGH?this.multisample=i.G5.HIGH:t>=i.G5.MEDIUM?this.multisample=i.G5.MEDIUM:t>=i.G5.LOW?this.multisample=i.G5.LOW:this.multisample=i.G5.NONE}},{key:"destroy",value:function(){}}]),e}();Ot.extension={type:v.n.RendererSystem,name:"_multisample"},v.R.add(Ot);var Lt=(0,u.Z)((function e(t){(0,s.Z)(this,e),this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0})),Nt=function(){function e(t){(0,s.Z)(this,e),this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return(0,u.Z)(e,[{key:"destroy",value:function(){this.renderer=null}},{key:"contextChange",value:function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}},{key:"bind",value:function(e){var t=this.gl,n=this.CONTEXT_UID,r=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,r.buffer)}},{key:"unbind",value:function(e){this.gl.bindBuffer(e,null)}},{key:"bindBufferBase",value:function(e,t){var n=this.gl,r=this.CONTEXT_UID;if(this.boundBufferBases[t]!==e){var i=e._glBuffers[r]||this.createGLBuffer(e);this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,i.buffer)}}},{key:"bindBufferRange",value:function(e,t,n){var r=this.gl,i=this.CONTEXT_UID;n=n||0;var a=e._glBuffers[i]||this.createGLBuffer(e);r.bindBufferRange(r.UNIFORM_BUFFER,t||0,a.buffer,256*n,256)}},{key:"update",value:function(e){var t=this.gl,n=this.CONTEXT_UID,r=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==r.updateID)if(r.updateID=e._updateID,t.bindBuffer(e.type,r.buffer),r.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{var i=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;r.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,i)}}},{key:"dispose",value:function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this),n&&(t||r.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}}},{key:"disposeAll",value:function(e){for(var t=Object.keys(this.managedBuffers),n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)}},{key:"createGLBuffer",value:function(e){var t=this.CONTEXT_UID,n=this.gl;return e._glBuffers[t]=new Lt(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}]),e}();Nt.extension={type:v.n.RendererSystem,name:"buffer"},v.R.add(Nt);var Bt=function(){function e(t){(0,s.Z)(this,e),this.renderer=t}return(0,u.Z)(e,[{key:"render",value:function(e,t){var n,r,i,a,o,s=this.renderer;if(t&&(r=t.renderTexture,i=t.clear,a=t.transform,o=t.skipUpdateTransform),this.renderingToScreen=!r,s.runners.prerender.emit(),s.emit("prerender"),s.projection.transform=a,!s.context.isLost){if(r||(this.lastObjectRendered=e),!o){var u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}s.renderTexture.bind(r),s.batch.currentRenderer.start(),(null!==(n=i)&&void 0!==n?n:s.background.clearBeforeRender)&&s.renderTexture.clear(),e.render(s),s.batch.currentRenderer.flush(),r&&(t.blit&&s.framebuffer.blit(),r.baseTexture.update()),s.runners.postrender.emit(),s.projection.transform=null,s.emit("postrender")}}},{key:"destroy",value:function(){this.renderer=null,this.lastObjectRendered=null}}]),e}();Bt.extension={type:v.n.RendererSystem,name:"objectRenderer"},v.R.add(Bt);var Dt=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;(0,s.Z)(this,n),(r=t.call(this)).type=i.N3.WEBGL,e=Object.assign({},a.Xd.RENDER_OPTIONS,e),r.gl=null,r.CONTEXT_UID=0,r.globalUniforms=new re({projectionMatrix:new F.y3},!0);var u={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:n.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};return r.setup(u),"useContextAlpha"in e&&((0,o.deprecation)("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&"notMultiplied"!==e.useContextAlpha,e.backgroundAlpha=!1===e.useContextAlpha?1:e.backgroundAlpha),r._plugin.rendererPlugins=n.__plugins,r.options=e,r.startup.run(r.options),r}return(0,u.Z)(n,[{key:"render",value:function(e,t){this.objectRenderer.render(e,t)}},{key:"resize",value:function(e,t){this._view.resizeView(e,t)}},{key:"reset",value:function(){return this.runners.reset.emit(),this}},{key:"clear",value:function(){this.renderTexture.bind(),this.renderTexture.clear()}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),(0,c.Z)((0,h.Z)(n.prototype),"destroy",this).call(this)}},{key:"plugins",get:function(){return this._plugin.plugins}},{key:"multisample",get:function(){return this._multisample.multisample}},{key:"width",get:function(){return this._view.element.width}},{key:"height",get:function(){return this._view.element.height}},{key:"resolution",get:function(){return this._view.resolution},set:function(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}},{key:"autoDensity",get:function(){return this._view.autoDensity}},{key:"view",get:function(){return this._view.element}},{key:"screen",get:function(){return this._view.screen}},{key:"lastObjectRendered",get:function(){return this.objectRenderer.lastObjectRendered}},{key:"renderingToScreen",get:function(){return this.objectRenderer.renderingToScreen}},{key:"rendererLogId",get:function(){return"WebGL ".concat(this.context.webGLVersion)}},{key:"clearBeforeRender",get:function(){return(0,o.deprecation)("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}},{key:"useContextAlpha",get:function(){return(0,o.deprecation)("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}},{key:"preserveDrawingBuffer",get:function(){return(0,o.deprecation)("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}},{key:"backgroundColor",get:function(){return(0,o.deprecation)("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color},set:function(e){(0,o.deprecation)("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}},{key:"backgroundAlpha",get:function(){return(0,o.deprecation)("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha},set:function(e){(0,o.deprecation)("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}},{key:"powerPreference",get:function(){return(0,o.deprecation)("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}},{key:"generateTexture",value:function(e,t){return this.textureGenerator.generateTexture(e,t)}}],[{key:"test",value:function(e){return(null===e||void 0===e||!e.forceCanvas)&&(0,o.isWebGLSupported)()}}]),n}(_t),Ft=Dt;Ft.extension={type:v.n.Renderer,priority:1},Ft.__plugins={},Ft.__systems={},v.R.handleByMap(v.n.RendererPlugin,Ft.__plugins),v.R.handleByMap(v.n.RendererSystem,Ft.__systems),v.R.add(Ft);var Zt=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e,r){var i;(0,s.Z)(this,n);var a=r||{},o=a.width,u=a.height;(i=t.call(this,o,u)).items=[],i.itemDirtyIds=[];for(var l=0;l<e;l++){var c=new A;i.items.push(c),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return(0,u.Z)(n,[{key:"initFromArray",value:function(e,t){for(var n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof k?this.addResourceAt(e[n],n):this.addResourceAt(_(e[n],t),n))}},{key:"dispose",value:function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}},{key:"addResourceAt",value:function(e,t){if(!this.items[t])throw new Error("Index ".concat(t," is out of bounds"));return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}},{key:"bind",value:function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");(0,c.Z)((0,h.Z)(n.prototype),"bind",this).call(this,e);for(var t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}},{key:"unbind",value:function(e){(0,c.Z)((0,h.Z)(n.prototype),"unbind",this).call(this,e);for(var t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}},{key:"load",value:function(){var e=this;if(this._load)return this._load;var t=this.items.map((function(e){return e.resource})).filter((function(e){return e})).map((function(e){return e.load()}));return this._load=Promise.all(t).then((function(){var t=e.items[0],n=t.realWidth,r=t.realHeight;return e.resize(n,r),Promise.resolve(e)})),this._load}}]),n}(k),Vt=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e,r){var i;(0,s.Z)(this,n);var a,o,u=r||{},l=u.width,c=u.height;return Array.isArray(e)?(a=e,o=e.length):o=e,i=t.call(this,o,{width:l,height:c}),a&&i.initFromArray(a,r),i}return(0,u.Z)(n,[{key:"addBaseTextureAt",value:function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this}},{key:"bind",value:function(e){(0,c.Z)((0,h.Z)(n.prototype),"bind",this).call(this,e),e.target=i.sp.TEXTURE_2D_ARRAY}},{key:"upload",value:function(e,t,n){var r=this.length,i=this.itemDirtyIds,a=this.items,o=e.gl;n.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,r,0,t.format,n.type,null);for(var s=0;s<r;s++){var u=a[s];i[s]<u.dirtyId&&(i[s]=u.dirtyId,u.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,s,u.resource.width,u.resource.height,1,t.format,n.type,u.resource.source))}return!0}}]),n}(Zt),jt=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e){return(0,s.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,null,[{key:"test",value:function(e){var t=globalThis.OffscreenCanvas;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}]),n}(ye),Ut=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e,r){var a;(0,s.Z)(this,n);var o=r||{},u=o.width,l=o.height,c=o.autoLoad,h=o.linkBaseTexture;if(e&&e.length!==n.SIDES)throw new Error("Invalid length. Got ".concat(e.length,", expected 6"));a=t.call(this,6,{width:u,height:l});for(var f=0;f<n.SIDES;f++)a.items[f].target=i.sp.TEXTURE_CUBE_MAP_POSITIVE_X+f;return a.linkBaseTexture=!1!==h,e&&a.initFromArray(e,r),!1!==c&&a.load(),a}return(0,u.Z)(n,[{key:"bind",value:function(e){(0,c.Z)((0,h.Z)(n.prototype),"bind",this).call(this,e),e.target=i.sp.TEXTURE_CUBE_MAP}},{key:"addBaseTextureAt",value:function(e,t,n){if(void 0===n&&(n=this.linkBaseTexture),!this.items[t])throw new Error("Index ".concat(t," is out of bounds"));if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=i.sp.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}},{key:"upload",value:function(e,t,r){for(var i=this.itemDirtyIds,a=0;a<n.SIDES;a++){var o=this.items[a];(i[a]<o.dirtyId||r.dirtyId<t.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,r),i[a]=o.dirtyId):i[a]<-1&&(e.gl.texImage2D(o.target,0,r.internalFormat,t.realWidth,t.realHeight,0,t.format,r.type,null),i[a]=-1))}return!0}}],[{key:"test",value:function(e){return Array.isArray(e)&&e.length===n.SIDES}}]),n}(Zt);Ut.SIDES=6;var Yt=n(4165),Xt=n(5861),Gt=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e,r){var i,a,o,u;return(0,s.Z)(this,n),r=r||{},"string"===typeof e?(o=n.EMPTY,u=e):(o=e,u=null),(a=t.call(this,o)).url=u,a.crossOrigin=null===(i=r.crossOrigin)||void 0===i||i,a.alphaMode="number"===typeof r.alphaMode?r.alphaMode:null,a._load=null,!1!==r.autoLoad&&a.load(),a}return(0,u.Z)(n,[{key:"load",value:function(){var e=this;return this._load||(this._load=new Promise(function(){var t=(0,Xt.Z)((0,Yt.Z)().mark((function t(n,r){var o,s,u;return(0,Yt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.url){t.next=3;break}return n(e),t.abrupt("return");case 3:return t.prev=3,t.next=6,a.Xd.ADAPTER.fetch(e.url,{mode:e.crossOrigin?"cors":"no-cors"});case 6:if(o=t.sent,!e.destroyed){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,o.blob();case 11:if(s=t.sent,!e.destroyed){t.next=14;break}return t.abrupt("return");case 14:return t.next=16,createImageBitmap(s,{premultiplyAlpha:null===e.alphaMode||e.alphaMode===i.iw.UNPACK?"premultiply":"none"});case 16:if(u=t.sent,!e.destroyed){t.next=19;break}return t.abrupt("return");case 19:e.source=u,e.update(),n(e),t.next=30;break;case 24:if(t.prev=24,t.t0=t.catch(3),!e.destroyed){t.next=28;break}return t.abrupt("return");case 28:r(t.t0),e.onError.emit(t.t0);case 30:case"end":return t.stop()}}),t,null,[[3,24]])})));return function(e,n){return t.apply(this,arguments)}}())),this._load}},{key:"upload",value:function(e,t,r){return this.source instanceof ImageBitmap?("number"===typeof this.alphaMode&&(t.alphaMode=this.alphaMode),(0,c.Z)((0,h.Z)(n.prototype),"upload",this).call(this,e,t,r)):(this.load(),!1)}},{key:"dispose",value:function(){this.source instanceof ImageBitmap&&this.source.close(),(0,c.Z)((0,h.Z)(n.prototype),"dispose",this).call(this),this._load=null}}],[{key:"test",value:function(e){return!!globalThis.createImageBitmap&&"undefined"!==typeof ImageBitmap&&("string"===typeof e||e instanceof ImageBitmap)}},{key:"EMPTY",get:function(){var e;return n._EMPTY=null!==(e=n._EMPTY)&&void 0!==e?e:a.Xd.ADAPTER.createCanvas(0,0),n._EMPTY}}]),n}(ye),Wt=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),r=r||{},(i=t.call(this,a.Xd.ADAPTER.createCanvas()))._width=0,i._height=0,i.svg=e,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return(0,u.Z)(n,[{key:"load",value:function(){var e=this;return this._load||(this._load=new Promise((function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},n.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(e.svg))))}e._loadSvg()}))),this._load}},{key:"_loadSvg",value:function(){var e=this,t=new Image;ye.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(n){e._resolve&&(t.onerror=null,e.onError.emit(n))},t.onload=function(){if(e._resolve){var n=t.width,r=t.height;if(!n||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=n*e.scale,a=r*e.scale;(e._overrideWidth||e._overrideHeight)&&(i=e._overrideWidth||e._overrideHeight/r*n,a=e._overrideHeight||e._overrideWidth/n*r),i=Math.round(i),a=Math.round(a);var s=e.source;s.width=i,s.height=a,s._pixiId="canvas_".concat((0,o.uid)()),s.getContext("2d").drawImage(t,0,0,n,r,0,0,i,a),e._resolve(),e._resolve=null}}}},{key:"dispose",value:function(){(0,c.Z)((0,h.Z)(n.prototype),"dispose",this).call(this),this._resolve=null,this._crossorigin=null}}],[{key:"getSize",value:function(e){var t=n.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7]))),r}},{key:"test",value:function(e,t){return"svg"===t||"string"===typeof e&&e.startsWith("data:image/svg+xml")||"string"===typeof e&&n.SVG_XML.test(e)}}]),n}(ye);Wt.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Wt.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var Ht=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e,r){var i;if((0,s.Z)(this,n),r=r||{},!(e instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),"string"===typeof e&&(e=[e]);var o=e[0].src||e[0];ye.crossOrigin(a,o,r.crossorigin);for(var u=0;u<e.length;++u){var c=document.createElement("source"),h=e[u],f=h.src,d=h.mime,p=(f=f||e[u]).split("?").shift().toLowerCase(),v=p.slice(p.lastIndexOf(".")+1);d=d||n.MIME_TYPES[v]||"video/".concat(v),c.src=f,c.type=d,a.appendChild(c)}e=a}return(i=t.call(this,e)).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind((0,l.Z)(i)),i._onError=i._onError.bind((0,l.Z)(i)),!1!==r.autoLoad&&i.load(),i}return(0,u.Z)(n,[{key:"update",value:function(){if(!this.destroyed){var e=Mt.vB.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&((0,c.Z)((0,h.Z)(n.prototype),"update",this).call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}},{key:"load",value:function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((function(n){e.valid?n(e):(e._resolve=n,t.load())})),this._load}},{key:"_onError",value:function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)}},{key:"_isSourcePlaying",value:function(){var e=this.source;return!e.paused&&!e.ended&&this._isSourceReady()}},{key:"_isSourceReady",value:function(){return this.source.readyState>2}},{key:"_onPlayStart",value:function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Mt.vB.shared.add(this.update,this),this._isConnectedToTicker=!0)}},{key:"_onPlayStop",value:function(){this._isConnectedToTicker&&(Mt.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1)}},{key:"_onCanPlay",value:function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}},{key:"dispose",value:function(){this._isConnectedToTicker&&(Mt.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),(0,c.Z)((0,h.Z)(n.prototype),"dispose",this).call(this)}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Mt.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Mt.vB.shared.add(this.update,this),this._isConnectedToTicker=!0))}},{key:"updateFPS",get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)}}],[{key:"test",value:function(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||n.TYPES.includes(t)}}]),n}(ye);Ht.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Ht.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},x.push(Gt,be,jt,Ht,Wt,E,Ut,Vt)},1378:function(e,t,n){"use strict";n.d(t,{YZ:function(){return c},W2:function(){return m},s$:function(){return h}});var r=n(172),i=n(5671),a=n(3144),o=n(1752),s=n(1120),u=n(136),l=n(9388),c=function(){function e(){(0,i.Z)(this,e),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return(0,a.Z)(e,[{key:"isEmpty",value:function(){return this.minX>this.maxX||this.minY>this.maxY}},{key:"clear",value:function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}},{key:"getRectangle",value:function(e){return this.minX>this.maxX||this.minY>this.maxY?r.Ae.EMPTY:((e=e||new r.Ae(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}},{key:"addPoint",value:function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}},{key:"addPointMatrix",value:function(e,t){var n=e.a,r=e.b,i=e.c,a=e.d,o=e.tx,s=e.ty,u=n*t.x+i*t.y+o,l=r*t.x+a*t.y+s;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,l),this.maxY=Math.max(this.maxY,l)}},{key:"addQuad",value:function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,a=e[0],o=e[1];t=a<t?a:t,n=o<n?o:n,r=a>r?a:r,i=o>i?o:i,t=(a=e[2])<t?a:t,n=(o=e[3])<n?o:n,r=a>r?a:r,i=o>i?o:i,t=(a=e[4])<t?a:t,n=(o=e[5])<n?o:n,r=a>r?a:r,i=o>i?o:i,t=(a=e[6])<t?a:t,n=(o=e[7])<n?o:n,r=a>r?a:r,i=o>i?o:i,this.minX=t,this.minY=n,this.maxX=r,this.maxY=i}},{key:"addFrame",value:function(e,t,n,r,i){this.addFrameMatrix(e.worldTransform,t,n,r,i)}},{key:"addFrameMatrix",value:function(e,t,n,r,i){var a=e.a,o=e.b,s=e.c,u=e.d,l=e.tx,c=e.ty,h=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=a*t+s*n+l,m=o*t+u*n+c;h=v<h?v:h,f=m<f?m:f,d=v>d?v:d,p=m>p?m:p,h=(v=a*r+s*n+l)<h?v:h,f=(m=o*r+u*n+c)<f?m:f,d=v>d?v:d,p=m>p?m:p,h=(v=a*t+s*i+l)<h?v:h,f=(m=o*t+u*i+c)<f?m:f,d=v>d?v:d,p=m>p?m:p,h=(v=a*r+s*i+l)<h?v:h,f=(m=o*r+u*i+c)<f?m:f,d=v>d?v:d,p=m>p?m:p,this.minX=h,this.minY=f,this.maxX=d,this.maxY=p}},{key:"addVertexData",value:function(e,t,n){for(var r=this.minX,i=this.minY,a=this.maxX,o=this.maxY,s=t;s<n;s+=2){var u=e[s],l=e[s+1];r=u<r?u:r,i=l<i?l:i,a=u>a?u:a,o=l>o?l:o}this.minX=r,this.minY=i,this.maxX=a,this.maxY=o}},{key:"addVertices",value:function(e,t,n,r){this.addVerticesMatrix(e.worldTransform,t,n,r)}},{key:"addVerticesMatrix",value:function(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i,o=e.a,s=e.b,u=e.c,l=e.d,c=e.tx,h=e.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,m=n;m<r;m+=2){var g=t[m],y=t[m+1],b=o*g+u*y+c,x=l*y+s*g+h;f=Math.min(f,b-i),p=Math.max(p,b+i),d=Math.min(d,x-a),v=Math.max(v,x+a)}this.minX=f,this.minY=d,this.maxX=p,this.maxY=v}},{key:"addBounds",value:function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>i?e.maxY:i}},{key:"addBoundsMask",value:function(e,t){var n=e.minX>t.minX?e.minX:t.minX,r=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,a=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=i&&r<=a){var o=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<o?n:o,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=a>l?a:l}}},{key:"addBoundsMatrix",value:function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}},{key:"addBoundsArea",value:function(e,t){var n=e.minX>t.x?e.minX:t.x,r=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=i&&r<=a){var o=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<o?n:o,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=a>l?a:l}}},{key:"pad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}},{key:"addFramePad",value:function(e,t,n,r,i,a){e-=i,t-=a,n+=i,r+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>r?this.maxY:r}}]),e}(),h=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.call(this)).tempDisplayObjectParent=null,e.transform=new r.wx,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new c,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return(0,a.Z)(n,[{key:"destroyed",get:function(){return this._destroyed}},{key:"_recursivePostUpdateTransform",value:function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}},{key:"updateTransform",value:function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}},{key:"getBounds",value:function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new r.Ae),t=this._boundsRect),this._bounds.getRectangle(t)}},{key:"getLocalBounds",value:function(e){e||(this._localBoundsRect||(this._localBoundsRect=new r.Ae),e=this._localBoundsRect),this._localBounds||(this._localBounds=new c);var t=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=i,this._bounds.updateID+=this._boundsID-a,o}},{key:"toGlobal",value:function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}},{key:"toLocal",value:function(e,t,n,r){return t&&(e=t.toGlobal(e,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}},{key:"setParent",value:function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}},{key:"removeFromParent",value:function(){var e;null===(e=this.parent)||void 0===e||e.removeChild(this)}},{key:"setTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=a,this.skew.y=o,this.pivot.x=s,this.pivot.y=u,this}},{key:"destroy",value:function(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}},{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new f),this.tempDisplayObjectParent}},{key:"enableTempParent",value:function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e}},{key:"disableTempParent",value:function(e){this.parent=e}},{key:"x",get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)}},{key:"scale",get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)}},{key:"skew",get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:"angle",get:function(){return this.transform.rotation*r.jl},set:function(e){this.transform.rotation=e*r.ZX}},{key:"zIndex",get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}},{key:"worldVisible",get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},{key:"mask",get:function(){return this._mask},set:function(e){if(this._mask!==e){if(this._mask){var t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,0===t._maskRefCount&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(0===n._maskRefCount&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}],[{key:"mixin",value:function(e){for(var t=Object.keys(e),r=0;r<t.length;++r){var i=t[r];Object.defineProperty(n.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}}]),n}(r.P6.EventEmitter),f=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).sortDirty=null,e}return(0,a.Z)(n)}(h);h.prototype.displayObjectUpdateTransform=h.prototype.updateTransform;var d=new r.y3;function p(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var v=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.call(this)).children=[],e.sortableChildren=n.defaultSortableChildren,e.sortDirty=!1,e}return(0,a.Z)(n,[{key:"onChildrenChange",value:function(e){}},{key:"addChild",value:function(){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.addChild(e<0||arguments.length<=e?void 0:arguments[e]);else{var t=arguments.length<=0?void 0:arguments[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return arguments.length<=0?void 0:arguments[0]}},{key:"addChildAt",value:function(e,t){if(t<0||t>this.children.length)throw new Error("".concat(e,"addChildAt: The index ").concat(t," supplied is out of bounds ").concat(this.children.length));return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}},{key:"swapChildren",value:function(e,t){if(e!==t){var n=this.getChildIndex(e),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=e,this.onChildrenChange(n<r?n:r)}}},{key:"getChildIndex",value:function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t}},{key:"setChildIndex",value:function(e,t){if(t<0||t>=this.children.length)throw new Error("The index ".concat(t," supplied is out of bounds ").concat(this.children.length));var n=this.getChildIndex(e);r.P6.removeItems(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)}},{key:"getChildAt",value:function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index (".concat(e,") does not exist."));return this.children[e]}},{key:"removeChild",value:function(){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.removeChild(e<0||arguments.length<=e?void 0:arguments[e]);else{var t=arguments.length<=0?void 0:arguments[0],n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,r.P6.removeItems(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return arguments.length<=0?void 0:arguments[0]}},{key:"removeChildAt",value:function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,r.P6.removeItems(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}},{key:"removeChildren",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.children.length,r=t,i=n-r;if(i>0&&i<=n){e=this.children.splice(r,i);for(var a=0;a<e.length;++a)e[a].parent=null,e[a].transform&&(e[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var o=0;o<e.length;++o)e[o].emit("removed",this),this.emit("childRemoved",e[o],this,o);return e}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}},{key:"sortChildren",value:function(){for(var e=!1,t=0,n=this.children.length;t<n;++t){var r=this.children[t];r._lastSortedIndex=t,e||0===r.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(p),this.sortDirty=!1}},{key:"updateTransform",value:function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}}},{key:"calculateBounds",value:function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var n=t._mask.isMaskData?t._mask.maskObject:t._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(t._bounds,n._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}},{key:"getLocalBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,o.Z)((0,s.Z)(n.prototype),"getLocalBounds",this).call(this,e);if(!t)for(var i=0,a=this.children.length;i<a;++i){var u=this.children[i];u.visible&&u.updateTransform()}return r}},{key:"_calculateBounds",value:function(){}},{key:"_renderWithCulling",value:function(e){var t=e.renderTexture.sourceFrame;if(t.width>0&&t.height>0){var r,i;this.cullArea?(r=this.cullArea,i=this.worldTransform):this._render!==n.prototype._render&&(r=this.getBounds(!0));var a=e.projection.transform;if(a&&(i?(i=d.copyFrom(i)).prepend(a):i=a),r&&t.intersects(r,i))this._render(e);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var u=this.children[o],l=u.cullable;u.cullable=l||!this.cullArea,u.render(e),u.cullable=l}}}},{key:"render",value:function(e){var t;if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||null!==(t=this.filters)&&void 0!==t&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var n=0,r=this.children.length;n<r;++n)this.children[n].render(e)}}},{key:"renderAdvanced",value:function(e){var t,n,i,a=this.filters,o=this._mask;if(a){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<a.length;s++)a[s].enabled&&this._enabledFilters.push(a[s])}var u=a&&(null===(t=this._enabledFilters)||void 0===t?void 0:t.length)||o&&(!o.isMaskData||o.enabled&&(o.autoDetect||o.type!==r.A7.NONE));if(u&&e.batch.flush(),a&&null!==(n=this._enabledFilters)&&void 0!==n&&n.length&&e.filter.push(this,this._enabledFilters),o&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(var l=0,c=this.children.length;l<c;++l)this.children[l].render(e)}u&&e.batch.flush(),o&&e.mask.pop(this),a&&null!==(i=this._enabledFilters)&&void 0!==i&&i.length&&e.filter.pop()}},{key:"_render",value:function(e){}},{key:"destroy",value:function(e){(0,o.Z)((0,s.Z)(n.prototype),"destroy",this).call(this),this.sortDirty=!1;var t="boolean"===typeof e?e:null===e||void 0===e?void 0:e.children,r=this.removeChildren(0,this.children.length);if(t)for(var i=0;i<r.length;++i)r[i].destroy(e)}},{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}]),n}(h),m=v;m.defaultSortableChildren=!1,m.prototype.containerUpdateTransform=m.prototype.updateTransform,Object.defineProperties(r.Xd,{SORTABLE_CHILDREN:{get:function(){return m.defaultSortableChildren},set:function(e){r.P6.deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),m.defaultSortableChildren=e}}})},2629:function(e,t,n){"use strict";n.d(t,{R:function(){return s},n:function(){return i}});var r=n(1413),i=function(e){return e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e}(i||{}),a=function(e){if("function"===typeof e||"object"===typeof e&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");var t="object"!==typeof e.extension?{type:e.extension}:e.extension;e=(0,r.Z)((0,r.Z)({},t),{},{ref:e})}if("object"!==typeof e)throw new Error("Invalid extension type");return"string"===typeof(e=(0,r.Z)({},e)).type&&(e.type=[e.type]),e},o=function(e,t){var n;return null!==(n=a(e).priority)&&void 0!==n?n:t},s={_addHandlers:{},_removeHandlers:{},_queue:{},remove:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map(a).forEach((function(t){t.type.forEach((function(n){var r,i;return null===(r=(i=e._removeHandlers)[n])||void 0===r?void 0:r.call(i,t)}))})),this},add:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map(a).forEach((function(t){t.type.forEach((function(n){var r=e._addHandlers,i=e._queue;r[n]?r[n](t):(i[n]=i[n]||[],i[n].push(t))}))})),this},handle:function(e,t,n){var r=this._addHandlers,i=this._removeHandlers;if(r[e]||i[e])throw new Error("Extension type ".concat(e," already has a handler"));r[e]=t,i[e]=n;var a=this._queue;return a[e]&&(a[e].forEach((function(e){return t(e)})),delete a[e]),this},handleByMap:function(e,t){return this.handle(e,(function(e){t[e.name]=e.ref}),(function(e){delete t[e.name]}))},handleByList:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return this.handle(e,(function(e){t.includes(e.ref)||(t.push(e.ref),t.sort((function(e,t){return o(t,n)-o(e,n)})))}),(function(e){var n=t.indexOf(e.ref);-1!==n&&t.splice(n,1)}))}}},1:function(e,t,n){"use strict";n.d(t,{TC:function(){return Z}});var r=n(4942),i=n(172),a={build:function(e){var t,n,r,a,o,s,u=e.points;if(e.type===i.HS.CIRC){var l=e.shape;t=l.x,n=l.y,o=s=l.radius,r=a=0}else if(e.type===i.HS.ELIP){var c=e.shape;t=c.x,n=c.y,o=c.width,s=c.height,r=a=0}else{var h=e.shape,f=h.width/2,d=h.height/2;t=h.x+f,n=h.y+d,r=f-(o=s=Math.max(0,Math.min(h.radius,Math.min(f,d)))),a=d-s}if(o>=0&&s>=0&&r>=0&&a>=0){var p=Math.ceil(2.3*Math.sqrt(o+s)),v=8*p+(r?4:0)+(a?4:0);if(u.length=v,0!==v){if(0===p)return u.length=8,u[0]=u[6]=t+r,u[1]=u[3]=n+a,u[2]=u[4]=t-r,void(u[5]=u[7]=n-a);var m=0,g=4*p+(r?2:0)+2,y=g,b=v,x=r+o,_=a,w=t+x,k=t-x,E=n+_;if(u[m++]=w,u[m++]=E,u[--g]=E,u[--g]=k,a){var T=n-_;u[y++]=k,u[y++]=T,u[--b]=T,u[--b]=w}for(var S=1;S<p;S++){var A=Math.PI/2*(S/p),M=r+Math.cos(A)*o,P=a+Math.sin(A)*s,C=t+M,I=t-M,R=n+P,O=n-P;u[m++]=C,u[m++]=R,u[--g]=R,u[--g]=I,u[y++]=I,u[y++]=O,u[--b]=O,u[--b]=C}var L=a+s,N=t+r,B=t-r,D=n+L,F=n-L;u[m++]=N,u[m++]=D,u[--b]=F,u[--b]=N,r&&(u[m++]=B,u[m++]=D,u[--b]=F,u[--b]=B)}}else u.length=0},triangulate:function(e,t){var n=e.points,r=t.points,a=t.indices;if(0!==n.length){var o,s,u=r.length/2,l=u;if(e.type!==i.HS.RREC){var c=e.shape;o=c.x,s=c.y}else{var h=e.shape;o=h.x+h.width/2,s=h.y+h.height/2}var f=e.matrix;r.push(e.matrix?f.a*o+f.c*s+f.tx:o,e.matrix?f.b*o+f.d*s+f.ty:s),u++,r.push(n[0],n[1]);for(var d=2;d<n.length;d+=2)r.push(n[d],n[d+1]),a.push(u++,l,u);a.push(l+1,l,u)}}};function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length;if(!(n<6)){for(var r=0,i=0,a=e[n-2],o=e[n-1];i<n;i+=2){var s=e[i],u=e[i+1];r+=(s-a)*(u+o),a=s,o=u}if(!t&&r>0||t&&r<=0)for(var l=n/2,c=l+l%2;c<n;c+=2){var h=n-c-2,f=n-c-1,d=c,p=c+1,v=[e[d],e[h]];e[h]=v[0],e[d]=v[1];var m=[e[p],e[f]];e[f]=m[0],e[p]=m[1]}}}var s={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var n=e.points,r=e.holes,a=t.points,s=t.indices;if(n.length>=6){o(n,!1);for(var u=[],l=0;l<r.length;l++){var c=r[l];o(c.points,!0),u.push(n.length/2),n=n.concat(c.points)}var h=i.P6.earcut(n,u,2);if(!h)return;for(var f=a.length/2,d=0;d<h.length;d+=3)s.push(h[d]+f),s.push(h[d+1]+f),s.push(h[d+2]+f);for(var p=0;p<n.length;p++)a.push(n[p])}}},u={build:function(e){var t=e.shape,n=t.x,r=t.y,i=t.width,a=t.height,o=e.points;o.length=0,i>=0&&a>=0&&o.push(n,r,n+i,r,n+i,r+a,n,r+a)},triangulate:function(e,t){var n=e.points,r=t.points;if(0!==n.length){var i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}}},l={build:function(e){a.build(e)},triangulate:function(e,t){a.triangulate(e,t)}},c=n(5671),h=n(3144),f=function(e){return e.MITER="miter",e.BEVEL="bevel",e.ROUND="round",e}(f||{}),d=function(e){return e.BUTT="butt",e.ROUND="round",e.SQUARE="square",e}(d||{}),p={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!this.adaptive||!e||isNaN(e))return t;var n=Math.ceil(e/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},v=function(){function e(){(0,c.Z)(this,e)}return(0,h.Z)(e,null,[{key:"curveTo",value:function(e,t,n,r,i,a){var o=a[a.length-2],s=a[a.length-1]-t,u=o-e,l=r-t,c=n-e,h=Math.abs(s*c-u*l);if(h<1e-8||0===i)return a[a.length-2]===e&&a[a.length-1]===t||a.push(e,t),null;var f=s*s+u*u,d=l*l+c*c,p=s*l+u*c,v=i*Math.sqrt(f)/h,m=i*Math.sqrt(d)/h,g=v*p/f,y=m*p/d,b=v*c+m*u,x=v*l+m*s,_=u*(m+g),w=s*(m+g),k=c*(v+y),E=l*(v+y);return{cx:b+e,cy:x+t,radius:i,startAngle:Math.atan2(w-x,_-b),endAngle:Math.atan2(E-x,k-b),anticlockwise:u*l>c*s}}},{key:"arc",value:function(e,t,n,r,a,o,s,u,l){for(var c=s-o,h=p._segmentsCount(Math.abs(c)*a,40*Math.ceil(Math.abs(c)/i._b)),f=c/(2*h),d=2*f,v=Math.cos(f),m=Math.sin(f),g=h-1,y=g%1/g,b=0;b<=g;++b){var x=f+o+d*(b+y*b),_=Math.cos(x),w=-Math.sin(x);l.push((v*_+m*w)*a+n,(v*-w+m*_)*a+r)}}}]),e}(),m=function(){function e(){(0,c.Z)(this,e)}return(0,h.Z)(e,null,[{key:"curveLength",value:function(e,t,n,r,i,a,o,s){for(var u=0,l=0,c=0,h=0,f=0,d=0,p=0,v=0,m=0,g=0,y=0,b=e,x=t,_=1;_<=10;++_)g=b-(v=(p=(d=(f=1-(l=_/10))*f)*f)*e+3*d*l*n+3*f*(c=l*l)*i+(h=c*l)*o),y=x-(m=p*t+3*d*l*r+3*f*c*a+h*s),b=v,x=m,u+=Math.sqrt(g*g+y*y);return u}},{key:"curveTo",value:function(t,n,r,i,a,o,s){var u=s[s.length-2],l=s[s.length-1];s.length-=2;var c=p._segmentsCount(e.curveLength(u,l,t,n,r,i,a,o)),h=0,f=0,d=0,v=0,m=0;s.push(u,l);for(var g=1,y=0;g<=c;++g)d=(f=(h=1-(y=g/c))*h)*h,m=(v=y*y)*y,s.push(d*u+3*f*y*t+3*h*v*r+m*a,d*l+3*f*y*n+3*h*v*i+m*o)}}]),e}();function g(e,t,n,r,i,a,o,s){var u,l;o?(u=r,l=-n):(u=-r,l=n);var c=e-n*i+u,h=t-r*i+l,f=e+n*a+u,d=t+r*a+l;return s.push(c,h,f,d),2}function y(e,t,n,r,i,a,o,s){var u=n-e,l=r-t,c=Math.atan2(u,l),h=Math.atan2(i-e,a-t);s&&c<h?c+=2*Math.PI:!s&&c>h&&(h+=2*Math.PI);var f=c,d=h-c,p=Math.abs(d),v=Math.sqrt(u*u+l*l),m=1+(15*p*Math.sqrt(v)/Math.PI>>0),g=d/m;if(f+=g,s){o.push(e,t,n,r);for(var y=1,b=f;y<m;y++,b+=g)o.push(e,t,e+Math.sin(b)*v,t+Math.cos(b)*v);o.push(e,t,i,a)}else{o.push(n,r,e,t);for(var x=1,_=f;x<m;x++,_+=g)o.push(e+Math.sin(_)*v,t+Math.cos(_)*v,e,t);o.push(i,a,e,t)}return 2*m}function b(e,t){e.lineStyle.native?function(e,t){var n=0,r=e.shape,a=e.points||r.points,o=r.type!==i.HS.POLY||r.closeStroke;if(0!==a.length){var s=t.points,u=t.indices,l=a.length/2,c=s.length/2,h=c;for(s.push(a[0],a[1]),n=1;n<l;n++)s.push(a[2*n],a[2*n+1]),u.push(h,h+1),h++;o&&u.push(h,c)}}(e,t):function(e,t){var n=e.shape,r=e.points||n.points.slice(),a=t.closePointEps;if(0!==r.length){var o=e.lineStyle,s=new i.E9(r[0],r[1]),u=new i.E9(r[r.length-2],r[r.length-1]),l=n.type!==i.HS.POLY||n.closeStroke,c=Math.abs(s.x-u.x)<a&&Math.abs(s.y-u.y)<a;if(l){r=r.slice(),c&&(r.pop(),r.pop(),u.set(r[r.length-2],r[r.length-1]));var h=.5*(s.x+u.x),v=.5*(u.y+s.y);r.unshift(h,v),r.push(h,v)}var m=t.points,b=r.length/2,x=r.length,_=m.length/2,w=o.width/2,k=w*w,E=o.miterLimit*o.miterLimit,T=r[0],S=r[1],A=r[2],M=r[3],P=0,C=0,I=-(S-M),R=T-A,O=0,L=0,N=Math.sqrt(I*I+R*R);I/=N,R/=N,I*=w,R*=w;var B=o.alignment,D=2*(1-B),F=2*B;l||(o.cap===d.ROUND?x+=y(T-I*(D-F)*.5,S-R*(D-F)*.5,T-I*D,S-R*D,T+I*F,S+R*F,m,!0)+2:o.cap===d.SQUARE&&(x+=g(T,S,I,R,D,F,!0,m))),m.push(T-I*D,S-R*D,T+I*F,S+R*F);for(var Z=1;Z<b-1;++Z){T=r[2*(Z-1)],S=r[2*(Z-1)+1],A=r[2*Z],M=r[2*Z+1],P=r[2*(Z+1)],C=r[2*(Z+1)+1],I=-(S-M),R=T-A,I/=N=Math.sqrt(I*I+R*R),R/=N,I*=w,R*=w,O=-(M-C),L=A-P,O/=N=Math.sqrt(O*O+L*L),L/=N,O*=w,L*=w;var V=A-T,j=S-M,U=A-P,Y=C-M,X=V*U+j*Y,G=j*U-Y*V,W=G<0;if(Math.abs(G)<.001*Math.abs(X))m.push(A-I*D,M-R*D,A+I*F,M+R*F),X>=0&&(o.join===f.ROUND?x+=y(A,M,A-I*D,M-R*D,A-O*D,M-L*D,m,!1)+4:x+=2,m.push(A-O*F,M-L*F,A+O*D,M+L*D));else{var H=(-I+T)*(-R+M)-(-I+A)*(-R+S),z=(-O+P)*(-L+M)-(-O+A)*(-L+C),q=(V*z-U*H)/G,$=(Y*H-j*z)/G,K=(q-A)*(q-A)+($-M)*($-M),J=A+(q-A)*D,Q=M+($-M)*D,ee=A-(q-A)*F,te=M-($-M)*F,ne=W?D:F,re=K<=Math.min(V*V+j*j,U*U+Y*Y)+ne*ne*k,ie=o.join;if(ie===f.MITER&&K/k>E&&(ie=f.BEVEL),re)switch(ie){case f.MITER:m.push(J,Q,ee,te);break;case f.BEVEL:W?m.push(J,Q,A+I*F,M+R*F,J,Q,A+O*F,M+L*F):m.push(A-I*D,M-R*D,ee,te,A-O*D,M-L*D,ee,te),x+=2;break;case f.ROUND:W?(m.push(J,Q,A+I*F,M+R*F),x+=y(A,M,A+I*F,M+R*F,A+O*F,M+L*F,m,!0)+4,m.push(J,Q,A+O*F,M+L*F)):(m.push(A-I*D,M-R*D,ee,te),x+=y(A,M,A-I*D,M-R*D,A-O*D,M-L*D,m,!1)+4,m.push(A-O*D,M-L*D,ee,te))}else{switch(m.push(A-I*D,M-R*D,A+I*F,M+R*F),ie){case f.MITER:W?m.push(ee,te,ee,te):m.push(J,Q,J,Q),x+=2;break;case f.ROUND:x+=W?y(A,M,A+I*F,M+R*F,A+O*F,M+L*F,m,!0)+2:y(A,M,A-I*D,M-R*D,A-O*D,M-L*D,m,!1)+2}m.push(A-O*D,M-L*D,A+O*F,M+L*F),x+=2}}}T=r[2*(b-2)],S=r[2*(b-2)+1],A=r[2*(b-1)],I=-(S-(M=r[2*(b-1)+1])),R=T-A,I/=N=Math.sqrt(I*I+R*R),R/=N,I*=w,R*=w,m.push(A-I*D,M-R*D,A+I*F,M+R*F),l||(o.cap===d.ROUND?x+=y(A-I*(D-F)*.5,M-R*(D-F)*.5,A-I*D,M-R*D,A+I*F,M+R*F,m,!1)+2:o.cap===d.SQUARE&&(x+=g(A,M,I,R,D,F,!1,m)));for(var ae=t.indices,oe=p.epsilon*p.epsilon,se=_;se<x+_-2;++se)T=m[2*se],S=m[2*se+1],A=m[2*(se+1)],M=m[2*(se+1)+1],P=m[2*(se+2)],C=m[2*(se+2)+1],Math.abs(T*(M-C)+A*(C-S)+P*(S-M))<oe||ae.push(se,se+1,se+2)}}(e,t)}var x,_=function(){function e(){(0,c.Z)(this,e)}return(0,h.Z)(e,null,[{key:"curveLength",value:function(e,t,n,r,i,a){var o=e-2*n+i,s=t-2*r+a,u=2*n-2*e,l=2*r-2*t,c=4*(o*o+s*s),h=4*(o*u+s*l),f=u*u+l*l,d=2*Math.sqrt(c+h+f),p=Math.sqrt(c),v=2*c*p,m=2*Math.sqrt(f),g=h/p;return(v*d+p*h*(d-m)+(4*f*c-h*h)*Math.log((2*p+g+d)/(g+m)))/(4*v)}},{key:"curveTo",value:function(t,n,r,i,a){for(var o=a[a.length-2],s=a[a.length-1],u=p._segmentsCount(e.curveLength(o,s,t,n,r,i)),l=0,c=0,h=1;h<=u;++h){var f=h/u;l=o+(t-o)*f,c=s+(n-s)*f,a.push(l+(t+(r-t)*f-l)*f,c+(n+(i-n)*f-c)*f)}}}]),e}(),w=(x={},(0,r.Z)(x,i.HS.POLY,s),(0,r.Z)(x,i.HS.CIRC,a),(0,r.Z)(x,i.HS.ELIP,a),(0,r.Z)(x,i.HS.RECT,u),(0,r.Z)(x,i.HS.RREC,l),x),k=[],E=[],T=n(1752),S=n(1120),A=n(136),M=n(9388),P=n(1378),C=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,c.Z)(this,e),this.points=[],this.holes=[],this.shape=t,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=t.type}return(0,h.Z)(e,[{key:"clone",value:function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)}},{key:"destroy",value:function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}]),e}(),I=function(){function e(){(0,c.Z)(this,e),this.reset()}return(0,h.Z)(e,[{key:"begin",value:function(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n}},{key:"end",value:function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}},{key:"reset",value:function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}]),e}(),R=new i.E9,O=function(e){(0,A.Z)(n,e);var t=(0,M.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.call(this)).closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new P.YZ,e.boundsDirty=-1,e}return(0,h.Z)(n,[{key:"bounds",get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}},{key:"invalidate",value:function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),E.push(this.drawCalls[e]);this.drawCalls.length=0;for(var t=0;t<this.batches.length;t++){var n=this.batches[t];n.reset(),k.push(n)}this.batches.length=0}},{key:"clear",value:function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}},{key:"drawShape",value:function(e){var t=new C(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null);return this.graphicsData.push(t),this.dirty++,this}},{key:"drawHole",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.graphicsData.length)return null;var n=new C(e,null,null,t),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}},{key:"destroy",value:function(){(0,T.Z)((0,S.Z)(n.prototype),"destroy",this).call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}},{key:"containsPoint",value:function(e){for(var t=this.graphicsData,n=0;n<t.length;++n){var r=t[n];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(e,R):R.copyFrom(e),r.shape.contains(R.x,R.y)))){var i=!1;if(r.holes)for(var a=0;a<r.holes.length;a++){if(r.holes[a].shape.contains(R.x,R.y)){i=!0;break}}if(!i)return!0}}return!1}},{key:"updateBatches",value:function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,t=this.graphicsData,n=null,r=null;this.batches.length>0&&(r=(n=this.batches[this.batches.length-1]).style);for(var a=this.shapeIndex;a<t.length;a++){this.shapeIndex++;var o=t[a],s=o.fillStyle,u=o.lineStyle;w[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix),(s.visible||u.visible)&&this.processHoles(o.holes);for(var l=0;l<2;l++){var c=0===l?s:u;if(c.visible){var h=c.texture.baseTexture,f=this.indices.length,d=this.points.length/2;h.wrapMode=i.Nt.REPEAT,0===l?this.processFill(o):this.processLine(o);var p=this.points.length/2-d;0!==p&&(n&&!this._compareStyles(r,c)&&(n.end(f,d),n=null),n||((n=k.pop()||new I).begin(c,f,d),this.batches.push(n),r=c),this.addUvs(this.points,e,c.texture,d,p,c.matrix))}}}var v=this.indices.length,m=this.points.length/2;if(n&&n.end(v,m),0!==this.batches.length){var g=m>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&g===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=g?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0}},{key:"_compareStyles",value:function(e,t){return!(!e||!t)&&(e.texture.baseTexture===t.texture.baseTexture&&(e.color+e.alpha===t.color+t.alpha&&!!e.native===!!t.native))}},{key:"validateBatching",value:function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var n=this.graphicsData[e],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0}},{key:"packBatches",value:function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,n=e.length;t<n;t++)for(var r=e[t],i=0;i<r.size;i++){var a=r.start+i;this.indicesUint16[a]=this.indicesUint16[a]-r.attribStart}}},{key:"isBatchable",value:function(){if(this.points.length>131070)return!1;for(var e=this.batches,t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<2*n.BATCHABLE_SIZE}},{key:"buildDrawCalls",value:function(){for(var e=++i.VL._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),E.push(this.drawCalls[t]);this.drawCalls.length=0;var n=this.colors,r=this.textureIds,a=E.pop();a||((a=new i.a$).texArray=new i.Ie),a.texArray.count=0,a.start=0,a.size=0,a.type=i.lg.TRIANGLES;var o=0,s=null,u=0,l=!1,c=i.lg.TRIANGLES,h=0;this.drawCalls.push(a);for(var f=0;f<this.batches.length;f++){var d=this.batches[f],p=d.style,v=p.texture.baseTexture;l!==!!p.native&&(c=(l=!!p.native)?i.lg.LINES:i.lg.TRIANGLES,s=null,o=8,e++),s!==v&&(s=v,v._batchEnabled!==e&&(8===o&&(e++,o=0,a.size>0&&((a=E.pop())||((a=new i.a$).texArray=new i.Ie),this.drawCalls.push(a)),a.start=h,a.size=0,a.texArray.count=0,a.type=c),v.touched=1,v._batchEnabled=e,v._batchLocation=o,v.wrapMode=i.Nt.REPEAT,a.texArray.elements[a.texArray.count++]=v,o++)),a.size+=d.size,h+=d.size,u=v._batchLocation,this.addColors(n,p.color,p.alpha,d.attribSize,d.attribStart),this.addTextureIds(r,u,d.attribSize,d.attribStart)}i.VL._globalBatch=e,this.packAttributes()}},{key:"packAttributes",value:function(){for(var e=this.points,t=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*e.length*4),a=new Float32Array(i),o=new Uint32Array(i),s=0,u=0;u<e.length/2;u++)a[s++]=e[2*u],a[s++]=e[2*u+1],a[s++]=t[2*u],a[s++]=t[2*u+1],o[s++]=n[u],a[s++]=r[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}},{key:"processFill",value:function(e){e.holes.length?s.triangulate(e,this):w[e.type].triangulate(e,this)}},{key:"processLine",value:function(e){b(e,this);for(var t=0;t<e.holes.length;t++)b(e.holes[t],this)}},{key:"processHoles",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];w[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}},{key:"calculateBounds",value:function(){var e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}},{key:"transformPoints",value:function(e,t){for(var n=0;n<e.length/2;n++){var r=e[2*n],i=e[2*n+1];e[2*n]=t.a*r+t.c*i+t.tx,e[2*n+1]=t.b*r+t.d*i+t.ty}}},{key:"addColors",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=i.Il.shared.setValue(t).toLittleEndianNumber(),s=i.Il.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,a+r);for(var u=0;u<r;u++)e[a+u]=s}},{key:"addTextureIds",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e.length=Math.max(e.length,r+n);for(var i=0;i<n;i++)e[r+i]=t}},{key:"addUvs",value:function(e,t,n,r,i){for(var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=0,s=t.length,u=n.frame;o<i;){var l=e[2*(r+o)],c=e[2*(r+o)+1];if(a){var h=a.a*l+a.c*c+a.tx;c=a.b*l+a.d*c+a.ty,l=h}o++,t.push(l/u.width,c/u.height)}var f=n.baseTexture;(u.width<f.width||u.height<f.height)&&this.adjustUvs(t,n,s,i)}},{key:"adjustUvs",value:function(e,t,n,r){for(var i=t.baseTexture,a=1e-6,o=n+2*r,s=t.frame,u=s.width/i.width,l=s.height/i.height,c=s.x/s.width,h=s.y/s.height,f=Math.floor(e[n]+a),d=Math.floor(e[n+1]+a),p=n+2;p<o;p+=2)f=Math.min(f,Math.floor(e[p]+a)),d=Math.min(d,Math.floor(e[p+1]+a));c-=f,h-=d;for(var v=n;v<o;v+=2)e[v]=(e[v]+c)*u,e[v+1]=(e[v+1]+h)*l}}]),n}(i.JZ),L=O;L.BATCHABLE_SIZE=100;var N=function(){function e(){(0,c.Z)(this,e),this.color=16777215,this.alpha=1,this.texture=i.xE.WHITE,this.matrix=null,this.visible=!1,this.reset()}return(0,h.Z)(e,[{key:"clone",value:function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}},{key:"reset",value:function(){this.color=16777215,this.alpha=1,this.texture=i.xE.WHITE,this.matrix=null,this.visible=!1}},{key:"destroy",value:function(){this.texture=null,this.matrix=null}}]),e}(),B=function(e){(0,A.Z)(n,e);var t=(0,M.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.apply(this,arguments)).width=0,e.alignment=.5,e.native=!1,e.cap=d.BUTT,e.join=f.MITER,e.miterLimit=10,e}return(0,h.Z)(n,[{key:"clone",value:function(){var e=new n;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}},{key:"reset",value:function(){(0,T.Z)((0,S.Z)(n.prototype),"reset",this).call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}]),n}(N),D={},F=function(e){(0,A.Z)(n,e);var t=(0,M.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,c.Z)(this,n),(e=t.call(this)).shader=null,e.pluginName="batch",e.currentPath=null,e.batches=[],e.batchTint=-1,e.batchDirty=-1,e.vertexData=null,e._fillStyle=new N,e._lineStyle=new B,e._matrix=null,e._holeMode=!1,e.state=i.ZM.for2d(),e._geometry=r||new L,e._geometry.refCount++,e._transformID=-1,e._tintColor=new i.Il(16777215),e.blendMode=i.T$.NORMAL,e}return(0,h.Z)(n,[{key:"geometry",get:function(){return this._geometry}},{key:"clone",value:function(){return this.finishPoly(),new n(this._geometry)}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){this._tintColor.setValue(e)}},{key:"fill",get:function(){return this._fillStyle}},{key:"line",get:function(){return this._lineStyle}},{key:"lineStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"number"===typeof e&&(e={width:e,color:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,alpha:arguments.length>2?arguments[2]:void 0,alignment:arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,native:arguments.length>4&&void 0!==arguments[4]&&arguments[4]}),this.lineTextureStyle(e)}},{key:"lineTextureStyle",value:function(e){var t,n={width:0,texture:i.xE.WHITE,color:null!==(t=e)&&void 0!==t&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:d.BUTT,join:f.MITER,miterLimit:10};e=Object.assign(n,e),this.normalizeColor(e),this.currentPath&&this.startPoly();var r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}},{key:"startPoly",value:function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new i.mg,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new i.mg,this.currentPath.closeStroke=!1}},{key:"finishPoly",value:function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}},{key:"moveTo",value:function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}},{key:"lineTo",value:function(e,t){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return r===e&&i===t||n.push(e,t),this}},{key:"_initCurve",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}},{key:"quadraticCurveTo",value:function(e,t,n,r){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),_.curveTo(e,t,n,r,i),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this._initCurve(),m.curveTo(e,t,n,r,i,a,this.currentPath.points),this}},{key:"arcTo",value:function(e,t,n,r,i){this._initCurve(e,t);var a=this.currentPath.points,o=v.curveTo(e,t,n,r,i,a);if(o){var s=o.cx,u=o.cy,l=o.radius,c=o.startAngle,h=o.endAngle,f=o.anticlockwise;this.arc(s,u,l,c,h,f)}return this}},{key:"arc",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(r===a)return this;if(!o&&a<=r?a+=i._b:o&&r<=a&&(r+=i._b),0===a-r)return this;var s=e+Math.cos(r)*n,u=t+Math.sin(r)*n,l=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;if(c){var h=Math.abs(c[c.length-2]-s),f=Math.abs(c[c.length-1]-u);h<l&&f<l||c.push(s,u)}else this.moveTo(s,u),c=this.currentPath.points;return v.arc(s,u,e,t,n,r,a,o,c),this}},{key:"beginFill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return this.beginTextureFill({texture:i.xE.WHITE,color:e,alpha:t})}},{key:"normalizeColor",value:function(e){var t,n,r=i.Il.shared.setValue(null!==(t=e.color)&&void 0!==t?t:0);e.color=r.toNumber(),null!==(n=e.alpha)&&void 0!==n||(e.alpha=r.alpha)}},{key:"beginTextureFill",value:function(e){var t={texture:i.xE.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();var n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}},{key:"endFill",value:function(){return this.finishPoly(),this._fillStyle.reset(),this}},{key:"drawRect",value:function(e,t,n,r){return this.drawShape(new i.Ae(e,t,n,r))}},{key:"drawRoundedRect",value:function(e,t,n,r,a){return this.drawShape(new i.c9(e,t,n,r,a))}},{key:"drawCircle",value:function(e,t,n){return this.drawShape(new i.Cd(e,t,n))}},{key:"drawEllipse",value:function(e,t,n,r){return this.drawShape(new i.Pj(e,t,n,r))}},{key:"drawPolygon",value:function(){for(var e,t=!0,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=r[0];o.points?(t=o.closeStroke,e=o.points):e=Array.isArray(r[0])?r[0]:r;var s=new i.mg(e);return s.closeStroke=t,this.drawShape(s),this}},{key:"drawShape",value:function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}},{key:"clear",value:function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}},{key:"isFastRect",value:function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===i.HS.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}},{key:"_render",value:function(e){this.finishPoly();var t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}},{key:"_populateBatches",value:function(){var e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(var r=0;r<n;r++){var a=e.batches[r],o=a.style.color,s=new Float32Array(this.vertexData.buffer,4*a.attribStart*2,2*a.attribSize),u=new Float32Array(e.uvsFloat32.buffer,4*a.attribStart*2,2*a.attribSize),l={vertexData:s,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*a.start,a.size),uvs:u,_batchRGB:i.Il.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[r]=l}}},{key:"_renderBatched",value:function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,n=this.batches.length;t<n;t++){var r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}}},{key:"_renderDirect",value:function(e){var t=this._resolveDirectShader(e),n=this._geometry,r=this.worldAlpha,a=t.uniforms,o=n.drawCalls;a.translationMatrix=this.transform.worldTransform,i.Il.shared.setValue(this._tintColor).premultiply(r).toArray(a.tint),e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(var s=0,u=o.length;s<u;s++)this._renderDrawCallDirect(e,n.drawCalls[s])}},{key:"_renderDrawCallDirect",value:function(e,t){for(var n=t.texArray,r=t.type,i=t.size,a=t.start,o=n.count,s=0;s<o;s++)e.texture.bind(n.elements[s],s);e.geometry.draw(r,i,a)}},{key:"_resolveDirectShader",value:function(e){var t=this.shader,n=this.pluginName;if(!t){if(!D[n]){for(var r=e.plugins[n].maxTextures,a=new Int32Array(r),o=0;o<r;o++)a[o]=o;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new i.y3,default:i.oo.from({uSamplers:a},!0)},u=e.plugins[n]._shader.program;D[n]=new i.ex(u,s)}t=D[n]}return t}},{key:"_calculateBounds",value:function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,n=t.minX,r=t.minY,i=t.maxX,a=t.maxY;this._bounds.addFrame(this.transform,n,r,i,a)}}},{key:"containsPoint",value:function(e){return this.worldTransform.applyInverse(e,n._TEMP_POINT),this._geometry.containsPoint(n._TEMP_POINT)}},{key:"calculateTints",value:function(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(var e=0;e<this.batches.length;e++){var t=this.batches[e];t._tintRGB=i.Il.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}},{key:"calculateVertices",value:function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,a=t.d,o=t.tx,s=t.ty,u=this._geometry.points,l=this.vertexData,c=0,h=0;h<u.length;h+=2){var f=u[h],d=u[h+1];l[c++]=n*f+i*d+o,l[c++]=a*d+r*f+s}}}},{key:"closePath",value:function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}},{key:"setMatrix",value:function(e){return this._matrix=e,this}},{key:"beginHole",value:function(){return this.finishPoly(),this._holeMode=!0,this}},{key:"endHole",value:function(){return this.finishPoly(),this._holeMode=!1,this}},{key:"destroy",value:function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,(0,T.Z)((0,S.Z)(n.prototype),"destroy",this).call(this,e)}}]),n}(P.W2),Z=F;Z.curves=p,Z._TEMP_POINT=new i.E9},4643:function(e,t,n){"use strict";n.d(t,{Cd:function(){return f},ZX:function(){return s},Pj:function(){return d},y3:function(){return m},AB:function(){return T},_b:function(){return a},E9:function(){return l},mg:function(){return p},jl:function(){return o},Ae:function(){return h},c9:function(){return v},HS:function(){return u},wx:function(){return A},Lv:function(){return E}});var r=n(5671),i=n(3144),a=2*Math.PI,o=180/Math.PI,s=Math.PI/180,u=function(e){return e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e}(u||{}),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,r.Z)(this,e),this.x=0,this.y=0,this.x=t,this.y=n}return(0,i.Z)(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(e){return this.set(e.x,e.y),this}},{key:"copyTo",value:function(e){return e.set(this.x,this.y),e}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x=e,this.y=t,this}},{key:"toString",value:function(){return"[@pixi/math:Point x=".concat(this.x," y=").concat(this.y,"]")}}]),e}(),c=[new l,new l,new l,new l],h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,r.Z)(this,e),this.x=Number(t),this.y=Number(n),this.width=Number(i),this.height=Number(a),this.type=u.RECT}return(0,i.Z)(e,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}},{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:"copyFrom",value:function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}},{key:"copyTo",value:function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}},{key:"contains",value:function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)}},{key:"intersects",value:function(e,t){if(!t){var n=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=n)return!1;var r=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>r}var i=this.left,a=this.right,o=this.top,s=this.bottom;if(a<=i||s<=o)return!1;var u=c[0].set(e.left,e.top),l=c[1].set(e.left,e.bottom),h=c[2].set(e.right,e.top),f=c[3].set(e.right,e.bottom);if(h.x<=u.x||l.y<=u.y)return!1;var d=Math.sign(t.a*t.d-t.b*t.c);if(0===d)return!1;if(t.apply(u,u),t.apply(l,l),t.apply(h,h),t.apply(f,f),Math.max(u.x,l.x,h.x,f.x)<=i||Math.min(u.x,l.x,h.x,f.x)>=a||Math.max(u.y,l.y,h.y,f.y)<=o||Math.min(u.y,l.y,h.y,f.y)>=s)return!1;var p=d*(l.y-u.y),v=d*(u.x-l.x),m=p*i+v*o,g=p*a+v*o,y=p*i+v*s,b=p*a+v*s;if(Math.max(m,g,y,b)<=p*u.x+v*u.y||Math.min(m,g,y,b)>=p*f.x+v*f.y)return!1;var x=d*(u.y-h.y),_=d*(h.x-u.x),w=x*i+_*o,k=x*a+_*o,E=x*i+_*s,T=x*a+_*s;return!(Math.max(w,k,E,T)<=x*u.x+_*u.y||Math.min(w,k,E,T)>=x*f.x+_*f.y)}},{key:"pad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}},{key:"fit",value:function(e){var t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=r,this.height=Math.max(i-r,0),this}},{key:"ceil",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,n=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=r-this.y,this}},{key:"enlarge",value:function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=r,this.height=i-r,this}},{key:"toString",value:function(){return"[@pixi/math:Rectangle x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")}}],[{key:"EMPTY",get:function(){return new e(0,0,0,0)}}]),e}(),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,r.Z)(this,e),this.x=t,this.y=n,this.radius=i,this.type=u.CIRC}return(0,i.Z)(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.radius)}},{key:"contains",value:function(e,t){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-e,i=this.y-t;return(r*=r)+(i*=i)<=n}},{key:"getBounds",value:function(){return new h(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{key:"toString",value:function(){return"[@pixi/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")}}]),e}(),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,r.Z)(this,e),this.x=t,this.y=n,this.width=i,this.height=a,this.type=u.ELIP}return(0,i.Z)(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:"contains",value:function(e,t){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,r=(t-this.y)/this.height;return(n*=n)+(r*=r)<=1}},{key:"getBounds",value:function(){return new h(this.x-this.width,this.y-this.height,this.width,this.height)}},{key:"toString",value:function(){return"[@pixi/math:Ellipse x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")}}]),e}(),p=function(){function e(){(0,r.Z)(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=Array.isArray(n[0])?n[0]:n;if("number"!==typeof a[0]){for(var o=[],s=0,l=a.length;s<l;s++)o.push(a[s].x,a[s].y);a=o}this.points=a,this.type=u.POLY,this.closeStroke=!0}return(0,i.Z)(e,[{key:"clone",value:function(){var t=new e(this.points.slice());return t.closeStroke=this.closeStroke,t}},{key:"contains",value:function(e,t){for(var n=!1,r=this.points.length/2,i=0,a=r-1;i<r;a=i++){var o=this.points[2*i],s=this.points[2*i+1],u=this.points[2*a],l=this.points[2*a+1];s>t!==l>t&&e<(t-s)/(l-s)*(u-o)+o&&(n=!n)}return n}},{key:"toString",value:function(){return"[@pixi/math:PolygoncloseStroke=".concat(this.closeStroke,"points=").concat(this.points.reduce((function(e,t){return"".concat(e,", ").concat(t)}),""),"]")}}]),e}(),v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;(0,r.Z)(this,e),this.x=t,this.y=n,this.width=i,this.height=a,this.radius=o,this.type=u.RREC}return(0,i.Z)(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height,this.radius)}},{key:"contains",value:function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var r=e-(this.x+n),i=t-(this.y+n),a=n*n;if(r*r+i*i<=a)return!0;if((r=e-(this.x+this.width-n))*r+i*i<=a)return!0;if(r*r+(i=t-(this.y+this.height-n))*i<=a)return!0;if((r=e-(this.x+n))*r+i*i<=a)return!0}return!1}},{key:"toString",value:function(){return"[@pixi/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")}}]),e}(),m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;(0,r.Z)(this,e),this.array=null,this.a=t,this.b=n,this.c=i,this.d=a,this.tx=o,this.ty=s}return(0,i.Z)(e,[{key:"fromArray",value:function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}},{key:"set",value:function(e,t,n,r,i,a){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=a,this}},{key:"toArray",value:function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}},{key:"apply",value:function(e,t){t=t||new l;var n=e.x,r=e.y;return t.x=this.a*n+this.c*r+this.tx,t.y=this.b*n+this.d*r+this.ty,t}},{key:"applyInverse",value:function(e,t){t=t||new l;var n=1/(this.a*this.d+this.c*-this.b),r=e.x,i=e.y;return t.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t}},{key:"translate",value:function(e,t){return this.tx+=e,this.ty+=t,this}},{key:"scale",value:function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c,a=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=a*t-this.ty*n,this.ty=a*n+this.ty*t,this}},{key:"append",value:function(e){var t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this}},{key:"setTransform",value:function(e,t,n,r,i,a,o,s,u){return this.a=Math.cos(o+u)*i,this.b=Math.sin(o+u)*i,this.c=-Math.sin(o-s)*a,this.d=Math.cos(o-s)*a,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this}},{key:"prepend",value:function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var n=this.a,r=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}},{key:"decompose",value:function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=e.pivot,s=-Math.atan2(-r,i),u=Math.atan2(n,t),l=Math.abs(s+u);return l<1e-5||Math.abs(a-l)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=u),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(r*r+i*i),e.position.x=this.tx+(o.x*t+o.y*r),e.position.y=this.ty+(o.x*n+o.y*i),e}},{key:"invert",value:function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,a=e*r-t*n;return this.a=r/a,this.b=-t/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-r*i)/a,this.ty=-(e*this.ty-t*i)/a,this}},{key:"identity",value:function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}},{key:"clone",value:function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}},{key:"copyTo",value:function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}},{key:"copyFrom",value:function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}},{key:"toString",value:function(){return"[@pixi/math:Matrix a=".concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,"]")}}],[{key:"IDENTITY",get:function(){return new e}},{key:"TEMP_MATRIX",get:function(){return new e}}]),e}(),g=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],y=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],b=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],x=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],_=[],w=[],k=Math.sign;!function(){for(var e=0;e<16;e++){var t=[];_.push(t);for(var n=0;n<16;n++)for(var r=k(g[e]*g[n]+b[e]*y[n]),i=k(y[e]*g[n]+x[e]*y[n]),a=k(g[e]*b[n]+b[e]*x[n]),o=k(y[e]*b[n]+x[e]*x[n]),s=0;s<16;s++)if(g[s]===r&&y[s]===i&&b[s]===a&&x[s]===o){t.push(s);break}}for(var u=0;u<16;u++){var l=new m;l.set(g[u],y[u],b[u],x[u],0,0),w.push(l)}}();var E={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return g[e]},uY:function(e){return y[e]},vX:function(e){return b[e]},vY:function(e){return x[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return _[e][t]},sub:function(e,t){return _[e][E.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2===(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?E.S:E.N:2*Math.abs(t)<=Math.abs(e)?e>0?E.E:E.W:t>0?e>0?E.SE:E.SW:e>0?E.NE:E.NW},matrixAppendRotationInv:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=w[E.inv(t)];i.tx=n,i.ty=r,e.append(i)}},T=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,r.Z)(this,e),this._x=i,this._y=a,this.cb=t,this.scope=n}return(0,i.Z)(e,[{key:"clone",value:function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cb,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scope,this._x,this._y)}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this}},{key:"copyFrom",value:function(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}},{key:"copyTo",value:function(e){return e.set(this._x,this._y),e}},{key:"equals",value:function(e){return e.x===this._x&&e.y===this._y}},{key:"toString",value:function(){return"[@pixi/math:ObservablePoint x=".concat(0," y=",0," scope=",this.scope,"]")}},{key:"x",get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),e}(),S=function(){function e(){(0,r.Z)(this,e),this.worldTransform=new m,this.localTransform=new m,this.position=new T(this.onChange,this,0,0),this.scale=new T(this.onChange,this,1,1),this.pivot=new T(this.onChange,this,0,0),this.skew=new T(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return(0,i.Z)(e,[{key:"onChange",value:function(){this._localID++}},{key:"updateSkew",value:function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}},{key:"toString",value:function(){return"[@pixi/math:Transform position=(".concat(this.position.x,", ").concat(this.position.y,") rotation=").concat(this.rotation," scale=(").concat(this.scale.x,", ").concat(this.scale.y,") skew=(").concat(this.skew.x,", ").concat(this.skew.y,") ]")}},{key:"updateLocalTransform",value:function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}},{key:"updateTransform",value:function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,r=this.worldTransform;r.a=t.a*n.a+t.b*n.c,r.b=t.a*n.b+t.b*n.d,r.c=t.c*n.a+t.d*n.c,r.d=t.c*n.b+t.d*n.d,r.tx=t.tx*n.a+t.ty*n.c+n.tx,r.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}}},{key:"setFromMatrix",value:function(e){e.decompose(this),this._localID++}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}}]),e}(),A=S;A.IDENTITY=new S},775:function(e,t,n){"use strict";n.d(t,{AL:function(){return d}});var r=n(5671),i=n(3144),a=n(136),o=n(9388),s=n(1762),u=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(0,r.Z)(this,n),(e=t.call(this)).segWidth=o,e.segHeight=s,e.width=i,e.height=a,e.build(),e}return(0,i.Z)(n,[{key:"build",value:function(){for(var e=this.segWidth*this.segHeight,t=[],n=[],r=[],i=this.segWidth-1,a=this.segHeight-1,o=this.width/i,s=this.height/a,u=0;u<e;u++){var l=u%this.segWidth,c=u/this.segWidth|0;t.push(l*o,c*s),n.push(l/i,c/a)}for(var h=i*a,f=0;f<h;f++){var d=f%i,p=f/i|0,v=p*this.segWidth+d,m=p*this.segWidth+d+1,g=(p+1)*this.segWidth+d,y=(p+1)*this.segWidth+d+1;r.push(v,m,g,m,y,g)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}]),n}(s.xc),l=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,r.Z)(this,n),(e=t.call(this,new Float32Array(4*a.length),new Float32Array(4*a.length),new Uint16Array(6*(a.length-1)))).points=a,e._width=i,e.textureScale=o,e.build(),e}return(0,i.Z)(n,[{key:"width",get:function(){return this._width}},{key:"build",value:function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),n.data=new Float32Array(4*e.length),r.data=new Uint16Array(6*(e.length-1)));var i=n.data,a=r.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var o=0,s=e[0],u=this._width*this.textureScale,l=e.length,c=0;c<l;c++){var h=4*c;if(this.textureScale>0){var f=s.x-e[c].x,d=s.y-e[c].y,p=Math.sqrt(f*f+d*d);s=e[c],o+=p/u}else o=c/(l-1);i[h]=o,i[h+1]=0,i[h+2]=o,i[h+3]=1}for(var v=0,m=0;m<l-1;m++){var g=2*m;a[v++]=g,a[v++]=g+1,a[v++]=g+2,a[v++]=g+2,a[v++]=g+1,a[v++]=g+3}n.update(),r.update(),this.updateVertices()}}}},{key:"updateVertices",value:function(){var e=this.points;if(!(e.length<1)){for(var t,n=e[0],r=0,i=0,a=this.buffers[0].data,o=e.length,s=this.textureScale>0?this.textureScale*this._width/2:this._width/2,u=0;u<o;u++){var l=e[u],c=4*u;i=-((t=u<e.length-1?e[u+1]:l).x-n.x),r=t.y-n.y;var h=10*(1-u/(o-1));h>1&&(h=1);var f=Math.sqrt(r*r+i*i);f<1e-6?(r=0,i=0):(r/=f,i/=f,r*=s,i*=s),a[c]=l.x+r,a[c+1]=l.y+i,a[c+2]=l.x-r,a[c+3]=l.y-i,n=l}this.buffers[0].update()}}},{key:"update",value:function(){this.textureScale>0?this.build():this.updateVertices()}}]),n}(s.xc),c=n(172),h=n(1752),f=n(1120),d=(s.Kj,function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.xE.EMPTY,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;(0,r.Z)(this,n);var h=new s.xc(a,o,u);h.getBuffer("aVertexPosition").static=!1;var f=new s.rY(i);return(e=t.call(this,h,f,null,l)).autoUpdate=!0,e}return(0,i.Z)(n,[{key:"vertices",get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e}},{key:"_render",value:function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),(0,h.Z)((0,f.Z)(n.prototype),"_render",this).call(this,e)}}]),n}(s.Kj));s.Kj},1762:function(e,t,n){"use strict";n.d(t,{Kj:function(){return v},xc:function(){return m},rY:function(){return g}});var r=n(5671),i=n(3144),a=n(1752),o=n(1120),s=n(136),u=n(9388),l=n(172),c=n(1378),h=function(){function e(t,n){(0,r.Z)(this,e),this.uvBuffer=t,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return(0,i.Z)(e,[{key:"update",value:function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}}]),e}(),f=new l.E9,d=new l.mg,p=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,i,a){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.lg.TRIANGLES;return(0,r.Z)(this,n),(o=t.call(this)).geometry=e,o.shader=i,o.state=a||l.ZM.for2d(),o.drawMode=s,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=l.Xd.ROUND_PIXELS,o.batchUvs=null,o}return(0,i.Z)(n,[{key:"geometry",get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}},{key:"uvBuffer",get:function(){return this.geometry.buffers[1]}},{key:"verticesBuffer",get:function(){return this.geometry.buffers[0]}},{key:"material",get:function(){return this.shader},set:function(e){this.shader=e}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}},{key:"tint",get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e}},{key:"tintValue",get:function(){return this.shader.tintValue}},{key:"texture",get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e}},{key:"_render",value:function(e){var t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===l.lg.TRIANGLES&&t.length<2*n.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)}},{key:"_renderDefault",value:function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}},{key:"_renderToBatch",value:function(e){var t=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;var r=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[r]),e.plugins[r].render(this)}},{key:"calculateVertices",value:function(){var e=this.geometry.buffers[0],t=e.data,n=e._updateID;if(n!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var r=this.transform.worldTransform,i=r.a,a=r.b,o=r.c,s=r.d,u=r.tx,c=r.ty,h=this.vertexData,f=0;f<h.length/2;f++){var d=t[2*f],p=t[2*f+1];h[2*f]=i*d+o*p+u,h[2*f+1]=a*d+s*p+c}if(this._roundPixels)for(var v=l.Xd.RESOLUTION,m=0;m<h.length;++m)h[m]=Math.round(h[m]*v)/v;this.vertexDirty=n}}},{key:"calculateUvs",value:function(){var e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new h(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}},{key:"_calculateBounds",value:function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}},{key:"containsPoint",value:function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,f);for(var t=this.geometry.getBuffer("aVertexPosition").data,n=d.points,r=this.geometry.getIndex().data,i=r.length,a=4===this.drawMode?3:1,o=0;o+2<i;o+=a){var s=2*r[o],u=2*r[o+1],l=2*r[o+2];if(n[0]=t[s],n[1]=t[s+1],n[2]=t[u],n[3]=t[u+1],n[4]=t[l],n[5]=t[l+1],d.contains(f.x,f.y))return!0}return!1}},{key:"destroy",value:function(e){(0,a.Z)((0,o.Z)(n.prototype),"destroy",this).call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}}]),n}(c.W2),v=p;v.BATCHABLE_SIZE=100;var m=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,i,a){var o;(0,r.Z)(this,n),o=t.call(this);var s=new l.lW(e),u=new l.lW(i,!0),c=new l.lW(a,!0,!0);return o.addAttribute("aVertexPosition",s,2,!1,l.vK.FLOAT).addAttribute("aTextureCoord",u,2,!1,l.vK.FLOAT).addIndex(c),o._updateId=-1,o}return(0,i.Z)(n,[{key:"vertexDirtyId",get:function(){return this.buffers[0]._updateID}}]),n}(l.wG),g=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,i){var a;(0,r.Z)(this,n);var o={uSampler:e,alpha:1,uTextureMatrix:l.y3.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(o,i.uniforms),(a=t.call(this,i.program||l.$r.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),o))._colorDirty=!1,a.uvMatrix=new l.UX(e),a.batchable=void 0===i.program,a.pluginName=i.pluginName,a._tintColor=new l.Il(i.tint),a._tintRGB=a._tintColor.toLittleEndianNumber(),a._colorDirty=!0,a.alpha=i.alpha,a}return(0,i.Z)(n,[{key:"texture",get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!==!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}},{key:"alpha",get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}},{key:"tintValue",get:function(){return this._tintColor.toNumber()}},{key:"update",value:function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture.alphaMode;l.Il.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}]),n}(l.ex)},6824:function(e,t,n){"use strict";n.d(t,{tq:function(){return k},Xd:function(){return a}});var r,i={createCanvas:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},getCanvasRenderingContext2D:function(){return CanvasRenderingContext2D},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var e;return null!==(e=document.baseURI)&&void 0!==e?e:window.location.href},getFontFaceSet:function(){return document.fonts},fetch:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)})),parseXML:function(e){return(new DOMParser).parseFromString(e,"text/xml")}},a={ADAPTER:i,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},o=/iPhone/i,s=/iPod/i,u=/iPad/i,l=/\biOS-universal(?:.+)Mac\b/i,c=/\bAndroid(?:.+)Mobile\b/i,h=/Android/i,f=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,d=/Silk/i,p=/Windows Phone/i,v=/\bWindows(?:.+)ARM\b/i,m=/BlackBerry/i,g=/BB10/i,y=/Opera Mini/i,b=/\b(CriOS|Chrome)(?:.+)Mobile/i,x=/Mobile(?:.+)Firefox\b/i,_=function(e){return"undefined"!==typeof e&&"MacIntel"===e.platform&&"number"===typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"===typeof MSStream};function w(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"===typeof navigator?"string"===typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,r=n.split("[FBAN");"undefined"!==typeof r[1]&&(n=r[0]),"undefined"!==typeof(r=n.split("Twitter"))[1]&&(n=r[0]);var i=function(e){return function(t){return t.test(e)}}(n),a={apple:{phone:i(o)&&!i(p),ipod:i(s),tablet:!i(o)&&(i(u)||_(t))&&!i(p),universal:i(l),device:(i(o)||i(s)||i(u)||i(l)||_(t))&&!i(p)},amazon:{phone:i(f),tablet:!i(f)&&i(d),device:i(f)||i(d)},android:{phone:!i(p)&&i(f)||!i(p)&&i(c),tablet:!i(p)&&!i(f)&&!i(c)&&(i(d)||i(h)),device:!i(p)&&(i(f)||i(d)||i(c)||i(h))||i(/\bokhttp\b/i)},windows:{phone:i(p),tablet:i(v),device:i(p)||i(v)},other:{blackberry:i(m),blackberry10:i(g),opera:i(y),firefox:i(x),chrome:i(b),device:i(m)||i(g)||i(y)||i(x)||i(b)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var k=(null!==(r=w.default)&&void 0!==r?r:w)(globalThis.navigator)},9815:function(e,t,n){"use strict";n.d(t,{j:function(){return p}});var r=n(5671),i=n(3144),a=n(7326),o=n(1752),s=n(1120),u=n(136),l=n(9388),c=n(172),h=n(1378),f=new c.E9,d=new Uint16Array([0,1,2,0,2,3]),p=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this))._anchor=new c.AB(i._onAnchorUpdate,(0,a.Z)(i),e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tintColor=new c.Il(16777215),i._tintRGB=null,i.tint=16777215,i.blendMode=c.T$.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=e||c.xE.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=d,i.pluginName="batch",i.isSprite=!0,i._roundPixels=c.Xd.ROUND_PIXELS,i}return(0,i.Z)(n,[{key:"_onTextureUpdate",value:function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=c.P6.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=c.P6.sign(this.scale.y)*this._height/this._texture.orig.height)}},{key:"_onAnchorUpdate",value:function(){this._transformID=-1,this._transformTrimmedID=-1}},{key:"calculateVertices",value:function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,a=t.d,o=t.tx,s=t.ty,u=this.vertexData,l=e.trim,h=e.orig,f=this._anchor,d=0,p=0,v=0,m=0;if(l?(d=(p=l.x-f._x*h.width)+l.width,v=(m=l.y-f._y*h.height)+l.height):(d=(p=-f._x*h.width)+h.width,v=(m=-f._y*h.height)+h.height),u[0]=n*p+i*m+o,u[1]=a*m+r*p+s,u[2]=n*d+i*m+o,u[3]=a*m+r*d+s,u[4]=n*d+i*v+o,u[5]=a*v+r*d+s,u[6]=n*p+i*v+o,u[7]=a*v+r*p+s,this._roundPixels)for(var g=c.Xd.RESOLUTION,y=0;y<u.length;++y)u[y]=Math.round(u[y]*g)/g}}},{key:"calculateTrimmedVertices",value:function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,n=e.orig,r=this._anchor,i=this.transform.worldTransform,a=i.a,o=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,h=-r._x*n.width,f=h+n.width,d=-r._y*n.height,p=d+n.height;t[0]=a*h+s*d+l,t[1]=u*d+o*h+c,t[2]=a*f+s*d+l,t[3]=u*d+o*f+c,t[4]=a*f+s*p+l,t[5]=u*p+o*f+c,t[6]=a*h+s*p+l,t[7]=u*p+o*h+c}},{key:"_render",value:function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}},{key:"_calculateBounds",value:function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}},{key:"getLocalBounds",value:function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new h.YZ),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new c.Ae),e=this._localBoundsRect),this._localBounds.getRectangle(e)):(0,o.Z)((0,s.Z)(n.prototype),"getLocalBounds",this).call(this,e)}},{key:"containsPoint",value:function(e){this.worldTransform.applyInverse(e,f);var t=this._texture.orig.width,n=this._texture.orig.height,r=-t*this.anchor.x,i=0;return f.x>=r&&f.x<r+t&&(i=-n*this.anchor.y,f.y>=i&&f.y<i+n)}},{key:"destroy",value:function(e){if((0,o.Z)((0,s.Z)(n.prototype),"destroy",this).call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"===typeof e?e:null===e||void 0===e?void 0:e.texture){var t="boolean"===typeof e?e:null===e||void 0===e?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}},{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=c.P6.sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=c.P6.sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}},{key:"tintValue",get:function(){return this._tintColor.toNumber()}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||c.xE.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}],[{key:"from",value:function(e,t){return new n(e instanceof c.xE?e:c.xE.from(e,t))}}]),n}(h.W2)},4175:function(e,t,n){"use strict";n.d(t,{vB:function(){return c},uF:function(){return s}});var r=n(6824),i=n(8060),a=n(5671),o=n(3144),s=function(e){return e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e}(s||{}),u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,a.Z)(this,e),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=n,this.priority=r,this.once=i}return(0,o.Z)(e,[{key:"match",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.fn===e&&this.context===t}},{key:"emit",value:function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}},{key:"connect",value:function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t}}]),e}(),l=function(){function e(){var t=this;(0,a.Z)(this,e),this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new u(null,null,1/0),this.deltaMS=1/e.targetFPMS,this.elapsedMS=1/e.targetFPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return(0,o.Z)(e,[{key:"_requestIfNeeded",value:function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}},{key:"_cancelIfNeeded",value:function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}},{key:"_startIfPossible",value:function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}},{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.NORMAL;return this._addListener(new u(e,t,n))}},{key:"addOnce",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.NORMAL;return this._addListener(new u(e,t,n,!0))}},{key:"_addListener",value:function(e){var t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this}},{key:"remove",value:function(e,t){for(var n=this._head.next;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this}},{key:"count",get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e}},{key:"start",value:function(){this.started||(this.started=!0,this._requestIfNeeded())}},{key:"stop",value:function(){this.started&&(this.started=!1,this._cancelIfNeeded())}},{key:"destroy",value:function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}},{key:"update",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();if(n>this.lastTime){if((t=this.elapsedMS=n-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var r=n-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=n-r%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*e.targetFPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=n}},{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var n=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,n)/1e3,e.targetFPMS);this._maxElapsedMS=1/r}},{key:"maxFPS",get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}}],[{key:"shared",get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared}},{key:"system",get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system}}]),e}(),c=l;c.targetFPMS=.06,Object.defineProperties(r.Xd,{TARGET_FPMS:{get:function(){return c.targetFPMS},set:function(e){(0,i.deprecation)("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),c.targetFPMS=e}}});var h=n(2629),f=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"init",value:function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,s.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?c.shared:new c,e.autoStart&&this.start()}},{key:"destroy",value:function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}}}]),e}();f.extension=h.n.Application,h.R.add(f)},8060:function(e,t,n){"use strict";n.r(t),n.d(t,{BaseTextureCache:function(){return W},BoundingBox:function(){return Y},CanvasRenderTarget:function(){return $},DATA_URI:function(){return M},EventEmitter:function(){return i},ProgramCache:function(){return X},TextureCache:function(){return G},clearTextureCache:function(){return z},correctBlendMode:function(){return E},createIndicesForQuads:function(){return P},decomposeDataUri:function(){return te},deprecation:function(){return d},destroyTextureCache:function(){return H},determineCrossOrigin:function(){return ne},earcut:function(){return a},getBufferType:function(){return C},getCanvasBoundingBox:function(){return Q},getResolutionOfUrl:function(){return re},hex2rgb:function(){return y},hex2string:function(){return b},interleaveTypedArrays:function(){return R},isMobile:function(){return r.tq},isPow2:function(){return L},isWebGLSupported:function(){return m},log2:function(){return N},nextPow2:function(){return O},path:function(){return h},premultiplyBlendMode:function(){return k},premultiplyRgba:function(){return T},premultiplyTint:function(){return S},premultiplyTintToRgba:function(){return A},removeItems:function(){return B},rgb2hex:function(){return _},sayHello:function(){return v},sign:function(){return D},skipHello:function(){return p},string2hex:function(){return x},trimCanvas:function(){return ee},uid:function(){return Z},url:function(){return s}});var r=n(6824);r.Xd.RETINA_PREFIX=/@([0-9\.]+)x/,r.Xd.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var i=n(548),a=n(6583),o=n(2770),s={parse:o.Qc,format:o.WU,resolve:o.DB};function u(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received ".concat(JSON.stringify(e)))}function l(e){return e.split("?")[0].split("#")[0]}var c,h={toPosix:function(e){return t="\\",n="/",e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n);var t,n},isUrl:function(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:function(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},hasProtocol:function(e){return/^[^/:]+:\//.test(this.toPosix(e))},getProtocol:function(e){u(e),e=this.toPosix(e);var t="",n=/^file:\/\/\//.exec(e),r=/^[^/:]+:\/\//.exec(e),i=/^[^/:]+:\//.exec(e);if(n||r||i){var a=(null===n||void 0===n?void 0:n[0])||(null===r||void 0===r?void 0:r[0])||(null===i||void 0===i?void 0:i[0]);t=a,e=e.slice(a.length)}return t},toAbsolute:function(e,t,n){if(this.isDataUrl(e))return e;var i=l(this.toPosix(null!==t&&void 0!==t?t:r.Xd.ADAPTER.getBaseUrl())),a=l(this.toPosix(null!==n&&void 0!==n?n:this.rootname(i)));return u(e),(e=this.toPosix(e)).startsWith("/")?h.join(a,e.slice(1)):this.isAbsolute(e)?e:this.join(i,e)},normalize:function(e){if(u(e=this.toPosix(e)),0===e.length)return".";var t="",n=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));var r=e.endsWith("/");return(e=function(e,t){for(var n="",r=0,i=-1,a=0,o=-1,s=0;s<=e.length;++s){if(s<e.length)o=e.charCodeAt(s);else{if(47===o)break;o=47}if(47===o){if(i===s-1||1===a);else if(i!==s-1&&2===a){if(n.length<2||2!==r||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){-1===u?(n="",r=0):r=(n=n.slice(0,u)).length-1-n.lastIndexOf("/"),i=s,a=0;continue}}else if(2===n.length||1===n.length){n="",r=0,i=s,a=0;continue}t&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/".concat(e.slice(i+1,s)):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else 46===o&&-1!==a?++a:a=-1}return n}(e,!1)).length>0&&r&&(e+="/"),n?"/".concat(e):t+e},isAbsolute:function(e){return u(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith("/")},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=t<0||arguments.length<=t?void 0:arguments[t];if(u(n),n.length>0)if(void 0===e)e=n;else{var r,i=null!==(r=t-1<0||arguments.length<=t-1?void 0:arguments[t-1])&&void 0!==r?r:"";this.extname(i)?e+="/../".concat(n):e+="/".concat(n)}}return void 0===e?".":this.normalize(e)},dirname:function(e){if(u(e),0===e.length)return".";for(var t=(e=this.toPosix(e)).charCodeAt(0),n=47===t,r=-1,i=!0,a=this.getProtocol(e),o=e,s=(e=e.slice(a.length)).length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!i){r=s;break}}else i=!1;return-1===r?n?"/":this.isUrl(o)?a+e:a:n&&1===r?"//":a+e.slice(0,r)},rootname:function(e){u(e);var t="";if(t=(e=this.toPosix(e)).startsWith("/")?"/":this.getProtocol(e),this.isUrl(e)){var n=e.indexOf("/",t.length);(t=-1!==n?e.slice(0,n):e).endsWith("/")||(t+="/")}return t},basename:function(e,t){u(e),t&&u(t),e=l(this.toPosix(e));var n,r=0,i=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var o=t.length-1,s=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!a){r=n+1;break}}else-1===s&&(a=!1,s=n+1),o>=0&&(c===t.charCodeAt(o)?-1===--o&&(i=n):(o=-1,i=s))}return r===i?i=s:-1===i&&(i=e.length),e.slice(r,i)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){r=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?"":e.slice(r,i)},extname:function(e){u(e);for(var t=-1,n=0,r=-1,i=!0,a=0,o=(e=l(this.toPosix(e))).length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(i=!1,r=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)},parse:function(e){u(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,r=(e=l(this.toPosix(e))).charCodeAt(0),i=this.isAbsolute(e);t.root=this.rootname(e),n=i||this.hasProtocol(e)?1:0;for(var a=-1,o=0,s=-1,c=!0,h=e.length-1,f=0;h>=n;--h)if(47!==(r=e.charCodeAt(h)))-1===s&&(c=!1,s=h+1),46===r?-1===a?a=h:1!==f&&(f=1):-1!==a&&(f=-1);else if(!c){o=h+1;break}return-1===a||-1===s||0===f||1===f&&a===s-1&&a===o+1?-1!==s&&(t.base=t.name=0===o&&i?e.slice(1,s):e.slice(o,s)):(0===o&&i?(t.name=e.slice(1,a),t.base=e.slice(1,s)):(t.name=e.slice(o,a),t.base=e.slice(o,s)),t.ext=e.slice(a,s)),t.dir=this.dirname(e),t},sep:"/",delimiter:":"},f={};function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!f[t]){var r=(new Error).stack;"undefined"===typeof r?console.warn("PixiJS Deprecation Warning: ","".concat(t,"\nDeprecated since v").concat(e)):(r=r.split("\n").splice(n).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6","".concat(t,"\nDeprecated since v").concat(e)),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ","".concat(t,"\nDeprecated since v").concat(e)),console.warn(r))),f[t]=!0}}function p(){d("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function v(){d("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')}function m(){return"undefined"===typeof c&&(c=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:r.Xd.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{var t,n;if(!r.Xd.ADAPTER.getWebGLRenderingContext())return!1;var i=r.Xd.ADAPTER.createCanvas(),a=i.getContext("webgl",e)||i.getContext("experimental-webgl",e),o=!(null===(t=a)||void 0===t||null===(n=t.getContextAttributes())||void 0===n||!n.stencil);if(a){var s=a.getExtension("WEBGL_lose_context");s&&s.loseContext()}return a=null,o}catch(u){return!1}}()),c}var g=n(2050);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return d("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),g.I.shared.setValue(e).toRgbArray(t)}function b(e){return d("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),g.I.shared.setValue(e).toHex()}function x(e){return d("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),g.I.shared.setValue(e).toNumber()}function _(e){return d("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),g.I.shared.setValue(e).toNumber()}var w=n(7820);var k=function(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[w.T$.NORMAL_NPM]=w.T$.NORMAL,e[w.T$.ADD_NPM]=w.T$.ADD,e[w.T$.SCREEN_NPM]=w.T$.SCREEN,t[w.T$.NORMAL]=w.T$.NORMAL_NPM,t[w.T$.ADD]=w.T$.ADD_NPM,t[w.T$.SCREEN]=w.T$.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}();function E(e,t){return k[t?1:0][e]}function T(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return d("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),g.I.shared.setValue(e).premultiply(t,r).toArray(null!==n&&void 0!==n?n:new Float32Array(4))}function S(e,t){return d("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),g.I.shared.setValue(e).toPremultiplied(t)}function A(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return d("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),g.I.shared.setValue(e).premultiply(t,r).toArray(null!==n&&void 0!==n?n:new Float32Array(4))}var M=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=6*e;if((t=t||new Uint16Array(n)).length!==n)throw new Error("Out buffer length is incorrect, got ".concat(t.length," and expected ").concat(n));for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}function C(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}var I={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function R(e,t){for(var n=0,r=0,i={},a=0;a<e.length;a++)r+=t[a],n+=e[a].length;for(var o=new ArrayBuffer(4*n),s=null,u=0,l=0;l<e.length;l++){var c=t[l],h=e[l],f=C(h);i[f]||(i[f]=new I[f](o)),s=i[f];for(var d=0;d<h.length;d++){s[(d/c|0)*r+u+d%c]=h[d]}u+=c}return new Float32Array(o)}function O(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function L(e){return!(e&e-1)&&!!e}function N(e){var t=(e>65535?1:0)<<4,n=((e>>>=t)>255?1:0)<<3;return t|=n,t|=n=((e>>>=n)>15?1:0)<<2,(t|=n=((e>>>=n)>3?1:0)<<1)|(e>>>=n)>>1}function B(e,t,n){var r,i=e.length;if(!(t>=i||0===n)){var a=i-(n=t+n>i?i-t:n);for(r=t;r<a;++r)e[r]=e[r+n];e.length=a}}function D(e){return 0===e?0:e<0?-1:1}var F=0;function Z(){return++F}var V=n(5671),j=n(3144),U=function(){function e(t,n,r,i){(0,V.Z)(this,e),this.left=t,this.top=n,this.right=r,this.bottom=i}return(0,j.Z)(e,[{key:"width",get:function(){return this.right-this.left}},{key:"height",get:function(){return this.bottom-this.top}},{key:"isEmpty",value:function(){return this.left===this.right||this.top===this.bottom}}]),e}(),Y=U;Y.EMPTY=new U(0,0,0,0);var X={},G=Object.create(null),W=Object.create(null);function H(){var e;for(e in G)G[e].destroy();for(e in W)W[e].destroy()}function z(){var e;for(e in G)delete G[e];for(e in W)delete W[e]}var q,$=function(){function e(t,n,i){(0,V.Z)(this,e),this._canvas=r.Xd.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=i||r.Xd.RESOLUTION,this.resize(t,n)}return(0,j.Z)(e,[{key:"clear",value:function(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}},{key:"resize",value:function(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}},{key:"destroy",value:function(){this._context=null,this._canvas=null}},{key:"width",get:function(){return this._checkDestroyed(),this._canvas.width},set:function(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}},{key:"height",get:function(){return this._checkDestroyed(),this._canvas.height},set:function(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}},{key:"canvas",get:function(){return this._checkDestroyed(),this._canvas}},{key:"context",get:function(){return this._checkDestroyed(),this._context}},{key:"_checkDestroyed",value:function(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}]),e}();function K(e,t,n){for(var r=0,i=4*n*t;r<t;++r,i+=4)if(0!==e[i+3])return!1;return!0}function J(e,t,n,r,i){for(var a=4*t,o=r,s=r*a+4*n;o<=i;++o,s+=a)if(0!==e[s+3])return!1;return!0}function Q(e){var t=e.width,n=e.height,r=e.getContext("2d",{willReadFrequently:!0});if(null===r)throw new TypeError("Failed to get canvas 2D context");for(var i=r.getImageData(0,0,t,n).data,a=0,o=0,s=t-1,u=n-1;o<n&&K(i,t,o);)++o;if(o===n)return Y.EMPTY;for(;K(i,t,u);)--u;for(;J(i,t,a,o,u);)++a;for(;J(i,t,s,o,u);)--s;return++s,++u,new Y(a,o,s,u)}function ee(e){var t=Q(e),n=t.width,r=t.height,i=null;if(!t.isEmpty()){var a=e.getContext("2d");if(null===a)throw new TypeError("Failed to get canvas 2D context");i=a.getImageData(t.left,t.top,n,r)}return{width:n,height:r,data:i}}function te(e){var t=M.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.location;if(e.startsWith("data:"))return"";t=t||globalThis.location,q||(q=document.createElement("a")),q.href=e;var n=s.parse(q.href),r=!n.port&&""===t.port||n.port===t.port;return n.hostname===t.hostname&&r&&n.protocol===t.protocol?"":"anonymous"}function re(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=null===(t=r.Xd.RETINA_PREFIX)||void 0===t?void 0:t.exec(e);return i?parseFloat(i[1]):n}},800:function(e,t,n){"use strict";n.d(t,{PY:function(){return ga}});var r={};n.r(r),n.d(r,{Animation:function(){return xe},AnimationState:function(){return Ze},AnimationStateAdapter:function(){return Ye},AnimationStateData:function(){return Xe},AtlasAttachmentLoader:function(){return Ge},Attachment:function(){return le},AttachmentTimeline:function(){return Pe},Bone:function(){return We},BoneData:function(){return He},BoundingBoxAttachment:function(){return he},ClippingAttachment:function(){return fe},ColorTimeline:function(){return Ae},ConstraintData:function(){return ze},CurveTimeline:function(){return we},DeformTimeline:function(){return Ie},DrawOrderTimeline:function(){return Oe},Event:function(){return qe},EventData:function(){return $e},EventQueue:function(){return je},EventTimeline:function(){return Re},EventType:function(){return Ue},IkConstraint:function(){return Ke},IkConstraintData:function(){return Je},IkConstraintTimeline:function(){return Le},JitterEffect:function(){return ye},MeshAttachment:function(){return de},PathAttachment:function(){return pe},PathConstraint:function(){return tt},PathConstraintData:function(){return Qe},PathConstraintMixTimeline:function(){return Fe},PathConstraintPositionTimeline:function(){return Be},PathConstraintSpacingTimeline:function(){return De},PointAttachment:function(){return ve},RegionAttachment:function(){return ge},RotateTimeline:function(){return ke},ScaleTimeline:function(){return Te},ShearTimeline:function(){return Se},Skeleton:function(){return it},SkeletonBinary:function(){return ct},SkeletonBounds:function(){return dt},SkeletonData:function(){return at},SkeletonJson:function(){return pt},Skin:function(){return lt},SkinEntry:function(){return ut},Slot:function(){return me},SlotData:function(){return ot},SpacingMode:function(){return et},Spine:function(){return mt},SwirlEffect:function(){return be},TimelineType:function(){return _e},TrackEntry:function(){return Ve},TransformConstraint:function(){return nt},TransformConstraintData:function(){return st},TransformConstraintTimeline:function(){return Ne},TranslateTimeline:function(){return Ee},TwoColorTimeline:function(){return Me},VertexAttachment:function(){return ce}});var i={};n.r(i),n.d(i,{Animation:function(){return It},AnimationState:function(){return sn},AnimationStateAdapter2:function(){return dn},AnimationStateData:function(){return vn},AtlasAttachmentLoader:function(){return mn},Attachment:function(){return gt},AttachmentTimeline:function(){return Gt},Bone:function(){return gn},BoneData:function(){return yn},BoundingBoxAttachment:function(){return xt},ClippingAttachment:function(){return _t},ColorTimeline:function(){return Ut},CurveTimeline:function(){return Lt},DeformTimeline:function(){return Ht},DrawOrderTimeline:function(){return qt},Event:function(){return bn},EventData:function(){return xn},EventQueue:function(){return hn},EventTimeline:function(){return zt},EventType:function(){return fn},IkConstraint:function(){return _n},IkConstraintData:function(){return wn},IkConstraintTimeline:function(){return Kt},JitterEffect:function(){return Mt},MeshAttachment:function(){return wt},PathAttachment:function(){return kt},PathConstraint:function(){return Sn},PathConstraintData:function(){return kn},PathConstraintMixTimeline:function(){return an},PathConstraintPositionTimeline:function(){return tn},PathConstraintSpacingTimeline:function(){return nn},PointAttachment:function(){return Et},RegionAttachment:function(){return At},RotateTimeline:function(){return Bt},ScaleTimeline:function(){return Zt},ShearTimeline:function(){return Vt},Skeleton:function(){return Pn},SkeletonBounds:function(){return Cn},SkeletonData:function(){return In},SkeletonJson:function(){return Nn},Skin:function(){return Ln},Slot:function(){return Tt},SlotData:function(){return Rn},SpacingMode:function(){return En},Spine:function(){return Dn},SwirlEffect:function(){return Ct},TimelineType:function(){return Rt},TrackEntry:function(){return ln},TransformConstraint:function(){return An},TransformConstraintData:function(){return On},TransformConstraintTimeline:function(){return Qt},TranslateTimeline:function(){return Ft},TwoColorTimeline:function(){return Xt},VertexAttachment:function(){return bt}});var a={};n.r(a),n.d(a,{AlphaTimeline:function(){return Lr},Animation:function(){return Kn},AnimationState:function(){return zr},AnimationStateAdapter:function(){return Qr},AnimationStateData:function(){return si},AtlasAttachmentLoader:function(){return ui},Attachment:function(){return Fn},AttachmentTimeline:function(){return Dr},Bone:function(){return li},BoneData:function(){return ci},BoundingBoxAttachment:function(){return jn},ClippingAttachment:function(){return Un},ConstraintData:function(){return hi},CurveTimeline:function(){return br},CurveTimeline1:function(){return xr},CurveTimeline2:function(){return _r},DeformTimeline:function(){return Fr},DrawOrderTimeline:function(){return Vr},Event:function(){return fi},EventData:function(){return di},EventQueue:function(){return Kr},EventTimeline:function(){return Zr},EventType:function(){return Jr},IkConstraint:function(){return pi},IkConstraintData:function(){return vi},IkConstraintTimeline:function(){return jr},MeshAttachment:function(){return Yn},PathAttachment:function(){return Xn},PathConstraint:function(){return bi},PathConstraintData:function(){return mi},PathConstraintMixTimeline:function(){return Gr},PathConstraintPositionTimeline:function(){return Yr},PathConstraintSpacingTimeline:function(){return Xr},PointAttachment:function(){return Gn},RGB2Timeline:function(){return Br},RGBA2Timeline:function(){return Nr},RGBATimeline:function(){return Rr},RGBTimeline:function(){return Or},RegionAttachment:function(){return Hn},RotateTimeline:function(){return wr},ScaleTimeline:function(){return Sr},ScaleXTimeline:function(){return Ar},ScaleYTimeline:function(){return Mr},Sequence:function(){return zn},SequenceMode:function(){return qn},SequenceModeValues:function(){return $n},SequenceTimeline:function(){return Wr},ShearTimeline:function(){return Pr},ShearXTimeline:function(){return Cr},ShearYTimeline:function(){return Ir},Skeleton:function(){return ki},SkeletonBinary:function(){return Pi},SkeletonBounds:function(){return ia},SkeletonData:function(){return Ei},SkeletonJson:function(){return aa},Skin:function(){return Mi},SkinEntry:function(){return Ai},Slot:function(){return xi},SlotData:function(){return Ti},SpacingMode:function(){return gi},Spine:function(){return ha},Timeline:function(){return yr},TrackEntry:function(){return $r},TransformConstraint:function(){return _i},TransformConstraintData:function(){return Si},TransformConstraintTimeline:function(){return Ur},TranslateTimeline:function(){return kr},TranslateXTimeline:function(){return Er},TranslateYTimeline:function(){return Tr},VertexAttachment:function(){return Vn}});var o=n(3433),s=n(4165),u=n(5861),l=function(e){return e[e.Region=0]="Region",e[e.BoundingBox=1]="BoundingBox",e[e.Mesh=2]="Mesh",e[e.LinkedMesh=3]="LinkedMesh",e[e.Path=4]="Path",e[e.Point=5]="Point",e[e.Clipping=6]="Clipping",e}(l||{}),c=n(5671),h=n(3144),f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new DataView(t.buffer);(0,c.Z)(this,e),this.strings=n,this.index=r,this.buffer=i}return(0,h.Z)(e,[{key:"readByte",value:function(){return this.buffer.getInt8(this.index++)}},{key:"readUnsignedByte",value:function(){return this.buffer.getUint8(this.index++)}},{key:"readShort",value:function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e}},{key:"readInt32",value:function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e}},{key:"readInt",value:function(e){var t=this.readByte(),n=127&t;return 0!=(128&t)&&(n|=(127&(t=this.readByte()))<<7,0!=(128&t)&&(n|=(127&(t=this.readByte()))<<14,0!=(128&t)&&(n|=(127&(t=this.readByte()))<<21,0!=(128&t)&&(n|=(127&(t=this.readByte()))<<28)))),e?n:n>>>1^-(1&n)}},{key:"readStringRef",value:function(){var e=this.readInt(!0);return 0==e?null:this.strings[e-1]}},{key:"readString",value:function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var t="",n=0;n<e;){var r=this.readUnsignedByte();switch(r>>4){case 12:case 13:t+=String.fromCharCode((31&r)<<6|63&this.readByte()),n+=2;break;case 14:t+=String.fromCharCode((15&r)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:t+=String.fromCharCode(r),n++}}return t}},{key:"readFloat",value:function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e}},{key:"readBoolean",value:function(){return 0!=this.readByte()}}]),e}(),d=function(e){return e[e.setup=0]="setup",e[e.first=1]="first",e[e.replace=2]="replace",e[e.add=3]="add",e}(d||{}),p=function(e){return e[e.mixIn=0]="mixIn",e[e.mixOut=1]="mixOut",e}(p||{}),v=function(e){return e[e.Fixed=0]="Fixed",e[e.Percent=1]="Percent",e}(v||{}),m=function(e){return e[e.Tangent=0]="Tangent",e[e.Chain=1]="Chain",e[e.ChainScale=2]="ChainScale",e}(m||{}),g=function(e){return e[e.Normal=0]="Normal",e[e.OnlyTranslation=1]="OnlyTranslation",e[e.NoRotationOrReflection=2]="NoRotationOrReflection",e[e.NoScale=3]="NoScale",e[e.NoScaleOrReflection=4]="NoScaleOrReflection",e}(g||{}),y=n(136),b=n(9388),x=n(172);function _(e){switch(e.toLowerCase()){case"nearest":return w.Nearest;case"linear":return w.Linear;case"mipmap":return w.MipMap;case"mipmapnearestnearest":return w.MipMapNearestNearest;case"mipmaplinearnearest":return w.MipMapLinearNearest;case"mipmapnearestlinear":return w.MipMapNearestLinear;case"mipmaplinearlinear":return w.MipMapLinearLinear;default:throw new Error("Unknown texture filter ".concat(e))}}var w=function(e){return e[e.Nearest=9728]="Nearest",e[e.Linear=9729]="Linear",e[e.MipMap=9987]="MipMap",e[e.MipMapNearestNearest=9984]="MipMapNearestNearest",e[e.MipMapLinearNearest=9985]="MipMapLinearNearest",e[e.MipMapNearestLinear=9986]="MipMapNearestLinear",e[e.MipMapLinearLinear=9987]="MipMapLinearLinear",e}(w||{}),k=function(e){return e[e.MirroredRepeat=33648]="MirroredRepeat",e[e.ClampToEdge=33071]="ClampToEdge",e[e.Repeat=10497]="Repeat",e}(k||{}),E=function(){function e(){(0,c.Z)(this,e),this.size=null,this.names=null,this.values=null,this.renderObject=null}return(0,h.Z)(e,[{key:"width",get:function(){var e=this.texture;return e.trim?e.trim.width:e.orig.width}},{key:"height",get:function(){var e=this.texture;return e.trim?e.trim.height:e.orig.height}},{key:"u",get:function(){return this.texture._uvs.x0}},{key:"v",get:function(){return this.texture._uvs.y0}},{key:"u2",get:function(){return this.texture._uvs.x2}},{key:"v2",get:function(){return this.texture._uvs.y2}},{key:"offsetX",get:function(){var e=this.texture;return e.trim?e.trim.x:0}},{key:"offsetY",get:function(){return this.spineOffsetY}},{key:"pixiOffsetY",get:function(){var e=this.texture;return e.trim?e.trim.y:0}},{key:"spineOffsetY",get:function(){var e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)}},{key:"originalWidth",get:function(){return this.texture.orig.width}},{key:"originalHeight",get:function(){return this.texture.orig.height}},{key:"x",get:function(){return this.texture.frame.x}},{key:"y",get:function(){return this.texture.frame.y}},{key:"rotate",get:function(){return 0!==this.texture.rotate}},{key:"degrees",get:function(){return(360-45*this.texture.rotate)%360}}]),e}(),T=(0,h.Z)((function e(){(0,c.Z)(this,e),this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0})),S=function(){function e(t,n,r){(0,c.Z)(this,e),this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,n,r)}return(0,h.Z)(e,[{key:"addTexture",value:function(e,t){for(var n=this.pages,r=null,i=0;i<n.length;i++)if(n[i].baseTexture===t.baseTexture){r=n[i];break}if(null===r){(r=new M).name="texturePage";var a=t.baseTexture;r.width=a.realWidth,r.height=a.realHeight,r.baseTexture=a,r.minFilter=r.magFilter=w.Nearest,r.uWrap=k.ClampToEdge,r.vWrap=k.ClampToEdge,n.push(r)}var o=new P;return o.name=e,o.page=r,o.texture=t,o.index=-1,this.regions.push(o),o}},{key:"addTextureHash",value:function(e,t){for(var n in e)e.hasOwnProperty(n)&&this.addTexture(t&&-1!==n.indexOf(".")?n.substr(0,n.lastIndexOf(".")):n,e[n])}},{key:"addSpineAtlas",value:function(e,t,n){return this.load(e,t,n)}},{key:"load",value:function(e,t,n){var r=this;if(null==t)throw new Error("textureLoader cannot be null.");var i=new A(e),a=new Array(4),o=null,s={},u=null;s.size=function(){o.width=parseInt(a[1]),o.height=parseInt(a[2])},s.format=function(){},s.filter=function(){o.minFilter=_(a[1]),o.magFilter=_(a[2])},s.repeat=function(){-1!=a[1].indexOf("x")&&(o.uWrap=k.Repeat),-1!=a[1].indexOf("y")&&(o.vWrap=k.Repeat)},s.pma=function(){o.pma="true"==a[1]};for(var l={xy:function(){u.x=parseInt(a[1]),u.y=parseInt(a[2])},size:function(){u.width=parseInt(a[1]),u.height=parseInt(a[2])},bounds:function(){u.x=parseInt(a[1]),u.y=parseInt(a[2]),u.width=parseInt(a[3]),u.height=parseInt(a[4])},offset:function(){u.offsetX=parseInt(a[1]),u.offsetY=parseInt(a[2])},orig:function(){u.originalWidth=parseInt(a[1]),u.originalHeight=parseInt(a[2])},offsets:function(){u.offsetX=parseInt(a[1]),u.offsetY=parseInt(a[2]),u.originalWidth=parseInt(a[3]),u.originalHeight=parseInt(a[4])},rotate:function(){var e=a[1],t=0;t="true"==e.toLocaleLowerCase()?6:"false"==e.toLocaleLowerCase()?0:(720-parseFloat(e))%360/45,u.rotate=t},index:function(){u.index=parseInt(a[1])}},c=i.readLine();null!=c&&0==c.trim().length;)c=i.readLine();for(;null!=c&&0!=c.trim().length&&0!=i.readEntry(a,c);)c=i.readLine();!function e(){for(;;){if(null==c)return n&&n(r);if(0==c.trim().length)o=null,c=i.readLine();else{if(null===o){for((o=new M).name=c.trim();0!=i.readEntry(a,c=i.readLine());){var h=s[a[0]];h&&h()}r.pages.push(o),t(o.name,(function(t){if(null===t)return r.pages.splice(r.pages.indexOf(o),1),n&&n(null);o.baseTexture=t,o.pma&&(t.alphaMode=x.iw.PMA),t.valid||t.setSize(o.width,o.height),o.setFilters(),o.width&&o.height||(o.width=t.realWidth,o.height=t.realHeight,o.width&&o.height||console.log("ERROR spine atlas page ".concat(o.name,": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)"))),e()}));break}u=new T;var f=new P;f.name=c,f.page=o;for(var d=null,p=null;;){var v=i.readEntry(a,c=i.readLine());if(0==v)break;var m=l[a[0]];if(m)m();else{null==d&&(d=[],p=[]),d.push(a[0]);for(var g=[],y=0;y<v;y++)g.push(parseInt(a[y+1]));p.push(g)}}0==u.originalWidth&&0==u.originalHeight&&(u.originalWidth=u.width,u.originalHeight=u.height);var b=o.baseTexture.resolution;u.x/=b,u.y/=b,u.width/=b,u.height/=b,u.originalWidth/=b,u.originalHeight/=b,u.offsetX/=b,u.offsetY/=b;var _=u.rotate%4!==0,w=new x.Ae(u.x,u.y,_?u.height:u.width,_?u.width:u.height),k=new x.Ae(0,0,u.originalWidth,u.originalHeight),E=new x.Ae(u.offsetX,u.originalHeight-u.height-u.offsetY,u.width,u.height);f.texture=new x.xE(f.page.baseTexture,w,k,E,u.rotate),f.index=u.index,f.texture.updateUvs(),r.regions.push(f)}}}()}},{key:"findRegion",value:function(e){for(var t=0;t<this.regions.length;t++)if(this.regions[t].name==e)return this.regions[t];return null}},{key:"dispose",value:function(){for(var e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()}}]),e}(),A=function(){function e(t){(0,c.Z)(this,e),this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return(0,h.Z)(e,[{key:"readLine",value:function(){return this.index>=this.lines.length?null:this.lines[this.index++]}},{key:"readEntry",value:function(e,t){if(null==t)return 0;if(0==(t=t.trim()).length)return 0;var n=t.indexOf(":");if(-1==n)return 0;e[0]=t.substr(0,n).trim();for(var r=1,i=n+1;;r++){var a=t.indexOf(",",i);if(-1==a)return e[r]=t.substr(i).trim(),r;if(e[r]=t.substr(i,a-i).trim(),i=a+1,4==r)return 4}}}]),e}(),M=function(){function e(){(0,c.Z)(this,e),this.minFilter=w.Nearest,this.magFilter=w.Nearest,this.uWrap=k.ClampToEdge,this.vWrap=k.ClampToEdge}return(0,h.Z)(e,[{key:"setFilters",value:function(){var e=this.baseTexture,t=this.minFilter;t==w.Linear?e.scaleMode=x.aH.LINEAR:this.minFilter==w.Nearest?e.scaleMode=x.aH.NEAREST:(e.mipmap=x.KI.POW2,t==w.MipMapNearestNearest?e.scaleMode=x.aH.NEAREST:e.scaleMode=x.aH.LINEAR)}}]),e}(),P=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n)}(E),C=function(){function e(){(0,c.Z)(this,e),this.array=new Array}return(0,h.Z)(e,[{key:"add",value:function(e){var t=this.contains(e);return this.array[0|e]=0|e,!t}},{key:"contains",value:function(e){return void 0!=this.array[0|e]}},{key:"remove",value:function(e){this.array[0|e]=void 0}},{key:"clear",value:function(){this.array.length=0}}]),e}(),I=function(){function e(){(0,c.Z)(this,e),this.entries={},this.size=0}return(0,h.Z)(e,[{key:"add",value:function(e){var t=this.entries[e];return this.entries[e]=!0,!t&&(this.size++,!0)}},{key:"addAll",value:function(e){for(var t=this.size,n=0,r=e.length;n<r;n++)this.add(e[n]);return t!=this.size}},{key:"contains",value:function(e){return this.entries[e]}},{key:"clear",value:function(){this.entries={},this.size=0}}]),e}(),R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,c.Z)(this,e),this.r=t,this.g=n,this.b=r,this.a=i}return(0,h.Z)(e,[{key:"set",value:function(e,t,n,r){return this.r=e,this.g=t,this.b=n,this.a=r,this.clamp()}},{key:"setFromColor",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this}},{key:"setFromString",value:function(e){return e="#"==e.charAt(0)?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=8!=e.length?1:parseInt(e.substr(6,2),16)/255,this}},{key:"add",value:function(e,t,n,r){return this.r+=e,this.g+=t,this.b+=n,this.a+=r,this.clamp()}},{key:"clamp",value:function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}}],[{key:"rgba8888ToColor",value:function(e,t){e.r=((4278190080&t)>>>24)/255,e.g=((16711680&t)>>>16)/255,e.b=((65280&t)>>>8)/255,e.a=(255&t)/255}},{key:"rgb888ToColor",value:function(e,t){e.r=((16711680&t)>>>16)/255,e.g=((65280&t)>>>8)/255,e.b=(255&t)/255}},{key:"fromString",value:function(t){return(new e).setFromString(t)}}]),e}(),O=R;O.WHITE=new R(1,1,1,1),O.RED=new R(1,0,0,1),O.GREEN=new R(0,1,0,1),O.BLUE=new R(0,0,1,1),O.MAGENTA=new R(1,0,1,1);var L=function(){function e(){(0,c.Z)(this,e)}return(0,h.Z)(e,null,[{key:"clamp",value:function(e,t,n){return e<t?t:e>n?n:e}},{key:"cosDeg",value:function(t){return Math.cos(t*e.degRad)}},{key:"sinDeg",value:function(t){return Math.sin(t*e.degRad)}},{key:"signum",value:function(e){return Math.sign(e)}},{key:"toInt",value:function(e){return e>0?Math.floor(e):Math.ceil(e)}},{key:"cbrt",value:function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}},{key:"randomTriangular",value:function(t,n){return e.randomTriangularWith(t,n,.5*(t+n))}},{key:"randomTriangularWith",value:function(e,t,n){var r=Math.random(),i=t-e;return r<=(n-e)/i?e+Math.sqrt(r*i*(n-e)):t-Math.sqrt((1-r)*i*(t-n))}},{key:"isPowerOfTwo",value:function(e){return e&&0===(e&e-1)}}]),e}(),N=L;N.PI=3.1415927,N.PI2=2*L.PI,N.radiansToDegrees=180/L.PI,N.radDeg=L.radiansToDegrees,N.degreesToRadians=L.PI/180,N.degRad=L.degreesToRadians;var B=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"applyInternal",value:function(e){return Math.pow(e-1,this.power)*(this.power%2==0?-1:1)+1}}]),n}(function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).power=2,r.power=e,r}return(0,h.Z)(n,[{key:"applyInternal",value:function(e){return e<=.5?Math.pow(2*e,this.power)/2:Math.pow(2*(e-1),this.power)/(this.power%2==0?-2:2)+1}}]),n}(function(){function e(){(0,c.Z)(this,e)}return(0,h.Z)(e,[{key:"apply",value:function(e,t,n){return e+(t-e)*this.applyInternal(n)}}]),e}())),D=function(){function e(){(0,c.Z)(this,e)}return(0,h.Z)(e,null,[{key:"arrayCopy",value:function(e,t,n,r,i){for(var a=t,o=r;a<t+i;a++,o++)n[o]=e[a]}},{key:"arrayFill",value:function(e,t,n,r){for(var i=t;i<n;i++)e[i]=r}},{key:"setArraySize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.length;if(r==t)return e;if(e.length=t,r<t)for(var i=r;i<t;i++)e[i]=n;return e}},{key:"ensureArrayCapacity",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.length>=n?t:e.setArraySize(t,n,r)}},{key:"newArray",value:function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n}},{key:"newFloatArray",value:function(t){if(e.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var n=new Array(t),r=0;r<n.length;r++)n[r]=0;return n}},{key:"newShortArray",value:function(t){if(e.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var n=new Array(t),r=0;r<n.length;r++)n[r]=0;return n}},{key:"toFloatArray",value:function(t){return e.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t}},{key:"toSinglePrecision",value:function(t){return e.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t}},{key:"webkit602BugfixHelper",value:function(e,t){}},{key:"contains",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1}},{key:"enumValue",value:function(e,t){return e[t[0].toUpperCase()+t.slice(1)]}}]),e}(),F=D;F.SUPPORTS_TYPED_ARRAYS="undefined"!==typeof Float32Array;var Z=function(){function e(t){(0,c.Z)(this,e),this.items=new Array,this.instantiator=t}return(0,h.Z)(e,[{key:"obtain",value:function(){return this.items.length>0?this.items.pop():this.instantiator()}},{key:"free",value:function(e){e.reset&&e.reset(),this.items.push(e)}},{key:"freeAll",value:function(e){for(var t=0;t<e.length;t++)this.free(e[t])}},{key:"clear",value:function(){this.items.length=0}}]),e}(),V=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,c.Z)(this,e),this.x=t,this.y=n}return(0,h.Z)(e,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"length",value:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}},{key:"normalize",value:function(){var e=this.length();return 0!=e&&(this.x/=e,this.y/=e),this}}]),e}(),j=function(){function e(){(0,c.Z)(this,e),this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new Z((function(){return F.newFloatArray(16)}))}return(0,h.Z)(e,[{key:"update",value:function(e,t){if(!e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,r=this.polygons,i=this.polygonPool,a=e.slots,o=a.length;n.length=0,i.freeAll(r),r.length=0;for(var s=0;s<o;s++){var u=a[s];if(u.bone.active){var c=u.getAttachment();if(null!=c&&c.type===l.BoundingBox){var h=c;n.push(h);var f=i.obtain();f.length!=h.worldVerticesLength&&(f=F.newFloatArray(h.worldVerticesLength)),r.push(f),h.computeWorldVertices(u,0,h.worldVerticesLength,f,0,2)}}}t?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}},{key:"aabbCompute",value:function(){for(var e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=this.polygons,a=0,o=i.length;a<o;a++)for(var s=i[a],u=s,l=0,c=s.length;l<c;l+=2){var h=u[l],f=u[l+1];e=Math.min(e,h),t=Math.min(t,f),n=Math.max(n,h),r=Math.max(r,f)}this.minX=e,this.minY=t,this.maxX=n,this.maxY=r}},{key:"aabbContainsPoint",value:function(e,t){return e>=this.minX&&e<=this.maxX&&t>=this.minY&&t<=this.maxY}},{key:"aabbIntersectsSegment",value:function(e,t,n,r){var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY;if(e<=i&&n<=i||t<=a&&r<=a||e>=o&&n>=o||t>=s&&r>=s)return!1;var u=(r-t)/(n-e),l=u*(i-e)+t;if(l>a&&l<s)return!0;if((l=u*(o-e)+t)>a&&l<s)return!0;var c=(a-t)/u+e;return c>i&&c<o||(c=(s-t)/u+e)>i&&c<o}},{key:"aabbIntersectsSkeleton",value:function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY}},{key:"containsPoint",value:function(e,t){for(var n=this.polygons,r=0,i=n.length;r<i;r++)if(this.containsPointPolygon(n[r],e,t))return this.boundingBoxes[r];return null}},{key:"containsPointPolygon",value:function(e,t,n){for(var r=e,i=e.length,a=i-2,o=!1,s=0;s<i;s+=2){var u=r[s+1],l=r[a+1];if(u<n&&l>=n||l<n&&u>=n){var c=r[s];c+(n-u)/(l-u)*(r[a]-c)<t&&(o=!o)}a=s}return o}},{key:"intersectsSegment",value:function(e,t,n,r){for(var i=this.polygons,a=0,o=i.length;a<o;a++)if(this.intersectsSegmentPolygon(i[a],e,t,n,r))return this.boundingBoxes[a];return null}},{key:"intersectsSegmentPolygon",value:function(e,t,n,r,i){for(var a=e,o=e.length,s=t-r,u=n-i,l=t*i-n*r,c=a[o-2],h=a[o-1],f=0;f<o;f+=2){var d=a[f],p=a[f+1],v=c*p-h*d,m=c-d,g=h-p,y=s*g-u*m,b=(l*m-s*v)/y;if((b>=c&&b<=d||b>=d&&b<=c)&&(b>=t&&b<=r||b>=r&&b<=t)){var x=(l*g-u*v)/y;if((x>=h&&x<=p||x>=p&&x<=h)&&(x>=n&&x<=i||x>=i&&x<=n))return!0}c=d,h=p}return!1}},{key:"getPolygon",value:function(e){if(!e)throw new Error("boundingBox cannot be null.");var t=this.boundingBoxes.indexOf(e);return-1==t?null:this.polygons[t]}},{key:"getWidth",value:function(){return this.maxX-this.minX}},{key:"getHeight",value:function(){return this.maxY-this.minY}}]),e}(),U=!0,Y=!1,X=!0,G=0,W=n(1752),H=n(1120),z=n(1378),q=n(9815),$=n(775),K=n(1),J=[0,0,0],Q=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.apply(this,arguments)).region=null,e.attachment=null,e}return(0,h.Z)(n)}(q.j),ee=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i,a,o){var s;return(0,c.Z)(this,n),(s=t.call(this,e,r,i,a,o)).region=null,s.attachment=null,s}return(0,h.Z)(n)}($.AL),te=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;if((0,c.Z)(this,n),r=t.call(this),!e)throw new Error("The spineData param is required.");if("string"===typeof e)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');r.spineData=e,r.createSkeleton(e),r.slotContainers=[],r.tempClipContainers=[];for(var i=0,a=r.skeleton.slots.length;i<a;i++){var o=r.skeleton.slots[i],s=o.getAttachment(),u=r.newContainer();if(r.slotContainers.push(u),r.addChild(u),r.tempClipContainers.push(null),s)if(s.type===l.Region){var h=s.name,f=r.createSprite(o,s,h);o.currentSprite=f,o.currentSpriteName=h,u.addChild(f)}else if(s.type===l.Mesh){var d=r.createMesh(o,s);o.currentMesh=d,o.currentMeshId=s.id,o.currentMeshName=s.name,u.addChild(d)}else s.type===l.Clipping&&(r.createGraphics(o,s),u.addChild(o.clippingContainer),u.addChild(o.currentGraphics))}return r.tintRgb=new Float32Array([1,1,1]),r.autoUpdate=!0,r.visible=!0,r}return(0,h.Z)(n,[{key:"debug",get:function(){return this._debug},set:function(e){var t;e!=this._debug&&(null===(t=this._debug)||void 0===t||t.unregisterSpine(this),null===e||void 0===e||e.registerSpine(this),this._debug=e)}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,this.updateTransform=e?n.prototype.autoUpdateTransform:z.W2.prototype.updateTransform)}},{key:"tint",get:function(){return x.P6.rgb2hex(this.tintRgb)},set:function(e){this.tintRgb=x.P6.hex2rgb(e,this.tintRgb)}},{key:"delayLimit",get:function(){return("undefined"!==typeof this.localDelayLimit?this.localDelayLimit:G)||Number.MAX_VALUE}},{key:"update",value:function(e){var t,n=this.delayLimit;if(e>n&&(e=n),this.state.update(e),this.state.apply(this.skeleton),this.skeleton){this.skeleton.updateWorldTransform();var r=this.skeleton.slots,i=this.color,a=null,o=null;i?(a=i.light,o=i.dark):a=this.tintRgb;for(var s=0,u=r.length;s<u;s++){var c=r[s],h=c.getAttachment(),f=this.slotContainers[s];if(h){var d=null;h.sequence&&h.sequence.apply(c,h);var p=h.region,v=h.color;switch(null!=h&&h.type){case l.Region:if(f.transform.setFromMatrix(c.bone.matrix),p=h.region,c.currentMesh&&(c.currentMesh.visible=!1,c.currentMesh=null,c.currentMeshId=void 0,c.currentMeshName=void 0),!p){c.currentSprite&&(c.currentSprite.renderable=!1);break}if(!c.currentSpriteName||c.currentSpriteName!==h.name){var m=h.name;if(c.currentSprite&&(c.currentSprite.visible=!1),c.sprites=c.sprites||{},void 0!==c.sprites[m])c.sprites[m].visible=!0;else{var g=this.createSprite(c,h,m);f.addChild(g)}c.currentSprite=c.sprites[m],c.currentSpriteName=m}c.currentSprite.renderable=!0,c.hackRegion||this.setSpriteRegion(h,c.currentSprite,p),c.currentSprite.color?d=c.currentSprite.color:(J[0]=a[0]*c.color.r*v.r,J[1]=a[1]*c.color.g*v.g,J[2]=a[2]*c.color.b*v.b,c.currentSprite.tint=x.P6.rgb2hex(J)),c.currentSprite.blendMode=c.blendMode;break;case l.Mesh:if(c.currentSprite){c.currentSprite.visible=!1,c.currentSprite=null,c.currentSpriteName=void 0;var y=new x.wx;y._parentID=-1,y._worldID=f.transform._worldID,f.transform=y}if(!p){c.currentMesh&&(c.currentMesh.renderable=!1);break}var b=h.id;if(void 0===c.currentMeshId||c.currentMeshId!==b){var _=b;if(c.currentMesh&&(c.currentMesh.visible=!1),c.meshes=c.meshes||{},void 0!==c.meshes[_])c.meshes[_].visible=!0;else{var w=this.createMesh(c,h);f.addChild(w)}c.currentMesh=c.meshes[_],c.currentMeshName=h.name,c.currentMeshId=_}c.currentMesh.renderable=!0,h.computeWorldVerticesOld(c,c.currentMesh.vertices),c.currentMesh.color?d=c.currentMesh.color:(J[0]=a[0]*c.color.r*v.r,J[1]=a[1]*c.color.g*v.g,J[2]=a[2]*c.color.b*v.b,c.currentMesh.tint=x.P6.rgb2hex(J)),c.currentMesh.blendMode=c.blendMode,c.hackRegion||this.setMeshRegion(h,c.currentMesh,p);break;case l.Clipping:c.currentGraphics||(this.createGraphics(c,h),f.addChild(c.clippingContainer),f.addChild(c.currentGraphics)),this.updateGraphics(c,h),f.alpha=1,f.visible=!0;continue;default:f.visible=!1;continue}if(f.visible=!0,d){var k=c.color.r*v.r,E=c.color.g*v.g,T=c.color.b*v.b;d.setLight(a[0]*k+o[0]*(1-k),a[1]*E+o[1]*(1-E),a[2]*T+o[2]*(1-T)),c.darkColor?(k=c.darkColor.r,E=c.darkColor.g,T=c.darkColor.b):(k=0,E=0,T=0),d.setDark(a[0]*k+o[0]*(1-k),a[1]*E+o[1]*(1-E),a[2]*T+o[2]*(1-T))}f.alpha=c.color.a}else f.visible=!1}for(var S=this.skeleton.drawOrder,A=null,M=null,P=0,C=S.length;P<C;P++){var I=r[S[P].data.index],R=this.slotContainers[S[P].data.index];if(M||null!==R.parent&&R.parent!==this&&(R.parent.removeChild(R),R.parent=this),I.currentGraphics&&I.getAttachment())M=I.clippingContainer,A=I.getAttachment(),M.children.length=0,this.children[P]=R,A.endSlot===I.data&&(A.endSlot=null);else if(M){var O=this.tempClipContainers[P];O||((O=this.tempClipContainers[P]=this.newContainer()).visible=!1),this.children[P]=O,R.parent=null,M.addChild(R),A.endSlot==I.data&&(M.renderable=!0,M=null,A=null)}else this.children[P]=R}null===(t=this._debug)||void 0===t||t.renderDebug(this)}}},{key:"setSpriteRegion",value:function(e,t,n){t.attachment===e&&t.region===n||(t.region=n,t.attachment=e,t.texture=n.texture,t.rotation=e.rotation*N.degRad,t.position.x=e.x,t.position.y=e.y,t.alpha=e.color.a,n.size?(t.scale.x=n.size.width/n.originalWidth,t.scale.y=-n.size.height/n.originalHeight):(t.scale.x=e.scaleX*e.width/n.originalWidth,t.scale.y=-e.scaleY*e.height/n.originalHeight))}},{key:"setMeshRegion",value:function(e,t,n){t.attachment===e&&t.region===n||(t.region=n,t.attachment=e,t.texture=n.texture,n.texture.updateUvs(),t.uvBuffer.update(e.regionUVs))}},{key:"autoUpdateTransform",value:function(){if(X){this.lastTime=this.lastTime||Date.now();var e=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(e)}else this.lastTime=0;z.W2.prototype.updateTransform.call(this)}},{key:"createSprite",value:function(e,t,n){var r=t.region;e.hackAttachment===t&&(r=e.hackRegion);var i=r?r.texture:null,a=this.newSprite(i);return a.anchor.set(.5),r&&this.setSpriteRegion(t,a,t.region),e.sprites=e.sprites||{},e.sprites[n]=a,a}},{key:"createMesh",value:function(e,t){var n=t.region;e.hackAttachment===t&&(n=e.hackRegion,e.hackAttachment=null,e.hackRegion=null);var r=this.newMesh(n?n.texture:null,new Float32Array(t.regionUVs.length),t.regionUVs,new Uint16Array(t.triangles),x.lg.TRIANGLES);return"undefined"!==typeof r._canvasPadding&&(r._canvasPadding=1.5),r.alpha=t.color.a,r.region=t.region,n&&this.setMeshRegion(t,r,n),e.meshes=e.meshes||{},e.meshes[t.id]=r,r}},{key:"createGraphics",value:function(e,t){var n=this.newGraphics(),r=new x.mg([]);return n.clear(),n.beginFill(16777215,1),n.drawPolygon(r),n.renderable=!1,e.currentGraphics=n,e.clippingContainer=this.newContainer(),e.clippingContainer.mask=e.currentGraphics,n}},{key:"updateGraphics",value:function(e,t){var n=e.currentGraphics.geometry,r=n.graphicsData[0].shape.points,i=t.worldVerticesLength;r.length=i,t.computeWorldVertices(e,0,i,r,0,2),n.invalidate()}},{key:"hackTextureBySlotIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.skeleton.slots[e];if(!r)return!1;var i=r.getAttachment(),a=i.region;return t?((a=new E).texture=t,a.size=n,r.hackRegion=a,r.hackAttachment=i):(r.hackRegion=null,r.hackAttachment=null),r.currentSprite?this.setSpriteRegion(i,r.currentSprite,a):r.currentMesh&&this.setMeshRegion(i,r.currentMesh,a),!0}},{key:"hackTextureBySlotName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.skeleton.findSlotIndex(e);return-1!=r&&this.hackTextureBySlotIndex(r,t,n)}},{key:"hackTextureAttachment",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=this.skeleton.findSlotIndex(e),a=this.skeleton.getAttachmentByName(e,t);a.region.texture=n;var o=this.skeleton.slots[i];if(!o)return!1;var s=o.getAttachment();if(t===s.name){var u=a.region;return n?((u=new E).texture=n,u.size=r,o.hackRegion=u,o.hackAttachment=s):(o.hackRegion=null,o.hackAttachment=null),o.currentSprite&&o.currentSprite.region!=u?(this.setSpriteRegion(s,o.currentSprite,u),o.currentSprite.region=u):o.currentMesh&&o.currentMesh.region!=u&&this.setMeshRegion(s,o.currentMesh,u),!0}return!1}},{key:"newContainer",value:function(){return new z.W2}},{key:"newSprite",value:function(e){return new Q(e)}},{key:"newGraphics",value:function(){return new K.TC}},{key:"newMesh",value:function(e,t,n,r,i){return new ee(e,t,n,r,i)}},{key:"transformHack",value:function(){return 1}},{key:"hackAttachmentGroups",value:function(e,t,n){if(e){for(var r=[],i=[],a=0,o=this.skeleton.slots.length;a<o;a++){var s=this.skeleton.slots[a],u=s.currentSpriteName||s.currentMeshName||"",l=s.currentSprite||s.currentMesh;u.endsWith(e)?(l.parentGroup=t,i.push(l)):n&&l&&(l.parentGroup=n,r.push(l))}return[r,i]}}},{key:"destroy",value:function(e){this.debug=null;for(var t=0,r=this.skeleton.slots.length;t<r;t++){var i=this.skeleton.slots[t];for(var a in i.meshes)i.meshes[a].destroy(e);for(var o in i.meshes=null,i.sprites)i.sprites[o].destroy(e);i.sprites=null}for(var s=0,u=this.slotContainers.length;s<u;s++)this.slotContainers[s].destroy(e);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,(0,W.Z)((0,H.Z)(n.prototype),"destroy",this).call(this,e)}}]),n}(z.W2),ne=te;ne.clippingPolygon=[],Object.defineProperty(ne.prototype,"visible",{get:function(){return this._visible},set:function(e){e!==this._visible&&(this._visible=e,e&&(this.lastTime=0))}});var re=n(5162),ie={extension:x.nw.Asset,loader:{extension:{type:x.nw.LoadParser,priority:re.Q2.Normal},test:function(e){return(0,re.gN)(e,".atlas")},load:function(e){return(0,u.Z)((0,s.Z)().mark((function t(){var n,r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.Xd.ADAPTER.fetch(e);case 2:return n=t.sent,t.next=5,n.text();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))()},testParse:function(e,t){var n=(0,re.gN)(t.src,".atlas"),r="string"===typeof e;return Promise.resolve(n&&r)},parse:function(e,t,n){return(0,u.Z)((0,s.Z)().mark((function r(){var i,a,o,u,l,c,h,f;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=t.data,(a=x.P6.path.dirname(t.src))&&a.lastIndexOf("/")!==a.length-1&&(a+="/"),o=null,u=null,l=new Promise((function(e,t){o=e,u=t})),h=function(e){e||u("Something went terribly wrong loading a spine .atlas file\nMost likely your texture failed to load."),o(c)},i.image||i.images?(f=Object.assign(i.image?{default:i.image}:{},i.images),c=new S(e,(function(e,t){var n=f[e]||f.default;n&&n.baseTexture?t(n.baseTexture):t(n)}),h)):c=new S(e,ae(n,a,i.imageMetadata),h),r.next=10,l;case 10:return r.abrupt("return",r.sent);case 11:case"end":return r.stop()}}),r)})))()},unload:function(e){e.dispose()}}},ae=function(e,t,n){return function(){var r=(0,u.Z)((0,s.Z)().mark((function r(i,a){var u,l,c;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=(u=x.P6.path).join.apply(u,(0,o.Z)(t.split(x.P6.path.sep)).concat([i])),r.next=3,e.load({src:l,data:n});case 3:c=r.sent,a(c.baseTexture);case 5:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()};function oe(e){return e.hasOwnProperty("bones")}x.Rw.add(ie);var se=function(){function e(){(0,c.Z)(this,e)}return(0,h.Z)(e,[{key:"installLoader",value:function(){var e=this,t={extension:x.nw.Asset,loader:{extension:{type:x.nw.LoadParser,priority:re.Q2.Normal},test:function(e){return(0,re.gN)(e,".skel")},load:function(e){return(0,u.Z)((0,s.Z)().mark((function t(){var n,r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.Xd.ADAPTER.fetch(e);case 2:return n=t.sent,t.next=5,n.arrayBuffer();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))()},testParse:function(e,t){var n,r=(0,re.gN)(t.src,".json")&&oe(e),i=(0,re.gN)(t.src,".skel")&&e instanceof ArrayBuffer,a=!1===(null===(n=t.data)||void 0===n?void 0:n.spineAtlas);return Promise.resolve(r&&!a||i)},parse:function(t,n,r){return(0,u.Z)((0,s.Z)().mark((function i(){var a,o,u,l,c,h,f,d,p,v,m,g,y,b,_,w,k,E;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=x.P6.path.extname(n.src).toLowerCase(),u=x.P6.path.basename(n.src,o),(l=x.P6.path.dirname(n.src))&&l.lastIndexOf("/")!==l.length-1&&(l+="/"),c=(0,re.gN)(n.src,".json")&&oe(t),h=null,f=t,c?h=e.createJsonParser():(h=e.createBinaryParser(),f=new Uint8Array(t)),d=n.data||{},(p=null!==(a=null===d||void 0===d?void 0:d.spineSkeletonScale)&&void 0!==a?a:null)&&(h.scale=p),!(v=d.spineAtlas)||!v.pages){i.next=14;break}return i.abrupt("return",e.parseData(h,v,f));case 14:if(!(m=d.atlasRawData)){i.next=24;break}return g=null,y=null,b=new Promise((function(e,t){g=e,y=t})),_=new S(m,ae(r,l,d.imageMetadata),(function(e){e||y("Something went terribly wrong loading a spine .atlas file\nMost likely your texture failed to load."),g(_)})),i.next=22,b;case 22:return w=i.sent,i.abrupt("return",e.parseData(h,w,f));case 24:return(k=d.spineAtlasFile)||(k="".concat(l+u,".atlas")),i.next=28,r.load({src:k,data:d,alias:d.spineAtlasAlias});case 28:return E=i.sent,i.abrupt("return",e.parseData(h,E,f));case 30:case"end":return i.stop()}}),i)})))()}}};return x.Rw.add(t),t}}]),e}(),ue=n(7326),le=(0,h.Z)((function e(t){if((0,c.Z)(this,e),null==t)throw new Error("name cannot be null.");this.name=t})),ce=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).id=(65535&n.nextID++)<<11,r.worldVerticesLength=0,r.deformAttachment=(0,ue.Z)(r),r}return(0,h.Z)(n,[{key:"computeWorldVerticesOld",value:function(e,t){this.computeWorldVertices(e,0,this.worldVerticesLength,t,0,2)}},{key:"computeWorldVertices",value:function(e,t,n,r,i,a){n=i+(n>>1)*a;var o=e.bone.skeleton,s=e.deform,u=this.vertices,l=this.bones;if(null!=l){for(var c=0,h=0,f=0;f<t;f+=2){var d=l[c];c+=d+1,h+=d}var p=o.bones;if(0==s.length)for(var v=i,m=3*h;v<n;v+=a){var g=0,y=0,b=l[c++];for(b+=c;c<b;c++,m+=3){var x=p[l[c]].matrix,_=u[m],w=u[m+1],k=u[m+2];g+=(_*x.a+w*x.c+x.tx)*k,y+=(_*x.b+w*x.d+x.ty)*k}r[v]=g,r[v+1]=y}else for(var E=s,T=i,S=3*h,A=h<<1;T<n;T+=a){var M=0,P=0,C=l[c++];for(C+=c;c<C;c++,S+=3,A+=2){var I=p[l[c]].matrix,R=u[S]+E[A],O=u[S+1]+E[A+1],L=u[S+2];M+=(R*I.a+O*I.c+I.tx)*L,P+=(R*I.b+O*I.d+I.ty)*L}r[T]=M,r[T+1]=P}}else{s.length>0&&(u=s);for(var N=e.bone.matrix,B=N.tx,D=N.ty,F=N.a,Z=N.c,V=N.b,j=N.d,U=t,Y=i;Y<n;U+=2,Y+=a){var X=u[U],G=u[U+1];r[Y]=X*F+G*Z+B,r[Y+1]=X*V+G*j+D}}}},{key:"copyTo",value:function(e){null!=this.bones?(e.bones=new Array(this.bones.length),F.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,null!=this.vertices?(e.vertices=F.newFloatArray(this.vertices.length),F.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)):e.vertices=null,e.worldVerticesLength=this.worldVerticesLength,e.deformAttachment=this.deformAttachment}}]),n}(le);ce.nextID=0;var he=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.BoundingBox,r.color=new O(1,1,1,1),r}return(0,h.Z)(n,[{key:"copy",value:function(){var e=new n(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e}}]),n}(ce),fe=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.Clipping,r.color=new O(.2275,.2275,.8078,1),r}return(0,h.Z)(n,[{key:"copy",value:function(){var e=new n(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e}}]),n}(ce),de=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.Mesh,r.color=new O(1,1,1,1),r.tempColor=new O(0,0,0,0),r}return(0,h.Z)(n,[{key:"getParentMesh",value:function(){return this.parentMesh}},{key:"setParentMesh",value:function(e){this.parentMesh=e,null!=e&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)}},{key:"copy",value:function(){if(null!=this.parentMesh)return this.newLinkedMesh();var e=new n(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Float32Array(this.regionUVs.length),F.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.triangles=new Array(this.triangles.length),F.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,null!=this.edges&&(e.edges=new Array(this.edges.length),F.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e}},{key:"newLinkedMesh",value:function(){var e=new n(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),e.deformAttachment=this.deformAttachment,e.setParentMesh(null!=this.parentMesh?this.parentMesh:this),e}}]),n}(ce),pe=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.Path,r.closed=!1,r.constantSpeed=!1,r.color=new O(1,1,1,1),r}return(0,h.Z)(n,[{key:"copy",value:function(){var e=new n(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),F.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e}}]),n}(ce),ve=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.Point,r.color=new O(.38,.94,0,1),r}return(0,h.Z)(n,[{key:"computeWorldPosition",value:function(e,t){var n=e.matrix;return t.x=this.x*n.a+this.y*n.c+e.worldX,t.y=this.x*n.b+this.y*n.d+e.worldY,t}},{key:"computeWorldRotation",value:function(e){var t=e.matrix,n=N.cosDeg(this.rotation),r=N.sinDeg(this.rotation),i=n*t.a+r*t.c,a=n*t.b+r*t.d;return Math.atan2(a,i)*N.radDeg}},{key:"copy",value:function(){var e=new n(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e}}]),n}(ce),me=function(){function e(t,n){if((0,c.Z)(this,e),this.deform=new Array,null==t)throw new Error("data cannot be null.");if(null==n)throw new Error("bone cannot be null.");this.data=t,this.bone=n,this.color=new O,this.darkColor=null==t.darkColor?null:new O,this.setToSetupPose(),this.blendMode=this.data.blendMode}return(0,h.Z)(e,[{key:"getAttachment",value:function(){return this.attachment}},{key:"setAttachment",value:function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)}},{key:"setAttachmentTime",value:function(e){this.attachmentTime=this.bone.skeleton.time-e}},{key:"getAttachmentTime",value:function(){return this.bone.skeleton.time-this.attachmentTime}},{key:"setToSetupPose",value:function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}}]),e}(),ge=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.Region,r.x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.rotation=0,r.width=0,r.height=0,r.color=new O(1,1,1,1),r.offset=F.newFloatArray(8),r.uvs=F.newFloatArray(8),r.tempColor=new O(1,1,1,1),r}return(0,h.Z)(n,[{key:"updateOffset",value:function(){var e=this.width/this.region.originalWidth*this.scaleX,t=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*e,i=-this.height/2*this.scaleY+this.region.offsetY*t,a=r+this.region.width*e,o=i+this.region.height*t,s=this.rotation*Math.PI/180,u=Math.cos(s),l=Math.sin(s),c=r*u+this.x,h=r*l,f=i*u+this.y,d=i*l,p=a*u+this.x,v=a*l,m=o*u+this.y,g=o*l,y=this.offset;y[n.OX1]=c-d,y[n.OY1]=f+h,y[n.OX2]=c-g,y[n.OY2]=m+h,y[n.OX3]=p-g,y[n.OY3]=m+v,y[n.OX4]=p-d,y[n.OY4]=f+v}},{key:"setRegion",value:function(e){this.region=e;var t=this.uvs;e.rotate?(t[2]=e.u,t[3]=e.v2,t[4]=e.u,t[5]=e.v,t[6]=e.u2,t[7]=e.v,t[0]=e.u2,t[1]=e.v2):(t[0]=e.u,t[1]=e.v2,t[2]=e.u,t[3]=e.v,t[4]=e.u2,t[5]=e.v,t[6]=e.u2,t[7]=e.v2)}},{key:"computeWorldVertices",value:function(e,t,r,i){var a=this.offset,o=e instanceof me?e.bone.matrix:e.matrix,s=o.tx,u=o.ty,l=o.a,c=o.c,h=o.b,f=o.d,d=0,p=0;d=a[n.OX1],p=a[n.OY1],t[r]=d*l+p*c+s,t[r+1]=d*h+p*f+u,r+=i,d=a[n.OX2],p=a[n.OY2],t[r]=d*l+p*c+s,t[r+1]=d*h+p*f+u,r+=i,d=a[n.OX3],p=a[n.OY3],t[r]=d*l+p*c+s,t[r+1]=d*h+p*f+u,r+=i,d=a[n.OX4],p=a[n.OY4],t[r]=d*l+p*c+s,t[r+1]=d*h+p*f+u}},{key:"copy",value:function(){var e=new n(this.name);return e.region=this.region,e.rendererObject=this.rendererObject,e.path=this.path,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,F.arrayCopy(this.uvs,0,e.uvs,0,8),F.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e}}]),n}(le);ge.OX1=0,ge.OY1=1,ge.OX2=2,ge.OY2=3,ge.OX3=4,ge.OY3=5,ge.OX4=6,ge.OY4=7,ge.X1=0,ge.Y1=1,ge.C1R=2,ge.C1G=3,ge.C1B=4,ge.C1A=5,ge.U1=6,ge.V1=7,ge.X2=8,ge.Y2=9,ge.C2R=10,ge.C2G=11,ge.C2B=12,ge.C2A=13,ge.U2=14,ge.V2=15,ge.X3=16,ge.Y3=17,ge.C3R=18,ge.C3G=19,ge.C3B=20,ge.C3A=21,ge.U3=22,ge.V3=23,ge.X4=24,ge.Y4=25,ge.C4R=26,ge.C4G=27,ge.C4B=28,ge.C4A=29,ge.U4=30,ge.V4=31;var ye=function(){function e(t,n){(0,c.Z)(this,e),this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=n}return(0,h.Z)(e,[{key:"begin",value:function(e){}},{key:"transform",value:function(e,t,n,r){e.x+=N.randomTriangular(-this.jitterX,this.jitterY),e.y+=N.randomTriangular(-this.jitterX,this.jitterY)}},{key:"end",value:function(){}}]),e}(),be=function(){function e(t){(0,c.Z)(this,e),this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return(0,h.Z)(e,[{key:"begin",value:function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY}},{key:"transform",value:function(t,n,r,i){var a=this.angle*N.degreesToRadians,o=t.x-this.worldX,s=t.y-this.worldY,u=Math.sqrt(o*o+s*s);if(u<this.radius){var l=e.interpolation.apply(0,a,(this.radius-u)/this.radius),c=Math.cos(l),h=Math.sin(l);t.x=c*o-h*s+this.worldX,t.y=h*o+c*s+this.worldY}}},{key:"end",value:function(){}}]),e}();be.interpolation=new B(2);var xe=function(){function e(t,n,r){if((0,c.Z)(this,e),null==t)throw new Error("name cannot be null.");if(null==n)throw new Error("timelines cannot be null.");this.name=t,this.timelines=n,this.timelineIds=[];for(var i=0;i<n.length;i++)this.timelineIds[n[i].getPropertyId()]=!0;this.duration=r}return(0,h.Z)(e,[{key:"hasTimeline",value:function(e){return 1==this.timelineIds[e]}},{key:"apply",value:function(e,t,n,r,i,a,o,s){if(null==e)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,t>0&&(t%=this.duration));for(var u=this.timelines,l=0,c=u.length;l<c;l++)u[l].apply(e,t,n,i,a,o,s)}}],[{key:"binarySearch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=0,i=e.length/n-2;if(0==i)return n;for(var a=i>>>1;;){if(e[(a+1)*n]<=t?r=a+1:i=a,r==i)return(r+1)*n;a=r+i>>>1}}},{key:"linearSearch",value:function(e,t,n){for(var r=0,i=e.length-n;r<=i;r+=n)if(e[r]>t)return r;return-1}}]),e}(),_e=function(e){return e[e.rotate=0]="rotate",e[e.translate=1]="translate",e[e.scale=2]="scale",e[e.shear=3]="shear",e[e.attachment=4]="attachment",e[e.color=5]="color",e[e.deform=6]="deform",e[e.event=7]="event",e[e.drawOrder=8]="drawOrder",e[e.ikConstraint=9]="ikConstraint",e[e.transformConstraint=10]="transformConstraint",e[e.pathConstraintPosition=11]="pathConstraintPosition",e[e.pathConstraintSpacing=12]="pathConstraintSpacing",e[e.pathConstraintMix=13]="pathConstraintMix",e[e.twoColor=14]="twoColor",e}(_e||{}),we=function(){function e(t){if((0,c.Z)(this,e),t<=0)throw new Error("frameCount must be > 0: ".concat(t));this.curves=F.newFloatArray((t-1)*e.BEZIER_SIZE)}return(0,h.Z)(e,[{key:"getFrameCount",value:function(){return this.curves.length/e.BEZIER_SIZE+1}},{key:"setLinear",value:function(t){this.curves[t*e.BEZIER_SIZE]=e.LINEAR}},{key:"setStepped",value:function(t){this.curves[t*e.BEZIER_SIZE]=e.STEPPED}},{key:"getCurveType",value:function(t){var n=t*e.BEZIER_SIZE;if(n==this.curves.length)return e.LINEAR;var r=this.curves[n];return r==e.LINEAR?e.LINEAR:r==e.STEPPED?e.STEPPED:e.BEZIER}},{key:"setCurve",value:function(t,n,r,i,a){var o=.03*(2*-n+i),s=.03*(2*-r+a),u=.006*(3*(n-i)+1),l=.006*(3*(r-a)+1),c=2*o+u,h=2*s+l,f=.3*n+o+.16666667*u,d=.3*r+s+.16666667*l,p=t*e.BEZIER_SIZE,v=this.curves;v[p++]=e.BEZIER;for(var m=f,g=d,y=p+e.BEZIER_SIZE-1;p<y;p+=2)v[p]=m,v[p+1]=g,f+=c,d+=h,c+=u,h+=l,m+=f,g+=d}},{key:"getCurvePercent",value:function(t,n){n=N.clamp(n,0,1);var r=this.curves,i=t*e.BEZIER_SIZE,a=r[i];if(a==e.LINEAR)return n;if(a==e.STEPPED)return 0;for(var o=0,s=++i,u=i+e.BEZIER_SIZE-1;i<u;i+=2)if((o=r[i])>=n){var l=void 0,c=void 0;return i==s?(l=0,c=0):(l=r[i-2],c=r[i-1]),c+(r[i+1]-c)*(n-l)/(o-l)}var h=r[i-1];return h+(1-h)*(n-o)/(1-o)}}]),e}();we.LINEAR=0,we.STEPPED=1,we.BEZIER=2,we.BEZIER_SIZE=19;var ke=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e<<1),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return 0+this.boneIndex}},{key:"setFrame",value:function(e,t,r){e<<=1,this.frames[e]=t,this.frames[e+n.ROTATION]=r}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.bones[this.boneIndex];if(l.active)if(r<u[0])switch(o){case d.setup:return void(l.rotation=l.data.rotation);case d.first:var c=l.data.rotation-l.rotation;l.rotation+=(c-360*(16384-(16384.499999999996-c/360|0)))*a}else if(r>=u[u.length-n.ENTRIES]){var h=u[u.length+n.PREV_ROTATION];switch(o){case d.setup:l.rotation=l.data.rotation+h*a;break;case d.first:case d.replace:h+=l.data.rotation-l.rotation,h-=360*(16384-(16384.499999999996-h/360|0));case d.add:l.rotation+=h*a}}else{var f=xe.binarySearch(u,r,n.ENTRIES),p=u[f+n.PREV_ROTATION],v=u[f],m=this.getCurvePercent((f>>1)-1,1-(r-v)/(u[f+n.PREV_TIME]-v)),g=u[f+n.ROTATION]-p;switch(g=p+(g-360*(16384-(16384.499999999996-g/360|0)))*m,o){case d.setup:l.rotation=l.data.rotation+(g-360*(16384-(16384.499999999996-g/360|0)))*a;break;case d.first:case d.replace:g+=l.data.rotation-l.rotation;case d.add:l.rotation+=(g-360*(16384-(16384.499999999996-g/360|0)))*a}}}}]),n}(we);ke.ENTRIES=2,ke.PREV_TIME=-2,ke.PREV_ROTATION=-1,ke.ROTATION=1;var Ee=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e*n.ENTRIES),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(1<<24)+this.boneIndex}},{key:"setFrame",value:function(e,t,r,i){e*=n.ENTRIES,this.frames[e]=t,this.frames[e+n.X]=r,this.frames[e+n.Y]=i}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.bones[this.boneIndex];if(l.active)if(r<u[0])switch(o){case d.setup:return l.x=l.data.x,void(l.y=l.data.y);case d.first:l.x+=(l.data.x-l.x)*a,l.y+=(l.data.y-l.y)*a}else{var c=0,h=0;if(r>=u[u.length-n.ENTRIES])c=u[u.length+n.PREV_X],h=u[u.length+n.PREV_Y];else{var f=xe.binarySearch(u,r,n.ENTRIES);c=u[f+n.PREV_X],h=u[f+n.PREV_Y];var p=u[f],v=this.getCurvePercent(f/n.ENTRIES-1,1-(r-p)/(u[f+n.PREV_TIME]-p));c+=(u[f+n.X]-c)*v,h+=(u[f+n.Y]-h)*v}switch(o){case d.setup:l.x=l.data.x+c*a,l.y=l.data.y+h*a;break;case d.first:case d.replace:l.x+=(l.data.x+c-l.x)*a,l.y+=(l.data.y+h-l.y)*a;break;case d.add:l.x+=c*a,l.y+=h*a}}}}]),n}(we);Ee.ENTRIES=3,Ee.PREV_TIME=-3,Ee.PREV_X=-2,Ee.PREV_Y=-1,Ee.X=1,Ee.Y=2;var Te=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e)}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(2<<24)+this.boneIndex}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.bones[this.boneIndex];if(l.active)if(r<u[0])switch(o){case d.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case d.first:l.scaleX+=(l.data.scaleX-l.scaleX)*a,l.scaleY+=(l.data.scaleY-l.scaleY)*a}else{var c=0,h=0;if(r>=u[u.length-n.ENTRIES])c=u[u.length+n.PREV_X]*l.data.scaleX,h=u[u.length+n.PREV_Y]*l.data.scaleY;else{var f=xe.binarySearch(u,r,n.ENTRIES);c=u[f+n.PREV_X],h=u[f+n.PREV_Y];var v=u[f],m=this.getCurvePercent(f/n.ENTRIES-1,1-(r-v)/(u[f+n.PREV_TIME]-v));c=(c+(u[f+n.X]-c)*m)*l.data.scaleX,h=(h+(u[f+n.Y]-h)*m)*l.data.scaleY}if(1==a)o==d.add?(l.scaleX+=c-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=c,l.scaleY=h);else{var g=0,y=0;if(s==p.mixOut)switch(o){case d.setup:g=l.data.scaleX,y=l.data.scaleY,l.scaleX=g+(Math.abs(c)*N.signum(g)-g)*a,l.scaleY=y+(Math.abs(h)*N.signum(y)-y)*a;break;case d.first:case d.replace:g=l.scaleX,y=l.scaleY,l.scaleX=g+(Math.abs(c)*N.signum(g)-g)*a,l.scaleY=y+(Math.abs(h)*N.signum(y)-y)*a;break;case d.add:g=l.scaleX,y=l.scaleY,l.scaleX=g+(Math.abs(c)*N.signum(g)-l.data.scaleX)*a,l.scaleY=y+(Math.abs(h)*N.signum(y)-l.data.scaleY)*a}else switch(o){case d.setup:g=Math.abs(l.data.scaleX)*N.signum(c),y=Math.abs(l.data.scaleY)*N.signum(h),l.scaleX=g+(c-g)*a,l.scaleY=y+(h-y)*a;break;case d.first:case d.replace:g=Math.abs(l.scaleX)*N.signum(c),y=Math.abs(l.scaleY)*N.signum(h),l.scaleX=g+(c-g)*a,l.scaleY=y+(h-y)*a;break;case d.add:g=N.signum(c),y=N.signum(h),l.scaleX=Math.abs(l.scaleX)*g+(c-Math.abs(l.data.scaleX)*g)*a,l.scaleY=Math.abs(l.scaleY)*y+(h-Math.abs(l.data.scaleY)*y)*a}}}}}]),n}(Ee),Se=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e)}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(3<<24)+this.boneIndex}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.bones[this.boneIndex];if(l.active)if(r<u[0])switch(o){case d.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case d.first:l.shearX+=(l.data.shearX-l.shearX)*a,l.shearY+=(l.data.shearY-l.shearY)*a}else{var c=0,h=0;if(r>=u[u.length-n.ENTRIES])c=u[u.length+n.PREV_X],h=u[u.length+n.PREV_Y];else{var f=xe.binarySearch(u,r,n.ENTRIES);c=u[f+n.PREV_X],h=u[f+n.PREV_Y];var p=u[f],v=this.getCurvePercent(f/n.ENTRIES-1,1-(r-p)/(u[f+n.PREV_TIME]-p));c+=(u[f+n.X]-c)*v,h+=(u[f+n.Y]-h)*v}switch(o){case d.setup:l.shearX=l.data.shearX+c*a,l.shearY=l.data.shearY+h*a;break;case d.first:case d.replace:l.shearX+=(l.data.shearX+c-l.shearX)*a,l.shearY+=(l.data.shearY+h-l.shearY)*a;break;case d.add:l.shearX+=c*a,l.shearY+=h*a}}}}]),n}(Ee),Ae=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e*n.ENTRIES),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(5<<24)+this.slotIndex}},{key:"setFrame",value:function(e,t,r,i,a,o){e*=n.ENTRIES,this.frames[e]=t,this.frames[e+n.R]=r,this.frames[e+n.G]=i,this.frames[e+n.B]=a,this.frames[e+n.A]=o}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=e.slots[this.slotIndex];if(u.bone.active){var l=this.frames;if(r<l[0])switch(o){case d.setup:return void u.color.setFromColor(u.data.color);case d.first:var c=u.color,h=u.data.color;c.add((h.r-c.r)*a,(h.g-c.g)*a,(h.b-c.b)*a,(h.a-c.a)*a)}else{var f=0,p=0,v=0,m=0;if(r>=l[l.length-n.ENTRIES]){var g=l.length;f=l[g+n.PREV_R],p=l[g+n.PREV_G],v=l[g+n.PREV_B],m=l[g+n.PREV_A]}else{var y=xe.binarySearch(l,r,n.ENTRIES);f=l[y+n.PREV_R],p=l[y+n.PREV_G],v=l[y+n.PREV_B],m=l[y+n.PREV_A];var b=l[y],x=this.getCurvePercent(y/n.ENTRIES-1,1-(r-b)/(l[y+n.PREV_TIME]-b));f+=(l[y+n.R]-f)*x,p+=(l[y+n.G]-p)*x,v+=(l[y+n.B]-v)*x,m+=(l[y+n.A]-m)*x}if(1==a)u.color.set(f,p,v,m);else{var _=u.color;o==d.setup&&_.setFromColor(u.data.color),_.add((f-_.r)*a,(p-_.g)*a,(v-_.b)*a,(m-_.a)*a)}}}}}]),n}(we);Ae.ENTRIES=5,Ae.PREV_TIME=-5,Ae.PREV_R=-4,Ae.PREV_G=-3,Ae.PREV_B=-2,Ae.PREV_A=-1,Ae.R=1,Ae.G=2,Ae.B=3,Ae.A=4;var Me=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e*n.ENTRIES),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(14<<24)+this.slotIndex}},{key:"setFrame",value:function(e,t,r,i,a,o,s,u,l){e*=n.ENTRIES,this.frames[e]=t,this.frames[e+n.R]=r,this.frames[e+n.G]=i,this.frames[e+n.B]=a,this.frames[e+n.A]=o,this.frames[e+n.R2]=s,this.frames[e+n.G2]=u,this.frames[e+n.B2]=l}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=e.slots[this.slotIndex];if(u.bone.active){var l=this.frames;if(r<l[0])switch(o){case d.setup:return u.color.setFromColor(u.data.color),void u.darkColor.setFromColor(u.data.darkColor);case d.first:var c=u.color,h=u.darkColor,f=u.data.color,p=u.data.darkColor;c.add((f.r-c.r)*a,(f.g-c.g)*a,(f.b-c.b)*a,(f.a-c.a)*a),h.add((p.r-h.r)*a,(p.g-h.g)*a,(p.b-h.b)*a,0)}else{var v=0,m=0,g=0,y=0,b=0,x=0,_=0;if(r>=l[l.length-n.ENTRIES]){var w=l.length;v=l[w+n.PREV_R],m=l[w+n.PREV_G],g=l[w+n.PREV_B],y=l[w+n.PREV_A],b=l[w+n.PREV_R2],x=l[w+n.PREV_G2],_=l[w+n.PREV_B2]}else{var k=xe.binarySearch(l,r,n.ENTRIES);v=l[k+n.PREV_R],m=l[k+n.PREV_G],g=l[k+n.PREV_B],y=l[k+n.PREV_A],b=l[k+n.PREV_R2],x=l[k+n.PREV_G2],_=l[k+n.PREV_B2];var E=l[k],T=this.getCurvePercent(k/n.ENTRIES-1,1-(r-E)/(l[k+n.PREV_TIME]-E));v+=(l[k+n.R]-v)*T,m+=(l[k+n.G]-m)*T,g+=(l[k+n.B]-g)*T,y+=(l[k+n.A]-y)*T,b+=(l[k+n.R2]-b)*T,x+=(l[k+n.G2]-x)*T,_+=(l[k+n.B2]-_)*T}if(1==a)u.color.set(v,m,g,y),u.darkColor.set(b,x,_,1);else{var S=u.color,A=u.darkColor;o==d.setup&&(S.setFromColor(u.data.color),A.setFromColor(u.data.darkColor)),S.add((v-S.r)*a,(m-S.g)*a,(g-S.b)*a,(y-S.a)*a),A.add((b-A.r)*a,(x-A.g)*a,(_-A.b)*a,0)}}}}}]),n}(we);Me.ENTRIES=8,Me.PREV_TIME=-8,Me.PREV_R=-7,Me.PREV_G=-6,Me.PREV_B=-5,Me.PREV_A=-4,Me.PREV_R2=-3,Me.PREV_G2=-2,Me.PREV_B2=-1,Me.R=1,Me.G=2,Me.B=3,Me.A=4,Me.R2=5,Me.G2=6,Me.B2=7;var Pe=function(){function e(t){(0,c.Z)(this,e),this.frames=F.newFloatArray(t),this.attachmentNames=new Array(t)}return(0,h.Z)(e,[{key:"getPropertyId",value:function(){return(4<<24)+this.slotIndex}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.attachmentNames[e]=n}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.slots[this.slotIndex];if(s.bone.active)if(o!=p.mixOut){var u=this.frames;if(n<u[0])a!=d.setup&&a!=d.first||this.setAttachment(e,s,s.data.attachmentName);else{var l=0;l=n>=u[u.length-1]?u.length-1:xe.binarySearch(u,n,1)-1;var c=this.attachmentNames[l];e.slots[this.slotIndex].setAttachment(null==c?null:e.getAttachment(this.slotIndex,c))}}else a==d.setup&&this.setAttachment(e,s,s.data.attachmentName)}},{key:"setAttachment",value:function(e,t,n){t.setAttachment(null==n?null:e.getAttachment(this.slotIndex,n))}}]),e}(),Ce=null,Ie=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e),r.frameVertices=new Array(e),null==Ce&&(Ce=F.newFloatArray(64)),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(6<<27)+Number(this.attachment.id)+this.slotIndex}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.frameVertices[e]=n}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.slots[this.slotIndex];if(s.bone.active){var u=s.getAttachment();if(u instanceof ce&&u.deformAttachment==this.attachment){var l=s.deform;0==l.length&&(a=d.setup);var c=this.frameVertices,h=c[0].length,f=this.frames;if(n<f[0]){var p=u;switch(a){case d.setup:return void(l.length=0);case d.first:if(1==i){l.length=0;break}var v=F.setArraySize(l,h);if(null==p.bones)for(var m=p.vertices,g=0;g<h;g++)v[g]+=(m[g]-v[g])*i;else{i=1-i;for(var y=0;y<h;y++)v[y]*=i}}}else{var b=F.setArraySize(l,h);if(n>=f[f.length-1]){var x=c[f.length-1];if(1==i)if(a==d.add){var _=u;if(null==_.bones)for(var w=_.vertices,k=0;k<h;k++)b[k]+=x[k]-w[k];else for(var E=0;E<h;E++)b[E]+=x[E]}else F.arrayCopy(x,0,b,0,h);else switch(a){case d.setup:var T=u;if(null==T.bones)for(var S=T.vertices,A=0;A<h;A++){var M=S[A];b[A]=M+(x[A]-M)*i}else for(var P=0;P<h;P++)b[P]=x[P]*i;break;case d.first:case d.replace:for(var C=0;C<h;C++)b[C]+=(x[C]-b[C])*i;break;case d.add:var I=u;if(null==I.bones)for(var R=I.vertices,O=0;O<h;O++)b[O]+=(x[O]-R[O])*i;else for(var L=0;L<h;L++)b[L]+=x[L]*i}}else{var N=xe.binarySearch(f,n),B=c[N-1],D=c[N],Z=f[N],V=this.getCurvePercent(N-1,1-(n-Z)/(f[N-1]-Z));if(1==i)if(a==d.add){var j=u;if(null==j.bones)for(var U=j.vertices,Y=0;Y<h;Y++){var X=B[Y];b[Y]+=X+(D[Y]-X)*V-U[Y]}else for(var G=0;G<h;G++){var W=B[G];b[G]+=W+(D[G]-W)*V}}else for(var H=0;H<h;H++){var z=B[H];b[H]=z+(D[H]-z)*V}else switch(a){case d.setup:var q=u;if(null==q.bones)for(var $=q.vertices,K=0;K<h;K++){var J=B[K],Q=$[K];b[K]=Q+(J+(D[K]-J)*V-Q)*i}else for(var ee=0;ee<h;ee++){var te=B[ee];b[ee]=(te+(D[ee]-te)*V)*i}break;case d.first:case d.replace:for(var ne=0;ne<h;ne++){var re=B[ne];b[ne]+=(re+(D[ne]-re)*V-b[ne])*i}break;case d.add:var ie=u;if(null==ie.bones)for(var ae=ie.vertices,oe=0;oe<h;oe++){var se=B[oe];b[oe]+=(se+(D[oe]-se)*V-ae[oe])*i}else for(var ue=0;ue<h;ue++){var le=B[ue];b[ue]+=(le+(D[ue]-le)*V)*i}}}}}}}}]),n}(we),Re=function(){function e(t){(0,c.Z)(this,e),this.frames=F.newFloatArray(t),this.events=new Array(t)}return(0,h.Z)(e,[{key:"getPropertyId",value:function(){return 7<<24}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t){this.frames[e]=t.time,this.events[e]=t}},{key:"apply",value:function(e,t,n,r,i,a,o){if(null!=r){var s=this.frames,u=this.frames.length;if(t>n)this.apply(e,t,Number.MAX_VALUE,r,i,a,o),t=-1;else if(t>=s[u-1])return;if(!(n<s[0])){var l=0;if(t<s[0])l=0;else for(var c=s[l=xe.binarySearch(s,t)];l>0&&s[l-1]==c;)l--;for(;l<u&&n>=s[l];l++)r.push(this.events[l])}}}}]),e}(),Oe=function(){function e(t){(0,c.Z)(this,e),this.frames=F.newFloatArray(t),this.drawOrders=new Array(t)}return(0,h.Z)(e,[{key:"getPropertyId",value:function(){return 8<<24}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.drawOrders[e]=n}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.drawOrder,u=e.slots;if(o!=p.mixOut||a!=d.setup){var l=this.frames;if(n<l[0])a!=d.setup&&a!=d.first||F.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var c=0;c=n>=l[l.length-1]?l.length-1:xe.binarySearch(l,n)-1;var h=this.drawOrders[c];if(null==h)F.arrayCopy(u,0,s,0,u.length);else for(var f=0,v=h.length;f<v;f++)s[f]=u[h[f]]}}else F.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length)}}]),e}(),Le=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e*n.ENTRIES),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(9<<24)+this.ikConstraintIndex}},{key:"setFrame",value:function(e,t,r,i,a,o,s){e*=n.ENTRIES,this.frames[e]=t,this.frames[e+n.MIX]=r,this.frames[e+n.SOFTNESS]=i,this.frames[e+n.BEND_DIRECTION]=a,this.frames[e+n.COMPRESS]=o?1:0,this.frames[e+n.STRETCH]=s?1:0}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.ikConstraints[this.ikConstraintIndex];if(l.active)if(r<u[0])switch(o){case d.setup:return l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,void(l.stretch=l.data.stretch);case d.first:l.mix+=(l.data.mix-l.mix)*a,l.softness+=(l.data.softness-l.softness)*a,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}else if(r>=u[u.length-n.ENTRIES])o==d.setup?(l.mix=l.data.mix+(u[u.length+n.PREV_MIX]-l.data.mix)*a,l.softness=l.data.softness+(u[u.length+n.PREV_SOFTNESS]-l.data.softness)*a,s==p.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[u.length+n.PREV_BEND_DIRECTION],l.compress=0!=u[u.length+n.PREV_COMPRESS],l.stretch=0!=u[u.length+n.PREV_STRETCH])):(l.mix+=(u[u.length+n.PREV_MIX]-l.mix)*a,l.softness+=(u[u.length+n.PREV_SOFTNESS]-l.softness)*a,s==p.mixIn&&(l.bendDirection=u[u.length+n.PREV_BEND_DIRECTION],l.compress=0!=u[u.length+n.PREV_COMPRESS],l.stretch=0!=u[u.length+n.PREV_STRETCH]));else{var c=xe.binarySearch(u,r,n.ENTRIES),h=u[c+n.PREV_MIX],f=u[c+n.PREV_SOFTNESS],v=u[c],m=this.getCurvePercent(c/n.ENTRIES-1,1-(r-v)/(u[c+n.PREV_TIME]-v));o==d.setup?(l.mix=l.data.mix+(h+(u[c+n.MIX]-h)*m-l.data.mix)*a,l.softness=l.data.softness+(f+(u[c+n.SOFTNESS]-f)*m-l.data.softness)*a,s==p.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[c+n.PREV_BEND_DIRECTION],l.compress=0!=u[c+n.PREV_COMPRESS],l.stretch=0!=u[c+n.PREV_STRETCH])):(l.mix+=(h+(u[c+n.MIX]-h)*m-l.mix)*a,l.softness+=(f+(u[c+n.SOFTNESS]-f)*m-l.softness)*a,s==p.mixIn&&(l.bendDirection=u[c+n.PREV_BEND_DIRECTION],l.compress=0!=u[c+n.PREV_COMPRESS],l.stretch=0!=u[c+n.PREV_STRETCH]))}}}]),n}(we);Le.ENTRIES=6,Le.PREV_TIME=-6,Le.PREV_MIX=-5,Le.PREV_SOFTNESS=-4,Le.PREV_BEND_DIRECTION=-3,Le.PREV_COMPRESS=-2,Le.PREV_STRETCH=-1,Le.MIX=1,Le.SOFTNESS=2,Le.BEND_DIRECTION=3,Le.COMPRESS=4,Le.STRETCH=5;var Ne=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e*n.ENTRIES),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(10<<24)+this.transformConstraintIndex}},{key:"setFrame",value:function(e,t,r,i,a,o){e*=n.ENTRIES,this.frames[e]=t,this.frames[e+n.ROTATE]=r,this.frames[e+n.TRANSLATE]=i,this.frames[e+n.SCALE]=a,this.frames[e+n.SHEAR]=o}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.transformConstraints[this.transformConstraintIndex];if(l.active)if(r<u[0]){var c=l.data;switch(o){case d.setup:return l.rotateMix=c.rotateMix,l.translateMix=c.translateMix,l.scaleMix=c.scaleMix,void(l.shearMix=c.shearMix);case d.first:l.rotateMix+=(c.rotateMix-l.rotateMix)*a,l.translateMix+=(c.translateMix-l.translateMix)*a,l.scaleMix+=(c.scaleMix-l.scaleMix)*a,l.shearMix+=(c.shearMix-l.shearMix)*a}}else{var h=0,f=0,p=0,v=0;if(r>=u[u.length-n.ENTRIES]){var m=u.length;h=u[m+n.PREV_ROTATE],f=u[m+n.PREV_TRANSLATE],p=u[m+n.PREV_SCALE],v=u[m+n.PREV_SHEAR]}else{var g=xe.binarySearch(u,r,n.ENTRIES);h=u[g+n.PREV_ROTATE],f=u[g+n.PREV_TRANSLATE],p=u[g+n.PREV_SCALE],v=u[g+n.PREV_SHEAR];var y=u[g],b=this.getCurvePercent(g/n.ENTRIES-1,1-(r-y)/(u[g+n.PREV_TIME]-y));h+=(u[g+n.ROTATE]-h)*b,f+=(u[g+n.TRANSLATE]-f)*b,p+=(u[g+n.SCALE]-p)*b,v+=(u[g+n.SHEAR]-v)*b}if(o==d.setup){var x=l.data;l.rotateMix=x.rotateMix+(h-x.rotateMix)*a,l.translateMix=x.translateMix+(f-x.translateMix)*a,l.scaleMix=x.scaleMix+(p-x.scaleMix)*a,l.shearMix=x.shearMix+(v-x.shearMix)*a}else l.rotateMix+=(h-l.rotateMix)*a,l.translateMix+=(f-l.translateMix)*a,l.scaleMix+=(p-l.scaleMix)*a,l.shearMix+=(v-l.shearMix)*a}}}]),n}(we);Ne.ENTRIES=5,Ne.PREV_TIME=-5,Ne.PREV_ROTATE=-4,Ne.PREV_TRANSLATE=-3,Ne.PREV_SCALE=-2,Ne.PREV_SHEAR=-1,Ne.ROTATE=1,Ne.TRANSLATE=2,Ne.SCALE=3,Ne.SHEAR=4;var Be=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e*n.ENTRIES),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(11<<24)+this.pathConstraintIndex}},{key:"setFrame",value:function(e,t,r){e*=n.ENTRIES,this.frames[e]=t,this.frames[e+n.VALUE]=r}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(r<u[0])switch(o){case d.setup:return void(l.position=l.data.position);case d.first:l.position+=(l.data.position-l.position)*a}else{var c=0;if(r>=u[u.length-n.ENTRIES])c=u[u.length+n.PREV_VALUE];else{var h=xe.binarySearch(u,r,n.ENTRIES);c=u[h+n.PREV_VALUE];var f=u[h],p=this.getCurvePercent(h/n.ENTRIES-1,1-(r-f)/(u[h+n.PREV_TIME]-f));c+=(u[h+n.VALUE]-c)*p}o==d.setup?l.position=l.data.position+(c-l.data.position)*a:l.position+=(c-l.position)*a}}}]),n}(we);Be.ENTRIES=2,Be.PREV_TIME=-2,Be.PREV_VALUE=-1,Be.VALUE=1;var De=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e)}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(12<<24)+this.pathConstraintIndex}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(r<u[0])switch(o){case d.setup:return void(l.spacing=l.data.spacing);case d.first:l.spacing+=(l.data.spacing-l.spacing)*a}else{var c=0;if(r>=u[u.length-n.ENTRIES])c=u[u.length+n.PREV_VALUE];else{var h=xe.binarySearch(u,r,n.ENTRIES);c=u[h+n.PREV_VALUE];var f=u[h],p=this.getCurvePercent(h/n.ENTRIES-1,1-(r-f)/(u[h+n.PREV_TIME]-f));c+=(u[h+n.VALUE]-c)*p}o==d.setup?l.spacing=l.data.spacing+(c-l.data.spacing)*a:l.spacing+=(c-l.spacing)*a}}}]),n}(Be),Fe=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e*n.ENTRIES),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(13<<24)+this.pathConstraintIndex}},{key:"setFrame",value:function(e,t,r,i){e*=n.ENTRIES,this.frames[e]=t,this.frames[e+n.ROTATE]=r,this.frames[e+n.TRANSLATE]=i}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(r<u[0])switch(o){case d.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case d.first:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*a,l.translateMix+=(l.data.translateMix-l.translateMix)*a}else{var c=0,h=0;if(r>=u[u.length-n.ENTRIES])c=u[u.length+n.PREV_ROTATE],h=u[u.length+n.PREV_TRANSLATE];else{var f=xe.binarySearch(u,r,n.ENTRIES);c=u[f+n.PREV_ROTATE],h=u[f+n.PREV_TRANSLATE];var p=u[f],v=this.getCurvePercent(f/n.ENTRIES-1,1-(r-p)/(u[f+n.PREV_TIME]-p));c+=(u[f+n.ROTATE]-c)*v,h+=(u[f+n.TRANSLATE]-h)*v}o==d.setup?(l.rotateMix=l.data.rotateMix+(c-l.data.rotateMix)*a,l.translateMix=l.data.translateMix+(h-l.data.translateMix)*a):(l.rotateMix+=(c-l.rotateMix)*a,l.translateMix+=(h-l.translateMix)*a)}}}]),n}(we);Fe.ENTRIES=3,Fe.PREV_TIME=-3,Fe.PREV_ROTATE=-2,Fe.PREV_TRANSLATE=-1,Fe.ROTATE=1,Fe.TRANSLATE=2;var Ze=function(){function e(t){(0,c.Z)(this,e),this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new je(this),this.propertyIDs=new C,this.animationsChanged=!1,this.trackEntryPool=new Z((function(){return new Ve})),this.data=t}return(0,h.Z)(e,[{key:"update",value:function(e){e*=this.timeScale;for(var t=this.tracks,n=0,r=t.length;n<r;n++){var i=t[n];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var a=e*i.timeScale;if(i.delay>0){if(i.delay-=a,i.delay>0)continue;a=-i.delay,i.delay=0}var o=i.next;if(null!=o){var s=i.trackLast-o.delay;if(s>=0){for(o.delay=0,o.trackTime+=0==i.timeScale?0:(s/i.timeScale+e)*o.timeScale,i.trackTime+=a,this.setCurrent(n,o,!0);null!=o.mixingFrom;)o.mixTime+=e,o=o.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){t[n]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,e)){var u=i.mixingFrom;for(i.mixingFrom=null,null!=u&&(u.mixingTo=null);null!=u;)this.queue.end(u),u=u.mixingFrom}i.trackTime+=a}}this.queue.drain()}},{key:"updateMixingFrom",value:function(e,t){var n=e.mixingFrom;if(null==n)return!0;var r=this.updateMixingFrom(n,t);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?(0!=n.totalAlpha&&0!=e.mixDuration||(e.mixingFrom=n.mixingFrom,null!=n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),r):(n.trackTime+=t*n.timeScale,e.mixTime+=t,!1)}},{key:"apply",value:function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var n=this.events,r=this.tracks,i=!1,a=0,o=r.length;a<o;a++){var s=r[a];if(!(null==s||s.delay>0)){i=!0;var u=0==a?d.first:s.mixBlend,l=s.alpha;null!=s.mixingFrom?l*=this.applyMixingFrom(s,t,u):s.trackTime>=s.trackEnd&&null==s.next&&(l=0);var c=s.animationLast,h=s.getAnimationTime(),f=s.animation.timelines.length,v=s.animation.timelines;if(0==a&&1==l||u==d.add)for(var m=0;m<f;m++){F.webkit602BugfixHelper(l,u);var g=v[m];g instanceof Pe?this.applyAttachmentTimeline(g,t,h,u,!0):g.apply(t,c,h,n,l,u,p.mixIn)}else{var y=s.timelineMode,b=0==s.timelinesRotation.length;b&&F.setArraySize(s.timelinesRotation,f<<1,null);for(var x=s.timelinesRotation,_=0;_<f;_++){var w=v[_],k=y[_]==e.SUBSEQUENT?u:d.setup;w instanceof ke?this.applyRotateTimeline(w,t,h,l,k,x,_<<1,b):w instanceof Pe?this.applyAttachmentTimeline(w,t,h,u,!0):(F.webkit602BugfixHelper(l,u),w.apply(t,c,h,n,l,k,p.mixIn))}}this.queueEvents(s,h),n.length=0,s.nextAnimationLast=h,s.nextTrackLast=s.trackTime}}for(var E=this.unkeyedState+e.SETUP,T=t.slots,S=0,A=t.slots.length;S<A;S++){var M=T[S];if(M.attachmentState==E){var P=M.data.attachmentName;M.setAttachment(null==P?null:t.getAttachment(M.data.index,P))}}return this.unkeyedState+=2,this.queue.drain(),i}},{key:"applyMixingFrom",value:function(t,n,r){var i=t.mixingFrom;null!=i.mixingFrom&&this.applyMixingFrom(i,n,r);var a=0;0==t.mixDuration?(a=1,r==d.first&&(r=d.setup)):((a=t.mixTime/t.mixDuration)>1&&(a=1),r!=d.first&&(r=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,u=a<i.drawOrderThreshold,l=i.animationLast,c=i.getAnimationTime(),h=i.animation.timelines.length,f=i.animation.timelines,v=i.alpha*t.interruptAlpha,m=v*(1-a);if(r==d.add)for(var g=0;g<h;g++)f[g].apply(n,l,c,o,m,r,p.mixOut);else{var y=i.timelineMode,b=i.timelineHoldMix,x=0==i.timelinesRotation.length;x&&F.setArraySize(i.timelinesRotation,h<<1,null);var _=i.timelinesRotation;i.totalAlpha=0;for(var w=0;w<h;w++){var k=f[w],E=p.mixOut,T=void 0,S=0;switch(y[w]){case e.SUBSEQUENT:if(!u&&k instanceof Oe)continue;T=r,S=m;break;case e.FIRST:T=d.setup,S=m;break;case e.HOLD_SUBSEQUENT:T=r,S=v;break;case e.HOLD_FIRST:T=d.setup,S=v;break;default:T=d.setup;var A=b[w];S=v*Math.max(0,1-A.mixTime/A.mixDuration)}i.totalAlpha+=S,k instanceof ke?this.applyRotateTimeline(k,n,c,S,T,_,w<<1,x):k instanceof Pe?this.applyAttachmentTimeline(k,n,c,T,s):(F.webkit602BugfixHelper(S,r),u&&k instanceof Oe&&T==d.setup&&(E=p.mixIn),k.apply(n,l,c,o,S,T,E))}}return t.mixDuration>0&&this.queueEvents(i,c),this.events.length=0,i.nextAnimationLast=c,i.nextTrackLast=i.trackTime,a}},{key:"applyAttachmentTimeline",value:function(t,n,r,i,a){var o=n.slots[t.slotIndex];if(o.bone.active){var s,u=t.frames;if(r<u[0])i!=d.setup&&i!=d.first||this.setAttachment(n,o,o.data.attachmentName,a);else s=r>=u[u.length-1]?u.length-1:xe.binarySearch(u,r)-1,this.setAttachment(n,o,t.attachmentNames[s],a);o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+e.SETUP)}}},{key:"setAttachment",value:function(t,n,r,i){n.setAttachment(null==r?null:t.getAttachment(n.data.index,r)),i&&(n.attachmentState=this.unkeyedState+e.CURRENT)}},{key:"applyRotateTimeline",value:function(e,t,n,r,i,a,o,s){if(s&&(a[o]=0),1!=r){var u=e,l=u.frames,c=t.bones[u.boneIndex];if(c.active){var h=0,f=0;if(n<l[0])switch(i){case d.setup:c.rotation=c.data.rotation;default:return;case d.first:h=c.rotation,f=c.data.rotation}else if(h=i==d.setup?c.data.rotation:c.rotation,n>=l[l.length-ke.ENTRIES])f=c.data.rotation+l[l.length+ke.PREV_ROTATION];else{var v=xe.binarySearch(l,n,ke.ENTRIES),m=l[v+ke.PREV_ROTATION],g=l[v],y=u.getCurvePercent((v>>1)-1,1-(n-g)/(l[v+ke.PREV_TIME]-g));f=l[v+ke.ROTATION]-m,f=m+(f-=360*(16384-(16384.499999999996-f/360|0)))*y+c.data.rotation,f-=360*(16384-(16384.499999999996-f/360|0))}var b=0,x=f-h;if(0==(x-=360*(16384-(16384.499999999996-x/360|0))))b=a[o];else{var _=0,w=0;s?(_=0,w=x):(_=a[o],w=a[o+1]);var k=x>0,E=_>=0;N.signum(w)!=N.signum(x)&&Math.abs(w)<=90&&(Math.abs(_)>180&&(_+=360*N.signum(_)),E=k),b=x+_-_%360,E!=k&&(b+=360*N.signum(_)),a[o]=b}a[o+1]=x,h+=b*r,c.rotation=h-360*(16384-(16384.499999999996-h/360|0))}}else e.apply(t,0,n,null,1,i,p.mixIn)}},{key:"queueEvents",value:function(e,t){for(var n=e.animationStart,r=e.animationEnd,i=r-n,a=e.trackLast%i,o=this.events,s=0,u=o.length;s<u;s++){var l=o[s];if(l.time<a)break;l.time>r||this.queue.event(e,l)}for((e.loop?0==i||a>e.trackTime%i:t>=r&&e.animationLast<r)&&this.queue.complete(e);s<u;s++){o[s].time<n||this.queue.event(e,o[s])}}},{key:"clearTracks",value:function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var t=0,n=this.tracks.length;t<n;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()}},{key:"clearTrack",value:function(e){if(!(e>=this.tracks.length)){var t=this.tracks[e];if(null!=t){this.queue.end(t),this.disposeNext(t);for(var n=t;;){var r=n.mixingFrom;if(null==r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[t.trackIndex]=null,this.queue.drain()}}}},{key:"setCurrent",value:function(e,t,n){var r=this.expandToIndex(e);this.tracks[e]=t,null!=r&&(n&&this.queue.interrupt(r),t.mixingFrom=r,r.mixingTo=t,t.mixTime=0,null!=r.mixingFrom&&r.mixDuration>0&&(t.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(t)}},{key:"setAnimation",value:function(e,t,n){var r=this.data.skeletonData.findAnimation(t);if(null==r)throw new Error("Animation not found: ".concat(t));return this.setAnimationWith(e,r,n)}},{key:"setAnimationWith",value:function(e,t,n){if(null==t)throw new Error("animation cannot be null.");var r=!0,i=this.expandToIndex(e);null!=i&&(-1==i.nextTrackLast?(this.tracks[e]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,r=!1):this.disposeNext(i));var a=this.trackEntry(e,t,n,i);return this.setCurrent(e,a,r),this.queue.drain(),a}},{key:"addAnimation",value:function(e,t,n,r){var i=this.data.skeletonData.findAnimation(t);if(null==i)throw new Error("Animation not found: ".concat(t));return this.addAnimationWith(e,i,n,r)}},{key:"addAnimationWith",value:function(e,t,n,r){if(null==t)throw new Error("animation cannot be null.");var i=this.expandToIndex(e);if(null!=i)for(;null!=i.next;)i=i.next;var a=this.trackEntry(e,t,n,i);if(null==i)this.setCurrent(e,a,!0),this.queue.drain();else if(i.next=a,r<=0){var o=i.animationEnd-i.animationStart;0!=o?(i.loop?r+=o*(1+(i.trackTime/o|0)):r+=Math.max(o,i.trackTime),r-=this.data.getMix(i.animation,t)):r=i.trackTime}return a.delay=r,a}},{key:"setEmptyAnimation",value:function(t,n){var r=this.setAnimationWith(t,e.emptyAnimation,!1);return r.mixDuration=n,r.trackEnd=n,r}},{key:"addEmptyAnimation",value:function(t,n,r){r<=0&&(r-=n);var i=this.addAnimationWith(t,e.emptyAnimation,!1,r);return i.mixDuration=n,i.trackEnd=n,i}},{key:"setEmptyAnimations",value:function(e){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];null!=i&&this.setEmptyAnimation(i.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()}},{key:"expandToIndex",value:function(e){return e<this.tracks.length?this.tracks[e]:(F.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)}},{key:"trackEntry",value:function(e,t,n,r){var i=this.trackEntryPool.obtain();return i.trackIndex=e,i.animation=t,i.loop=n,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=t.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=null==r?0:this.data.getMix(r.animation,t),i.mixBlend=d.replace,i}},{key:"disposeNext",value:function(e){for(var t=e.next;null!=t;)this.queue.dispose(t),t=t.next;e.next=null}},{key:"_animationsChanged",value:function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,t=this.tracks.length;e<t;e++){var n=this.tracks[e];if(null!=n){for(;null!=n.mixingFrom;)n=n.mixingFrom;do{null!=n.mixingFrom&&n.mixBlend==d.add||this.computeHold(n),n=n.mixingTo}while(null!=n)}}}},{key:"computeHold",value:function(t){var n=t.mixingTo,r=t.animation.timelines,i=t.animation.timelines.length,a=F.setArraySize(t.timelineMode,i);t.timelineHoldMix.length=0;var o=F.setArraySize(t.timelineHoldMix,i),s=this.propertyIDs;if(null!=n&&n.holdPrevious)for(var u=0;u<i;u++)a[u]=s.add(r[u].getPropertyId())?e.HOLD_FIRST:e.HOLD_SUBSEQUENT;else e:for(var l=0;l<i;l++){var c=r[l],h=c.getPropertyId();if(s.add(h))if(null==n||c instanceof Pe||c instanceof Oe||c instanceof Re||!n.animation.hasTimeline(h))a[l]=e.FIRST;else{for(var f=n.mixingTo;null!=f;f=f.mixingTo)if(!f.animation.hasTimeline(h)){if(t.mixDuration>0){a[l]=e.HOLD_MIX,o[l]=f;continue e}break}a[l]=e.HOLD_FIRST}else a[l]=e.SUBSEQUENT}}},{key:"getCurrent",value:function(e){return e>=this.tracks.length?null:this.tracks[e]}},{key:"addListener",value:function(e){if(null==e)throw new Error("listener cannot be null.");this.listeners.push(e)}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}},{key:"clearListeners",value:function(){this.listeners.length=0}},{key:"clearListenerNotifications",value:function(){this.queue.clear()}},{key:"setAnimationByName",value:function(t,n,r){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,n,r)}},{key:"addAnimationByName",value:function(t,n,r,i){e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,n,r,i)}},{key:"hasAnimation",value:function(e){return null!==this.data.skeletonData.findAnimation(e)}},{key:"hasAnimationByName",value:function(t){return e.deprecatedWarning3||(e.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)}}]),e}();Ze.emptyAnimation=new xe("<empty>",[],0),Ze.SUBSEQUENT=0,Ze.FIRST=1,Ze.HOLD_SUBSEQUENT=2,Ze.HOLD_FIRST=3,Ze.HOLD_MIX=4,Ze.SETUP=1,Ze.CURRENT=2,Ze.deprecatedWarning1=!1,Ze.deprecatedWarning2=!1,Ze.deprecatedWarning3=!1;var Ve=function(){function e(){(0,c.Z)(this,e),this.mixBlend=d.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return(0,h.Z)(e,[{key:"reset",value:function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}},{key:"getAnimationTime",value:function(){if(this.loop){var e=this.animationEnd-this.animationStart;return 0==e?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}},{key:"setAnimationLast",value:function(e){this.animationLast=e,this.nextAnimationLast=e}},{key:"isComplete",value:function(){return this.trackTime>=this.animationEnd-this.animationStart}},{key:"resetRotationDirections",value:function(){this.timelinesRotation.length=0}},{key:"time",get:function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t}},{key:"endTime",get:function(){return e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t}},{key:"loopsCount",value:function(){return Math.floor(this.trackTime/this.trackEnd)}}]),e}();Ve.deprecatedWarning1=!1,Ve.deprecatedWarning2=!1;var je=function(){function e(t){(0,c.Z)(this,e),this.objects=[],this.drainDisabled=!1,this.animState=t}return(0,h.Z)(e,[{key:"start",value:function(e){this.objects.push(Ue.start),this.objects.push(e),this.animState.animationsChanged=!0}},{key:"interrupt",value:function(e){this.objects.push(Ue.interrupt),this.objects.push(e)}},{key:"end",value:function(e){this.objects.push(Ue.end),this.objects.push(e),this.animState.animationsChanged=!0}},{key:"dispose",value:function(e){this.objects.push(Ue.dispose),this.objects.push(e)}},{key:"complete",value:function(e){this.objects.push(Ue.complete),this.objects.push(e)}},{key:"event",value:function(e,t){this.objects.push(Ue.event),this.objects.push(e),this.objects.push(t)}},{key:"deprecateStuff",value:function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0}},{key:"drain",value:function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,t=this.animState.listeners,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];switch(r){case Ue.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var a=0;a<t.length;a++)t[a].start&&t[a].start(i);i.onStart&&this.deprecateStuff()&&i.onStart(i.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(i.trackIndex);break;case Ue.interrupt:null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(var o=0;o<t.length;o++)t[o].interrupt&&t[o].interrupt(i);break;case Ue.end:null!=i.listener&&i.listener.end&&i.listener.end(i);for(var s=0;s<t.length;s++)t[s].end&&t[s].end(i);i.onEnd&&this.deprecateStuff()&&i.onEnd(i.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(i.trackIndex);case Ue.dispose:null!=i.listener&&i.listener.dispose&&i.listener.dispose(i);for(var u=0;u<t.length;u++)t[u].dispose&&t[u].dispose(i);this.animState.trackEntryPool.free(i);break;case Ue.complete:null!=i.listener&&i.listener.complete&&i.listener.complete(i);for(var l=0;l<t.length;l++)t[l].complete&&t[l].complete(i);var c=N.toInt(i.loopsCount());i.onComplete&&this.deprecateStuff()&&i.onComplete(i.trackIndex,c),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(i.trackIndex,c);break;case Ue.event:var h=e[2+n++];null!=i.listener&&i.listener.event&&i.listener.event(i,h);for(var f=0;f<t.length;f++)t[f].event&&t[f].event(i,h);i.onEvent&&this.deprecateStuff()&&i.onEvent(i.trackIndex,h),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(i.trackIndex,h)}}this.clear(),this.drainDisabled=!1}}},{key:"clear",value:function(){this.objects.length=0}}]),e}();je.deprecatedWarning1=!1;var Ue=function(e){return e[e.start=0]="start",e[e.interrupt=1]="interrupt",e[e.end=2]="end",e[e.dispose=3]="dispose",e[e.complete=4]="complete",e[e.event=5]="event",e}(Ue||{}),Ye=function(){function e(){(0,c.Z)(this,e)}return(0,h.Z)(e,[{key:"start",value:function(e){}},{key:"interrupt",value:function(e){}},{key:"end",value:function(e){}},{key:"dispose",value:function(e){}},{key:"complete",value:function(e){}},{key:"event",value:function(e,t){}}]),e}(),Xe=function(){function e(t){if((0,c.Z)(this,e),this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return(0,h.Z)(e,[{key:"setMix",value:function(e,t,n){var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: ".concat(e));var i=this.skeletonData.findAnimation(t);if(null==i)throw new Error("Animation not found: ".concat(t));this.setMixWith(r,i,n)}},{key:"setMixByName",value:function(t,n,r){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(t,n,r)}},{key:"setMixWith",value:function(e,t,n){if(null==e)throw new Error("from cannot be null.");if(null==t)throw new Error("to cannot be null.");var r="".concat(e.name,".").concat(t.name);this.animationToMixTime[r]=n}},{key:"getMix",value:function(e,t){var n="".concat(e.name,".").concat(t.name),r=this.animationToMixTime[n];return void 0===r?this.defaultMix:r}}]),e}();Xe.deprecatedWarning1=!1;var Ge=function(){function e(t){(0,c.Z)(this,e),this.atlas=t}return(0,h.Z)(e,[{key:"newRegionAttachment",value:function(e,t,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: ".concat(n," (region attachment: ").concat(t,")"));var i=new ge(t);return i.region=r,i}},{key:"newMeshAttachment",value:function(e,t,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: ".concat(n," (mesh attachment: ").concat(t,")"));var i=new de(t);return i.region=r,i}},{key:"newBoundingBoxAttachment",value:function(e,t){return new he(t)}},{key:"newPathAttachment",value:function(e,t){return new pe(t)}},{key:"newPointAttachment",value:function(e,t){return new ve(t)}},{key:"newClippingAttachment",value:function(e,t){return new fe(t)}}]),e}(),We=function(){function e(t,n,r){if((0,c.Z)(this,e),this.matrix=new x.y3,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=n,this.parent=r,this.setToSetupPose()}return(0,h.Z)(e,[{key:"worldX",get:function(){return this.matrix.tx}},{key:"worldY",get:function(){return this.matrix.ty}},{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransform",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransformWith",value:function(e,t,n,r,i,a,o){this.ax=e,this.ay=t,this.arotation=n,this.ascaleX=r,this.ascaleY=i,this.ashearX=a,this.ashearY=o,this.appliedValid=!0;var s=this.parent,u=this.matrix,l=this.skeleton.scaleX,c=U?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==s){var h=this.skeleton,f=n+90+o;return u.a=N.cosDeg(n+a)*r*l,u.c=N.cosDeg(f)*i*l,u.b=N.sinDeg(n+a)*r*c,u.d=N.sinDeg(f)*i*c,u.tx=e*l+h.x,void(u.ty=t*c+h.y)}var d=s.matrix.a,p=s.matrix.c,v=s.matrix.b,m=s.matrix.d;switch(u.tx=d*e+p*t+s.matrix.tx,u.ty=v*e+m*t+s.matrix.ty,this.data.transformMode){case g.Normal:var y=n+90+o,b=N.cosDeg(n+a)*r,x=N.cosDeg(y)*i,_=N.sinDeg(n+a)*r,w=N.sinDeg(y)*i;return u.a=d*b+p*_,u.c=d*x+p*w,u.b=v*b+m*_,void(u.d=v*x+m*w);case g.OnlyTranslation:var k=n+90+o;u.a=N.cosDeg(n+a)*r,u.c=N.cosDeg(k)*i,u.b=N.sinDeg(n+a)*r,u.d=N.sinDeg(k)*i;break;case g.NoRotationOrReflection:var E=d*d+v*v,T=0;E>1e-4?(E=Math.abs(d*m-p*v)/E,d/=this.skeleton.scaleX,p=(v/=this.skeleton.scaleY)*E,m=d*E,T=Math.atan2(v,d)*N.radDeg):(d=0,v=0,T=90-Math.atan2(m,p)*N.radDeg);var S=n+a-T,A=n+o-T+90,M=N.cosDeg(S)*r,P=N.cosDeg(A)*i,C=N.sinDeg(S)*r,I=N.sinDeg(A)*i;u.a=d*M-p*C,u.c=d*P-p*I,u.b=v*M+m*C,u.d=v*P+m*I;break;case g.NoScale:case g.NoScaleOrReflection:var R=N.cosDeg(n),O=N.sinDeg(n),L=(d*R+p*O)/l,B=(v*R+m*O)/c,D=Math.sqrt(L*L+B*B);D>1e-5&&(D=1/D),L*=D,B*=D,D=Math.sqrt(L*L+B*B),this.data.transformMode==g.NoScale&&d*m-p*v<0!=(U?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(D=-D);var F=Math.PI/2+Math.atan2(B,L),Z=Math.cos(F)*D,V=Math.sin(F)*D,j=N.cosDeg(a)*r,Y=N.cosDeg(90+o)*i,X=N.sinDeg(a)*r,G=N.sinDeg(90+o)*i;u.a=L*j+Z*X,u.c=L*Y+Z*G,u.b=B*j+V*X,u.d=B*Y+V*G}u.a*=l,u.c*=l,u.b*=c,u.d*=c}},{key:"setToSetupPose",value:function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY}},{key:"getWorldRotationX",value:function(){return Math.atan2(this.matrix.b,this.matrix.a)*N.radDeg}},{key:"getWorldRotationY",value:function(){return Math.atan2(this.matrix.d,this.matrix.c)*N.radDeg}},{key:"getWorldScaleX",value:function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)}},{key:"getWorldScaleY",value:function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)}},{key:"updateAppliedTransform",value:function(){this.appliedValid=!0;var e=this.parent,t=this.matrix;if(null==e)return this.ax=t.tx,this.ay=t.ty,this.arotation=Math.atan2(t.b,t.a)*N.radDeg,this.ascaleX=Math.sqrt(t.a*t.a+t.b*t.b),this.ascaleY=Math.sqrt(t.c*t.c+t.d*t.d),this.ashearX=0,void(this.ashearY=Math.atan2(t.a*t.c+t.b*t.d,t.a*t.d-t.b*t.c)*N.radDeg);var n=e.matrix,r=1/(n.a*n.d-n.b*n.c),i=t.tx-n.tx,a=t.ty-n.ty;this.ax=i*n.d*r-a*n.c*r,this.ay=a*n.a*r-i*n.b*r;var o=r*n.d,s=r*n.a,u=r*n.c,l=r*n.b,c=o*t.a-u*t.b,h=o*t.c-u*t.d,f=s*t.b-l*t.a,d=s*t.d-l*t.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+f*f),this.ascaleX>1e-4){var p=c*d-h*f;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(c*h+f*d,p)*N.radDeg,this.arotation=Math.atan2(f,c)*N.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*N.radDeg}},{key:"worldToLocal",value:function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,a=t.d,o=1/(n*a-r*i),s=e.x-t.tx,u=e.y-t.ty;return e.x=s*a*o-u*r*o,e.y=u*n*o-s*i*o,e}},{key:"localToWorld",value:function(e){var t=this.matrix,n=e.x,r=e.y;return e.x=n*t.a+r*t.c+t.tx,e.y=n*t.b+r*t.d+t.ty,e}},{key:"worldToLocalRotation",value:function(e){var t=N.sinDeg(e),n=N.cosDeg(e),r=this.matrix;return Math.atan2(r.a*t-r.b*n,r.d*n-r.c*t)*N.radDeg}},{key:"localToWorldRotation",value:function(e){var t=N.sinDeg(e),n=N.cosDeg(e),r=this.matrix;return Math.atan2(n*r.b+t*r.d,n*r.a+t*r.c)*N.radDeg}},{key:"rotateWorld",value:function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,a=t.d,o=N.cosDeg(e),s=N.sinDeg(e);t.a=o*n-s*i,t.c=o*r-s*a,t.b=s*n+o*i,t.d=s*r+o*a,this.appliedValid=!1}}]),e}(),He=(0,h.Z)((function e(t,n,r){if((0,c.Z)(this,e),this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=g.Normal,this.skinRequired=!1,this.color=new O,t<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");this.index=t,this.name=n,this.parent=r})),ze=(0,h.Z)((function e(t,n,r){(0,c.Z)(this,e),this.name=t,this.order=n,this.skinRequired=r})),qe=(0,h.Z)((function e(t,n){if((0,c.Z)(this,e),null==n)throw new Error("data cannot be null.");this.time=t,this.data=n})),$e=(0,h.Z)((function e(t){(0,c.Z)(this,e),this.name=t})),Ke=function(){function e(t,n){if((0,c.Z)(this,e),this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(n.findBone(t.bones[r].name));this.target=n.findBone(t.target.name)}return(0,h.Z)(e,[{key:"isActive",value:function(){return this.active}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){var e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}}},{key:"apply1",value:function(e,t,n,r,i,a,o){e.appliedValid||e.updateAppliedTransform();var s=e.parent.matrix,u=s.a,l=s.c,c=s.b,h=s.d,f=-e.ashearX-e.arotation,d=0,p=0;switch(e.data.transformMode){case g.OnlyTranslation:d=t-e.worldX,p=n-e.worldY;break;case g.NoRotationOrReflection:var v=Math.abs(u*h-l*c)/(u*u+c*c),m=u/e.skeleton.scaleX,y=c/e.skeleton.scaleY;l=-y*v*e.skeleton.scaleX,h=m*v*e.skeleton.scaleY,f+=Math.atan2(y,m)*N.radDeg;default:var b=t-s.tx,x=n-s.ty,_=u*h-l*c;d=(b*h-x*l)/_-e.ax,p=(x*u-b*c)/_-e.ay}f+=Math.atan2(p,d)*N.radDeg,e.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);var w=e.ascaleX,k=e.ascaleY;if(r||i){switch(e.data.transformMode){case g.NoScale:case g.NoScaleOrReflection:d=t-e.worldX,p=n-e.worldY}var E=e.data.length*w,T=Math.sqrt(d*d+p*p);if(r&&T<E||i&&T>E&&E>1e-4){var S=(T/E-1)*o+1;w*=S,a&&(k*=S)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+f*o,w,k,e.ashearX,e.ashearY)}},{key:"apply2",value:function(e,t,n,r,i,a,o,s){if(0!=s){e.appliedValid||e.updateAppliedTransform(),t.appliedValid||t.updateAppliedTransform();var u=e.ax,l=e.ay,c=e.ascaleX,h=c,f=e.ascaleY,d=t.ascaleX,p=e.matrix,v=0,m=0,g=0;c<0?(c=-c,v=180,g=-1):(v=0,g=1),f<0&&(f=-f,g=-g),d<0?(d=-d,m=180):m=0;var y=t.ax,b=0,x=0,_=0,w=p.a,k=p.c,E=p.b,T=p.d,S=Math.abs(c-f)<=1e-4;S?(x=w*y+k*(b=t.ay)+p.tx,_=E*y+T*b+p.ty):(b=0,x=w*y+p.tx,_=E*y+p.ty);var A=e.parent.matrix;w=A.a,k=A.c,E=A.b;var M,P,C=1/(w*(T=A.d)-k*E),I=x-A.tx,R=_-A.ty,O=(I*T-R*k)*C-u,L=(R*w-I*E)*C-l,B=Math.sqrt(O*O+L*L),D=t.data.length*d;if(B<1e-4)return this.apply1(e,n,r,!1,a,!1,s),void t.updateWorldTransformWith(y,b,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);var F=((I=n-A.tx)*T-(R=r-A.ty)*k)*C-u,Z=(R*w-I*E)*C-l,V=F*F+Z*Z;if(0!=o){o*=c*(d+1)/2;var j=Math.sqrt(V),U=j-B-D*c+o;if(U>0){var Y=Math.min(1,U/(2*o))-1;V=(F-=(Y=(U-o*(1-Y*Y))/j)*F)*F+(Z-=Y*Z)*Z}}e:if(S){var X=(V-B*B-(D*=c)*D)/(2*B*D);X<-1?X=-1:X>1&&(X=1,a&&(h*=(Math.sqrt(V)/(B+D)-1)*s+1)),P=Math.acos(X)*i,w=B+D*X,k=D*Math.sin(P),M=Math.atan2(Z*w-F*k,F*w+Z*k)}else{var G=(w=c*D)*w,W=(k=f*D)*k,H=Math.atan2(Z,F),z=-2*W*B,q=W-G;if((T=z*z-4*q*(E=W*B*B+G*V-G*W))>=0){var $=Math.sqrt(T);z<0&&($=-$);var K=($=-(z+$)/2)/q,J=E/$,Q=Math.abs(K)<Math.abs(J)?K:J;if(Q*Q<=V){R=Math.sqrt(V-Q*Q)*i,M=H-Math.atan2(R,Q),P=Math.atan2(R/f,(Q-B)/c);break e}}var ee=N.PI,te=B-w,ne=te*te,re=0,ie=0,ae=B+w,oe=ae*ae,se=0;(E=-w*B/(G-W))>=-1&&E<=1&&(E=Math.acos(E),(T=(I=w*Math.cos(E)+B)*I+(R=k*Math.sin(E))*R)<ne&&(ee=E,ne=T,te=I,re=R),T>oe&&(ie=E,oe=T,ae=I,se=R)),V<=(ne+oe)/2?(M=H-Math.atan2(re*i,te),P=ee*i):(M=H-Math.atan2(se*i,ae),P=ie*i)}var ue=Math.atan2(b,y)*g,le=e.arotation;(M=(M-ue)*N.radDeg+v-le)>180?M-=360:M<-180&&(M+=360),e.updateWorldTransformWith(u,l,le+M*s,h,e.ascaleY,0,0),le=t.arotation,(P=((P+ue)*N.radDeg-t.ashearX)*g+m-le)>180?P-=360:P<-180&&(P+=360),t.updateWorldTransformWith(y,b,le+P*s,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}else t.updateWorldTransform()}}]),e}(),Je=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e,0,!1)).bones=new Array,r.bendDirection=1,r.compress=!1,r.stretch=!1,r.uniform=!1,r.mix=1,r.softness=0,r}return(0,h.Z)(n)}(ze),Qe=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e,0,!1)).bones=new Array,r}return(0,h.Z)(n)}(ze),et=function(e){return e[e.Length=0]="Length",e[e.Fixed=1]="Fixed",e[e.Percent=2]="Percent",e}(et||{}),tt=function(){function e(t,n){if((0,c.Z)(this,e),this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var r=0,i=t.bones.length;r<i;r++)this.bones.push(n.findBone(t.bones[r].name));this.target=n.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return(0,h.Z)(e,[{key:"isActive",value:function(){return this.active}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){var t=this.target.getAttachment();if(t instanceof pe){var n=this.rotateMix,r=this.translateMix,i=n>0;if(r>0||i){var a=this.data,o=a.spacingMode,s=o==et.Length,u=a.rotateMode,l=u==m.Tangent,c=u==m.ChainScale,h=this.bones.length,f=l?h:h+1,d=this.bones,p=F.setArraySize(this.spaces,f),g=null,y=this.spacing;if(c||s){c&&(g=F.setArraySize(this.lengths,h));for(var b=0,x=f-1;b<x;){var _=d[b],w=_.data.length;if(w<e.epsilon)c&&(g[b]=0),p[++b]=0;else{var k=w*_.matrix.a,E=w*_.matrix.b,T=Math.sqrt(k*k+E*E);c&&(g[b]=T),p[++b]=(s?w+y:y)*T/w}}}else for(var S=1;S<f;S++)p[S]=y;var A=this.computeWorldPositions(t,f,l,a.positionMode==v.Percent,o==et.Percent),M=A[0],P=A[1],C=a.offsetRotation,I=!1;if(0==C)I=u==m.Chain;else{I=!1;var R=this.target.bone.matrix;C*=R.a*R.d-R.b*R.c>0?N.degRad:-N.degRad}for(var O=0,L=3;O<h;O++,L+=3){var B=d[O],D=B.matrix;D.tx+=(M-D.tx)*r,D.ty+=(P-D.ty)*r;var Z=A[L],V=A[L+1],j=Z-M,U=V-P;if(c){var Y=g[O];if(0!=Y){var X=(Math.sqrt(j*j+U*U)/Y-1)*n+1;D.a*=X,D.b*=X}}if(M=Z,P=V,i){var G=D.a,W=D.c,H=D.b,z=D.d,q=0,$=0,K=0;if(l&&(q=l?A[L-1]:0==p[O+1]?A[L+2]:Math.atan2(U,j)),q-=Math.atan2(H,G),I){$=Math.cos(q),K=Math.sin(q);var J=B.data.length;M+=(J*($*G-K*H)-j)*n,P+=(J*(K*G+$*H)-U)*n}else q+=C;q>N.PI?q-=N.PI2:q<-N.PI&&(q+=N.PI2),q*=n,$=Math.cos(q),K=Math.sin(q),D.a=$*G-K*H,D.c=$*W-K*z,D.b=K*G+$*H,D.d=K*W+$*z}B.appliedValid=!1}}}}},{key:"computeWorldPositions",value:function(t,n,r,i,a){var o=this.target,s=this.position,u=this.spaces,l=F.setArraySize(this.positions,3*n+2),c=null,h=t.closed,f=t.worldVerticesLength,d=f/6,p=e.NONE;if(!t.constantSpeed){var v=t.lengths,m=v[d-=h?1:2];if(i&&(s*=m),a)for(var g=0;g<n;g++)u[g]*=m;c=F.setArraySize(this.world,8);for(var y=0,b=0,x=0;y<n;y++,b+=3){var _=u[y],w=s+=_;if(h)(w%=m)<0&&(w+=m),x=0;else{if(w<0){p!=e.BEFORE&&(p=e.BEFORE,t.computeWorldVertices(o,2,4,c,0,2)),this.addBeforePosition(w,c,0,l,b);continue}if(w>m){p!=e.AFTER&&(p=e.AFTER,t.computeWorldVertices(o,f-6,4,c,0,2)),this.addAfterPosition(w-m,c,0,l,b);continue}}for(;;x++){var k=v[x];if(!(w>k)){if(0==x)w/=k;else{var E=v[x-1];w=(w-E)/(k-E)}break}}x!=p&&(p=x,h&&x==d?(t.computeWorldVertices(o,f-4,4,c,0,2),t.computeWorldVertices(o,0,4,c,4,2)):t.computeWorldVertices(o,6*x+2,8,c,0,2)),this.addCurvePosition(w,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],l,b,r||y>0&&0==_)}return l}h?(f+=2,c=F.setArraySize(this.world,f),t.computeWorldVertices(o,2,f-4,c,0,2),t.computeWorldVertices(o,0,2,c,f-4,2),c[f-2]=c[0],c[f-1]=c[1]):(d--,f-=4,c=F.setArraySize(this.world,f),t.computeWorldVertices(o,2,f,c,0,2));for(var T=F.setArraySize(this.curves,d),S=0,A=c[0],M=c[1],P=0,C=0,I=0,R=0,O=0,L=0,N=0,B=0,D=0,Z=0,V=0,j=0,U=0,Y=0,X=0,G=2;X<d;X++,G+=6)P=c[G],C=c[G+1],I=c[G+2],R=c[G+3],V=2*(N=.1875*(A-2*P+I))+(D=.09375*(3*(P-I)-A+(O=c[G+4]))),j=2*(B=.1875*(M-2*C+R))+(Z=.09375*(3*(C-R)-M+(L=c[G+5]))),U=.75*(P-A)+N+.16666667*D,Y=.75*(C-M)+B+.16666667*Z,S+=Math.sqrt(U*U+Y*Y),U+=V,Y+=j,V+=D,j+=Z,S+=Math.sqrt(U*U+Y*Y),U+=V,Y+=j,S+=Math.sqrt(U*U+Y*Y),U+=V+D,Y+=j+Z,S+=Math.sqrt(U*U+Y*Y),T[X]=S,A=O,M=L;if(i&&(s*=S),a)for(var W=0;W<n;W++)u[W]*=S;for(var H=this.segments,z=0,q=0,$=0,K=0,J=0;q<n;q++,$+=3){var Q=u[q],ee=s+=Q;if(h)(ee%=S)<0&&(ee+=S),K=0;else{if(ee<0){this.addBeforePosition(ee,c,0,l,$);continue}if(ee>S){this.addAfterPosition(ee-S,c,f-4,l,$);continue}}for(;;K++){var te=T[K];if(!(ee>te)){if(0==K)ee/=te;else{var ne=T[K-1];ee=(ee-ne)/(te-ne)}break}}if(K!=p){p=K;var re=6*K;for(A=c[re],M=c[re+1],P=c[re+2],C=c[re+3],I=c[re+4],R=c[re+5],V=2*(N=.03*(A-2*P+I))+(D=.006*(3*(P-I)-A+(O=c[re+6]))),j=2*(B=.03*(M-2*C+R))+(Z=.006*(3*(C-R)-M+(L=c[re+7]))),U=.3*(P-A)+N+.16666667*D,Y=.3*(C-M)+B+.16666667*Z,z=Math.sqrt(U*U+Y*Y),H[0]=z,re=1;re<8;re++)U+=V,Y+=j,V+=D,j+=Z,z+=Math.sqrt(U*U+Y*Y),H[re]=z;U+=V,Y+=j,z+=Math.sqrt(U*U+Y*Y),H[8]=z,U+=V+D,Y+=j+Z,z+=Math.sqrt(U*U+Y*Y),H[9]=z,J=0}for(ee*=z;;J++){var ie=H[J];if(!(ee>ie)){if(0==J)ee/=ie;else{var ae=H[J-1];ee=J+(ee-ae)/(ie-ae)}break}}this.addCurvePosition(.1*ee,A,M,P,C,I,R,O,L,l,$,r||q>0&&0==Q)}return l}},{key:"addBeforePosition",value:function(e,t,n,r,i){var a=t[n],o=t[n+1],s=t[n+2]-a,u=t[n+3]-o,l=Math.atan2(u,s);r[i]=a+e*Math.cos(l),r[i+1]=o+e*Math.sin(l),r[i+2]=l}},{key:"addAfterPosition",value:function(e,t,n,r,i){var a=t[n+2],o=t[n+3],s=a-t[n],u=o-t[n+1],l=Math.atan2(u,s);r[i]=a+e*Math.cos(l),r[i+1]=o+e*Math.sin(l),r[i+2]=l}},{key:"addCurvePosition",value:function(e,t,n,r,i,a,o,s,u,l,c,h){(0==e||isNaN(e))&&(e=1e-4);var f=e*e,d=f*e,p=1-e,v=p*p,m=v*p,g=p*e,y=3*g,b=p*y,x=y*e,_=t*m+r*b+a*x+s*d,w=n*m+i*b+o*x+u*d;l[c]=_,l[c+1]=w,h&&(l[c+2]=Math.atan2(w-(n*v+i*g*2+o*f),_-(t*v+r*g*2+a*f)))}}]),e}();tt.NONE=-1,tt.BEFORE=-2,tt.AFTER=-3,tt.epsilon=1e-5;var nt=function(){function e(t,n){if((0,c.Z)(this,e),this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new V,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(n.findBone(t.bones[r].name));this.target=n.findBone(t.target.name)}return(0,h.Z)(e,[{key:"isActive",value:function(){return this.active}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()}},{key:"applyAbsoluteWorld",value:function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,a=i.matrix,o=a.a,s=a.c,u=a.b,l=a.d,c=o*l-s*u>0?N.degRad:-N.degRad,h=this.data.offsetRotation*c,f=this.data.offsetShearY*c,d=this.bones,p=0,v=d.length;p<v;p++){var m=d[p],g=!1,y=m.matrix;if(0!=e){var b=y.a,x=y.c,_=y.b,w=y.d,k=Math.atan2(u,o)-Math.atan2(_,b)+h;k>N.PI?k-=N.PI2:k<-N.PI&&(k+=N.PI2),k*=e;var E=Math.cos(k),T=Math.sin(k);y.a=E*b-T*_,y.c=E*x-T*w,y.b=T*b+E*_,y.d=T*x+E*w,g=!0}if(0!=t){var S=this.temp;i.localToWorld(S.set(this.data.offsetX,this.data.offsetY)),y.tx+=(S.x-y.tx)*t,y.ty+=(S.y-y.ty)*t,g=!0}if(n>0){var A=Math.sqrt(y.a*y.a+y.b*y.b),M=Math.sqrt(o*o+u*u);A>1e-5&&(A=(A+(M-A+this.data.offsetScaleX)*n)/A),y.a*=A,y.b*=A,A=Math.sqrt(y.c*y.c+y.d*y.d),M=Math.sqrt(s*s+l*l),A>1e-5&&(A=(A+(M-A+this.data.offsetScaleY)*n)/A),y.c*=A,y.d*=A,g=!0}if(r>0){var P=y.c,C=y.d,I=Math.atan2(C,P),R=Math.atan2(l,s)-Math.atan2(u,o)-(I-Math.atan2(y.b,y.a));R>N.PI?R-=N.PI2:R<-N.PI&&(R+=N.PI2),R=I+(R+f)*r;var O=Math.sqrt(P*P+C*C);y.c=Math.cos(R)*O,y.d=Math.sin(R)*O,g=!0}g&&(m.appliedValid=!1)}}},{key:"applyRelativeWorld",value:function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,a=i.matrix,o=a.a,s=a.c,u=a.b,l=a.d,c=o*l-s*u>0?N.degRad:-N.degRad,h=this.data.offsetRotation*c,f=this.data.offsetShearY*c,d=this.bones,p=0,v=d.length;p<v;p++){var m=d[p],g=!1,y=m.matrix;if(0!=e){var b=y.a,x=y.c,_=y.b,w=y.d,k=Math.atan2(u,o)+h;k>N.PI?k-=N.PI2:k<-N.PI&&(k+=N.PI2),k*=e;var E=Math.cos(k),T=Math.sin(k);y.a=E*b-T*_,y.c=E*x-T*w,y.b=T*b+E*_,y.d=T*x+E*w,g=!0}if(0!=t){var S=this.temp;i.localToWorld(S.set(this.data.offsetX,this.data.offsetY)),y.tx+=S.x*t,y.ty+=S.y*t,g=!0}if(n>0){var A=(Math.sqrt(o*o+u*u)-1+this.data.offsetScaleX)*n+1;y.a*=A,y.b*=A,A=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleY)*n+1,y.c*=A,y.d*=A,g=!0}if(r>0){var M=Math.atan2(l,s)-Math.atan2(u,o);M>N.PI?M-=N.PI2:M<-N.PI&&(M+=N.PI2);var P=y.c,C=y.d;M=Math.atan2(C,P)+(M-N.PI/2+f)*r;var I=Math.sqrt(P*P+C*C);y.c=Math.cos(M)*I,y.d=Math.sin(M)*I,g=!0}g&&(m.appliedValid=!1)}}},{key:"applyAbsoluteLocal",value:function(){var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var a=this.bones,o=0,s=a.length;o<s;o++){var u=a[o];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;if(0!=e){var c=i.arotation-l+this.data.offsetRotation;l+=(c-=360*(16384-(16384.499999999996-c/360|0)))*e}var h=u.ax,f=u.ay;0!=t&&(h+=(i.ax-h+this.data.offsetX)*t,f+=(i.ay-f+this.data.offsetY)*t);var d=u.ascaleX,p=u.ascaleY;n>0&&(d>1e-5&&(d=(d+(i.ascaleX-d+this.data.offsetScaleX)*n)/d),p>1e-5&&(p=(p+(i.ascaleY-p+this.data.offsetScaleY)*n)/p));var v=u.ashearY;if(r>0){var m=i.ashearY-v+this.data.offsetShearY;m-=360*(16384-(16384.499999999996-m/360|0)),u.shearY+=m*r}u.updateWorldTransformWith(h,f,l,d,p,u.ashearX,v)}}},{key:"applyRelativeLocal",value:function(){var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var a=this.bones,o=0,s=a.length;o<s;o++){var u=a[o];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;0!=e&&(l+=(i.arotation+this.data.offsetRotation)*e);var c=u.ax,h=u.ay;0!=t&&(c+=(i.ax+this.data.offsetX)*t,h+=(i.ay+this.data.offsetY)*t);var f=u.ascaleX,d=u.ascaleY;n>0&&(f>1e-5&&(f*=(i.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(i.ascaleY-1+this.data.offsetScaleY)*n+1));var p=u.ashearY;r>0&&(p+=(i.ashearY+this.data.offsetShearY)*r),u.updateWorldTransformWith(c,h,l,f,d,u.ashearX,p)}}}]),e}(),rt=function(){function e(t){if((0,c.Z)(this,e),this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var n=0;n<t.bones.length;n++){var r=t.bones[n],i=void 0;if(null==r.parent)i=new We(r,this,null);else{var a=this.bones[r.parent.index];i=new We(r,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var o=0;o<t.slots.length;o++){var s=t.slots[o],u=this.bones[s.boneData.index],l=new me(s,u);this.slots.push(l),this.drawOrder.push(l)}this.ikConstraints=new Array;for(var h=0;h<t.ikConstraints.length;h++){var f=t.ikConstraints[h];this.ikConstraints.push(new Ke(f,this))}this.transformConstraints=new Array;for(var d=0;d<t.transformConstraints.length;d++){var p=t.transformConstraints[d];this.transformConstraints.push(new nt(p,this))}this.pathConstraints=new Array;for(var v=0;v<t.pathConstraints.length;v++){var m=t.pathConstraints[v];this.pathConstraints.push(new tt(m,this))}this.color=new O(1,1,1,1),this.updateCache()}return(0,h.Z)(e,[{key:"updateCache",value:function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(null!=this.skin)for(var a=this.skin.bones,o=0,s=this.skin.bones.length;o<s;o++){var u=this.bones[a[o].index];do{u.sorted=!1,u.active=!0,u=u.parent}while(null!=u)}var l=this.ikConstraints,c=this.transformConstraints,h=this.pathConstraints,f=l.length,d=c.length,p=h.length,v=f+d+p;e:for(var m=0;m<v;m++){for(var g=0;g<f;g++){var y=l[g];if(y.data.order==m){this.sortIkConstraint(y);continue e}}for(var b=0;b<d;b++){var x=c[b];if(x.data.order==m){this.sortTransformConstraint(x);continue e}}for(var _=0;_<p;_++){var w=h[_];if(w.data.order==m){this.sortPathConstraint(w);continue e}}}for(var k=0,E=t.length;k<E;k++)this.sortBone(t[k])}},{key:"sortIkConstraint",value:function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||null!=this.skin&&F.contains(this.skin.constraints,e.data,!0)),e.active){var t=e.target;this.sortBone(t);var n=e.bones,r=n[0];if(this.sortBone(r),n.length>1){var i=n[n.length-1];this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}this._updateCache.push(e),this.sortReset(r.children),n[n.length-1].sorted=!0}}},{key:"sortPathConstraint",value:function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||null!=this.skin&&F.contains(this.skin.constraints,e.data,!0)),e.active){var t=e.target,n=t.data.index,r=t.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var i=0,a=this.data.skins.length;i<a;i++)this.sortPathConstraintAttachment(this.data.skins[i],n,r);var o=t.getAttachment();o instanceof pe&&this.sortPathConstraintAttachmentWith(o,r);for(var s=e.bones,u=s.length,l=0;l<u;l++)this.sortBone(s[l]);this._updateCache.push(e);for(var c=0;c<u;c++)this.sortReset(s[c].children);for(var h=0;h<u;h++)s[h].sorted=!0}}},{key:"sortTransformConstraint",value:function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||null!=this.skin&&F.contains(this.skin.constraints,e.data,!0)),e.active){this.sortBone(e.target);var t=e.bones,n=t.length;if(e.data.local)for(var r=0;r<n;r++){var i=t[r];this.sortBone(i.parent),this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}else for(var a=0;a<n;a++)this.sortBone(t[a]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(t[o].children);for(var s=0;s<n;s++)t[s].sorted=!0}}},{key:"sortPathConstraintAttachment",value:function(e,t,n){var r=e.attachments[t];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)}},{key:"sortPathConstraintAttachmentWith",value:function(e,t){if(e instanceof pe){var n=e.bones;if(null==n)this.sortBone(t);else for(var r=this.bones,i=0;i<n.length;)for(var a=n[i++],o=i+a;i<o;i++){var s=n[i];this.sortBone(r[s])}}}},{key:"sortBone",value:function(e){if(!e.sorted){var t=e.parent;null!=t&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e)}}},{key:"sortReset",value:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}}},{key:"updateWorldTransform",value:function(){for(var e=this.updateCacheReset,t=0,n=e.length;t<n;t++){var r=e[t];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}for(var i=this._updateCache,a=0,o=i.length;a<o;a++)i[a].update()}},{key:"setToSetupPose",value:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}},{key:"setBonesToSetupPose",value:function(){for(var e=this.bones,t=0,n=e.length;t<n;t++)e[t].setToSetupPose();for(var r=this.ikConstraints,i=0,a=r.length;i<a;i++){var o=r[i];o.mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}for(var s=this.transformConstraints,u=0,l=s.length;u<l;u++){var c=s[u],h=c.data;c.rotateMix=h.rotateMix,c.translateMix=h.translateMix,c.scaleMix=h.scaleMix,c.shearMix=h.shearMix}for(var f=this.pathConstraints,d=0,p=f.length;d<p;d++){var v=f[d],m=v.data;v.position=m.position,v.spacing=m.spacing,v.rotateMix=m.rotateMix,v.translateMix=m.translateMix}}},{key:"setSlotsToSetupPose",value:function(){var e=this.slots;F.arrayCopy(e,0,this.drawOrder,0,e.length);for(var t=0,n=e.length;t<n;t++)e[t].setToSetupPose()}},{key:"getRootBone",value:function(){return 0==this.bones.length?null:this.bones[0]}},{key:"findBone",value:function(e){if(null==e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"findBoneIndex",value:function(e){if(null==e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1}},{key:"findSlot",value:function(e){if(null==e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"findSlotIndex",value:function(e){if(null==e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1}},{key:"setSkinByName",value:function(e){var t=this.data.findSkin(e);if(null==t)throw new Error("Skin not found: ".concat(e));this.setSkin(t)}},{key:"setSkin",value:function(e){if(e!=this.skin){if(null!=e)if(null!=this.skin)e.attachAll(this,this.skin);else for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n],a=i.data.attachmentName;if(null!=a){var o=e.getAttachment(n,a);null!=o&&i.setAttachment(o)}}this.skin=e,this.updateCache()}}},{key:"getAttachmentByName",value:function(e,t){return this.getAttachment(this.data.findSlotIndex(e),t)}},{key:"getAttachment",value:function(e,t){if(null==t)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(e,t);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null}},{key:"setAttachment",value:function(e,t){if(null==e)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,i=n.length;r<i;r++){var a=n[r];if(a.data.name==e){var o=null;if(null!=t&&null==(o=this.getAttachment(r,t)))throw new Error("Attachment not found: ".concat(t,", for slot: ").concat(e));return void a.setAttachment(o)}}throw new Error("Slot not found: ".concat(e))}},{key:"findIkConstraint",value:function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"findTransformConstraint",value:function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"findPathConstraint",value:function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"getBounds",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Array(2);if(null==e)throw new Error("offset cannot be null.");if(null==t)throw new Error("size cannot be null.");for(var r=this.drawOrder,i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=0,l=r.length;u<l;u++){var c=r[u];if(c.bone.active){var h=0,f=null,d=c.getAttachment();if(d instanceof ge)h=8,f=F.setArraySize(n,h,0),d.computeWorldVertices(c.bone,f,0,2);else if(d instanceof de){var p=d;h=p.worldVerticesLength,f=F.setArraySize(n,h,0),p.computeWorldVertices(c,0,h,f,0,2)}if(null!=f)for(var v=0,m=f.length;v<m;v+=2){var g=f[v],y=f[v+1];i=Math.min(i,g),a=Math.min(a,y),o=Math.max(o,g),s=Math.max(s,y)}}}e.set(i,a),t.set(o-i,s-a)}},{key:"update",value:function(e){this.time+=e}},{key:"flipX",get:function(){return-1==this.scaleX},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1}},{key:"flipY",get:function(){return-1==this.scaleY},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1}}]),e}(),it=rt;it.deprecatedWarning1=!1;var at=function(){function e(){(0,c.Z)(this,e),this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return(0,h.Z)(e,[{key:"findBone",value:function(e){if(null==e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findBoneIndex",value:function(e){if(null==e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1}},{key:"findSlot",value:function(e){if(null==e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findSlotIndex",value:function(e){if(null==e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1}},{key:"findSkin",value:function(e){if(null==e)throw new Error("skinName cannot be null.");for(var t=this.skins,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findEvent",value:function(e){if(null==e)throw new Error("eventDataName cannot be null.");for(var t=this.events,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findAnimation",value:function(e){if(null==e)throw new Error("animationName cannot be null.");for(var t=this.animations,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findIkConstraint",value:function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findTransformConstraint",value:function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findPathConstraint",value:function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findPathConstraintIndex",value:function(e){if(null==e)throw new Error("pathConstraintName cannot be null.");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1}}]),e}(),ot=(0,h.Z)((function e(t,n,r){if((0,c.Z)(this,e),this.color=new O(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");if(null==r)throw new Error("boneData cannot be null.");this.index=t,this.name=n,this.boneData=r})),st=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e,0,!1)).bones=new Array,r.rotateMix=0,r.translateMix=0,r.scaleMix=0,r.shearMix=0,r.offsetRotation=0,r.offsetX=0,r.offsetY=0,r.offsetScaleX=0,r.offsetScaleY=0,r.offsetShearY=0,r.relative=!1,r.local=!1,r}return(0,h.Z)(n)}(ze),ut=(0,h.Z)((function e(t,n,r){(0,c.Z)(this,e),this.slotIndex=t,this.name=n,this.attachment=r})),lt=function(){function e(t){if((0,c.Z)(this,e),this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==t)throw new Error("name cannot be null.");this.name=t}return(0,h.Z)(e,[{key:"setAttachment",value:function(e,t,n){if(null==n)throw new Error("attachment cannot be null.");var r=this.attachments;e>=r.length&&(r.length=e+1),r[e]||(r[e]={}),r[e][t]=n}},{key:"addSkin",value:function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(var a=0;a<e.constraints.length;a++){for(var o=e.constraints[a],s=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==o){s=!0;break}s||this.constraints.push(o)}for(var l=e.getAttachments(),c=0;c<l.length;c++){var h=l[c];this.setAttachment(h.slotIndex,h.name,h.attachment)}}},{key:"copySkin",value:function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(var a=0;a<e.constraints.length;a++){for(var o=e.constraints[a],s=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==o){s=!0;break}s||this.constraints.push(o)}for(var l=e.getAttachments(),c=0;c<l.length;c++){var h=l[c];null!=h.attachment&&(h.attachment instanceof de?(h.attachment=h.attachment.newLinkedMesh(),this.setAttachment(h.slotIndex,h.name,h.attachment)):(h.attachment=h.attachment.copy(),this.setAttachment(h.slotIndex,h.name,h.attachment)))}}},{key:"getAttachment",value:function(e,t){var n=this.attachments[e];return n?n[t]:null}},{key:"removeAttachment",value:function(e,t){var n=this.attachments[e];n&&(n[t]=null)}},{key:"getAttachments",value:function(){for(var e=new Array,t=0;t<this.attachments.length;t++){var n=this.attachments[t];if(n)for(var r in n){var i=n[r];i&&e.push(new ut(t,r,i))}}return e}},{key:"getAttachmentsForSlot",value:function(e,t){var n=this.attachments[e];if(n)for(var r in n){var i=n[r];i&&t.push(new ut(e,r,i))}}},{key:"clear",value:function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}},{key:"attachAll",value:function(e,t){for(var n=0,r=0;r<e.slots.length;r++){var i=e.slots[r],a=i.getAttachment();if(a&&n<t.attachments.length){var o=t.attachments[n];for(var s in o){if(a==o[s]){var u=this.getAttachment(n,s);null!=u&&i.setAttachment(u);break}}}n++}}}]),e}(),ct=function(){function e(t){(0,c.Z)(this,e),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return(0,h.Z)(e,[{key:"readSkeletonData",value:function(t){var n=this.scale,r=new at;r.name="";var i=new f(t);if(r.hash=i.readString(),r.version=i.readString(),"3.8.75"===r.version){console.error("Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.")}r.x=i.readFloat(),r.y=i.readFloat(),r.width=i.readFloat(),r.height=i.readFloat();var a=i.readBoolean();a&&(r.fps=i.readFloat(),r.imagesPath=i.readString(),r.audioPath=i.readString());var o=0;o=i.readInt(!0);for(var s=0;s<o;s++)i.strings.push(i.readString());o=i.readInt(!0);for(var u=0;u<o;u++){var l=i.readString(),c=0==u?null:r.bones[i.readInt(!0)],h=new He(u,l,c);h.rotation=i.readFloat(),h.x=i.readFloat()*n,h.y=i.readFloat()*n,h.scaleX=i.readFloat(),h.scaleY=i.readFloat(),h.shearX=i.readFloat(),h.shearY=i.readFloat(),h.length=i.readFloat()*n,h.transformMode=e.TransformModeValues[i.readInt(!0)],h.skinRequired=i.readBoolean(),a&&O.rgba8888ToColor(h.color,i.readInt32()),r.bones.push(h)}o=i.readInt(!0);for(var d=0;d<o;d++){var p=i.readString(),m=r.bones[i.readInt(!0)],g=new ot(d,p,m);O.rgba8888ToColor(g.color,i.readInt32());var y=i.readInt32();-1!=y&&O.rgb888ToColor(g.darkColor=new O,y),g.attachmentName=i.readStringRef(),g.blendMode=e.BlendModeValues[i.readInt(!0)],r.slots.push(g)}o=i.readInt(!0);for(var b,x=0;x<o;x++){var _=new Je(i.readString());_.order=i.readInt(!0),_.skinRequired=i.readBoolean(),b=i.readInt(!0);for(var w=0;w<b;w++)_.bones.push(r.bones[i.readInt(!0)]);_.target=r.bones[i.readInt(!0)],_.mix=i.readFloat(),_.softness=i.readFloat()*n,_.bendDirection=i.readByte(),_.compress=i.readBoolean(),_.stretch=i.readBoolean(),_.uniform=i.readBoolean(),r.ikConstraints.push(_)}o=i.readInt(!0);for(var k,E=0;E<o;E++){var T=new st(i.readString());T.order=i.readInt(!0),T.skinRequired=i.readBoolean(),k=i.readInt(!0);for(var S=0;S<k;S++)T.bones.push(r.bones[i.readInt(!0)]);T.target=r.bones[i.readInt(!0)],T.local=i.readBoolean(),T.relative=i.readBoolean(),T.offsetRotation=i.readFloat(),T.offsetX=i.readFloat()*n,T.offsetY=i.readFloat()*n,T.offsetScaleX=i.readFloat(),T.offsetScaleY=i.readFloat(),T.offsetShearY=i.readFloat(),T.rotateMix=i.readFloat(),T.translateMix=i.readFloat(),T.scaleMix=i.readFloat(),T.shearMix=i.readFloat(),r.transformConstraints.push(T)}o=i.readInt(!0);for(var A,M=0;M<o;M++){var P=new Qe(i.readString());P.order=i.readInt(!0),P.skinRequired=i.readBoolean(),A=i.readInt(!0);for(var C=0;C<A;C++)P.bones.push(r.bones[i.readInt(!0)]);P.target=r.slots[i.readInt(!0)],P.positionMode=e.PositionModeValues[i.readInt(!0)],P.spacingMode=e.SpacingModeValues[i.readInt(!0)],P.rotateMode=e.RotateModeValues[i.readInt(!0)],P.offsetRotation=i.readFloat(),P.position=i.readFloat(),P.positionMode==v.Fixed&&(P.position*=n),P.spacing=i.readFloat(),P.spacingMode!=et.Length&&P.spacingMode!=et.Fixed||(P.spacing*=n),P.rotateMix=i.readFloat(),P.translateMix=i.readFloat(),r.pathConstraints.push(P)}var I=this.readSkin(i,r,!0,a);null!=I&&(r.defaultSkin=I,r.skins.push(I));var R=r.skins.length;for(F.setArraySize(r.skins,o=R+i.readInt(!0));R<o;R++)r.skins[R]=this.readSkin(i,r,!1,a);o=this.linkedMeshes.length;for(var L=0;L<o;L++){var N=this.linkedMeshes[L],B=null==N.skin?r.defaultSkin:r.findSkin(N.skin);if(null==B)throw new Error("Skin not found: ".concat(N.skin));var D=B.getAttachment(N.slotIndex,N.parent);if(null==D)throw new Error("Parent mesh not found: ".concat(N.parent));N.mesh.deformAttachment=N.inheritDeform?D:N.mesh,N.mesh.setParentMesh(D)}this.linkedMeshes.length=0,o=i.readInt(!0);for(var Z=0;Z<o;Z++){var V=new $e(i.readStringRef());V.intValue=i.readInt(!1),V.floatValue=i.readFloat(),V.stringValue=i.readString(),V.audioPath=i.readString(),null!=V.audioPath&&(V.volume=i.readFloat(),V.balance=i.readFloat()),r.events.push(V)}o=i.readInt(!0);for(var j=0;j<o;j++)r.animations.push(this.readAnimation(i,i.readString(),r));return r}},{key:"readSkin",value:function(e,t,n,r){var i=null,a=0;if(n){if(0==(a=e.readInt(!0)))return null;i=new lt("default")}else{(i=new lt(e.readStringRef())).bones.length=e.readInt(!0);for(var o=0,s=i.bones.length;o<s;o++)i.bones[o]=t.bones[e.readInt(!0)];for(var u=0,l=e.readInt(!0);u<l;u++)i.constraints.push(t.ikConstraints[e.readInt(!0)]);for(var c=0,h=e.readInt(!0);c<h;c++)i.constraints.push(t.transformConstraints[e.readInt(!0)]);for(var f=0,d=e.readInt(!0);f<d;f++)i.constraints.push(t.pathConstraints[e.readInt(!0)]);a=e.readInt(!0)}for(var p=0;p<a;p++)for(var v=e.readInt(!0),m=0,g=e.readInt(!0);m<g;m++){var y=e.readStringRef(),b=this.readAttachment(e,t,i,v,y,r);null!=b&&i.setAttachment(v,y,b)}return i}},{key:"readAttachment",value:function(t,n,r,i,a,o){var s=this.scale,u=t.readStringRef();null==u&&(u=a);var c=t.readByte();switch(e.AttachmentTypeValues[c]){case l.Region:var h=t.readStringRef(),f=t.readFloat(),d=t.readFloat(),p=t.readFloat(),v=t.readFloat(),m=t.readFloat(),g=t.readFloat(),y=t.readFloat(),b=t.readInt32();null==h&&(h=u);var x=this.attachmentLoader.newRegionAttachment(r,u,h);return null==x?null:(x.path=h,x.x=d*s,x.y=p*s,x.scaleX=v,x.scaleY=m,x.rotation=f,x.width=g*s,x.height=y*s,O.rgba8888ToColor(x.color,b),x);case l.BoundingBox:var _=t.readInt(!0),w=this.readVertices(t,_),k=o?t.readInt32():0,E=this.attachmentLoader.newBoundingBoxAttachment(r,u);return null==E?null:(E.worldVerticesLength=_<<1,E.vertices=w.vertices,E.bones=w.bones,o&&O.rgba8888ToColor(E.color,k),E);case l.Mesh:var T=t.readStringRef(),S=t.readInt32(),A=t.readInt(!0),M=this.readFloatArray(t,A<<1,1),P=this.readShortArray(t),C=this.readVertices(t,A),I=t.readInt(!0),R=null,L=0,N=0;o&&(R=this.readShortArray(t),L=t.readFloat(),N=t.readFloat()),null==T&&(T=u);var B=this.attachmentLoader.newMeshAttachment(r,u,T);return null==B?null:(B.path=T,O.rgba8888ToColor(B.color,S),B.bones=C.bones,B.vertices=C.vertices,B.worldVerticesLength=A<<1,B.triangles=P,B.regionUVs=new Float32Array(M),B.hullLength=I<<1,o&&(B.edges=R,B.width=L*s,B.height=N*s),B);case l.LinkedMesh:var D=t.readStringRef(),Z=t.readInt32(),V=t.readStringRef(),j=t.readStringRef(),U=t.readBoolean(),Y=0,X=0;o&&(Y=t.readFloat(),X=t.readFloat()),null==D&&(D=u);var G=this.attachmentLoader.newMeshAttachment(r,u,D);return null==G?null:(G.path=D,O.rgba8888ToColor(G.color,Z),o&&(G.width=Y*s,G.height=X*s),this.linkedMeshes.push(new ht(G,V,i,j,U)),G);case l.Path:for(var W=t.readBoolean(),H=t.readBoolean(),z=t.readInt(!0),q=this.readVertices(t,z),$=F.newArray(z/3,0),K=0,J=$.length;K<J;K++)$[K]=t.readFloat()*s;var Q=o?t.readInt32():0,ee=this.attachmentLoader.newPathAttachment(r,u);return null==ee?null:(ee.closed=W,ee.constantSpeed=H,ee.worldVerticesLength=z<<1,ee.vertices=q.vertices,ee.bones=q.bones,ee.lengths=$,o&&O.rgba8888ToColor(ee.color,Q),ee);case l.Point:var te=t.readFloat(),ne=t.readFloat(),re=t.readFloat(),ie=o?t.readInt32():0,ae=this.attachmentLoader.newPointAttachment(r,u);return null==ae?null:(ae.x=ne*s,ae.y=re*s,ae.rotation=te,o&&O.rgba8888ToColor(ae.color,ie),ae);case l.Clipping:var oe=t.readInt(!0),se=t.readInt(!0),ue=this.readVertices(t,se),le=o?t.readInt32():0,ce=this.attachmentLoader.newClippingAttachment(r,u);return null==ce?null:(ce.endSlot=n.slots[oe],ce.worldVerticesLength=se<<1,ce.vertices=ue.vertices,ce.bones=ue.bones,o&&O.rgba8888ToColor(ce.color,le),ce)}return null}},{key:"readVertices",value:function(e,t){var n=t<<1,r=new ft,i=this.scale;if(!e.readBoolean())return r.vertices=this.readFloatArray(e,n,i),r;for(var a=new Array,o=new Array,s=0;s<t;s++){var u=e.readInt(!0);o.push(u);for(var l=0;l<u;l++)o.push(e.readInt(!0)),a.push(e.readFloat()*i),a.push(e.readFloat()*i),a.push(e.readFloat())}return r.vertices=F.toFloatArray(a),r.bones=o,r}},{key:"readFloatArray",value:function(e,t,n){var r=new Array(t);if(1==n)for(var i=0;i<t;i++)r[i]=e.readFloat();else for(var a=0;a<t;a++)r[a]=e.readFloat()*n;return r}},{key:"readShortArray",value:function(e){for(var t=e.readInt(!0),n=new Array(t),r=0;r<t;r++)n[r]=e.readShort();return n}},{key:"readAnimation",value:function(t,n,r){for(var i=new Array,a=this.scale,o=0,s=new O,u=new O,l=0,c=t.readInt(!0);l<c;l++)for(var h=t.readInt(!0),f=0,d=t.readInt(!0);f<d;f++){var p=t.readByte(),m=t.readInt(!0);switch(p){case e.SLOT_ATTACHMENT:var g=new Pe(m);g.slotIndex=h;for(var y=0;y<m;y++)g.setFrame(y,t.readFloat(),t.readStringRef());i.push(g),o=Math.max(o,g.frames[m-1]);break;case e.SLOT_COLOR:var b=new Ae(m);b.slotIndex=h;for(var x=0;x<m;x++){var _=t.readFloat();O.rgba8888ToColor(s,t.readInt32()),b.setFrame(x,_,s.r,s.g,s.b,s.a),x<m-1&&this.readCurve(t,x,b)}i.push(b),o=Math.max(o,b.frames[(m-1)*Ae.ENTRIES]);break;case e.SLOT_TWO_COLOR:var w=new Me(m);w.slotIndex=h;for(var k=0;k<m;k++){var E=t.readFloat();O.rgba8888ToColor(s,t.readInt32()),O.rgb888ToColor(u,t.readInt32()),w.setFrame(k,E,s.r,s.g,s.b,s.a,u.r,u.g,u.b),k<m-1&&this.readCurve(t,k,w)}i.push(w),o=Math.max(o,w.frames[(m-1)*Me.ENTRIES])}}for(var T=0,S=t.readInt(!0);T<S;T++)for(var A=t.readInt(!0),M=0,P=t.readInt(!0);M<P;M++){var C=t.readByte(),I=t.readInt(!0);switch(C){case e.BONE_ROTATE:var R=new ke(I);R.boneIndex=A;for(var L=0;L<I;L++)R.setFrame(L,t.readFloat(),t.readFloat()),L<I-1&&this.readCurve(t,L,R);i.push(R),o=Math.max(o,R.frames[(I-1)*ke.ENTRIES]);break;case e.BONE_TRANSLATE:case e.BONE_SCALE:case e.BONE_SHEAR:var N=void 0,B=1;C==e.BONE_SCALE?N=new Te(I):C==e.BONE_SHEAR?N=new Se(I):(N=new Ee(I),B=a),N.boneIndex=A;for(var D=0;D<I;D++)N.setFrame(D,t.readFloat(),t.readFloat()*B,t.readFloat()*B),D<I-1&&this.readCurve(t,D,N);i.push(N),o=Math.max(o,N.frames[(I-1)*Ee.ENTRIES])}}for(var Z=0,V=t.readInt(!0);Z<V;Z++){var j=t.readInt(!0),U=t.readInt(!0),Y=new Le(U);Y.ikConstraintIndex=j;for(var X=0;X<U;X++)Y.setFrame(X,t.readFloat(),t.readFloat(),t.readFloat()*a,t.readByte(),t.readBoolean(),t.readBoolean()),X<U-1&&this.readCurve(t,X,Y);i.push(Y),o=Math.max(o,Y.frames[(U-1)*Le.ENTRIES])}for(var G=0,W=t.readInt(!0);G<W;G++){var H=t.readInt(!0),z=t.readInt(!0),q=new Ne(z);q.transformConstraintIndex=H;for(var $=0;$<z;$++)q.setFrame($,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat()),$<z-1&&this.readCurve(t,$,q);i.push(q),o=Math.max(o,q.frames[(z-1)*Ne.ENTRIES])}for(var K=0,J=t.readInt(!0);K<J;K++)for(var Q=t.readInt(!0),ee=r.pathConstraints[Q],te=0,ne=t.readInt(!0);te<ne;te++){var re=t.readByte(),ie=t.readInt(!0);switch(re){case e.PATH_POSITION:case e.PATH_SPACING:var ae=void 0,oe=1;re==e.PATH_SPACING?(ae=new De(ie),ee.spacingMode!=et.Length&&ee.spacingMode!=et.Fixed||(oe=a)):(ae=new Be(ie),ee.positionMode==v.Fixed&&(oe=a)),ae.pathConstraintIndex=Q;for(var se=0;se<ie;se++)ae.setFrame(se,t.readFloat(),t.readFloat()*oe),se<ie-1&&this.readCurve(t,se,ae);i.push(ae),o=Math.max(o,ae.frames[(ie-1)*Be.ENTRIES]);break;case e.PATH_MIX:var ue=new Fe(ie);ue.pathConstraintIndex=Q;for(var le=0;le<ie;le++)ue.setFrame(le,t.readFloat(),t.readFloat(),t.readFloat()),le<ie-1&&this.readCurve(t,le,ue);i.push(ue),o=Math.max(o,ue.frames[(ie-1)*Fe.ENTRIES])}}for(var ce=0,he=t.readInt(!0);ce<he;ce++)for(var fe=r.skins[t.readInt(!0)],de=0,pe=t.readInt(!0);de<pe;de++)for(var ve=t.readInt(!0),me=0,ge=t.readInt(!0);me<ge;me++){var ye=fe.getAttachment(ve,t.readStringRef()),be=null!=ye.bones,_e=ye.vertices,we=be?_e.length/3*2:_e.length,Ce=t.readInt(!0),Ze=new Ie(Ce);Ze.slotIndex=ve,Ze.attachment=ye;for(var Ve=0;Ve<Ce;Ve++){var je=t.readFloat(),Ue=void 0,Ye=t.readInt(!0);if(0==Ye)Ue=be?F.newFloatArray(we):_e;else{Ue=F.newFloatArray(we);var Xe=t.readInt(!0);if(Ye+=Xe,1==a)for(var Ge=Xe;Ge<Ye;Ge++)Ue[Ge]=t.readFloat();else for(var We=Xe;We<Ye;We++)Ue[We]=t.readFloat()*a;if(!be)for(var He=0,ze=Ue.length;He<ze;He++)Ue[He]+=_e[He]}Ze.setFrame(Ve,je,Ue),Ve<Ce-1&&this.readCurve(t,Ve,Ze)}i.push(Ze),o=Math.max(o,Ze.frames[Ce-1])}var $e=t.readInt(!0);if($e>0){for(var Ke=new Oe($e),Je=r.slots.length,Qe=0;Qe<$e;Qe++){for(var tt=t.readFloat(),nt=t.readInt(!0),rt=F.newArray(Je,0),it=Je-1;it>=0;it--)rt[it]=-1;for(var at=F.newArray(Je-nt,0),ot=0,st=0,ut=0;ut<nt;ut++){for(var lt=t.readInt(!0);ot!=lt;)at[st++]=ot++;rt[ot+t.readInt(!0)]=ot++}for(;ot<Je;)at[st++]=ot++;for(var ct=Je-1;ct>=0;ct--)-1==rt[ct]&&(rt[ct]=at[--st]);Ke.setFrame(Qe,tt,rt)}i.push(Ke),o=Math.max(o,Ke.frames[$e-1])}var ht=t.readInt(!0);if(ht>0){for(var ft=new Re(ht),dt=0;dt<ht;dt++){var pt=t.readFloat(),vt=r.events[t.readInt(!0)],mt=new qe(pt,vt);mt.intValue=t.readInt(!1),mt.floatValue=t.readFloat(),mt.stringValue=t.readBoolean()?t.readString():vt.stringValue,null!=mt.data.audioPath&&(mt.volume=t.readFloat(),mt.balance=t.readFloat()),ft.setFrame(dt,mt)}i.push(ft),o=Math.max(o,ft.frames[ht-1])}return new xe(n,i,o)}},{key:"readCurve",value:function(t,n,r){switch(t.readByte()){case e.CURVE_STEPPED:r.setStepped(n);break;case e.CURVE_BEZIER:this.setCurve(r,n,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat())}}},{key:"setCurve",value:function(e,t,n,r,i,a){e.setCurve(t,n,r,i,a)}}]),e}();ct.AttachmentTypeValues=[0,1,2,3,4,5,6],ct.TransformModeValues=[g.Normal,g.OnlyTranslation,g.NoRotationOrReflection,g.NoScale,g.NoScaleOrReflection],ct.PositionModeValues=[v.Fixed,v.Percent],ct.SpacingModeValues=[et.Length,et.Fixed,et.Percent],ct.RotateModeValues=[m.Tangent,m.Chain,m.ChainScale],ct.BlendModeValues=[x.T$.NORMAL,x.T$.ADD,x.T$.MULTIPLY,x.T$.SCREEN],ct.BONE_ROTATE=0,ct.BONE_TRANSLATE=1,ct.BONE_SCALE=2,ct.BONE_SHEAR=3,ct.SLOT_ATTACHMENT=0,ct.SLOT_COLOR=1,ct.SLOT_TWO_COLOR=2,ct.PATH_POSITION=0,ct.PATH_SPACING=1,ct.PATH_MIX=2,ct.CURVE_LINEAR=0,ct.CURVE_STEPPED=1,ct.CURVE_BEZIER=2;var ht=(0,h.Z)((function e(t,n,r,i,a){(0,c.Z)(this,e),this.mesh=t,this.skin=n,this.slotIndex=r,this.parent=i,this.inheritDeform=a})),ft=(0,h.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,c.Z)(this,e),this.bones=t,this.vertices=n})),dt=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n)}(j),pt=function(){function e(t){(0,c.Z)(this,e),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return(0,h.Z)(e,[{key:"readSkeletonData",value:function(t){var n=this.scale,r=new at,i="string"===typeof t?JSON.parse(t):t,a=i.skeleton;if(null!=a){if(r.hash=a.hash,r.version=a.spine,"3.8"!==r.version.substr(0,3)){var o="Spine 3.8 loader cant load version ".concat(a.spine,". Please configure your pixi-spine bundle");console.error(o)}if("3.8.75"===r.version){console.error("Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.")}r.x=a.x,r.y=a.y,r.width=a.width,r.height=a.height,r.fps=a.fps,r.imagesPath=a.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var u=i.bones[s],l=null,c=this.getValue(u,"parent",null);if(null!=c&&null==(l=r.findBone(c)))throw new Error("Parent bone not found: ".concat(c));var h=new He(r.bones.length,u.name,l);h.length=this.getValue(u,"length",0)*n,h.x=this.getValue(u,"x",0)*n,h.y=this.getValue(u,"y",0)*n,h.rotation=this.getValue(u,"rotation",0),h.scaleX=this.getValue(u,"scaleX",1),h.scaleY=this.getValue(u,"scaleY",1),h.shearX=this.getValue(u,"shearX",0),h.shearY=this.getValue(u,"shearY",0),h.transformMode=e.transformModeFromString(this.getValue(u,"transform","normal")),h.skinRequired=this.getValue(u,"skin",!1),r.bones.push(h)}if(i.slots)for(var f=0;f<i.slots.length;f++){var d=i.slots[f],p=d.name,m=d.bone,g=r.findBone(m);if(null==g)throw new Error("Slot bone not found: ".concat(m));var y=new ot(r.slots.length,p,g),b=this.getValue(d,"color",null);null!=b&&y.color.setFromString(b);var x=this.getValue(d,"dark",null);null!=x&&(y.darkColor=new O(1,1,1,1),y.darkColor.setFromString(x)),y.attachmentName=this.getValue(d,"attachment",null),y.blendMode=e.blendModeFromString(this.getValue(d,"blend","normal")),r.slots.push(y)}if(i.ik)for(var _=0;_<i.ik.length;_++){var w=i.ik[_],k=new Je(w.name);k.order=this.getValue(w,"order",0),k.skinRequired=this.getValue(w,"skin",!1);for(var E=0;E<w.bones.length;E++){var T=w.bones[E],S=r.findBone(T);if(null==S)throw new Error("IK bone not found: ".concat(T));k.bones.push(S)}var A=w.target;if(k.target=r.findBone(A),null==k.target)throw new Error("IK target bone not found: ".concat(A));k.mix=this.getValue(w,"mix",1),k.softness=this.getValue(w,"softness",0)*n,k.bendDirection=this.getValue(w,"bendPositive",!0)?1:-1,k.compress=this.getValue(w,"compress",!1),k.stretch=this.getValue(w,"stretch",!1),k.uniform=this.getValue(w,"uniform",!1),r.ikConstraints.push(k)}if(i.transform)for(var M=0;M<i.transform.length;M++){var P=i.transform[M],C=new st(P.name);C.order=this.getValue(P,"order",0),C.skinRequired=this.getValue(P,"skin",!1);for(var I=0;I<P.bones.length;I++){var R=P.bones[I],L=r.findBone(R);if(null==L)throw new Error("Transform constraint bone not found: ".concat(R));C.bones.push(L)}var N=P.target;if(C.target=r.findBone(N),null==C.target)throw new Error("Transform constraint target bone not found: ".concat(N));C.local=this.getValue(P,"local",!1),C.relative=this.getValue(P,"relative",!1),C.offsetRotation=this.getValue(P,"rotation",0),C.offsetX=this.getValue(P,"x",0)*n,C.offsetY=this.getValue(P,"y",0)*n,C.offsetScaleX=this.getValue(P,"scaleX",0),C.offsetScaleY=this.getValue(P,"scaleY",0),C.offsetShearY=this.getValue(P,"shearY",0),C.rotateMix=this.getValue(P,"rotateMix",1),C.translateMix=this.getValue(P,"translateMix",1),C.scaleMix=this.getValue(P,"scaleMix",1),C.shearMix=this.getValue(P,"shearMix",1),r.transformConstraints.push(C)}if(i.path)for(var B=0;B<i.path.length;B++){var D=i.path[B],F=new Qe(D.name);F.order=this.getValue(D,"order",0),F.skinRequired=this.getValue(D,"skin",!1);for(var Z=0;Z<D.bones.length;Z++){var V=D.bones[Z],j=r.findBone(V);if(null==j)throw new Error("Transform constraint bone not found: ".concat(V));F.bones.push(j)}var U=D.target;if(F.target=r.findSlot(U),null==F.target)throw new Error("Path target slot not found: ".concat(U));F.positionMode=e.positionModeFromString(this.getValue(D,"positionMode","percent")),F.spacingMode=e.spacingModeFromString(this.getValue(D,"spacingMode","length")),F.rotateMode=e.rotateModeFromString(this.getValue(D,"rotateMode","tangent")),F.offsetRotation=this.getValue(D,"rotation",0),F.position=this.getValue(D,"position",0),F.positionMode==v.Fixed&&(F.position*=n),F.spacing=this.getValue(D,"spacing",0),F.spacingMode!=et.Length&&F.spacingMode!=et.Fixed||(F.spacing*=n),F.rotateMix=this.getValue(D,"rotateMix",1),F.translateMix=this.getValue(D,"translateMix",1),r.pathConstraints.push(F)}if(i.skins)for(var Y=0;Y<i.skins.length;Y++){var X=i.skins[Y],G=new lt(X.name);if(X.bones)for(var W=0;W<X.bones.length;W++){var H=r.findBone(X.bones[W]);if(null==H)throw new Error("Skin bone not found: ".concat(X.bones[Y]));G.bones.push(H)}if(X.ik)for(var z=0;z<X.ik.length;z++){var q=r.findIkConstraint(X.ik[z]);if(null==q)throw new Error("Skin IK constraint not found: ".concat(X.ik[Y]));G.constraints.push(q)}if(X.transform)for(var $=0;$<X.transform.length;$++){var K=r.findTransformConstraint(X.transform[$]);if(null==K)throw new Error("Skin transform constraint not found: ".concat(X.transform[Y]));G.constraints.push(K)}if(X.path)for(var J=0;J<X.path.length;J++){var Q=r.findPathConstraint(X.path[J]);if(null==Q)throw new Error("Skin path constraint not found: ".concat(X.path[Y]));G.constraints.push(Q)}for(var ee in X.attachments){var te=r.findSlot(ee);if(null==te)throw new Error("Slot not found: ".concat(ee));var ne=X.attachments[ee];for(var re in ne){var ie=this.readAttachment(ne[re],G,te.index,re,r);null!=ie&&G.setAttachment(te.index,re,ie)}}r.skins.push(G),"default"==G.name&&(r.defaultSkin=G)}for(var ae=0,oe=this.linkedMeshes.length;ae<oe;ae++){var se=this.linkedMeshes[ae],ue=null==se.skin?r.defaultSkin:r.findSkin(se.skin);if(null==ue)throw new Error("Skin not found: ".concat(se.skin));var le=ue.getAttachment(se.slotIndex,se.parent);if(null==le)throw new Error("Parent mesh not found: ".concat(se.parent));se.mesh.deformAttachment=se.inheritDeform?le:se.mesh,se.mesh.setParentMesh(le)}if(this.linkedMeshes.length=0,i.events)for(var ce in i.events){var he=i.events[ce],fe=new $e(ce);fe.intValue=this.getValue(he,"int",0),fe.floatValue=this.getValue(he,"float",0),fe.stringValue=this.getValue(he,"string",""),fe.audioPath=this.getValue(he,"audio",null),null!=fe.audioPath&&(fe.volume=this.getValue(he,"volume",1),fe.balance=this.getValue(he,"balance",0)),r.events.push(fe)}if(i.animations)for(var de in i.animations){var pe=i.animations[de];this.readAnimation(pe,de,r)}return r}},{key:"readAttachment",value:function(e,t,n,r,i){var a=this.scale;switch(r=this.getValue(e,"name",r),this.getValue(e,"type","region")){case"region":var o=this.getValue(e,"path",r),s=this.attachmentLoader.newRegionAttachment(t,r,o);if(null==s)return null;s.path=o,s.x=this.getValue(e,"x",0)*a,s.y=this.getValue(e,"y",0)*a,s.scaleX=this.getValue(e,"scaleX",1),s.scaleY=this.getValue(e,"scaleY",1),s.rotation=this.getValue(e,"rotation",0),s.width=e.width*a,s.height=e.height*a;var u=this.getValue(e,"color",null);return null!=u&&s.color.setFromString(u),s;case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(t,r);if(null==l)return null;this.readVertices(e,l,e.vertexCount<<1);var c=this.getValue(e,"color",null);return null!=c&&l.color.setFromString(c),l;case"mesh":case"linkedmesh":var h=this.getValue(e,"path",r),f=this.attachmentLoader.newMeshAttachment(t,r,h);if(null==f)return null;f.path=h;var d=this.getValue(e,"color",null);null!=d&&f.color.setFromString(d),f.width=this.getValue(e,"width",0)*a,f.height=this.getValue(e,"height",0)*a;var p=this.getValue(e,"parent",null);if(null!=p)return this.linkedMeshes.push(new vt(f,this.getValue(e,"skin",null),n,p,this.getValue(e,"deform",!0))),f;var v=e.uvs;return this.readVertices(e,f,v.length),f.triangles=e.triangles,f.regionUVs=new Float32Array(v),f.edges=this.getValue(e,"edges",null),f.hullLength=2*this.getValue(e,"hull",0),f;case"path":var m=this.attachmentLoader.newPathAttachment(t,r);if(null==m)return null;m.closed=this.getValue(e,"closed",!1),m.constantSpeed=this.getValue(e,"constantSpeed",!0);var g=e.vertexCount;this.readVertices(e,m,g<<1);for(var y=F.newArray(g/3,0),b=0;b<e.lengths.length;b++)y[b]=e.lengths[b]*a;m.lengths=y;var x=this.getValue(e,"color",null);return null!=x&&m.color.setFromString(x),m;case"point":var _=this.attachmentLoader.newPointAttachment(t,r);if(null==_)return null;_.x=this.getValue(e,"x",0)*a,_.y=this.getValue(e,"y",0)*a,_.rotation=this.getValue(e,"rotation",0);var w=this.getValue(e,"color",null);return null!=w&&_.color.setFromString(w),_;case"clipping":var k=this.attachmentLoader.newClippingAttachment(t,r);if(null==k)return null;var E=this.getValue(e,"end",null);if(null!=E){var T=i.findSlot(E);if(null==T)throw new Error("Clipping end slot not found: ".concat(E));k.endSlot=T}var S=e.vertexCount;this.readVertices(e,k,S<<1);var A=this.getValue(e,"color",null);return null!=A&&k.color.setFromString(A),k}return null}},{key:"readVertices",value:function(e,t,n){var r=this.scale;t.worldVerticesLength=n;var i=e.vertices;if(n!=i.length){for(var a=new Array,o=new Array,s=0,u=i.length;s<u;){var l=i[s++];o.push(l);for(var c=s+4*l;s<c;s+=4)o.push(i[s]),a.push(i[s+1]*r),a.push(i[s+2]*r),a.push(i[s+3])}t.bones=o,t.vertices=F.toFloatArray(a)}else{var h=F.toFloatArray(i);if(1!=r)for(var f=0,d=i.length;f<d;f++)h[f]*=r;t.vertices=h}}},{key:"readAnimation",value:function(e,t,n){var r=this.scale,i=new Array,a=0;if(e.slots)for(var o in e.slots){var s=e.slots[o],u=n.findSlotIndex(o);if(-1==u)throw new Error("Slot not found: ".concat(o));for(var l in s){var c=s[l];if("attachment"==l){var h=new Pe(c.length);h.slotIndex=u;for(var f=0,d=0;d<c.length;d++){var p=c[d];h.setFrame(f++,this.getValue(p,"time",0),p.name)}i.push(h),a=Math.max(a,h.frames[h.getFrameCount()-1])}else if("color"==l){var m=new Ae(c.length);m.slotIndex=u;for(var g=0,y=0;y<c.length;y++){var b=c[y],x=new O;x.setFromString(b.color||"ffffffff"),m.setFrame(g,this.getValue(b,"time",0),x.r,x.g,x.b,x.a),this.readCurve(b,m,g),g++}i.push(m),a=Math.max(a,m.frames[(m.getFrameCount()-1)*Ae.ENTRIES])}else{if("twoColor"!=l)throw new Error("Invalid timeline type for a slot: ".concat(l," (").concat(o,")"));var _=new Me(c.length);_.slotIndex=u;for(var w=0,k=0;k<c.length;k++){var E=c[k],T=new O,S=new O;T.setFromString(E.light),S.setFromString(E.dark),_.setFrame(w,this.getValue(E,"time",0),T.r,T.g,T.b,T.a,S.r,S.g,S.b),this.readCurve(E,_,w),w++}i.push(_),a=Math.max(a,_.frames[(_.getFrameCount()-1)*Me.ENTRIES])}}}if(e.bones)for(var A in e.bones){var M=e.bones[A],P=n.findBoneIndex(A);if(-1==P)throw new Error("Bone not found: ".concat(A));for(var C in M){var I=M[C];if("rotate"===C){var R=new ke(I.length);R.boneIndex=P;for(var L=0,N=0;N<I.length;N++){var B=I[N];R.setFrame(L,this.getValue(B,"time",0),this.getValue(B,"angle",0)),this.readCurve(B,R,L),L++}i.push(R),a=Math.max(a,R.frames[(R.getFrameCount()-1)*ke.ENTRIES])}else{if("translate"!==C&&"scale"!==C&&"shear"!==C)throw new Error("Invalid timeline type for a bone: ".concat(C," (").concat(A,")"));var D=null,Z=1,V=0;"scale"===C?(D=new Te(I.length),V=1):"shear"===C?D=new Se(I.length):(D=new Ee(I.length),Z=r),D.boneIndex=P;for(var j=0,U=0;U<I.length;U++){var X=I[U],G=this.getValue(X,"x",V),W=this.getValue(X,"y",V);D.setFrame(j,this.getValue(X,"time",0),G*Z,W*Z),this.readCurve(X,D,j),j++}i.push(D),a=Math.max(a,D.frames[(D.getFrameCount()-1)*Ee.ENTRIES])}}}if(e.ik)for(var H in e.ik){var z=e.ik[H],q=n.findIkConstraint(H),$=new Le(z.length);$.ikConstraintIndex=n.ikConstraints.indexOf(q);for(var K=0,J=0;J<z.length;J++){var Q=z[J];$.setFrame(K,this.getValue(Q,"time",0),this.getValue(Q,"mix",1),this.getValue(Q,"softness",0)*r,this.getValue(Q,"bendPositive",!0)?1:-1,this.getValue(Q,"compress",!1),this.getValue(Q,"stretch",!1)),this.readCurve(Q,$,K),K++}i.push($),a=Math.max(a,$.frames[($.getFrameCount()-1)*Le.ENTRIES])}if(e.transform)for(var ee in e.transform){var te=e.transform[ee],ne=n.findTransformConstraint(ee),re=new Ne(te.length);re.transformConstraintIndex=n.transformConstraints.indexOf(ne);for(var ie=0,ae=0;ae<te.length;ae++){var oe=te[ae];re.setFrame(ie,this.getValue(oe,"time",0),this.getValue(oe,"rotateMix",1),this.getValue(oe,"translateMix",1),this.getValue(oe,"scaleMix",1),this.getValue(oe,"shearMix",1)),this.readCurve(oe,re,ie),ie++}i.push(re),a=Math.max(a,re.frames[(re.getFrameCount()-1)*Ne.ENTRIES])}if(e.path)for(var se in e.path){var ue=e.path[se],le=n.findPathConstraintIndex(se);if(-1==le)throw new Error("Path constraint not found: ".concat(se));var ce=n.pathConstraints[le];for(var he in ue){var fe=ue[he];if("position"===he||"spacing"===he){var de=null,pe=1;"spacing"===he?(de=new De(fe.length),ce.spacingMode!=et.Length&&ce.spacingMode!=et.Fixed||(pe=r)):(de=new Be(fe.length),ce.positionMode==v.Fixed&&(pe=r)),de.pathConstraintIndex=le;for(var ve=0,me=0;me<fe.length;me++){var ge=fe[me];de.setFrame(ve,this.getValue(ge,"time",0),this.getValue(ge,he,0)*pe),this.readCurve(ge,de,ve),ve++}i.push(de),a=Math.max(a,de.frames[(de.getFrameCount()-1)*Be.ENTRIES])}else if("mix"===he){var ye=new Fe(fe.length);ye.pathConstraintIndex=le;for(var be=0,_e=0;_e<fe.length;_e++){var we=fe[_e];ye.setFrame(be,this.getValue(we,"time",0),this.getValue(we,"rotateMix",1),this.getValue(we,"translateMix",1)),this.readCurve(we,ye,be),be++}i.push(ye),a=Math.max(a,ye.frames[(ye.getFrameCount()-1)*Fe.ENTRIES])}}}if(e.deform)for(var Ce in e.deform){var Ze=e.deform[Ce],Ve=n.findSkin(Ce);if(null!=Ve)for(var je in Ze){var Ue=Ze[je],Ye=n.findSlotIndex(je);if(-1==Ye)throw new Error("Slot not found: ".concat(Ue.name));for(var Xe in Ue){var Ge=Ue[Xe],We=Ve.getAttachment(Ye,Xe);if(null==We)throw new Error("Deform attachment not found: ".concat(Ge.name));var He=null!=We.bones,ze=We.vertices,$e=He?ze.length/3*2:ze.length,Ke=new Ie(Ge.length);Ke.slotIndex=Ye,Ke.attachment=We;for(var Je=0,Qe=0;Qe<Ge.length;Qe++){var tt=Ge[Qe],nt=void 0,rt=this.getValue(tt,"vertices",null);if(null==rt)nt=He?F.newFloatArray($e):ze;else{nt=F.newFloatArray($e);var it=this.getValue(tt,"offset",0);if(F.arrayCopy(rt,0,nt,it,rt.length),1!=r)for(var at=it,ot=at+rt.length;at<ot;at++)nt[at]*=r;if(!He)for(var st=0;st<$e;st++)nt[st]+=ze[st]}Ke.setFrame(Je,this.getValue(tt,"time",0),nt),this.readCurve(tt,Ke,Je),Je++}i.push(Ke),a=Math.max(a,Ke.frames[Ke.getFrameCount()-1])}}else if(Y)throw new Error("Skin not found: ".concat(Ce))}var ut=e.drawOrder;if(null==ut&&(ut=e.draworder),null!=ut){for(var lt=new Oe(ut.length),ct=n.slots.length,ht=0,ft=0;ft<ut.length;ft++){var dt=ut[ft],pt=null,vt=this.getValue(dt,"offsets",null);if(null!=vt){pt=F.newArray(ct,-1);for(var mt=F.newArray(ct-vt.length,0),gt=0,yt=0,bt=0;bt<vt.length;bt++){var xt=vt[bt],_t=n.findSlotIndex(xt.slot);if(-1==_t)throw new Error("Slot not found: ".concat(xt.slot));for(;gt!=_t;)mt[yt++]=gt++;pt[gt+xt.offset]=gt++}for(;gt<ct;)mt[yt++]=gt++;for(var wt=ct-1;wt>=0;wt--)-1==pt[wt]&&(pt[wt]=mt[--yt])}lt.setFrame(ht++,this.getValue(dt,"time",0),pt)}i.push(lt),a=Math.max(a,lt.frames[lt.getFrameCount()-1])}if(e.events){for(var kt=new Re(e.events.length),Et=0,Tt=0;Tt<e.events.length;Tt++){var St=e.events[Tt],At=n.findEvent(St.name);if(null==At)throw new Error("Event not found: ".concat(St.name));var Mt=new qe(F.toSinglePrecision(this.getValue(St,"time",0)),At);Mt.intValue=this.getValue(St,"int",At.intValue),Mt.floatValue=this.getValue(St,"float",At.floatValue),Mt.stringValue=this.getValue(St,"string",At.stringValue),null!=Mt.data.audioPath&&(Mt.volume=this.getValue(St,"volume",1),Mt.balance=this.getValue(St,"balance",0)),kt.setFrame(Et++,Mt)}i.push(kt),a=Math.max(a,kt.frames[kt.getFrameCount()-1])}if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new xe(t,i,a))}},{key:"readCurve",value:function(e,t,n){if(e.hasOwnProperty("curve"))if("stepped"===e.curve)t.setStepped(n);else{var r=e.curve;t.setCurve(n,r,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}}},{key:"getValue",value:function(e,t,n){return void 0!==e[t]?e[t]:n}}],[{key:"blendModeFromString",value:function(e){if("normal"==(e=e.toLowerCase()))return x.T$.NORMAL;if("additive"==e)return x.T$.ADD;if("multiply"==e)return x.T$.MULTIPLY;if("screen"==e)return x.T$.SCREEN;throw new Error("Unknown blend mode: ".concat(e))}},{key:"positionModeFromString",value:function(e){if("fixed"==(e=e.toLowerCase()))return v.Fixed;if("percent"==e)return v.Percent;throw new Error("Unknown position mode: ".concat(e))}},{key:"spacingModeFromString",value:function(e){if("length"==(e=e.toLowerCase()))return et.Length;if("fixed"==e)return et.Fixed;if("percent"==e)return et.Percent;throw new Error("Unknown position mode: ".concat(e))}},{key:"rotateModeFromString",value:function(e){if("tangent"==(e=e.toLowerCase()))return m.Tangent;if("chain"==e)return m.Chain;if("chainscale"==e)return m.ChainScale;throw new Error("Unknown rotate mode: ".concat(e))}},{key:"transformModeFromString",value:function(e){if("normal"==(e=e.toLowerCase()))return g.Normal;if("onlytranslation"==e)return g.OnlyTranslation;if("norotationorreflection"==e)return g.NoRotationOrReflection;if("noscale"==e)return g.NoScale;if("noscaleorreflection"==e)return g.NoScaleOrReflection;throw new Error("Unknown transform mode: ".concat(e))}}]),e}(),vt=(0,h.Z)((function e(t,n,r,i,a){(0,c.Z)(this,e),this.mesh=t,this.skin=n,this.slotIndex=r,this.parent=i,this.inheritDeform=a})),mt=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"createSkeleton",value:function(e){this.skeleton=new it(e),this.skeleton.updateWorldTransform(),this.stateData=new Xe(e),this.state=new Ze(this.stateData)}}]),n}(ne),gt=(0,h.Z)((function e(t){if((0,c.Z)(this,e),null==t)throw new Error("name cannot be null.");this.name=t})),yt=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).id=(65535&n.nextID++)<<11,r.worldVerticesLength=0,r}return(0,h.Z)(n,[{key:"computeWorldVerticesOld",value:function(e,t){this.computeWorldVertices(e,0,this.worldVerticesLength,t,0,2)}},{key:"computeWorldVertices",value:function(e,t,n,r,i,a){n=i+(n>>1)*a;var o=e.bone.skeleton,s=e.attachmentVertices,u=this.vertices,l=this.bones;if(null!=l){for(var c=0,h=0,f=0;f<t;f+=2){var d=l[c];c+=d+1,h+=d}var p=o.bones;if(0==s.length)for(var v=i,m=3*h;v<n;v+=a){var g=0,y=0,b=l[c++];for(b+=c;c<b;c++,m+=3){var x=p[l[c]].matrix,_=u[m],w=u[m+1],k=u[m+2];g+=(_*x.a+w*x.c+x.tx)*k,y+=(_*x.b+w*x.d+x.ty)*k}r[v]=g,r[v+1]=y}else for(var E=s,T=i,S=3*h,A=h<<1;T<n;T+=a){var M=0,P=0,C=l[c++];for(C+=c;c<C;c++,S+=3,A+=2){var I=p[l[c]].matrix,R=u[S]+E[A],O=u[S+1]+E[A+1],L=u[S+2];M+=(R*I.a+O*I.c+I.tx)*L,P+=(R*I.b+O*I.d+I.ty)*L}r[T]=M,r[T+1]=P}}else{s.length>0&&(u=s);for(var N=e.bone.matrix,B=N.tx,D=N.ty,F=N.a,Z=N.c,V=N.b,j=N.d,U=t,Y=i;Y<n;U+=2,Y+=a){var X=u[U],G=u[U+1];r[Y]=X*F+G*Z+B,r[Y+1]=X*V+G*j+D}}}},{key:"applyDeform",value:function(e){return this==e}}]),n}(gt),bt=yt;bt.nextID=0;var xt=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.BoundingBox,r.color=new O(1,1,1,1),r}return(0,h.Z)(n)}(bt),_t=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.Clipping,r.color=new O(.2275,.2275,.8078,1),r}return(0,h.Z)(n)}(bt),wt=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.Mesh,r.color=new O(1,1,1,1),r.inheritDeform=!1,r.tempColor=new O(0,0,0,0),r}return(0,h.Z)(n,[{key:"applyDeform",value:function(e){return this==e||this.inheritDeform&&this.parentMesh==e}},{key:"getParentMesh",value:function(){return this.parentMesh}},{key:"setParentMesh",value:function(e){this.parentMesh=e,null!=e&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)}}]),n}(bt),kt=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.Path,r.closed=!1,r.constantSpeed=!1,r.color=new O(1,1,1,1),r}return(0,h.Z)(n)}(bt),Et=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.Point,r.color=new O(.38,.94,0,1),r}return(0,h.Z)(n,[{key:"computeWorldPosition",value:function(e,t){var n=e.matrix;return t.x=this.x*n.a+this.y*n.c+e.worldX,t.y=this.x*n.b+this.y*n.d+e.worldY,t}},{key:"computeWorldRotation",value:function(e){var t=e.matrix,n=N.cosDeg(this.rotation),r=N.sinDeg(this.rotation),i=n*t.a+r*t.c,a=n*t.b+r*t.d;return Math.atan2(a,i)*N.radDeg}}]),n}(bt),Tt=function(){function e(t,n){if((0,c.Z)(this,e),this.attachmentVertices=new Array,null==t)throw new Error("data cannot be null.");if(null==n)throw new Error("bone cannot be null.");this.data=t,this.bone=n,this.color=new O,this.darkColor=null==t.darkColor?null:new O,this.setToSetupPose(),this.blendMode=this.data.blendMode}return(0,h.Z)(e,[{key:"getAttachment",value:function(){return this.attachment}},{key:"setAttachment",value:function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)}},{key:"setAttachmentTime",value:function(e){this.attachmentTime=this.bone.skeleton.time-e}},{key:"getAttachmentTime",value:function(){return this.bone.skeleton.time-this.attachmentTime}},{key:"setToSetupPose",value:function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}}]),e}(),St=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.Region,r.x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.rotation=0,r.width=0,r.height=0,r.color=new O(1,1,1,1),r.offset=F.newFloatArray(8),r.uvs=F.newFloatArray(8),r.tempColor=new O(1,1,1,1),r}return(0,h.Z)(n,[{key:"updateOffset",value:function(){var e=this.width/this.region.originalWidth*this.scaleX,t=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*e,i=-this.height/2*this.scaleY+this.region.offsetY*t,a=r+this.region.width*e,o=i+this.region.height*t,s=this.rotation*Math.PI/180,u=Math.cos(s),l=Math.sin(s),c=r*u+this.x,h=r*l,f=i*u+this.y,d=i*l,p=a*u+this.x,v=a*l,m=o*u+this.y,g=o*l,y=this.offset;y[n.OX1]=c-d,y[n.OY1]=f+h,y[n.OX2]=c-g,y[n.OY2]=m+h,y[n.OX3]=p-g,y[n.OY3]=m+v,y[n.OX4]=p-d,y[n.OY4]=f+v}},{key:"setRegion",value:function(e){this.region=e;var t=this.uvs;e.rotate?(t[2]=e.u,t[3]=e.v2,t[4]=e.u,t[5]=e.v,t[6]=e.u2,t[7]=e.v,t[0]=e.u2,t[1]=e.v2):(t[0]=e.u,t[1]=e.v2,t[2]=e.u,t[3]=e.v,t[4]=e.u2,t[5]=e.v,t[6]=e.u2,t[7]=e.v2)}},{key:"computeWorldVertices",value:function(e,t,r,i){var a=this.offset,o=e instanceof Tt?e.bone.matrix:e.matrix,s=o.tx,u=o.ty,l=o.a,c=o.c,h=o.b,f=o.d,d=0,p=0;d=a[n.OX1],p=a[n.OY1],t[r]=d*l+p*c+s,t[r+1]=d*h+p*f+u,r+=i,d=a[n.OX2],p=a[n.OY2],t[r]=d*l+p*c+s,t[r+1]=d*h+p*f+u,r+=i,d=a[n.OX3],p=a[n.OY3],t[r]=d*l+p*c+s,t[r+1]=d*h+p*f+u,r+=i,d=a[n.OX4],p=a[n.OY4],t[r]=d*l+p*c+s,t[r+1]=d*h+p*f+u}}]),n}(gt),At=St;At.OX1=0,At.OY1=1,At.OX2=2,At.OY2=3,At.OX3=4,At.OY3=5,At.OX4=6,At.OY4=7,At.X1=0,At.Y1=1,At.C1R=2,At.C1G=3,At.C1B=4,At.C1A=5,At.U1=6,At.V1=7,At.X2=8,At.Y2=9,At.C2R=10,At.C2G=11,At.C2B=12,At.C2A=13,At.U2=14,At.V2=15,At.X3=16,At.Y3=17,At.C3R=18,At.C3G=19,At.C3B=20,At.C3A=21,At.U3=22,At.V3=23,At.X4=24,At.Y4=25,At.C4R=26,At.C4G=27,At.C4B=28,At.C4A=29,At.U4=30,At.V4=31;var Mt=function(){function e(t,n){(0,c.Z)(this,e),this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=n}return(0,h.Z)(e,[{key:"begin",value:function(e){}},{key:"transform",value:function(e,t,n,r){e.x+=N.randomTriangular(-this.jitterX,this.jitterY),e.y+=N.randomTriangular(-this.jitterX,this.jitterY)}},{key:"end",value:function(){}}]),e}(),Pt=function(){function e(t){(0,c.Z)(this,e),this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return(0,h.Z)(e,[{key:"begin",value:function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY}},{key:"transform",value:function(t,n,r,i){var a=this.angle*N.degreesToRadians,o=t.x-this.worldX,s=t.y-this.worldY,u=Math.sqrt(o*o+s*s);if(u<this.radius){var l=e.interpolation.apply(0,a,(this.radius-u)/this.radius),c=Math.cos(l),h=Math.sin(l);t.x=c*o-h*s+this.worldX,t.y=h*o+c*s+this.worldY}}},{key:"end",value:function(){}}]),e}(),Ct=Pt;Ct.interpolation=new B(2);var It=function(){function e(t,n,r){if((0,c.Z)(this,e),null==t)throw new Error("name cannot be null.");if(null==n)throw new Error("timelines cannot be null.");this.name=t,this.timelines=n,this.duration=r}return(0,h.Z)(e,[{key:"apply",value:function(e,t,n,r,i,a,o,s){if(null==e)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,t>0&&(t%=this.duration));for(var u=this.timelines,l=0,c=u.length;l<c;l++)u[l].apply(e,t,n,i,a,o,s)}}],[{key:"binarySearch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=0,i=e.length/n-2;if(0==i)return n;for(var a=i>>>1;;){if(e[(a+1)*n]<=t?r=a+1:i=a,r==i)return(r+1)*n;a=r+i>>>1}}},{key:"linearSearch",value:function(e,t,n){for(var r=0,i=e.length-n;r<=i;r+=n)if(e[r]>t)return r;return-1}}]),e}(),Rt=function(e){return e[e.rotate=0]="rotate",e[e.translate=1]="translate",e[e.scale=2]="scale",e[e.shear=3]="shear",e[e.attachment=4]="attachment",e[e.color=5]="color",e[e.deform=6]="deform",e[e.event=7]="event",e[e.drawOrder=8]="drawOrder",e[e.ikConstraint=9]="ikConstraint",e[e.transformConstraint=10]="transformConstraint",e[e.pathConstraintPosition=11]="pathConstraintPosition",e[e.pathConstraintSpacing=12]="pathConstraintSpacing",e[e.pathConstraintMix=13]="pathConstraintMix",e[e.twoColor=14]="twoColor",e}(Rt||{}),Ot=function(){function e(t){if((0,c.Z)(this,e),t<=0)throw new Error("frameCount must be > 0: ".concat(t));this.curves=F.newFloatArray((t-1)*e.BEZIER_SIZE)}return(0,h.Z)(e,[{key:"getFrameCount",value:function(){return this.curves.length/e.BEZIER_SIZE+1}},{key:"setLinear",value:function(t){this.curves[t*e.BEZIER_SIZE]=e.LINEAR}},{key:"setStepped",value:function(t){this.curves[t*e.BEZIER_SIZE]=e.STEPPED}},{key:"getCurveType",value:function(t){var n=t*e.BEZIER_SIZE;if(n==this.curves.length)return e.LINEAR;var r=this.curves[n];return r==e.LINEAR?e.LINEAR:r==e.STEPPED?e.STEPPED:e.BEZIER}},{key:"setCurve",value:function(t,n,r,i,a){var o=.03*(2*-n+i),s=.03*(2*-r+a),u=.006*(3*(n-i)+1),l=.006*(3*(r-a)+1),c=2*o+u,h=2*s+l,f=.3*n+o+.16666667*u,d=.3*r+s+.16666667*l,p=t*e.BEZIER_SIZE,v=this.curves;v[p++]=e.BEZIER;for(var m=f,g=d,y=p+e.BEZIER_SIZE-1;p<y;p+=2)v[p]=m,v[p+1]=g,f+=c,d+=h,c+=u,h+=l,m+=f,g+=d}},{key:"getCurvePercent",value:function(t,n){n=N.clamp(n,0,1);var r=this.curves,i=t*e.BEZIER_SIZE,a=r[i];if(a==e.LINEAR)return n;if(a==e.STEPPED)return 0;for(var o=0,s=++i,u=i+e.BEZIER_SIZE-1;i<u;i+=2)if((o=r[i])>=n){var l=void 0,c=void 0;return i==s?(l=0,c=0):(l=r[i-2],c=r[i-1]),c+(r[i+1]-c)*(n-l)/(o-l)}var h=r[i-1];return h+(1-h)*(n-o)/(1-o)}}]),e}(),Lt=Ot;Lt.LINEAR=0,Lt.STEPPED=1,Lt.BEZIER=2,Lt.BEZIER_SIZE=19;var Nt=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e<<1),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return 0+this.boneIndex}},{key:"setFrame",value:function(e,t,r){e<<=1,this.frames[e]=t,this.frames[e+n.ROTATION]=r}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.bones[this.boneIndex];if(r<u[0])switch(o){case d.setup:return void(l.rotation=l.data.rotation);case d.first:var c=l.data.rotation-l.rotation;l.rotation+=(c-360*(16384-(16384.499999999996-c/360|0)))*a}else if(r>=u[u.length-n.ENTRIES]){var h=u[u.length+n.PREV_ROTATION];switch(o){case d.setup:l.rotation=l.data.rotation+h*a;break;case d.first:case d.replace:h+=l.data.rotation-l.rotation,h-=360*(16384-(16384.499999999996-h/360|0));case d.add:l.rotation+=h*a}}else{var f=It.binarySearch(u,r,n.ENTRIES),p=u[f+n.PREV_ROTATION],v=u[f],m=this.getCurvePercent((f>>1)-1,1-(r-v)/(u[f+n.PREV_TIME]-v)),g=u[f+n.ROTATION]-p;switch(g=p+(g-360*(16384-(16384.499999999996-g/360|0)))*m,o){case d.setup:l.rotation=l.data.rotation+(g-360*(16384-(16384.499999999996-g/360|0)))*a;break;case d.first:case d.replace:g+=l.data.rotation-l.rotation;case d.add:l.rotation+=(g-360*(16384-(16384.499999999996-g/360|0)))*a}}}}]),n}(Lt),Bt=Nt;Bt.ENTRIES=2,Bt.PREV_TIME=-2,Bt.PREV_ROTATION=-1,Bt.ROTATION=1;var Dt=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e*n.ENTRIES),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(1<<24)+this.boneIndex}},{key:"setFrame",value:function(e,t,r,i){e*=n.ENTRIES,this.frames[e]=t,this.frames[e+n.X]=r,this.frames[e+n.Y]=i}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.bones[this.boneIndex];if(r<u[0])switch(o){case d.setup:return l.x=l.data.x,void(l.y=l.data.y);case d.first:l.x+=(l.data.x-l.x)*a,l.y+=(l.data.y-l.y)*a}else{var c=0,h=0;if(r>=u[u.length-n.ENTRIES])c=u[u.length+n.PREV_X],h=u[u.length+n.PREV_Y];else{var f=It.binarySearch(u,r,n.ENTRIES);c=u[f+n.PREV_X],h=u[f+n.PREV_Y];var p=u[f],v=this.getCurvePercent(f/n.ENTRIES-1,1-(r-p)/(u[f+n.PREV_TIME]-p));c+=(u[f+n.X]-c)*v,h+=(u[f+n.Y]-h)*v}switch(o){case d.setup:l.x=l.data.x+c*a,l.y=l.data.y+h*a;break;case d.first:case d.replace:l.x+=(l.data.x+c-l.x)*a,l.y+=(l.data.y+h-l.y)*a;break;case d.add:l.x+=c*a,l.y+=h*a}}}}]),n}(Lt),Ft=Dt;Ft.ENTRIES=3,Ft.PREV_TIME=-3,Ft.PREV_X=-2,Ft.PREV_Y=-1,Ft.X=1,Ft.Y=2;var Zt=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e)}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(2<<24)+this.boneIndex}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.bones[this.boneIndex];if(r<u[0])switch(o){case d.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case d.first:l.scaleX+=(l.data.scaleX-l.scaleX)*a,l.scaleY+=(l.data.scaleY-l.scaleY)*a}else{var c=0,h=0;if(r>=u[u.length-n.ENTRIES])c=u[u.length+n.PREV_X]*l.data.scaleX,h=u[u.length+n.PREV_Y]*l.data.scaleY;else{var f=It.binarySearch(u,r,n.ENTRIES);c=u[f+n.PREV_X],h=u[f+n.PREV_Y];var v=u[f],m=this.getCurvePercent(f/n.ENTRIES-1,1-(r-v)/(u[f+n.PREV_TIME]-v));c=(c+(u[f+n.X]-c)*m)*l.data.scaleX,h=(h+(u[f+n.Y]-h)*m)*l.data.scaleY}if(1==a)o==d.add?(l.scaleX+=c-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=c,l.scaleY=h);else{var g=0,y=0;if(s==p.mixOut)switch(o){case d.setup:g=l.data.scaleX,y=l.data.scaleY,l.scaleX=g+(Math.abs(c)*N.signum(g)-g)*a,l.scaleY=y+(Math.abs(h)*N.signum(y)-y)*a;break;case d.first:case d.replace:g=l.scaleX,y=l.scaleY,l.scaleX=g+(Math.abs(c)*N.signum(g)-g)*a,l.scaleY=y+(Math.abs(h)*N.signum(y)-y)*a;break;case d.add:g=l.scaleX,y=l.scaleY,l.scaleX=g+(Math.abs(c)*N.signum(g)-l.data.scaleX)*a,l.scaleY=y+(Math.abs(h)*N.signum(y)-l.data.scaleY)*a}else switch(o){case d.setup:g=Math.abs(l.data.scaleX)*N.signum(c),y=Math.abs(l.data.scaleY)*N.signum(h),l.scaleX=g+(c-g)*a,l.scaleY=y+(h-y)*a;break;case d.first:case d.replace:g=Math.abs(l.scaleX)*N.signum(c),y=Math.abs(l.scaleY)*N.signum(h),l.scaleX=g+(c-g)*a,l.scaleY=y+(h-y)*a;break;case d.add:g=N.signum(c),y=N.signum(h),l.scaleX=Math.abs(l.scaleX)*g+(c-Math.abs(l.data.scaleX)*g)*a,l.scaleY=Math.abs(l.scaleY)*y+(h-Math.abs(l.data.scaleY)*y)*a}}}}}]),n}(Ft),Vt=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e)}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(3<<24)+this.boneIndex}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.bones[this.boneIndex];if(r<u[0])switch(o){case d.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case d.first:l.shearX+=(l.data.shearX-l.shearX)*a,l.shearY+=(l.data.shearY-l.shearY)*a}else{var c=0,h=0;if(r>=u[u.length-n.ENTRIES])c=u[u.length+n.PREV_X],h=u[u.length+n.PREV_Y];else{var f=It.binarySearch(u,r,n.ENTRIES);c=u[f+n.PREV_X],h=u[f+n.PREV_Y];var p=u[f],v=this.getCurvePercent(f/n.ENTRIES-1,1-(r-p)/(u[f+n.PREV_TIME]-p));c+=(u[f+n.X]-c)*v,h+=(u[f+n.Y]-h)*v}switch(o){case d.setup:l.shearX=l.data.shearX+c*a,l.shearY=l.data.shearY+h*a;break;case d.first:case d.replace:l.shearX+=(l.data.shearX+c-l.shearX)*a,l.shearY+=(l.data.shearY+h-l.shearY)*a;break;case d.add:l.shearX+=c*a,l.shearY+=h*a}}}}]),n}(Ft),jt=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e*n.ENTRIES),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(5<<24)+this.slotIndex}},{key:"setFrame",value:function(e,t,r,i,a,o){e*=n.ENTRIES,this.frames[e]=t,this.frames[e+n.R]=r,this.frames[e+n.G]=i,this.frames[e+n.B]=a,this.frames[e+n.A]=o}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=e.slots[this.slotIndex],l=this.frames;if(r<l[0])switch(o){case d.setup:return void u.color.setFromColor(u.data.color);case d.first:var c=u.color,h=u.data.color;c.add((h.r-c.r)*a,(h.g-c.g)*a,(h.b-c.b)*a,(h.a-c.a)*a)}else{var f=0,p=0,v=0,m=0;if(r>=l[l.length-n.ENTRIES]){var g=l.length;f=l[g+n.PREV_R],p=l[g+n.PREV_G],v=l[g+n.PREV_B],m=l[g+n.PREV_A]}else{var y=It.binarySearch(l,r,n.ENTRIES);f=l[y+n.PREV_R],p=l[y+n.PREV_G],v=l[y+n.PREV_B],m=l[y+n.PREV_A];var b=l[y],x=this.getCurvePercent(y/n.ENTRIES-1,1-(r-b)/(l[y+n.PREV_TIME]-b));f+=(l[y+n.R]-f)*x,p+=(l[y+n.G]-p)*x,v+=(l[y+n.B]-v)*x,m+=(l[y+n.A]-m)*x}if(1==a)u.color.set(f,p,v,m);else{var _=u.color;o==d.setup&&_.setFromColor(u.data.color),_.add((f-_.r)*a,(p-_.g)*a,(v-_.b)*a,(m-_.a)*a)}}}}]),n}(Lt),Ut=jt;Ut.ENTRIES=5,Ut.PREV_TIME=-5,Ut.PREV_R=-4,Ut.PREV_G=-3,Ut.PREV_B=-2,Ut.PREV_A=-1,Ut.R=1,Ut.G=2,Ut.B=3,Ut.A=4;var Yt=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e*n.ENTRIES),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(14<<24)+this.slotIndex}},{key:"setFrame",value:function(e,t,r,i,a,o,s,u,l){e*=n.ENTRIES,this.frames[e]=t,this.frames[e+n.R]=r,this.frames[e+n.G]=i,this.frames[e+n.B]=a,this.frames[e+n.A]=o,this.frames[e+n.R2]=s,this.frames[e+n.G2]=u,this.frames[e+n.B2]=l}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=e.slots[this.slotIndex],l=this.frames;if(r<l[0])switch(o){case d.setup:return u.color.setFromColor(u.data.color),void u.darkColor.setFromColor(u.data.darkColor);case d.first:var c=u.color,h=u.darkColor,f=u.data.color,p=u.data.darkColor;c.add((f.r-c.r)*a,(f.g-c.g)*a,(f.b-c.b)*a,(f.a-c.a)*a),h.add((p.r-h.r)*a,(p.g-h.g)*a,(p.b-h.b)*a,0)}else{var v=0,m=0,g=0,y=0,b=0,x=0,_=0;if(r>=l[l.length-n.ENTRIES]){var w=l.length;v=l[w+n.PREV_R],m=l[w+n.PREV_G],g=l[w+n.PREV_B],y=l[w+n.PREV_A],b=l[w+n.PREV_R2],x=l[w+n.PREV_G2],_=l[w+n.PREV_B2]}else{var k=It.binarySearch(l,r,n.ENTRIES);v=l[k+n.PREV_R],m=l[k+n.PREV_G],g=l[k+n.PREV_B],y=l[k+n.PREV_A],b=l[k+n.PREV_R2],x=l[k+n.PREV_G2],_=l[k+n.PREV_B2];var E=l[k],T=this.getCurvePercent(k/n.ENTRIES-1,1-(r-E)/(l[k+n.PREV_TIME]-E));v+=(l[k+n.R]-v)*T,m+=(l[k+n.G]-m)*T,g+=(l[k+n.B]-g)*T,y+=(l[k+n.A]-y)*T,b+=(l[k+n.R2]-b)*T,x+=(l[k+n.G2]-x)*T,_+=(l[k+n.B2]-_)*T}if(1==a)u.color.set(v,m,g,y),u.darkColor.set(b,x,_,1);else{var S=u.color,A=u.darkColor;o==d.setup&&(S.setFromColor(u.data.color),A.setFromColor(u.data.darkColor)),S.add((v-S.r)*a,(m-S.g)*a,(g-S.b)*a,(y-S.a)*a),A.add((b-A.r)*a,(x-A.g)*a,(_-A.b)*a,0)}}}}]),n}(Lt),Xt=Yt;Xt.ENTRIES=8,Xt.PREV_TIME=-8,Xt.PREV_R=-7,Xt.PREV_G=-6,Xt.PREV_B=-5,Xt.PREV_A=-4,Xt.PREV_R2=-3,Xt.PREV_G2=-2,Xt.PREV_B2=-1,Xt.R=1,Xt.G=2,Xt.B=3,Xt.A=4,Xt.R2=5,Xt.G2=6,Xt.B2=7;var Gt=function(){function e(t){(0,c.Z)(this,e),this.frames=F.newFloatArray(t),this.attachmentNames=new Array(t)}return(0,h.Z)(e,[{key:"getPropertyId",value:function(){return(4<<24)+this.slotIndex}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.attachmentNames[e]=n}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.slots[this.slotIndex];if(o!=p.mixOut||a!=d.setup){var u=this.frames;if(n<u[0]){if(a==d.setup||a==d.first){var l=s.data.attachmentName;s.setAttachment(null==l?null:e.getAttachment(this.slotIndex,l))}}else{var c=0;c=n>=u[u.length-1]?u.length-1:It.binarySearch(u,n,1)-1;var h=this.attachmentNames[c];e.slots[this.slotIndex].setAttachment(null==h?null:e.getAttachment(this.slotIndex,h))}}else{var f=s.data.attachmentName;s.setAttachment(null==f?null:e.getAttachment(this.slotIndex,f))}}}]),e}(),Wt=null,Ht=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e),r.frameVertices=new Array(e),null==Wt&&(Wt=F.newFloatArray(64)),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(6<<27)+Number(this.attachment.id)+this.slotIndex}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.frameVertices[e]=n}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.slots[this.slotIndex],u=s.getAttachment();if(u instanceof bt&&u.applyDeform(this.attachment)){var l=s.attachmentVertices;0==l.length&&(a=d.setup);var c=this.frameVertices,h=c[0].length,f=this.frames;if(n<f[0]){var p=u;switch(a){case d.setup:return void(l.length=0);case d.first:if(1==i){l.length=0;break}var v=F.setArraySize(l,h);if(null==p.bones)for(var m=p.vertices,g=0;g<h;g++)v[g]+=(m[g]-v[g])*i;else{i=1-i;for(var y=0;y<h;y++)v[y]*=i}}}else{var b=F.setArraySize(l,h);if(n>=f[f.length-1]){var x=c[f.length-1];if(1==i)if(a==d.add){var _=u;if(null==_.bones)for(var w=_.vertices,k=0;k<h;k++)b[k]+=x[k]-w[k];else for(var E=0;E<h;E++)b[E]+=x[E]}else F.arrayCopy(x,0,b,0,h);else switch(a){case d.setup:var T=u;if(null==T.bones)for(var S=T.vertices,A=0;A<h;A++){var M=S[A];b[A]=M+(x[A]-M)*i}else for(var P=0;P<h;P++)b[P]=x[P]*i;break;case d.first:case d.replace:for(var C=0;C<h;C++)b[C]+=(x[C]-b[C])*i;case d.add:var I=u;if(null==I.bones)for(var R=I.vertices,O=0;O<h;O++)b[O]+=(x[O]-R[O])*i;else for(var L=0;L<h;L++)b[L]+=x[L]*i}}else{var N=It.binarySearch(f,n),B=c[N-1],D=c[N],Z=f[N],V=this.getCurvePercent(N-1,1-(n-Z)/(f[N-1]-Z));if(1==i)if(a==d.add){var j=u;if(null==j.bones)for(var U=j.vertices,Y=0;Y<h;Y++){var X=B[Y];b[Y]+=X+(D[Y]-X)*V-U[Y]}else for(var G=0;G<h;G++){var W=B[G];b[G]+=W+(D[G]-W)*V}}else for(var H=0;H<h;H++){var z=B[H];b[H]=z+(D[H]-z)*V}else switch(a){case d.setup:var q=u;if(null==q.bones)for(var $=q.vertices,K=0;K<h;K++){var J=B[K],Q=$[K];b[K]=Q+(J+(D[K]-J)*V-Q)*i}else for(var ee=0;ee<h;ee++){var te=B[ee];b[ee]=(te+(D[ee]-te)*V)*i}break;case d.first:case d.replace:for(var ne=0;ne<h;ne++){var re=B[ne];b[ne]+=(re+(D[ne]-re)*V-b[ne])*i}break;case d.add:var ie=u;if(null==ie.bones)for(var ae=ie.vertices,oe=0;oe<h;oe++){var se=B[oe];b[oe]+=(se+(D[oe]-se)*V-ae[oe])*i}else for(var ue=0;ue<h;ue++){var le=B[ue];b[ue]+=(le+(D[ue]-le)*V)*i}}}}}}}]),n}(Lt),zt=function(){function e(t){(0,c.Z)(this,e),this.frames=F.newFloatArray(t),this.events=new Array(t)}return(0,h.Z)(e,[{key:"getPropertyId",value:function(){return 7<<24}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t){this.frames[e]=t.time,this.events[e]=t}},{key:"apply",value:function(e,t,n,r,i,a,o){if(null!=r){var s=this.frames,u=this.frames.length;if(t>n)this.apply(e,t,Number.MAX_VALUE,r,i,a,o),t=-1;else if(t>=s[u-1])return;if(!(n<s[0])){var l=0;if(t<s[0])l=0;else for(var c=s[l=It.binarySearch(s,t)];l>0&&s[l-1]==c;)l--;for(;l<u&&n>=s[l];l++)r.push(this.events[l])}}}}]),e}(),qt=function(){function e(t){(0,c.Z)(this,e),this.frames=F.newFloatArray(t),this.drawOrders=new Array(t)}return(0,h.Z)(e,[{key:"getPropertyId",value:function(){return 8<<24}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.drawOrders[e]=n}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.drawOrder,u=e.slots;if(o!=p.mixOut||a!=d.setup){var l=this.frames;if(n<l[0])a!=d.setup&&a!=d.first||F.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var c=0;c=n>=l[l.length-1]?l.length-1:It.binarySearch(l,n)-1;var h=this.drawOrders[c];if(null==h)F.arrayCopy(u,0,s,0,u.length);else for(var f=0,v=h.length;f<v;f++)s[f]=u[h[f]]}}else F.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length)}}]),e}(),$t=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e*n.ENTRIES),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(9<<24)+this.ikConstraintIndex}},{key:"setFrame",value:function(e,t,r,i,a,o){e*=n.ENTRIES,this.frames[e]=t,this.frames[e+n.MIX]=r,this.frames[e+n.BEND_DIRECTION]=i,this.frames[e+n.COMPRESS]=a?1:0,this.frames[e+n.STRETCH]=o?1:0}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.ikConstraints[this.ikConstraintIndex];if(r<u[0])switch(o){case d.setup:return l.mix=l.data.mix,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,void(l.stretch=l.data.stretch);case d.first:l.mix+=(l.data.mix-l.mix)*a,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}else if(r>=u[u.length-n.ENTRIES])o==d.setup?(l.mix=l.data.mix+(u[u.length+n.PREV_MIX]-l.data.mix)*a,s==p.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[u.length+n.PREV_BEND_DIRECTION],l.compress=0!=u[u.length+n.PREV_COMPRESS],l.stretch=0!=u[u.length+n.PREV_STRETCH])):(l.mix+=(u[u.length+n.PREV_MIX]-l.mix)*a,s==p.mixIn&&(l.bendDirection=u[u.length+n.PREV_BEND_DIRECTION],l.compress=0!=u[u.length+n.PREV_COMPRESS],l.stretch=0!=u[u.length+n.PREV_STRETCH]));else{var c=It.binarySearch(u,r,n.ENTRIES),h=u[c+n.PREV_MIX],f=u[c],v=this.getCurvePercent(c/n.ENTRIES-1,1-(r-f)/(u[c+n.PREV_TIME]-f));o==d.setup?(l.mix=l.data.mix+(h+(u[c+n.MIX]-h)*v-l.data.mix)*a,s==p.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[c+n.PREV_BEND_DIRECTION],l.compress=0!=u[c+n.PREV_COMPRESS],l.stretch=0!=u[c+n.PREV_STRETCH])):(l.mix+=(h+(u[c+n.MIX]-h)*v-l.mix)*a,s==p.mixIn&&(l.bendDirection=u[c+n.PREV_BEND_DIRECTION],l.compress=0!=u[c+n.PREV_COMPRESS],l.stretch=0!=u[c+n.PREV_STRETCH]))}}}]),n}(Lt),Kt=$t;Kt.ENTRIES=5,Kt.PREV_TIME=-5,Kt.PREV_MIX=-4,Kt.PREV_BEND_DIRECTION=-3,Kt.PREV_COMPRESS=-2,Kt.PREV_STRETCH=-1,Kt.MIX=1,Kt.BEND_DIRECTION=2,Kt.COMPRESS=3,Kt.STRETCH=4;var Jt=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e*n.ENTRIES),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(10<<24)+this.transformConstraintIndex}},{key:"setFrame",value:function(e,t,r,i,a,o){e*=n.ENTRIES,this.frames[e]=t,this.frames[e+n.ROTATE]=r,this.frames[e+n.TRANSLATE]=i,this.frames[e+n.SCALE]=a,this.frames[e+n.SHEAR]=o}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.transformConstraints[this.transformConstraintIndex];if(r<u[0]){var c=l.data;switch(o){case d.setup:return l.rotateMix=c.rotateMix,l.translateMix=c.translateMix,l.scaleMix=c.scaleMix,void(l.shearMix=c.shearMix);case d.first:l.rotateMix+=(c.rotateMix-l.rotateMix)*a,l.translateMix+=(c.translateMix-l.translateMix)*a,l.scaleMix+=(c.scaleMix-l.scaleMix)*a,l.shearMix+=(c.shearMix-l.shearMix)*a}}else{var h=0,f=0,p=0,v=0;if(r>=u[u.length-n.ENTRIES]){var m=u.length;h=u[m+n.PREV_ROTATE],f=u[m+n.PREV_TRANSLATE],p=u[m+n.PREV_SCALE],v=u[m+n.PREV_SHEAR]}else{var g=It.binarySearch(u,r,n.ENTRIES);h=u[g+n.PREV_ROTATE],f=u[g+n.PREV_TRANSLATE],p=u[g+n.PREV_SCALE],v=u[g+n.PREV_SHEAR];var y=u[g],b=this.getCurvePercent(g/n.ENTRIES-1,1-(r-y)/(u[g+n.PREV_TIME]-y));h+=(u[g+n.ROTATE]-h)*b,f+=(u[g+n.TRANSLATE]-f)*b,p+=(u[g+n.SCALE]-p)*b,v+=(u[g+n.SHEAR]-v)*b}if(o==d.setup){var x=l.data;l.rotateMix=x.rotateMix+(h-x.rotateMix)*a,l.translateMix=x.translateMix+(f-x.translateMix)*a,l.scaleMix=x.scaleMix+(p-x.scaleMix)*a,l.shearMix=x.shearMix+(v-x.shearMix)*a}else l.rotateMix+=(h-l.rotateMix)*a,l.translateMix+=(f-l.translateMix)*a,l.scaleMix+=(p-l.scaleMix)*a,l.shearMix+=(v-l.shearMix)*a}}}]),n}(Lt),Qt=Jt;Qt.ENTRIES=5,Qt.PREV_TIME=-5,Qt.PREV_ROTATE=-4,Qt.PREV_TRANSLATE=-3,Qt.PREV_SCALE=-2,Qt.PREV_SHEAR=-1,Qt.ROTATE=1,Qt.TRANSLATE=2,Qt.SCALE=3,Qt.SHEAR=4;var en=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e*n.ENTRIES),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(11<<24)+this.pathConstraintIndex}},{key:"setFrame",value:function(e,t,r){e*=n.ENTRIES,this.frames[e]=t,this.frames[e+n.VALUE]=r}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(r<u[0])switch(o){case d.setup:return void(l.position=l.data.position);case d.first:l.position+=(l.data.position-l.position)*a}else{var c=0;if(r>=u[u.length-n.ENTRIES])c=u[u.length+n.PREV_VALUE];else{var h=It.binarySearch(u,r,n.ENTRIES);c=u[h+n.PREV_VALUE];var f=u[h],p=this.getCurvePercent(h/n.ENTRIES-1,1-(r-f)/(u[h+n.PREV_TIME]-f));c+=(u[h+n.VALUE]-c)*p}o==d.setup?l.position=l.data.position+(c-l.data.position)*a:l.position+=(c-l.position)*a}}}]),n}(Lt),tn=en;tn.ENTRIES=2,tn.PREV_TIME=-2,tn.PREV_VALUE=-1,tn.VALUE=1;var nn=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e)}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(12<<24)+this.pathConstraintIndex}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(r<u[0])switch(o){case d.setup:return void(l.spacing=l.data.spacing);case d.first:l.spacing+=(l.data.spacing-l.spacing)*a}else{var c=0;if(r>=u[u.length-n.ENTRIES])c=u[u.length+n.PREV_VALUE];else{var h=It.binarySearch(u,r,n.ENTRIES);c=u[h+n.PREV_VALUE];var f=u[h],p=this.getCurvePercent(h/n.ENTRIES-1,1-(r-f)/(u[h+n.PREV_TIME]-f));c+=(u[h+n.VALUE]-c)*p}o==d.setup?l.spacing=l.data.spacing+(c-l.data.spacing)*a:l.spacing+=(c-l.spacing)*a}}}]),n}(tn),rn=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).frames=F.newFloatArray(e*n.ENTRIES),r}return(0,h.Z)(n,[{key:"getPropertyId",value:function(){return(13<<24)+this.pathConstraintIndex}},{key:"setFrame",value:function(e,t,r,i){e*=n.ENTRIES,this.frames[e]=t,this.frames[e+n.ROTATE]=r,this.frames[e+n.TRANSLATE]=i}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(r<u[0])switch(o){case d.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case d.first:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*a,l.translateMix+=(l.data.translateMix-l.translateMix)*a}else{var c=0,h=0;if(r>=u[u.length-n.ENTRIES])c=u[u.length+n.PREV_ROTATE],h=u[u.length+n.PREV_TRANSLATE];else{var f=It.binarySearch(u,r,n.ENTRIES);c=u[f+n.PREV_ROTATE],h=u[f+n.PREV_TRANSLATE];var p=u[f],v=this.getCurvePercent(f/n.ENTRIES-1,1-(r-p)/(u[f+n.PREV_TIME]-p));c+=(u[f+n.ROTATE]-c)*v,h+=(u[f+n.TRANSLATE]-h)*v}o==d.setup?(l.rotateMix=l.data.rotateMix+(c-l.data.rotateMix)*a,l.translateMix=l.data.translateMix+(h-l.data.translateMix)*a):(l.rotateMix+=(c-l.rotateMix)*a,l.translateMix+=(h-l.translateMix)*a)}}}]),n}(Lt),an=rn;an.ENTRIES=3,an.PREV_TIME=-3,an.PREV_ROTATE=-2,an.PREV_TRANSLATE=-1,an.ROTATE=1,an.TRANSLATE=2;var on=function(){function e(t){(0,c.Z)(this,e),this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new hn(this),this.propertyIDs=new C,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new Z((function(){return new ln})),this.data=t}return(0,h.Z)(e,[{key:"update",value:function(e){e*=this.timeScale;for(var t=this.tracks,n=0,r=t.length;n<r;n++){var i=t[n];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var a=e*i.timeScale;if(i.delay>0){if(i.delay-=a,i.delay>0)continue;a=-i.delay,i.delay=0}var o=i.next;if(null!=o){var s=i.trackLast-o.delay;if(s>=0){for(o.delay=0,o.trackTime=0==i.timeScale?0:(s/i.timeScale+e)*o.timeScale,i.trackTime+=a,this.setCurrent(n,o,!0);null!=o.mixingFrom;)o.mixTime+=e,o=o.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){t[n]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,e)){var u=i.mixingFrom;for(i.mixingFrom=null,null!=u&&(u.mixingTo=null);null!=u;)this.queue.end(u),u=u.mixingFrom}i.trackTime+=a}}this.queue.drain()}},{key:"updateMixingFrom",value:function(e,t){var n=e.mixingFrom;if(null==n)return!0;var r=this.updateMixingFrom(n,t);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?(0!=n.totalAlpha&&0!=e.mixDuration||(e.mixingFrom=n.mixingFrom,null!=n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),r):(n.trackTime+=t*n.timeScale,e.mixTime+=t,!1)}},{key:"apply",value:function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var n=this.events,r=this.tracks,i=!1,a=0,o=r.length;a<o;a++){var s=r[a];if(!(null==s||s.delay>0)){i=!0;var u=0==a?d.first:s.mixBlend,l=s.alpha;null!=s.mixingFrom?l*=this.applyMixingFrom(s,t,u):s.trackTime>=s.trackEnd&&null==s.next&&(l=0);var c=s.animationLast,h=s.getAnimationTime(),f=s.animation.timelines.length,v=s.animation.timelines;if(0==a&&1==l||u==d.add)for(var m=0;m<f;m++)F.webkit602BugfixHelper(l,u),v[m].apply(t,c,h,n,l,u,p.mixIn);else{var g=s.timelineMode,y=0==s.timelinesRotation.length;y&&F.setArraySize(s.timelinesRotation,f<<1,null);for(var b=s.timelinesRotation,x=0;x<f;x++){var _=v[x],w=g[x]==e.SUBSEQUENT?u:d.setup;_ instanceof Bt?this.applyRotateTimeline(_,t,h,l,w,b,x<<1,y):(F.webkit602BugfixHelper(l,u),_.apply(t,c,h,n,l,w,p.mixIn))}}this.queueEvents(s,h),n.length=0,s.nextAnimationLast=h,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i}},{key:"applyMixingFrom",value:function(t,n,r){var i=t.mixingFrom;null!=i.mixingFrom&&this.applyMixingFrom(i,n,r);var a=0;0==t.mixDuration?(a=1,r==d.first&&(r=d.setup)):((a=t.mixTime/t.mixDuration)>1&&(a=1),r!=d.first&&(r=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,u=a<i.drawOrderThreshold,l=i.animationLast,c=i.getAnimationTime(),h=i.animation.timelines.length,f=i.animation.timelines,v=i.alpha*t.interruptAlpha,m=v*(1-a);if(r==d.add)for(var g=0;g<h;g++)f[g].apply(n,l,c,o,m,r,p.mixOut);else{var y=i.timelineMode,b=i.timelineHoldMix,x=0==i.timelinesRotation.length;x&&F.setArraySize(i.timelinesRotation,h<<1,null);var _=i.timelinesRotation;i.totalAlpha=0;for(var w=0;w<h;w++){var k=f[w],E=p.mixOut,T=void 0,S=0;switch(y[w]){case e.SUBSEQUENT:if(!s&&k instanceof Gt)continue;if(!u&&k instanceof qt)continue;T=r,S=m;break;case e.FIRST:T=d.setup,S=m;break;case e.HOLD:T=d.setup,S=v;break;default:T=d.setup;var A=b[w];S=v*Math.max(0,1-A.mixTime/A.mixDuration)}i.totalAlpha+=S,k instanceof Bt?this.applyRotateTimeline(k,n,c,S,T,_,w<<1,x):(F.webkit602BugfixHelper(S,r),T==d.setup&&(k instanceof Gt?s&&(E=p.mixOut):k instanceof qt&&u&&(E=p.mixOut)),k.apply(n,l,c,o,S,T,E))}}return t.mixDuration>0&&this.queueEvents(i,c),this.events.length=0,i.nextAnimationLast=c,i.nextTrackLast=i.trackTime,a}},{key:"applyRotateTimeline",value:function(e,t,n,r,i,a,o,s){if(s&&(a[o]=0),1!=r){var u=e,l=u.frames,c=t.bones[u.boneIndex],h=0,f=0;if(n<l[0])switch(i){case d.setup:c.rotation=c.data.rotation;default:return;case d.first:h=c.rotation,f=c.data.rotation}else if(h=i==d.setup?c.data.rotation:c.rotation,n>=l[l.length-Bt.ENTRIES])f=c.data.rotation+l[l.length+Bt.PREV_ROTATION];else{var v=It.binarySearch(l,n,Bt.ENTRIES),m=l[v+Bt.PREV_ROTATION],g=l[v],y=u.getCurvePercent((v>>1)-1,1-(n-g)/(l[v+Bt.PREV_TIME]-g));f=l[v+Bt.ROTATION]-m,f=m+(f-=360*(16384-(16384.499999999996-f/360|0)))*y+c.data.rotation,f-=360*(16384-(16384.499999999996-f/360|0))}var b=0,x=f-h;if(0==(x-=360*(16384-(16384.499999999996-x/360|0))))b=a[o];else{var _=0,w=0;s?(_=0,w=x):(_=a[o],w=a[o+1]);var k=x>0,E=_>=0;N.signum(w)!=N.signum(x)&&Math.abs(w)<=90&&(Math.abs(_)>180&&(_+=360*N.signum(_)),E=k),b=x+_-_%360,E!=k&&(b+=360*N.signum(_)),a[o]=b}a[o+1]=x,h+=b*r,c.rotation=h-360*(16384-(16384.499999999996-h/360|0))}else e.apply(t,0,n,null,1,i,p.mixIn)}},{key:"queueEvents",value:function(e,t){for(var n=e.animationStart,r=e.animationEnd,i=r-n,a=e.trackLast%i,o=this.events,s=0,u=o.length;s<u;s++){var l=o[s];if(l.time<a)break;l.time>r||this.queue.event(e,l)}for((e.loop?0==i||a>e.trackTime%i:t>=r&&e.animationLast<r)&&this.queue.complete(e);s<u;s++){o[s].time<n||this.queue.event(e,o[s])}}},{key:"clearTracks",value:function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var t=0,n=this.tracks.length;t<n;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()}},{key:"clearTrack",value:function(e){if(!(e>=this.tracks.length)){var t=this.tracks[e];if(null!=t){this.queue.end(t),this.disposeNext(t);for(var n=t;;){var r=n.mixingFrom;if(null==r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[t.trackIndex]=null,this.queue.drain()}}}},{key:"setCurrent",value:function(e,t,n){var r=this.expandToIndex(e);this.tracks[e]=t,null!=r&&(n&&this.queue.interrupt(r),t.mixingFrom=r,r.mixingTo=t,t.mixTime=0,null!=r.mixingFrom&&r.mixDuration>0&&(t.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(t)}},{key:"setAnimation",value:function(e,t,n){var r=this.data.skeletonData.findAnimation(t);if(null==r)throw new Error("Animation not found: ".concat(t));return this.setAnimationWith(e,r,n)}},{key:"setAnimationWith",value:function(e,t,n){if(null==t)throw new Error("animation cannot be null.");var r=!0,i=this.expandToIndex(e);null!=i&&(-1==i.nextTrackLast?(this.tracks[e]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,r=!1):this.disposeNext(i));var a=this.trackEntry(e,t,n,i);return this.setCurrent(e,a,r),this.queue.drain(),a}},{key:"addAnimation",value:function(e,t,n,r){var i=this.data.skeletonData.findAnimation(t);if(null==i)throw new Error("Animation not found: ".concat(t));return this.addAnimationWith(e,i,n,r)}},{key:"addAnimationWith",value:function(e,t,n,r){if(null==t)throw new Error("animation cannot be null.");var i=this.expandToIndex(e);if(null!=i)for(;null!=i.next;)i=i.next;var a=this.trackEntry(e,t,n,i);if(null==i)this.setCurrent(e,a,!0),this.queue.drain();else if(i.next=a,r<=0){var o=i.animationEnd-i.animationStart;0!=o?(i.loop?r+=o*(1+(i.trackTime/o|0)):r+=Math.max(o,i.trackTime),r-=this.data.getMix(i.animation,t)):r=i.trackTime}return a.delay=r,a}},{key:"setEmptyAnimation",value:function(t,n){var r=this.setAnimationWith(t,e.emptyAnimation,!1);return r.mixDuration=n,r.trackEnd=n,r}},{key:"addEmptyAnimation",value:function(t,n,r){r<=0&&(r-=n);var i=this.addAnimationWith(t,e.emptyAnimation,!1,r);return i.mixDuration=n,i.trackEnd=n,i}},{key:"setEmptyAnimations",value:function(e){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];null!=i&&this.setEmptyAnimation(i.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()}},{key:"expandToIndex",value:function(e){return e<this.tracks.length?this.tracks[e]:(F.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)}},{key:"trackEntry",value:function(e,t,n,r){var i=this.trackEntryPool.obtain();return i.trackIndex=e,i.animation=t,i.loop=n,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=t.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=null==r?0:this.data.getMix(r.animation,t),i}},{key:"disposeNext",value:function(e){for(var t=e.next;null!=t;)this.queue.dispose(t),t=t.next;e.next=null}},{key:"_animationsChanged",value:function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,t=this.tracks.length;e<t;e++){var n=this.tracks[e];if(null!=n){for(;null!=n.mixingFrom;)n=n.mixingFrom;do{null!=n.mixingFrom&&n.mixBlend==d.add||this.setTimelineModes(n),n=n.mixingTo}while(null!=n)}}}},{key:"setTimelineModes",value:function(t){var n=t.mixingTo,r=t.animation.timelines,i=t.animation.timelines.length,a=F.setArraySize(t.timelineMode,i);t.timelineHoldMix.length=0;var o=F.setArraySize(t.timelineHoldMix,i),s=this.propertyIDs;if(null!=n&&n.holdPrevious)for(var u=0;u<i;u++)s.add(r[u].getPropertyId()),a[u]=e.HOLD;else e:for(var l=0;l<i;l++){var c=r[l].getPropertyId();if(s.add(c))if(null!=n&&this.hasTimeline(n,c)){for(var h=n.mixingTo;null!=h;h=h.mixingTo)if(!this.hasTimeline(h,c)){if(t.mixDuration>0){a[l]=e.HOLD_MIX,o[l]=h;continue e}break}a[l]=e.HOLD}else a[l]=e.FIRST;else a[l]=e.SUBSEQUENT}}},{key:"hasTimeline",value:function(e,t){for(var n=e.animation.timelines,r=0,i=n.length;r<i;r++)if(n[r].getPropertyId()==t)return!0;return!1}},{key:"getCurrent",value:function(e){return e>=this.tracks.length?null:this.tracks[e]}},{key:"addListener",value:function(e){if(null==e)throw new Error("listener cannot be null.");this.listeners.push(e)}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}},{key:"clearListeners",value:function(){this.listeners.length=0}},{key:"clearListenerNotifications",value:function(){this.queue.clear()}},{key:"setAnimationByName",value:function(t,n,r){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,n,r)}},{key:"addAnimationByName",value:function(t,n,r,i){e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,n,r,i)}},{key:"hasAnimation",value:function(e){return null!==this.data.skeletonData.findAnimation(e)}},{key:"hasAnimationByName",value:function(t){return e.deprecatedWarning3||(e.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)}}]),e}(),sn=on;sn.emptyAnimation=new It("<empty>",[],0),sn.SUBSEQUENT=0,sn.FIRST=1,sn.HOLD=2,sn.HOLD_MIX=3,sn.deprecatedWarning1=!1,sn.deprecatedWarning2=!1,sn.deprecatedWarning3=!1;var un=function(){function e(){(0,c.Z)(this,e),this.mixBlend=d.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return(0,h.Z)(e,[{key:"reset",value:function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}},{key:"getAnimationTime",value:function(){if(this.loop){var e=this.animationEnd-this.animationStart;return 0==e?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}},{key:"setAnimationLast",value:function(e){this.animationLast=e,this.nextAnimationLast=e}},{key:"isComplete",value:function(){return this.trackTime>=this.animationEnd-this.animationStart}},{key:"resetRotationDirections",value:function(){this.timelinesRotation.length=0}},{key:"time",get:function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t}},{key:"endTime",get:function(){return e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t}},{key:"loopsCount",value:function(){return Math.floor(this.trackTime/this.trackEnd)}}]),e}(),ln=un;ln.deprecatedWarning1=!1,ln.deprecatedWarning2=!1;var cn=function(){function e(t){(0,c.Z)(this,e),this.objects=[],this.drainDisabled=!1,this.animState=t}return(0,h.Z)(e,[{key:"start",value:function(e){this.objects.push(fn.start),this.objects.push(e),this.animState.animationsChanged=!0}},{key:"interrupt",value:function(e){this.objects.push(fn.interrupt),this.objects.push(e)}},{key:"end",value:function(e){this.objects.push(fn.end),this.objects.push(e),this.animState.animationsChanged=!0}},{key:"dispose",value:function(e){this.objects.push(fn.dispose),this.objects.push(e)}},{key:"complete",value:function(e){this.objects.push(fn.complete),this.objects.push(e)}},{key:"event",value:function(e,t){this.objects.push(fn.event),this.objects.push(e),this.objects.push(t)}},{key:"deprecateStuff",value:function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0}},{key:"drain",value:function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,t=this.animState.listeners,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];switch(r){case fn.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var a=0;a<t.length;a++)t[a].start&&t[a].start(i);i.onStart&&this.deprecateStuff()&&i.onStart(i.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(i.trackIndex);break;case fn.interrupt:null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(var o=0;o<t.length;o++)t[o].interrupt&&t[o].interrupt(i);break;case fn.end:null!=i.listener&&i.listener.end&&i.listener.end(i);for(var s=0;s<t.length;s++)t[s].end&&t[s].end(i);i.onEnd&&this.deprecateStuff()&&i.onEnd(i.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(i.trackIndex);case fn.dispose:null!=i.listener&&i.listener.dispose&&i.listener.dispose(i);for(var u=0;u<t.length;u++)t[u].dispose&&t[u].dispose(i);this.animState.trackEntryPool.free(i);break;case fn.complete:null!=i.listener&&i.listener.complete&&i.listener.complete(i);for(var l=0;l<t.length;l++)t[l].complete&&t[l].complete(i);var c=N.toInt(i.loopsCount());i.onComplete&&this.deprecateStuff()&&i.onComplete(i.trackIndex,c),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(i.trackIndex,c);break;case fn.event:var h=e[2+n++];null!=i.listener&&i.listener.event&&i.listener.event(i,h);for(var f=0;f<t.length;f++)t[f].event&&t[f].event(i,h);i.onEvent&&this.deprecateStuff()&&i.onEvent(i.trackIndex,h),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(i.trackIndex,h)}}this.clear(),this.drainDisabled=!1}}},{key:"clear",value:function(){this.objects.length=0}}]),e}(),hn=cn;hn.deprecatedWarning1=!1;var fn=function(e){return e[e.start=0]="start",e[e.interrupt=1]="interrupt",e[e.end=2]="end",e[e.dispose=3]="dispose",e[e.complete=4]="complete",e[e.event=5]="event",e}(fn||{}),dn=function(){function e(){(0,c.Z)(this,e)}return(0,h.Z)(e,[{key:"start",value:function(e){}},{key:"interrupt",value:function(e){}},{key:"end",value:function(e){}},{key:"dispose",value:function(e){}},{key:"complete",value:function(e){}},{key:"event",value:function(e,t){}}]),e}(),pn=function(){function e(t){if((0,c.Z)(this,e),this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return(0,h.Z)(e,[{key:"setMix",value:function(e,t,n){var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: ".concat(e));var i=this.skeletonData.findAnimation(t);if(null==i)throw new Error("Animation not found: ".concat(t));this.setMixWith(r,i,n)}},{key:"setMixByName",value:function(t,n,r){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(t,n,r)}},{key:"setMixWith",value:function(e,t,n){if(null==e)throw new Error("from cannot be null.");if(null==t)throw new Error("to cannot be null.");var r="".concat(e.name,".").concat(t.name);this.animationToMixTime[r]=n}},{key:"getMix",value:function(e,t){var n="".concat(e.name,".").concat(t.name),r=this.animationToMixTime[n];return void 0===r?this.defaultMix:r}}]),e}(),vn=pn;vn.deprecatedWarning1=!1;var mn=function(){function e(t){(0,c.Z)(this,e),this.atlas=t}return(0,h.Z)(e,[{key:"newRegionAttachment",value:function(e,t,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: ".concat(n," (region attachment: ").concat(t,")"));var i=new At(t);return i.region=r,i}},{key:"newMeshAttachment",value:function(e,t,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: ".concat(n," (mesh attachment: ").concat(t,")"));var i=new wt(t);return i.region=r,i}},{key:"newBoundingBoxAttachment",value:function(e,t){return new xt(t)}},{key:"newPathAttachment",value:function(e,t){return new kt(t)}},{key:"newPointAttachment",value:function(e,t){return new Et(t)}},{key:"newClippingAttachment",value:function(e,t){return new _t(t)}}]),e}(),gn=function(){function e(t,n,r){if((0,c.Z)(this,e),this.matrix=new x.y3,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,null==t)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=n,this.parent=r,this.setToSetupPose()}return(0,h.Z)(e,[{key:"worldX",get:function(){return this.matrix.tx}},{key:"worldY",get:function(){return this.matrix.ty}},{key:"update",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransform",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransformWith",value:function(e,t,n,r,i,a,o){this.ax=e,this.ay=t,this.arotation=n,this.ascaleX=r,this.ascaleY=i,this.ashearX=a,this.ashearY=o,this.appliedValid=!0;var s=this.parent,u=this.matrix,l=this.skeleton.scaleX,c=U?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==s){var h=this.skeleton,f=n+90+o;return u.a=N.cosDeg(n+a)*r*l,u.c=N.cosDeg(f)*i*l,u.b=N.sinDeg(n+a)*r*c,u.d=N.sinDeg(f)*i*c,u.tx=e*l+h.x,void(u.ty=t*c+h.y)}var d=s.matrix.a,p=s.matrix.c,v=s.matrix.b,m=s.matrix.d;switch(u.tx=d*e+p*t+s.matrix.tx,u.ty=v*e+m*t+s.matrix.ty,this.data.transformMode){case g.Normal:var y=n+90+o,b=N.cosDeg(n+a)*r,x=N.cosDeg(y)*i,_=N.sinDeg(n+a)*r,w=N.sinDeg(y)*i;return u.a=d*b+p*_,u.c=d*x+p*w,u.b=v*b+m*_,void(u.d=v*x+m*w);case g.OnlyTranslation:var k=n+90+o;u.a=N.cosDeg(n+a)*r,u.c=N.cosDeg(k)*i,u.b=N.sinDeg(n+a)*r,u.d=N.sinDeg(k)*i;break;case g.NoRotationOrReflection:var E=d*d+v*v,T=0;E>1e-4?(p=v*(E=Math.abs(d*m-p*v)/E),m=d*E,T=Math.atan2(v,d)*N.radDeg):(d=0,v=0,T=90-Math.atan2(m,p)*N.radDeg);var S=n+a-T,A=n+o-T+90,M=N.cosDeg(S)*r,P=N.cosDeg(A)*i,C=N.sinDeg(S)*r,I=N.sinDeg(A)*i;u.a=d*M-p*C,u.c=d*P-p*I,u.b=v*M+m*C,u.d=v*P+m*I;break;case g.NoScale:case g.NoScaleOrReflection:var R=N.cosDeg(n),O=N.sinDeg(n),L=(d*R+p*O)/l,B=(v*R+m*O)/c,D=Math.sqrt(L*L+B*B);D>1e-5&&(D=1/D),L*=D,B*=D,D=Math.sqrt(L*L+B*B),this.data.transformMode==g.NoScale&&d*m-p*v<0!=(U?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(D=-D);var F=Math.PI/2+Math.atan2(B,L),Z=Math.cos(F)*D,V=Math.sin(F)*D,j=N.cosDeg(a)*r,Y=N.cosDeg(90+o)*i,X=N.sinDeg(a)*r,G=N.sinDeg(90+o)*i;u.a=L*j+Z*X,u.c=L*Y+Z*G,u.b=B*j+V*X,u.d=B*Y+V*G}u.a*=l,u.c*=l,u.b*=c,u.d*=c}},{key:"setToSetupPose",value:function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY}},{key:"getWorldRotationX",value:function(){return Math.atan2(this.matrix.b,this.matrix.a)*N.radDeg}},{key:"getWorldRotationY",value:function(){return Math.atan2(this.matrix.d,this.matrix.c)*N.radDeg}},{key:"getWorldScaleX",value:function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)}},{key:"getWorldScaleY",value:function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)}},{key:"updateAppliedTransform",value:function(){this.appliedValid=!0;var e=this.parent,t=this.matrix;if(null==e)return this.ax=t.tx,this.ay=t.ty,this.arotation=Math.atan2(t.b,t.a)*N.radDeg,this.ascaleX=Math.sqrt(t.a*t.a+t.b*t.b),this.ascaleY=Math.sqrt(t.c*t.c+t.d*t.d),this.ashearX=0,void(this.ashearY=Math.atan2(t.a*t.c+t.b*t.d,t.a*t.d-t.b*t.c)*N.radDeg);var n=e.matrix,r=1/(n.a*n.d-n.b*n.c),i=t.tx-n.tx,a=t.ty-n.ty;this.ax=i*n.d*r-a*n.c*r,this.ay=a*n.a*r-i*n.b*r;var o=r*n.d,s=r*n.a,u=r*n.c,l=r*n.b,c=o*t.a-u*t.b,h=o*t.c-u*t.d,f=s*t.b-l*t.a,d=s*t.d-l*t.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+f*f),this.ascaleX>1e-4){var p=c*d-h*f;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(c*h+f*d,p)*N.radDeg,this.arotation=Math.atan2(f,c)*N.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*N.radDeg}},{key:"worldToLocal",value:function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,a=t.d,o=1/(n*a-r*i),s=e.x-t.tx,u=e.y-t.ty;return e.x=s*a*o-u*r*o,e.y=u*n*o-s*i*o,e}},{key:"localToWorld",value:function(e){var t=this.matrix,n=e.x,r=e.y;return e.x=n*t.a+r*t.c+t.tx,e.y=n*t.b+r*t.d+t.ty,e}},{key:"worldToLocalRotation",value:function(e){var t=N.sinDeg(e),n=N.cosDeg(e),r=this.matrix;return Math.atan2(r.a*t-r.b*n,r.d*n-r.c*t)*N.radDeg}},{key:"localToWorldRotation",value:function(e){var t=N.sinDeg(e),n=N.cosDeg(e),r=this.matrix;return Math.atan2(n*r.b+t*r.d,n*r.a+t*r.c)*N.radDeg}},{key:"rotateWorld",value:function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,a=t.d,o=N.cosDeg(e),s=N.sinDeg(e);t.a=o*n-s*i,t.c=o*r-s*a,t.b=s*n+o*i,t.d=s*r+o*a,this.appliedValid=!1}}]),e}(),yn=(0,h.Z)((function e(t,n,r){if((0,c.Z)(this,e),this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=g.Normal,t<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");this.index=t,this.name=n,this.parent=r})),bn=(0,h.Z)((function e(t,n){if((0,c.Z)(this,e),null==n)throw new Error("data cannot be null.");this.time=t,this.data=n})),xn=(0,h.Z)((function e(t){(0,c.Z)(this,e),this.name=t})),_n=function(){function e(t,n){if((0,c.Z)(this,e),this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,null==t)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(n.findBone(t.bones[r].name));this.target=n.findBone(t.target.name)}return(0,h.Z)(e,[{key:"getOrder",value:function(){return this.data.order}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){var e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix)}}},{key:"apply1",value:function(e,t,n,r,i,a,o){e.appliedValid||e.updateAppliedTransform();var s=e.parent.matrix,u=1/(s.a*s.d-s.b*s.c),l=t-s.tx,c=n-s.ty,h=(l*s.d-c*s.c)*u-e.ax,f=(c*s.a-l*s.b)*u-e.ay,d=Math.atan2(f,h)*N.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var p=e.ascaleX,v=e.ascaleY;if(r||i){var m=e.data.length*p,g=Math.sqrt(h*h+f*f);if(r&&g<m||i&&g>m&&m>1e-4){var y=(g/m-1)*o+1;p*=y,a&&(v*=y)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*o,p,v,e.ashearX,e.ashearY)}},{key:"apply2",value:function(e,t,n,r,i,a,o){if(0!=o){e.appliedValid||e.updateAppliedTransform(),t.appliedValid||t.updateAppliedTransform();var s=e.ax,u=e.ay,l=e.ascaleX,c=l,h=e.ascaleY,f=t.ascaleX,d=e.matrix,p=0,v=0,m=0;l<0?(l=-l,p=180,m=-1):(p=0,m=1),h<0&&(h=-h,m=-m),f<0?(f=-f,v=180):v=0;var g=t.ax,y=0,b=0,x=0,_=d.a,w=d.c,k=d.b,E=d.d,T=Math.abs(l-h)<=1e-4;T?(b=_*g+w*(y=t.ay)+d.tx,x=k*g+E*y+d.ty):(y=0,b=_*g+d.tx,x=k*g+d.ty);var S=e.parent.matrix;_=S.a,w=S.c,k=S.b;var A=1/(_*(E=S.d)-w*k),M=n-S.tx,P=r-S.ty,C=(M*E-P*w)*A-s,I=(P*_-M*k)*A-u,R=C*C+I*I,O=((M=b-S.tx)*E-(P=x-S.ty)*w)*A-s,L=(P*_-M*k)*A-u,B=Math.sqrt(O*O+L*L),D=t.data.length*f,F=0,Z=0;e:if(T){var V=(R-B*B-(D*=l)*D)/(2*B*D);V<-1?V=-1:V>1&&(V=1,a&&B+D>1e-4&&(c*=(Math.sqrt(R)/(B+D)-1)*o+1)),Z=Math.acos(V)*i,_=B+D*V,w=D*Math.sin(Z),F=Math.atan2(I*_-C*w,C*_+I*w)}else{var j=(_=l*D)*_,U=(w=h*D)*w,Y=Math.atan2(I,C),X=-2*U*B,G=U-j;if((E=X*X-4*G*(k=U*B*B+j*R-j*U))>=0){var W=Math.sqrt(E);X<0&&(W=-W);var H=(W=-(X+W)/2)/G,z=k/W,q=Math.abs(H)<Math.abs(z)?H:z;if(q*q<=R){P=Math.sqrt(R-q*q)*i,F=Y-Math.atan2(P,q),Z=Math.atan2(P/h,(q-B)/l);break e}}var $=N.PI,K=B-_,J=K*K,Q=0,ee=0,te=B+_,ne=te*te,re=0;(k=-_*B/(j-U))>=-1&&k<=1&&(k=Math.acos(k),(E=(M=_*Math.cos(k)+B)*M+(P=w*Math.sin(k))*P)<J&&($=k,J=E,K=M,Q=P),E>ne&&(ee=k,ne=E,te=M,re=P)),R<=(J+ne)/2?(F=Y-Math.atan2(Q*i,K),Z=$*i):(F=Y-Math.atan2(re*i,te),Z=ee*i)}var ie=Math.atan2(y,g)*m,ae=e.arotation;(F=(F-ie)*N.radDeg+p-ae)>180?F-=360:F<-180&&(F+=360),e.updateWorldTransformWith(s,u,ae+F*o,c,e.ascaleY,0,0),ae=t.arotation,(Z=((Z+ie)*N.radDeg-t.ashearX)*m+v-ae)>180?Z-=360:Z<-180&&(Z+=360),t.updateWorldTransformWith(g,y,ae+Z*o,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}else t.updateWorldTransform()}}]),e}(),wn=(0,h.Z)((function e(t){(0,c.Z)(this,e),this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=t})),kn=(0,h.Z)((function e(t){(0,c.Z)(this,e),this.order=0,this.bones=new Array,this.name=t})),En=function(e){return e[e.Length=0]="Length",e[e.Fixed=1]="Fixed",e[e.Percent=2]="Percent",e}(En||{}),Tn=function(){function e(t,n){if((0,c.Z)(this,e),this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var r=0,i=t.bones.length;r<i;r++)this.bones.push(n.findBone(t.bones[r].name));this.target=n.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return(0,h.Z)(e,[{key:"apply",value:function(){this.update()}},{key:"update",value:function(){var t=this.target.getAttachment();if(t instanceof kt){var n=this.rotateMix,r=this.translateMix,i=n>0;if(r>0||i){var a=this.data,o=a.spacingMode,s=o==En.Length,u=a.rotateMode,l=u==m.Tangent,c=u==m.ChainScale,h=this.bones.length,f=l?h:h+1,d=this.bones,p=F.setArraySize(this.spaces,f),g=null,y=this.spacing;if(c||s){c&&(g=F.setArraySize(this.lengths,h));for(var b=0,x=f-1;b<x;){var _=d[b],w=_.data.length;if(w<e.epsilon)c&&(g[b]=0),p[++b]=0;else{var k=w*_.matrix.a,E=w*_.matrix.b,T=Math.sqrt(k*k+E*E);c&&(g[b]=T),p[++b]=(s?w+y:y)*T/w}}}else for(var S=1;S<f;S++)p[S]=y;var A=this.computeWorldPositions(t,f,l,a.positionMode==v.Percent,o==En.Percent),M=A[0],P=A[1],C=a.offsetRotation,I=!1;if(0==C)I=u==m.Chain;else{I=!1;var R=this.target.bone.matrix;C*=R.a*R.d-R.b*R.c>0?N.degRad:-N.degRad}for(var O=0,L=3;O<h;O++,L+=3){var B=d[O],D=B.matrix;D.tx+=(M-D.tx)*r,D.ty+=(P-D.ty)*r;var Z=A[L],V=A[L+1],j=Z-M,U=V-P;if(c){var Y=g[O];if(0!=Y){var X=(Math.sqrt(j*j+U*U)/Y-1)*n+1;D.a*=X,D.b*=X}}if(M=Z,P=V,i){var G=D.a,W=D.c,H=D.b,z=D.d,q=0,$=0,K=0;if(l&&(q=l?A[L-1]:0==p[O+1]?A[L+2]:Math.atan2(U,j)),q-=Math.atan2(H,G),I){$=Math.cos(q),K=Math.sin(q);var J=B.data.length;M+=(J*($*G-K*H)-j)*n,P+=(J*(K*G+$*H)-U)*n}else q+=C;q>N.PI?q-=N.PI2:q<-N.PI&&(q+=N.PI2),q*=n,$=Math.cos(q),K=Math.sin(q),D.a=$*G-K*H,D.c=$*W-K*z,D.b=K*G+$*H,D.d=K*W+$*z}B.appliedValid=!1}}}}},{key:"computeWorldPositions",value:function(t,n,r,i,a){var o=this.target,s=this.position,u=this.spaces,l=F.setArraySize(this.positions,3*n+2),c=null,h=t.closed,f=t.worldVerticesLength,d=f/6,p=e.NONE;if(!t.constantSpeed){var v=t.lengths,m=v[d-=h?1:2];if(i&&(s*=m),a)for(var g=0;g<n;g++)u[g]*=m;c=F.setArraySize(this.world,8);for(var y=0,b=0,x=0;y<n;y++,b+=3){var _=u[y],w=s+=_;if(h)(w%=m)<0&&(w+=m),x=0;else{if(w<0){p!=e.BEFORE&&(p=e.BEFORE,t.computeWorldVertices(o,2,4,c,0,2)),this.addBeforePosition(w,c,0,l,b);continue}if(w>m){p!=e.AFTER&&(p=e.AFTER,t.computeWorldVertices(o,f-6,4,c,0,2)),this.addAfterPosition(w-m,c,0,l,b);continue}}for(;;x++){var k=v[x];if(!(w>k)){if(0==x)w/=k;else{var E=v[x-1];w=(w-E)/(k-E)}break}}x!=p&&(p=x,h&&x==d?(t.computeWorldVertices(o,f-4,4,c,0,2),t.computeWorldVertices(o,0,4,c,4,2)):t.computeWorldVertices(o,6*x+2,8,c,0,2)),this.addCurvePosition(w,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],l,b,r||y>0&&0==_)}return l}h?(f+=2,c=F.setArraySize(this.world,f),t.computeWorldVertices(o,2,f-4,c,0,2),t.computeWorldVertices(o,0,2,c,f-4,2),c[f-2]=c[0],c[f-1]=c[1]):(d--,f-=4,c=F.setArraySize(this.world,f),t.computeWorldVertices(o,2,f,c,0,2));for(var T=F.setArraySize(this.curves,d),S=0,A=c[0],M=c[1],P=0,C=0,I=0,R=0,O=0,L=0,N=0,B=0,D=0,Z=0,V=0,j=0,U=0,Y=0,X=0,G=2;X<d;X++,G+=6)P=c[G],C=c[G+1],I=c[G+2],R=c[G+3],V=2*(N=.1875*(A-2*P+I))+(D=.09375*(3*(P-I)-A+(O=c[G+4]))),j=2*(B=.1875*(M-2*C+R))+(Z=.09375*(3*(C-R)-M+(L=c[G+5]))),U=.75*(P-A)+N+.16666667*D,Y=.75*(C-M)+B+.16666667*Z,S+=Math.sqrt(U*U+Y*Y),U+=V,Y+=j,V+=D,j+=Z,S+=Math.sqrt(U*U+Y*Y),U+=V,Y+=j,S+=Math.sqrt(U*U+Y*Y),U+=V+D,Y+=j+Z,S+=Math.sqrt(U*U+Y*Y),T[X]=S,A=O,M=L;if(i&&(s*=S),a)for(var W=0;W<n;W++)u[W]*=S;for(var H=this.segments,z=0,q=0,$=0,K=0,J=0;q<n;q++,$+=3){var Q=u[q],ee=s+=Q;if(h)(ee%=S)<0&&(ee+=S),K=0;else{if(ee<0){this.addBeforePosition(ee,c,0,l,$);continue}if(ee>S){this.addAfterPosition(ee-S,c,f-4,l,$);continue}}for(;;K++){var te=T[K];if(!(ee>te)){if(0==K)ee/=te;else{var ne=T[K-1];ee=(ee-ne)/(te-ne)}break}}if(K!=p){p=K;var re=6*K;for(A=c[re],M=c[re+1],P=c[re+2],C=c[re+3],I=c[re+4],R=c[re+5],V=2*(N=.03*(A-2*P+I))+(D=.006*(3*(P-I)-A+(O=c[re+6]))),j=2*(B=.03*(M-2*C+R))+(Z=.006*(3*(C-R)-M+(L=c[re+7]))),U=.3*(P-A)+N+.16666667*D,Y=.3*(C-M)+B+.16666667*Z,z=Math.sqrt(U*U+Y*Y),H[0]=z,re=1;re<8;re++)U+=V,Y+=j,V+=D,j+=Z,z+=Math.sqrt(U*U+Y*Y),H[re]=z;U+=V,Y+=j,z+=Math.sqrt(U*U+Y*Y),H[8]=z,U+=V+D,Y+=j+Z,z+=Math.sqrt(U*U+Y*Y),H[9]=z,J=0}for(ee*=z;;J++){var ie=H[J];if(!(ee>ie)){if(0==J)ee/=ie;else{var ae=H[J-1];ee=J+(ee-ae)/(ie-ae)}break}}this.addCurvePosition(.1*ee,A,M,P,C,I,R,O,L,l,$,r||q>0&&0==Q)}return l}},{key:"addBeforePosition",value:function(e,t,n,r,i){var a=t[n],o=t[n+1],s=t[n+2]-a,u=t[n+3]-o,l=Math.atan2(u,s);r[i]=a+e*Math.cos(l),r[i+1]=o+e*Math.sin(l),r[i+2]=l}},{key:"addAfterPosition",value:function(e,t,n,r,i){var a=t[n+2],o=t[n+3],s=a-t[n],u=o-t[n+1],l=Math.atan2(u,s);r[i]=a+e*Math.cos(l),r[i+1]=o+e*Math.sin(l),r[i+2]=l}},{key:"addCurvePosition",value:function(e,t,n,r,i,a,o,s,u,l,c,h){(0==e||isNaN(e))&&(e=1e-4);var f=e*e,d=f*e,p=1-e,v=p*p,m=v*p,g=p*e,y=3*g,b=p*y,x=y*e,_=t*m+r*b+a*x+s*d,w=n*m+i*b+o*x+u*d;l[c]=_,l[c+1]=w,h&&(l[c+2]=Math.atan2(w-(n*v+i*g*2+o*f),_-(t*v+r*g*2+a*f)))}},{key:"getOrder",value:function(){return this.data.order}}]),e}(),Sn=Tn;Sn.NONE=-1,Sn.BEFORE=-2,Sn.AFTER=-3,Sn.epsilon=1e-5;var An=function(){function e(t,n){if((0,c.Z)(this,e),this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new V,null==t)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(n.findBone(t.bones[r].name));this.target=n.findBone(t.target.name)}return(0,h.Z)(e,[{key:"apply",value:function(){this.update()}},{key:"update",value:function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()}},{key:"applyAbsoluteWorld",value:function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,a=i.matrix,o=a.a,s=a.c,u=a.b,l=a.d,c=o*l-s*u>0?N.degRad:-N.degRad,h=this.data.offsetRotation*c,f=this.data.offsetShearY*c,d=this.bones,p=0,v=d.length;p<v;p++){var m=d[p],g=!1,y=m.matrix;if(0!=e){var b=y.a,x=y.c,_=y.b,w=y.d,k=Math.atan2(u,o)-Math.atan2(_,b)+h;k>N.PI?k-=N.PI2:k<-N.PI&&(k+=N.PI2),k*=e;var E=Math.cos(k),T=Math.sin(k);y.a=E*b-T*_,y.c=E*x-T*w,y.b=T*b+E*_,y.d=T*x+E*w,g=!0}if(0!=t){var S=this.temp;i.localToWorld(S.set(this.data.offsetX,this.data.offsetY)),y.tx+=(S.x-y.tx)*t,y.ty+=(S.y-y.ty)*t,g=!0}if(n>0){var A=Math.sqrt(y.a*y.a+y.b*y.b),M=Math.sqrt(o*o+u*u);A>1e-5&&(A=(A+(M-A+this.data.offsetScaleX)*n)/A),y.a*=A,y.b*=A,A=Math.sqrt(y.c*y.c+y.d*y.d),M=Math.sqrt(s*s+l*l),A>1e-5&&(A=(A+(M-A+this.data.offsetScaleY)*n)/A),y.c*=A,y.d*=A,g=!0}if(r>0){var P=y.c,C=y.d,I=Math.atan2(C,P),R=Math.atan2(l,s)-Math.atan2(u,o)-(I-Math.atan2(y.b,y.a));R>N.PI?R-=N.PI2:R<-N.PI&&(R+=N.PI2),R=I+(R+f)*r;var O=Math.sqrt(P*P+C*C);y.c=Math.cos(R)*O,y.d=Math.sin(R)*O,g=!0}g&&(m.appliedValid=!1)}}},{key:"applyRelativeWorld",value:function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,a=i.matrix,o=a.a,s=a.c,u=a.b,l=a.d,c=o*l-s*u>0?N.degRad:-N.degRad,h=this.data.offsetRotation*c,f=this.data.offsetShearY*c,d=this.bones,p=0,v=d.length;p<v;p++){var m=d[p],g=!1,y=m.matrix;if(0!=e){var b=y.a,x=y.c,_=y.b,w=y.d,k=Math.atan2(u,o)+h;k>N.PI?k-=N.PI2:k<-N.PI&&(k+=N.PI2),k*=e;var E=Math.cos(k),T=Math.sin(k);y.a=E*b-T*_,y.c=E*x-T*w,y.b=T*b+E*_,y.d=T*x+E*w,g=!0}if(0!=t){var S=this.temp;i.localToWorld(S.set(this.data.offsetX,this.data.offsetY)),y.tx+=S.x*t,y.ty+=S.y*t,g=!0}if(n>0){var A=(Math.sqrt(o*o+u*u)-1+this.data.offsetScaleX)*n+1;y.a*=A,y.b*=A,A=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleY)*n+1,y.c*=A,y.d*=A,g=!0}if(r>0){var M=Math.atan2(l,s)-Math.atan2(u,o);M>N.PI?M-=N.PI2:M<-N.PI&&(M+=N.PI2);var P=y.c,C=y.d;M=Math.atan2(C,P)+(M-N.PI/2+f)*r;var I=Math.sqrt(P*P+C*C);y.c=Math.cos(M)*I,y.d=Math.sin(M)*I,g=!0}g&&(m.appliedValid=!1)}}},{key:"applyAbsoluteLocal",value:function(){var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var a=this.bones,o=0,s=a.length;o<s;o++){var u=a[o];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;if(0!=e){var c=i.arotation-l+this.data.offsetRotation;l+=(c-=360*(16384-(16384.499999999996-c/360|0)))*e}var h=u.ax,f=u.ay;0!=t&&(h+=(i.ax-h+this.data.offsetX)*t,f+=(i.ay-f+this.data.offsetY)*t);var d=u.ascaleX,p=u.ascaleY;n>0&&(d>1e-5&&(d=(d+(i.ascaleX-d+this.data.offsetScaleX)*n)/d),p>1e-5&&(p=(p+(i.ascaleY-p+this.data.offsetScaleY)*n)/p));var v=u.ashearY;if(r>0){var m=i.ashearY-v+this.data.offsetShearY;m-=360*(16384-(16384.499999999996-m/360|0)),u.shearY+=m*r}u.updateWorldTransformWith(h,f,l,d,p,u.ashearX,v)}}},{key:"applyRelativeLocal",value:function(){var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var a=this.bones,o=0,s=a.length;o<s;o++){var u=a[o];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;0!=e&&(l+=(i.arotation+this.data.offsetRotation)*e);var c=u.ax,h=u.ay;0!=t&&(c+=(i.ax+this.data.offsetX)*t,h+=(i.ay+this.data.offsetY)*t);var f=u.ascaleX,d=u.ascaleY;n>0&&(f>1e-5&&(f*=(i.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(i.ascaleY-1+this.data.offsetScaleY)*n+1));var p=u.ashearY;r>0&&(p+=(i.ashearY+this.data.offsetShearY)*r),u.updateWorldTransformWith(c,h,l,f,d,u.ashearX,p)}}},{key:"getOrder",value:function(){return this.data.order}}]),e}(),Mn=function(){function e(t){if((0,c.Z)(this,e),this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var n=0;n<t.bones.length;n++){var r=t.bones[n],i=void 0;if(null==r.parent)i=new gn(r,this,null);else{var a=this.bones[r.parent.index];i=new gn(r,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var o=0;o<t.slots.length;o++){var s=t.slots[o],u=this.bones[s.boneData.index],l=new Tt(s,u);this.slots.push(l),this.drawOrder.push(l)}this.ikConstraints=new Array;for(var h=0;h<t.ikConstraints.length;h++){var f=t.ikConstraints[h];this.ikConstraints.push(new _n(f,this))}this.transformConstraints=new Array;for(var d=0;d<t.transformConstraints.length;d++){var p=t.transformConstraints[d];this.transformConstraints.push(new An(p,this))}this.pathConstraints=new Array;for(var v=0;v<t.pathConstraints.length;v++){var m=t.pathConstraints[v];this.pathConstraints.push(new Sn(m,this))}this.color=new O(1,1,1,1),this.updateCache()}return(0,h.Z)(e,[{key:"updateCache",value:function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var t=this.bones,n=0,r=t.length;n<r;n++)t[n].sorted=!1;var i=this.ikConstraints,a=this.transformConstraints,o=this.pathConstraints,s=i.length,u=a.length,l=o.length,c=s+u+l;e:for(var h=0;h<c;h++){for(var f=0;f<s;f++){var d=i[f];if(d.data.order==h){this.sortIkConstraint(d);continue e}}for(var p=0;p<u;p++){var v=a[p];if(v.data.order==h){this.sortTransformConstraint(v);continue e}}for(var m=0;m<l;m++){var g=o[m];if(g.data.order==h){this.sortPathConstraint(g);continue e}}}for(var y=0,b=t.length;y<b;y++)this.sortBone(t[y])}},{key:"sortIkConstraint",value:function(e){var t=e.target;this.sortBone(t);var n=e.bones,r=n[0];if(this.sortBone(r),n.length>1){var i=n[n.length-1];this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}this._updateCache.push(e),this.sortReset(r.children),n[n.length-1].sorted=!0}},{key:"sortPathConstraint",value:function(e){var t=e.target,n=t.data.index,r=t.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var i=0,a=this.data.skins.length;i<a;i++)this.sortPathConstraintAttachment(this.data.skins[i],n,r);var o=t.getAttachment();o instanceof kt&&this.sortPathConstraintAttachmentWith(o,r);for(var s=e.bones,u=s.length,l=0;l<u;l++)this.sortBone(s[l]);this._updateCache.push(e);for(var c=0;c<u;c++)this.sortReset(s[c].children);for(var h=0;h<u;h++)s[h].sorted=!0}},{key:"sortTransformConstraint",value:function(e){this.sortBone(e.target);var t=e.bones,n=t.length;if(e.data.local)for(var r=0;r<n;r++){var i=t[r];this.sortBone(i.parent),this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}else for(var a=0;a<n;a++)this.sortBone(t[a]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(t[o].children);for(var s=0;s<n;s++)t[s].sorted=!0}},{key:"sortPathConstraintAttachment",value:function(e,t,n){var r=e.attachments[t];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)}},{key:"sortPathConstraintAttachmentWith",value:function(e,t){if(e instanceof kt){var n=e.bones;if(null==n)this.sortBone(t);else for(var r=this.bones,i=0;i<n.length;)for(var a=n[i++],o=i+a;i<o;i++){var s=n[i];this.sortBone(r[s])}}}},{key:"sortBone",value:function(e){if(!e.sorted){var t=e.parent;null!=t&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e)}}},{key:"sortReset",value:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.sorted&&this.sortReset(r.children),r.sorted=!1}}},{key:"updateWorldTransform",value:function(){for(var e=this.updateCacheReset,t=0,n=e.length;t<n;t++){var r=e[t];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}for(var i=this._updateCache,a=0,o=i.length;a<o;a++)i[a].update()}},{key:"setToSetupPose",value:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}},{key:"setBonesToSetupPose",value:function(){for(var e=this.bones,t=0,n=e.length;t<n;t++)e[t].setToSetupPose();for(var r=this.ikConstraints,i=0,a=r.length;i<a;i++){var o=r[i];o.bendDirection=o.data.bendDirection,o.mix=o.data.mix}for(var s=this.transformConstraints,u=0,l=s.length;u<l;u++){var c=s[u],h=c.data;c.rotateMix=h.rotateMix,c.translateMix=h.translateMix,c.scaleMix=h.scaleMix,c.shearMix=h.shearMix}for(var f=this.pathConstraints,d=0,p=f.length;d<p;d++){var v=f[d],m=v.data;v.position=m.position,v.spacing=m.spacing,v.rotateMix=m.rotateMix,v.translateMix=m.translateMix}}},{key:"setSlotsToSetupPose",value:function(){var e=this.slots;F.arrayCopy(e,0,this.drawOrder,0,e.length);for(var t=0,n=e.length;t<n;t++)e[t].setToSetupPose()}},{key:"getRootBone",value:function(){return 0==this.bones.length?null:this.bones[0]}},{key:"findBone",value:function(e){if(null==e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"findBoneIndex",value:function(e){if(null==e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1}},{key:"findSlot",value:function(e){if(null==e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"findSlotIndex",value:function(e){if(null==e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1}},{key:"setSkinByName",value:function(e){var t=this.data.findSkin(e);if(null==t)throw new Error("Skin not found: ".concat(e));this.setSkin(t)}},{key:"setSkin",value:function(e){if(null!=e)if(null!=this.skin)e.attachAll(this,this.skin);else for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n],a=i.data.attachmentName;if(null!=a){var o=e.getAttachment(n,a);null!=o&&i.setAttachment(o)}}this.skin=e}},{key:"getAttachmentByName",value:function(e,t){return this.getAttachment(this.data.findSlotIndex(e),t)}},{key:"getAttachment",value:function(e,t){if(null==t)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(e,t);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null}},{key:"setAttachment",value:function(e,t){if(null==e)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,i=n.length;r<i;r++){var a=n[r];if(a.data.name==e){var o=null;if(null!=t&&null==(o=this.getAttachment(r,t)))throw new Error("Attachment not found: ".concat(t,", for slot: ").concat(e));return void a.setAttachment(o)}}throw new Error("Slot not found: ".concat(e))}},{key:"findIkConstraint",value:function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"findTransformConstraint",value:function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"findPathConstraint",value:function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"getBounds",value:function(e,t,n){if(null==e)throw new Error("offset cannot be null.");if(null==t)throw new Error("size cannot be null.");for(var r=this.drawOrder,i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=0,l=r.length;u<l;u++){var c=r[u],h=0,f=null,d=c.getAttachment();if(d instanceof At)h=8,f=F.setArraySize(n,h,0),d.computeWorldVertices(c.bone,f,0,2);else if(d instanceof wt){var p=d;h=p.worldVerticesLength,f=F.setArraySize(n,h,0),p.computeWorldVertices(c,0,h,f,0,2)}if(null!=f)for(var v=0,m=f.length;v<m;v+=2){var g=f[v],y=f[v+1];i=Math.min(i,g),a=Math.min(a,y),o=Math.max(o,g),s=Math.max(s,y)}}e.set(i,a),t.set(o-i,s-a)}},{key:"update",value:function(e){this.time+=e}},{key:"flipX",get:function(){return-1==this.scaleX},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1}},{key:"flipY",get:function(){return-1==this.scaleY},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1}}]),e}(),Pn=Mn;Pn.deprecatedWarning1=!1;var Cn=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n)}(j),In=function(){function e(){(0,c.Z)(this,e),this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return(0,h.Z)(e,[{key:"findBone",value:function(e){if(null==e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findBoneIndex",value:function(e){if(null==e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1}},{key:"findSlot",value:function(e){if(null==e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findSlotIndex",value:function(e){if(null==e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1}},{key:"findSkin",value:function(e){if(null==e)throw new Error("skinName cannot be null.");for(var t=this.skins,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findEvent",value:function(e){if(null==e)throw new Error("eventDataName cannot be null.");for(var t=this.events,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findAnimation",value:function(e){if(null==e)throw new Error("animationName cannot be null.");for(var t=this.animations,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findIkConstraint",value:function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findTransformConstraint",value:function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findPathConstraint",value:function(e){if(null==e)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findPathConstraintIndex",value:function(e){if(null==e)throw new Error("pathConstraintName cannot be null.");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1}}]),e}(),Rn=(0,h.Z)((function e(t,n,r){if((0,c.Z)(this,e),this.color=new O(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");if(null==r)throw new Error("boneData cannot be null.");this.index=t,this.name=n,this.boneData=r})),On=(0,h.Z)((function e(t){if((0,c.Z)(this,e),this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==t)throw new Error("name cannot be null.");this.name=t})),Ln=function(){function e(t){if((0,c.Z)(this,e),this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}return(0,h.Z)(e,[{key:"addAttachment",value:function(e,t,n){if(null==n)throw new Error("attachment cannot be null.");var r=this.attachments;e>=r.length&&(r.length=e+1),r[e]||(r[e]={}),r[e][t]=n}},{key:"getAttachment",value:function(e,t){var n=this.attachments[e];return n?n[t]:null}},{key:"attachAll",value:function(e,t){for(var n=0,r=0;r<e.slots.length;r++){var i=e.slots[r],a=i.getAttachment();if(a&&n<t.attachments.length){var o=t.attachments[n];for(var s in o){if(a==o[s]){var u=this.getAttachment(n,s);null!=u&&i.setAttachment(u);break}}}n++}}}]),e}(),Nn=function(){function e(t){(0,c.Z)(this,e),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return(0,h.Z)(e,[{key:"readSkeletonData",value:function(t){var n=this.scale,r=new In,i="string"===typeof t?JSON.parse(t):t,a=i.skeleton;if(null!=a&&(r.hash=a.hash,r.version=a.spine,r.width=a.width,r.height=a.height,r.fps=a.fps,r.imagesPath=a.images),i.bones)for(var o=0;o<i.bones.length;o++){var s=i.bones[o],u=null,l=this.getValue(s,"parent",null);if(null!=l&&null==(u=r.findBone(l)))throw new Error("Parent bone not found: ".concat(l));var c=new yn(r.bones.length,s.name,u);c.length=this.getValue(s,"length",0)*n,c.x=this.getValue(s,"x",0)*n,c.y=this.getValue(s,"y",0)*n,c.rotation=this.getValue(s,"rotation",0),c.scaleX=this.getValue(s,"scaleX",1),c.scaleY=this.getValue(s,"scaleY",1),c.shearX=this.getValue(s,"shearX",0),c.shearY=this.getValue(s,"shearY",0),c.transformMode=e.transformModeFromString(this.getValue(s,"transform","normal")),r.bones.push(c)}if(i.slots)for(var h=0;h<i.slots.length;h++){var f=i.slots[h],d=f.name,p=f.bone,m=r.findBone(p);if(null==m)throw new Error("Slot bone not found: ".concat(p));var g=new Rn(r.slots.length,d,m),y=this.getValue(f,"color",null);null!=y&&g.color.setFromString(y);var b=this.getValue(f,"dark",null);null!=b&&(g.darkColor=new O(1,1,1,1),g.darkColor.setFromString(b)),g.attachmentName=this.getValue(f,"attachment",null),g.blendMode=e.blendModeFromString(this.getValue(f,"blend","normal")),r.slots.push(g)}if(i.ik)for(var x=0;x<i.ik.length;x++){var _=i.ik[x],w=new wn(_.name);w.order=this.getValue(_,"order",0);for(var k=0;k<_.bones.length;k++){var E=_.bones[k],T=r.findBone(E);if(null==T)throw new Error("IK bone not found: ".concat(E));w.bones.push(T)}var S=_.target;if(w.target=r.findBone(S),null==w.target)throw new Error("IK target bone not found: ".concat(S));w.bendDirection=this.getValue(_,"bendPositive",!0)?1:-1,w.mix=this.getValue(_,"mix",1),r.ikConstraints.push(w)}if(i.transform)for(var A=0;A<i.transform.length;A++){var M=i.transform[A],P=new On(M.name);P.order=this.getValue(M,"order",0);for(var C=0;C<M.bones.length;C++){var I=M.bones[C],R=r.findBone(I);if(null==R)throw new Error("Transform constraint bone not found: ".concat(I));P.bones.push(R)}var L=M.target;if(P.target=r.findBone(L),null==P.target)throw new Error("Transform constraint target bone not found: ".concat(L));P.local=this.getValue(M,"local",!1),P.relative=this.getValue(M,"relative",!1),P.offsetRotation=this.getValue(M,"rotation",0),P.offsetX=this.getValue(M,"x",0)*n,P.offsetY=this.getValue(M,"y",0)*n,P.offsetScaleX=this.getValue(M,"scaleX",0),P.offsetScaleY=this.getValue(M,"scaleY",0),P.offsetShearY=this.getValue(M,"shearY",0),P.rotateMix=this.getValue(M,"rotateMix",1),P.translateMix=this.getValue(M,"translateMix",1),P.scaleMix=this.getValue(M,"scaleMix",1),P.shearMix=this.getValue(M,"shearMix",1),r.transformConstraints.push(P)}if(i.path)for(var N=0;N<i.path.length;N++){var B=i.path[N],D=new kn(B.name);D.order=this.getValue(B,"order",0);for(var F=0;F<B.bones.length;F++){var Z=B.bones[F],V=r.findBone(Z);if(null==V)throw new Error("Transform constraint bone not found: ".concat(Z));D.bones.push(V)}var j=B.target;if(D.target=r.findSlot(j),null==D.target)throw new Error("Path target slot not found: ".concat(j));D.positionMode=e.positionModeFromString(this.getValue(B,"positionMode","percent")),D.spacingMode=e.spacingModeFromString(this.getValue(B,"spacingMode","length")),D.rotateMode=e.rotateModeFromString(this.getValue(B,"rotateMode","tangent")),D.offsetRotation=this.getValue(B,"rotation",0),D.position=this.getValue(B,"position",0),D.positionMode==v.Fixed&&(D.position*=n),D.spacing=this.getValue(B,"spacing",0),D.spacingMode!=En.Length&&D.spacingMode!=En.Fixed||(D.spacing*=n),D.rotateMix=this.getValue(B,"rotateMix",1),D.translateMix=this.getValue(B,"translateMix",1),r.pathConstraints.push(D)}if(i.skins)for(var U in i.skins){var Y=i.skins[U],X=new Ln(U);for(var G in Y){var W=r.findSlotIndex(G);if(-1==W)throw new Error("Slot not found: ".concat(G));var H=Y[G];for(var z in H){var q=this.readAttachment(H[z],X,W,z,r);null!=q&&X.addAttachment(W,z,q)}}r.skins.push(X),"default"==X.name&&(r.defaultSkin=X)}for(var $=0,K=this.linkedMeshes.length;$<K;$++){var J=this.linkedMeshes[$],Q=null==J.skin?r.defaultSkin:r.findSkin(J.skin);if(null==Q)throw new Error("Skin not found: ".concat(J.skin));var ee=Q.getAttachment(J.slotIndex,J.parent);if(null==ee)throw new Error("Parent mesh not found: ".concat(J.parent));J.mesh.setParentMesh(ee)}if(this.linkedMeshes.length=0,i.events)for(var te in i.events){var ne=i.events[te],re=new xn(te);re.intValue=this.getValue(ne,"int",0),re.floatValue=this.getValue(ne,"float",0),re.stringValue=this.getValue(ne,"string",""),re.audioPath=this.getValue(ne,"audio",null),null!=re.audioPath&&(re.volume=this.getValue(ne,"volume",1),re.balance=this.getValue(ne,"balance",0)),r.events.push(re)}if(i.animations)for(var ie in i.animations){var ae=i.animations[ie];this.readAnimation(ae,ie,r)}return r}},{key:"readAttachment",value:function(e,t,n,r,i){var a=this.scale;switch(r=this.getValue(e,"name",r),this.getValue(e,"type","region")){case"region":var o=this.getValue(e,"path",r),s=this.attachmentLoader.newRegionAttachment(t,r,o);if(null==s)return null;s.path=o,s.x=this.getValue(e,"x",0)*a,s.y=this.getValue(e,"y",0)*a,s.scaleX=this.getValue(e,"scaleX",1),s.scaleY=this.getValue(e,"scaleY",1),s.rotation=this.getValue(e,"rotation",0),s.width=e.width*a,s.height=e.height*a;var u=this.getValue(e,"color",null);return null!=u&&s.color.setFromString(u),s;case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(t,r);if(null==l)return null;this.readVertices(e,l,e.vertexCount<<1);var c=this.getValue(e,"color",null);return null!=c&&l.color.setFromString(c),l;case"mesh":case"linkedmesh":var h=this.getValue(e,"path",r),f=this.attachmentLoader.newMeshAttachment(t,r,h);if(null==f)return null;f.path=h;var d=this.getValue(e,"color",null);null!=d&&f.color.setFromString(d);var p=this.getValue(e,"parent",null);if(null!=p)return f.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new Bn(f,this.getValue(e,"skin",null),n,p)),f;var v=e.uvs;return this.readVertices(e,f,v.length),f.triangles=e.triangles,f.regionUVs=new Float32Array(v),f.hullLength=2*this.getValue(e,"hull",0),f;case"path":var m=this.attachmentLoader.newPathAttachment(t,r);if(null==m)return null;m.closed=this.getValue(e,"closed",!1),m.constantSpeed=this.getValue(e,"constantSpeed",!0);var g=e.vertexCount;this.readVertices(e,m,g<<1);for(var y=F.newArray(g/3,0),b=0;b<e.lengths.length;b++)y[b]=e.lengths[b]*a;m.lengths=y;var x=this.getValue(e,"color",null);return null!=x&&m.color.setFromString(x),m;case"point":var _=this.attachmentLoader.newPointAttachment(t,r);if(null==_)return null;_.x=this.getValue(e,"x",0)*a,_.y=this.getValue(e,"y",0)*a,_.rotation=this.getValue(e,"rotation",0);var w=this.getValue(e,"color",null);return null!=w&&_.color.setFromString(w),_;case"clipping":var k=this.attachmentLoader.newClippingAttachment(t,r);if(null==k)return null;var E=this.getValue(e,"end",null);if(null!=E){var T=i.findSlot(E);if(null==T)throw new Error("Clipping end slot not found: ".concat(E));k.endSlot=T}var S=e.vertexCount;this.readVertices(e,k,S<<1);var A=this.getValue(e,"color",null);return null!=A&&k.color.setFromString(A),k}return null}},{key:"readVertices",value:function(e,t,n){var r=this.scale;t.worldVerticesLength=n;var i=e.vertices;if(n!=i.length){for(var a=new Array,o=new Array,s=0,u=i.length;s<u;){var l=i[s++];o.push(l);for(var c=s+4*l;s<c;s+=4)o.push(i[s]),a.push(i[s+1]*r),a.push(i[s+2]*r),a.push(i[s+3])}t.bones=o,t.vertices=F.toFloatArray(a)}else{var h=F.toFloatArray(i);if(1!=r)for(var f=0,d=i.length;f<d;f++)h[f]*=r;t.vertices=h}}},{key:"readAnimation",value:function(e,t,n){var r=this.scale,i=new Array,a=0;if(e.slots)for(var o in e.slots){var s=e.slots[o],u=n.findSlotIndex(o);if(-1==u)throw new Error("Slot not found: ".concat(o));for(var l in s){var c=s[l];if("attachment"==l){var h=new Gt(c.length);h.slotIndex=u;for(var f=0,d=0;d<c.length;d++){var p=c[d];h.setFrame(f++,p.time,p.name)}i.push(h),a=Math.max(a,h.frames[h.getFrameCount()-1])}else if("color"==l){var m=new Ut(c.length);m.slotIndex=u;for(var g=0,y=0;y<c.length;y++){var b=c[y],x=new O;x.setFromString(b.color||"ffffffff"),m.setFrame(g,b.time,x.r,x.g,x.b,x.a),this.readCurve(b,m,g),g++}i.push(m),a=Math.max(a,m.frames[(m.getFrameCount()-1)*Ut.ENTRIES])}else{if("twoColor"!=l)throw new Error("Invalid timeline type for a slot: ".concat(l," (").concat(o,")"));var _=new Xt(c.length);_.slotIndex=u;for(var w=0,k=0;k<c.length;k++){var E=c[k],T=new O,S=new O;T.setFromString(E.light),S.setFromString(E.dark),_.setFrame(w,E.time,T.r,T.g,T.b,T.a,S.r,S.g,S.b),this.readCurve(E,_,w),w++}i.push(_),a=Math.max(a,_.frames[(_.getFrameCount()-1)*Xt.ENTRIES])}}}if(e.bones)for(var A in e.bones){var M=e.bones[A],P=n.findBoneIndex(A);if(-1==P)throw new Error("Bone not found: ".concat(A));for(var C in M){var I=M[C];if("rotate"===C){var R=new Bt(I.length);R.boneIndex=P;for(var L=0,N=0;N<I.length;N++){var B=I[N];R.setFrame(L,B.time,B.angle),this.readCurve(B,R,L),L++}i.push(R),a=Math.max(a,R.frames[(R.getFrameCount()-1)*Bt.ENTRIES])}else{if("translate"!==C&&"scale"!==C&&"shear"!==C)throw new Error("Invalid timeline type for a bone: ".concat(C," (").concat(A,")"));var D=null,Z=1;"scale"===C?D=new Zt(I.length):"shear"===C?D=new Vt(I.length):(D=new Ft(I.length),Z=r),D.boneIndex=P;for(var V=0,j=0;j<I.length;j++){var U=I[j],X=this.getValue(U,"x",0),G=this.getValue(U,"y",0);D.setFrame(V,U.time,X*Z,G*Z),this.readCurve(U,D,V),V++}i.push(D),a=Math.max(a,D.frames[(D.getFrameCount()-1)*Ft.ENTRIES])}}}if(e.ik)for(var W in e.ik){var H=e.ik[W],z=n.findIkConstraint(W),q=new Kt(H.length);q.ikConstraintIndex=n.ikConstraints.indexOf(z);for(var $=0,K=0;K<H.length;K++){var J=H[K];q.setFrame($,J.time,this.getValue(J,"mix",1),this.getValue(J,"bendPositive",!0)?1:-1,this.getValue(J,"compress",!1),this.getValue(J,"stretch",!1)),this.readCurve(J,q,$),$++}i.push(q),a=Math.max(a,q.frames[(q.getFrameCount()-1)*Kt.ENTRIES])}if(e.transform)for(var Q in e.transform){var ee=e.transform[Q],te=n.findTransformConstraint(Q),ne=new Qt(ee.length);ne.transformConstraintIndex=n.transformConstraints.indexOf(te);for(var re=0,ie=0;ie<ee.length;ie++){var ae=ee[ie];ne.setFrame(re,ae.time,this.getValue(ae,"rotateMix",1),this.getValue(ae,"translateMix",1),this.getValue(ae,"scaleMix",1),this.getValue(ae,"shearMix",1)),this.readCurve(ae,ne,re),re++}i.push(ne),a=Math.max(a,ne.frames[(ne.getFrameCount()-1)*Qt.ENTRIES])}if(e.paths)for(var oe in e.paths){var se=e.paths[oe],ue=n.findPathConstraintIndex(oe);if(-1==ue)throw new Error("Path constraint not found: ".concat(oe));var le=n.pathConstraints[ue];for(var ce in se){var he=se[ce];if("position"===ce||"spacing"===ce){var fe=null,de=1;"spacing"===ce?(fe=new nn(he.length),le.spacingMode!=En.Length&&le.spacingMode!=En.Fixed||(de=r)):(fe=new tn(he.length),le.positionMode==v.Fixed&&(de=r)),fe.pathConstraintIndex=ue;for(var pe=0,ve=0;ve<he.length;ve++){var me=he[ve];fe.setFrame(pe,me.time,this.getValue(me,ce,0)*de),this.readCurve(me,fe,pe),pe++}i.push(fe),a=Math.max(a,fe.frames[(fe.getFrameCount()-1)*tn.ENTRIES])}else if("mix"===ce){var ge=new an(he.length);ge.pathConstraintIndex=ue;for(var ye=0,be=0;be<he.length;be++){var xe=he[be];ge.setFrame(ye,xe.time,this.getValue(xe,"rotateMix",1),this.getValue(xe,"translateMix",1)),this.readCurve(xe,ge,ye),ye++}i.push(ge),a=Math.max(a,ge.frames[(ge.getFrameCount()-1)*an.ENTRIES])}}}if(e.deform)for(var _e in e.deform){var we=e.deform[_e],ke=n.findSkin(_e);if(null!=ke)for(var Ee in we){var Te=we[Ee],Se=n.findSlotIndex(Ee);if(-1==Se)throw new Error("Slot not found: ".concat(Te.name));for(var Ae in Te){var Me=Te[Ae],Pe=ke.getAttachment(Se,Ae);if(null==Pe)throw new Error("Deform attachment not found: ".concat(Me.name));var Ce=null!=Pe.bones,Ie=Pe.vertices,Re=Ce?Ie.length/3*2:Ie.length,Oe=new Ht(Me.length);Oe.slotIndex=Se,Oe.attachment=Pe;for(var Le=0,Ne=0;Ne<Me.length;Ne++){var Be=Me[Ne],De=void 0,Fe=this.getValue(Be,"vertices",null);if(null==Fe)De=Ce?F.newFloatArray(Re):Ie;else{De=F.newFloatArray(Re);var Ze=this.getValue(Be,"offset",0);if(F.arrayCopy(Fe,0,De,Ze,Fe.length),1!=r)for(var Ve=Ze,je=Ve+Fe.length;Ve<je;Ve++)De[Ve]*=r;if(!Ce)for(var Ue=0;Ue<Re;Ue++)De[Ue]+=Ie[Ue]}Oe.setFrame(Le,Be.time,De),this.readCurve(Be,Oe,Le),Le++}i.push(Oe),a=Math.max(a,Oe.frames[Oe.getFrameCount()-1])}}else if(Y)throw new Error("Skin not found: ".concat(_e))}var Ye=e.drawOrder;if(null==Ye&&(Ye=e.draworder),null!=Ye){for(var Xe=new qt(Ye.length),Ge=n.slots.length,We=0,He=0;He<Ye.length;He++){var ze=Ye[He],qe=null,$e=this.getValue(ze,"offsets",null);if(null!=$e){qe=F.newArray(Ge,-1);for(var Ke=F.newArray(Ge-$e.length,0),Je=0,Qe=0,et=0;et<$e.length;et++){var tt=$e[et],nt=n.findSlotIndex(tt.slot);if(-1==nt)throw new Error("Slot not found: ".concat(tt.slot));for(;Je!=nt;)Ke[Qe++]=Je++;qe[Je+tt.offset]=Je++}for(;Je<Ge;)Ke[Qe++]=Je++;for(var rt=Ge-1;rt>=0;rt--)-1==qe[rt]&&(qe[rt]=Ke[--Qe])}Xe.setFrame(We++,ze.time,qe)}i.push(Xe),a=Math.max(a,Xe.frames[Xe.getFrameCount()-1])}if(e.events){for(var it=new zt(e.events.length),at=0,ot=0;ot<e.events.length;ot++){var st=e.events[ot],ut=n.findEvent(st.name);if(null==ut)throw new Error("Event not found: ".concat(st.name));var lt=new bn(F.toSinglePrecision(st.time),ut);lt.intValue=this.getValue(st,"int",ut.intValue),lt.floatValue=this.getValue(st,"float",ut.floatValue),lt.stringValue=this.getValue(st,"string",ut.stringValue),null!=lt.data.audioPath&&(lt.volume=this.getValue(st,"volume",1),lt.balance=this.getValue(st,"balance",0)),it.setFrame(at++,lt)}i.push(it),a=Math.max(a,it.frames[it.getFrameCount()-1])}if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new It(t,i,a))}},{key:"readCurve",value:function(e,t,n){if(e.curve)if("stepped"===e.curve)t.setStepped(n);else if("[object Array]"===Object.prototype.toString.call(e.curve)){var r=e.curve;t.setCurve(n,r[0],r[1],r[2],r[3])}}},{key:"getValue",value:function(e,t,n){return void 0!==e[t]?e[t]:n}}],[{key:"blendModeFromString",value:function(e){if("normal"==(e=e.toLowerCase()))return x.T$.NORMAL;if("additive"==e)return x.T$.ADD;if("multiply"==e)return x.T$.MULTIPLY;if("screen"==e)return x.T$.SCREEN;throw new Error("Unknown blend mode: ".concat(e))}},{key:"positionModeFromString",value:function(e){if("fixed"==(e=e.toLowerCase()))return v.Fixed;if("percent"==e)return v.Percent;throw new Error("Unknown position mode: ".concat(e))}},{key:"spacingModeFromString",value:function(e){if("length"==(e=e.toLowerCase()))return En.Length;if("fixed"==e)return En.Fixed;if("percent"==e)return En.Percent;throw new Error("Unknown position mode: ".concat(e))}},{key:"rotateModeFromString",value:function(e){if("tangent"==(e=e.toLowerCase()))return m.Tangent;if("chain"==e)return m.Chain;if("chainscale"==e)return m.ChainScale;throw new Error("Unknown rotate mode: ".concat(e))}},{key:"transformModeFromString",value:function(e){if("normal"==(e=e.toLowerCase()))return g.Normal;if("onlytranslation"==e)return g.OnlyTranslation;if("norotationorreflection"==e)return g.NoRotationOrReflection;if("noscale"==e)return g.NoScale;if("noscaleorreflection"==e)return g.NoScaleOrReflection;throw new Error("Unknown transform mode: ".concat(e))}}]),e}(),Bn=(0,h.Z)((function e(t,n,r,i){(0,c.Z)(this,e),this.mesh=t,this.skin=n,this.slotIndex=r,this.parent=i})),Dn=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"createSkeleton",value:function(e){this.skeleton=new Pn(e),this.skeleton.updateWorldTransform(),this.stateData=new vn(e),this.state=new sn(this.stateData)}}]),n}(ne),Fn=(0,h.Z)((function e(t){if((0,c.Z)(this,e),!t)throw new Error("name cannot be null.");this.name=t})),Zn=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).id=n.nextID++,r.bones=null,r.vertices=[],r.worldVerticesLength=0,r.timelineAttachment=(0,ue.Z)(r),r}return(0,h.Z)(n,[{key:"computeWorldVerticesOld",value:function(e,t){this.computeWorldVertices(e,0,this.worldVerticesLength,t,0,2)}},{key:"computeWorldVertices",value:function(e,t,n,r,i,a){n=i+(n>>1)*a;var o=e.bone.skeleton,s=e.deform,u=this.vertices,l=this.bones;if(l){for(var c=0,h=0,f=0;f<t;f+=2){var d=l[c];c+=d+1,h+=d}var p=o.bones;if(0==s.length)for(var v=i,m=3*h;v<n;v+=a){var g=0,y=0,b=l[c++];for(b+=c;c<b;c++,m+=3){var x=p[l[c]].matrix,_=u[m],w=u[m+1],k=u[m+2];g+=(_*x.a+w*x.c+x.tx)*k,y+=(_*x.b+w*x.d+x.ty)*k}r[v]=g,r[v+1]=y}else for(var E=s,T=i,S=3*h,A=h<<1;T<n;T+=a){var M=0,P=0,C=l[c++];for(C+=c;c<C;c++,S+=3,A+=2){var I=p[l[c]].matrix,R=u[S]+E[A],O=u[S+1]+E[A+1],L=u[S+2];M+=(R*I.a+O*I.c+I.tx)*L,P+=(R*I.b+O*I.d+I.ty)*L}r[T]=M,r[T+1]=P}}else{s.length>0&&(u=s);for(var N=e.bone.matrix,B=N.tx,D=N.ty,F=N.a,Z=N.c,V=N.b,j=N.d,U=t,Y=i;Y<n;U+=2,Y+=a){var X=u[U],G=u[U+1];r[Y]=X*F+G*Z+B,r[Y+1]=X*V+G*j+D}}}},{key:"copyTo",value:function(e){this.bones?(e.bones=new Array(this.bones.length),F.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,this.vertices&&(e.vertices=F.newFloatArray(this.vertices.length),F.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)),e.worldVerticesLength=this.worldVerticesLength,e.timelineAttachment=this.timelineAttachment}}]),n}(Fn),Vn=Zn;Vn.nextID=0;var jn=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.BoundingBox,r.color=new O(1,1,1,1),r}return(0,h.Z)(n,[{key:"copy",value:function(){var e=new n(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e}}]),n}(Vn),Un=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.Clipping,r.endSlot=null,r.color=new O(.2275,.2275,.8078,1),r}return(0,h.Z)(n,[{key:"copy",value:function(){var e=new n(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e}}]),n}(Vn),Yn=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,e)).type=l.Mesh,i.region=null,i.triangles=[],i.color=new O(1,1,1,1),i.width=0,i.height=0,i.hullLength=0,i.edges=[],i.parentMesh=null,i.sequence=null,i.tempColor=new O(0,0,0,0),i.path=r,i}return(0,h.Z)(n,[{key:"getParentMesh",value:function(){return this.parentMesh}},{key:"setParentMesh",value:function(e){this.parentMesh=e,e&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)}},{key:"copy",value:function(){if(this.parentMesh)return this.newLinkedMesh();var e=new n(this.name,this.path);return e.region=this.region,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Float32Array(this.regionUVs.length),F.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.triangles=new Array(this.triangles.length),F.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,e.sequence=null!=this.sequence?this.sequence.copy():null,this.edges&&(e.edges=new Array(this.edges.length),F.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e}},{key:"computeWorldVertices",value:function(e,t,r,i,a,o){null!=this.sequence&&this.sequence.apply(e,this),(0,W.Z)((0,H.Z)(n.prototype),"computeWorldVertices",this).call(this,e,t,r,i,a,o)}},{key:"newLinkedMesh",value:function(){var e=new n(this.name,this.path);return e.region=this.region,e.color.setFromColor(this.color),e.timelineAttachment=this.timelineAttachment,e.setParentMesh(this.parentMesh?this.parentMesh:this),e}}]),n}(Vn),Xn=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.Path,r.lengths=[],r.closed=!1,r.constantSpeed=!1,r.color=new O(1,1,1,1),r}return(0,h.Z)(n,[{key:"copy",value:function(){var e=new n(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),F.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e}}]),n}(Vn),Gn=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).type=l.Point,r.x=0,r.y=0,r.rotation=0,r.color=new O(.38,.94,0,1),r}return(0,h.Z)(n,[{key:"computeWorldPosition",value:function(e,t){var n=e.matrix;return t.x=this.x*n.a+this.y*n.c+e.worldX,t.y=this.x*n.b+this.y*n.d+e.worldY,t}},{key:"computeWorldRotation",value:function(e){var t=e.matrix,n=N.cosDeg(this.rotation),r=N.sinDeg(this.rotation),i=n*t.a+r*t.c,a=n*t.b+r*t.d;return Math.atan2(a,i)*N.radDeg}},{key:"copy",value:function(){var e=new n(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e}}]),n}(Vn),Wn=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,e)).type=l.Region,i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new O(1,1,1,1),i.rendererObject=null,i.region=null,i.sequence=null,i.offset=F.newFloatArray(8),i.uvs=F.newFloatArray(8),i.tempColor=new O(1,1,1,1),i.path=r,i}return(0,h.Z)(n,[{key:"updateRegion",value:function(){if(!this.region)throw new Error("Region not set.");var e=this.region,t=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*n,a=r+this.region.width*t,o=i+this.region.height*n,s=this.rotation*Math.PI/180,u=Math.cos(s),l=Math.sin(s),c=this.x,h=this.y,f=r*u+c,d=r*l,p=i*u+h,v=i*l,m=a*u+c,g=a*l,y=o*u+h,b=o*l,x=this.offset;x[0]=f-v,x[1]=p+d,x[2]=f-b,x[3]=y+d,x[4]=m-b,x[5]=y+g,x[6]=m-v,x[7]=p+g;var _=this.uvs;90==e.degrees?(_[2]=e.u,_[3]=e.v2,_[4]=e.u,_[5]=e.v,_[6]=e.u2,_[7]=e.v,_[0]=e.u2,_[1]=e.v2):(_[0]=e.u,_[1]=e.v2,_[2]=e.u,_[3]=e.v,_[4]=e.u2,_[5]=e.v,_[6]=e.u2,_[7]=e.v2)}},{key:"computeWorldVertices",value:function(e,t,n,r){null!=this.sequence&&this.sequence.apply(e,this);var i=e.bone,a=this.offset,o=i.matrix,s=o.tx,u=o.ty,l=o.a,c=o.c,h=o.b,f=o.d,d=0,p=0;d=a[0],p=a[1],t[n]=d*l+p*c+s,t[n+1]=d*h+p*f+u,n+=r,d=a[2],p=a[3],t[n]=d*l+p*c+s,t[n+1]=d*h+p*f+u,n+=r,d=a[4],p=a[5],t[n]=d*l+p*c+s,t[n+1]=d*h+p*f+u,n+=r,d=a[6],p=a[7],t[n]=d*l+p*c+s,t[n+1]=d*h+p*f+u}},{key:"copy",value:function(){var e=new n(this.name,this.path);return e.region=this.region,e.rendererObject=this.rendererObject,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,F.arrayCopy(this.uvs,0,e.uvs,0,8),F.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e.sequence=null!=this.sequence?this.sequence.copy():null,e}}]),n}(Fn),Hn=Wn;Hn.X1=0,Hn.Y1=1,Hn.C1R=2,Hn.C1G=3,Hn.C1B=4,Hn.C1A=5,Hn.U1=6,Hn.V1=7,Hn.X2=8,Hn.Y2=9,Hn.C2R=10,Hn.C2G=11,Hn.C2B=12,Hn.C2A=13,Hn.U2=14,Hn.V2=15,Hn.X3=16,Hn.Y3=17,Hn.C3R=18,Hn.C3G=19,Hn.C3B=20,Hn.C3A=21,Hn.U3=22,Hn.V3=23,Hn.X4=24,Hn.Y4=25,Hn.C4R=26,Hn.C4G=27,Hn.C4B=28,Hn.C4A=29,Hn.U4=30,Hn.V4=31;var zn=function(){function e(t){(0,c.Z)(this,e),this.id=e.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(t)}return(0,h.Z)(e,[{key:"copy",value:function(){var t=new e(this.regions.length);return F.arrayCopy(this.regions,0,t.regions,0,this.regions.length),t.start=this.start,t.digits=this.digits,t.setupIndex=this.setupIndex,t}},{key:"apply",value:function(e,t){var n=e.sequenceIndex;-1==n&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var r=this.regions[n];t.region!=r&&(t.region=r)}},{key:"getPath",value:function(e,t){for(var n=e,r=(this.start+t).toString(),i=this.digits-r.length;i>0;i--)n+="0";return n+=r}}],[{key:"nextID",value:function(){return e._nextID++}}]),e}();zn._nextID=0;var qn=function(e){return e[e.hold=0]="hold",e[e.once=1]="once",e[e.loop=2]="loop",e[e.pingpong=3]="pingpong",e[e.onceReverse=4]="onceReverse",e[e.loopReverse=5]="loopReverse",e[e.pingpongReverse=6]="pingpongReverse",e}(qn||{}),$n=[0,1,2,3,4,5,6],Kn=function(){function e(t,n,r){if((0,c.Z)(this,e),this.timelines=[],this.timelineIds=new I,!t)throw new Error("name cannot be null.");this.name=t,this.setTimelines(n),this.duration=r}return(0,h.Z)(e,[{key:"setTimelines",value:function(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var t=0;t<e.length;t++)this.timelineIds.addAll(e[t].getPropertyIds())}},{key:"hasTimeline",value:function(e){for(var t=0;t<e.length;t++)if(this.timelineIds.contains(e[t]))return!0;return!1}},{key:"apply",value:function(e,t,n,r,i,a,o,s){if(!e)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,t>0&&(t%=this.duration));for(var u=this.timelines,l=0,c=u.length;l<c;l++)u[l].apply(e,t,n,i,a,o,s)}}]),e}(),Jn=0,Qn=1,er=2,tr=3,nr=4,rr=5,ir=6,ar=7,or=8,sr=9,ur=10,lr=11,cr=12,hr=13,fr=14,dr=15,pr=16,vr=17,mr=18,gr=19,yr=function(){function e(t,n){(0,c.Z)(this,e),this.propertyIds=n,this.frames=F.newFloatArray(t*this.getFrameEntries())}return(0,h.Z)(e,[{key:"getPropertyIds",value:function(){return this.propertyIds}},{key:"getFrameEntries",value:function(){return 1}},{key:"getFrameCount",value:function(){return this.frames.length/this.getFrameEntries()}},{key:"getDuration",value:function(){return this.frames[this.frames.length-this.getFrameEntries()]}}],[{key:"search1",value:function(e,t){for(var n=e.length,r=1;r<n;r++)if(e[r]>t)return r-1;return n-1}},{key:"search",value:function(e,t,n){for(var r=e.length,i=n;i<r;i+=n)if(e[i]>t)return i-n;return r-n}}]),e}(),br=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,i)).curves=F.newFloatArray(e+18*r),a.curves[e-1]=1,a}return(0,h.Z)(n,[{key:"setLinear",value:function(e){this.curves[e]=0}},{key:"setStepped",value:function(e){this.curves[e]=1}},{key:"shrink",value:function(e){var t=this.getFrameCount()+18*e;if(this.curves.length>t){var n=F.newFloatArray(t);F.arrayCopy(this.curves,0,n,0,t),this.curves=n}}},{key:"setBezier",value:function(e,t,n,r,i,a,o,s,u,l,c){var h=this.curves,f=this.getFrameCount()+18*e;0==n&&(h[t]=2+f);for(var d=.03*(r-2*a+s),p=.03*(i-2*o+u),v=.006*(3*(a-s)-r+l),m=.006*(3*(o-u)-i+c),g=2*d+v,y=2*p+m,b=.3*(a-r)+d+.16666667*v,x=.3*(o-i)+p+.16666667*m,_=r+b,w=i+x,k=f+18;f<k;f+=2)h[f]=_,h[f+1]=w,b+=g,x+=y,g+=v,y+=m,_+=b,w+=x}},{key:"getBezierValue",value:function(e,t,n,r){var i=this.curves;if(i[r]>e){var a=this.frames[t],o=this.frames[t+n];return o+(e-a)/(i[r]-a)*(i[r+1]-o)}var s=r+18;for(r+=2;r<s;r+=2)if(i[r]>=e){var u=i[r-2],l=i[r-1];return l+(e-u)/(i[r]-u)*(i[r+1]-l)}t+=this.getFrameEntries();var c=i[s-2],h=i[s-1];return h+(e-c)/(this.frames[t]-c)*(this.frames[t+n]-h)}}]),n}(yr),xr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){return(0,c.Z)(this,n),t.call(this,e,r,[i])}return(0,h.Z)(n,[{key:"getFrameEntries",value:function(){return 2}},{key:"setFrame",value:function(e,t,n){e<<=1,this.frames[e]=t,this.frames[e+1]=n}},{key:"getCurveValue",value:function(e){for(var t=this.frames,n=t.length-2,r=2;r<=n;r+=2)if(t[r]>e){n=r-2;break}var i=this.curves[n>>1];switch(i){case 0:var a=t[n],o=t[n+1];return o+(e-a)/(t[n+2]-a)*(t[n+2+1]-o);case 1:return t[n+1]}return this.getBezierValue(e,n,1,i-2)}}]),n}(br),_r=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i,a){return(0,c.Z)(this,n),t.call(this,e,r,[i,a])}return(0,h.Z)(n,[{key:"getFrameEntries",value:function(){return 3}},{key:"setFrame",value:function(e,t,n,r){e*=3,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=r}}]),n}(br),wr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,"".concat(Jn,"|").concat(i))).boneIndex=0,a.boneIndex=i,a}return(0,h.Z)(n,[{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(a){case d.setup:return void(s.rotation=s.data.rotation);case d.first:s.rotation+=(s.data.rotation-s.rotation)*i}else{var u=this.getCurveValue(n);switch(a){case d.setup:s.rotation=s.data.rotation+u*i;break;case d.first:case d.replace:u+=s.data.rotation-s.rotation;case d.add:s.rotation+=u*i}}}}]),n}(xr),kr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,"".concat(Qn,"|").concat(i),"".concat(er,"|").concat(i))).boneIndex=0,a.boneIndex=i,a}return(0,h.Z)(n,[{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.bones[this.boneIndex];if(s.active){var u=this.frames;if(n<u[0])switch(a){case d.setup:return s.x=s.data.x,void(s.y=s.data.y);case d.first:s.x+=(s.data.x-s.x)*i,s.y+=(s.data.y-s.y)*i}else{var l=0,c=0,h=yr.search(u,n,3),f=this.curves[h/3];switch(f){case 0:var p=u[h];l=u[h+1],c=u[h+2];var v=(n-p)/(u[h+3]-p);l+=(u[h+3+1]-l)*v,c+=(u[h+3+2]-c)*v;break;case 1:l=u[h+1],c=u[h+2];break;default:l=this.getBezierValue(n,h,1,f-2),c=this.getBezierValue(n,h,2,f+18-2)}switch(a){case d.setup:s.x=s.data.x+l*i,s.y=s.data.y+c*i;break;case d.first:case d.replace:s.x+=(s.data.x+l-s.x)*i,s.y+=(s.data.y+c-s.y)*i;break;case d.add:s.x+=l*i,s.y+=c*i}}}}}]),n}(_r),Er=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,"".concat(Qn,"|").concat(i))).boneIndex=0,a.boneIndex=i,a}return(0,h.Z)(n,[{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(a){case d.setup:return void(s.x=s.data.x);case d.first:s.x+=(s.data.x-s.x)*i}else{var u=this.getCurveValue(n);switch(a){case d.setup:s.x=s.data.x+u*i;break;case d.first:case d.replace:s.x+=(s.data.x+u-s.x)*i;break;case d.add:s.x+=u*i}}}}]),n}(xr),Tr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,"".concat(er,"|").concat(i))).boneIndex=0,a.boneIndex=i,a}return(0,h.Z)(n,[{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(a){case d.setup:return void(s.y=s.data.y);case d.first:s.y+=(s.data.y-s.y)*i}else{var u=this.getCurveValue(n);switch(a){case d.setup:s.y=s.data.y+u*i;break;case d.first:case d.replace:s.y+=(s.data.y+u-s.y)*i;break;case d.add:s.y+=u*i}}}}]),n}(xr),Sr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,"".concat(tr,"|").concat(i),"".concat(nr,"|").concat(i))).boneIndex=0,a.boneIndex=i,a}return(0,h.Z)(n,[{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.bones[this.boneIndex];if(s.active){var u=this.frames;if(n<u[0])switch(a){case d.setup:return s.scaleX=s.data.scaleX,void(s.scaleY=s.data.scaleY);case d.first:s.scaleX+=(s.data.scaleX-s.scaleX)*i,s.scaleY+=(s.data.scaleY-s.scaleY)*i}else{var l,c,h=yr.search(u,n,3),f=this.curves[h/3];switch(f){case 0:var v=u[h];l=u[h+1],c=u[h+2];var m=(n-v)/(u[h+3]-v);l+=(u[h+3+1]-l)*m,c+=(u[h+3+2]-c)*m;break;case 1:l=u[h+1],c=u[h+2];break;default:l=this.getBezierValue(n,h,1,f-2),c=this.getBezierValue(n,h,2,f+18-2)}if(l*=s.data.scaleX,c*=s.data.scaleY,1==i)a==d.add?(s.scaleX+=l-s.data.scaleX,s.scaleY+=c-s.data.scaleY):(s.scaleX=l,s.scaleY=c);else{var g=0,y=0;if(o==p.mixOut)switch(a){case d.setup:g=s.data.scaleX,y=s.data.scaleY,s.scaleX=g+(Math.abs(l)*N.signum(g)-g)*i,s.scaleY=y+(Math.abs(c)*N.signum(y)-y)*i;break;case d.first:case d.replace:g=s.scaleX,y=s.scaleY,s.scaleX=g+(Math.abs(l)*N.signum(g)-g)*i,s.scaleY=y+(Math.abs(c)*N.signum(y)-y)*i;break;case d.add:s.scaleX+=(l-s.data.scaleX)*i,s.scaleY+=(c-s.data.scaleY)*i}else switch(a){case d.setup:g=Math.abs(s.data.scaleX)*N.signum(l),y=Math.abs(s.data.scaleY)*N.signum(c),s.scaleX=g+(l-g)*i,s.scaleY=y+(c-y)*i;break;case d.first:case d.replace:g=Math.abs(s.scaleX)*N.signum(l),y=Math.abs(s.scaleY)*N.signum(c),s.scaleX=g+(l-g)*i,s.scaleY=y+(c-y)*i;break;case d.add:s.scaleX+=(l-s.data.scaleX)*i,s.scaleY+=(c-s.data.scaleY)*i}}}}}}]),n}(_r),Ar=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,"".concat(tr,"|").concat(i))).boneIndex=0,a.boneIndex=i,a}return(0,h.Z)(n,[{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(a){case d.setup:return void(s.scaleX=s.data.scaleX);case d.first:s.scaleX+=(s.data.scaleX-s.scaleX)*i}else{var u=this.getCurveValue(n)*s.data.scaleX;if(1==i)a==d.add?s.scaleX+=u-s.data.scaleX:s.scaleX=u;else{var l=0;if(o==p.mixOut)switch(a){case d.setup:l=s.data.scaleX,s.scaleX=l+(Math.abs(u)*N.signum(l)-l)*i;break;case d.first:case d.replace:l=s.scaleX,s.scaleX=l+(Math.abs(u)*N.signum(l)-l)*i;break;case d.add:s.scaleX+=(u-s.data.scaleX)*i}else switch(a){case d.setup:l=Math.abs(s.data.scaleX)*N.signum(u),s.scaleX=l+(u-l)*i;break;case d.first:case d.replace:l=Math.abs(s.scaleX)*N.signum(u),s.scaleX=l+(u-l)*i;break;case d.add:s.scaleX+=(u-s.data.scaleX)*i}}}}}]),n}(xr),Mr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,"".concat(nr,"|").concat(i))).boneIndex=0,a.boneIndex=i,a}return(0,h.Z)(n,[{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(a){case d.setup:return void(s.scaleY=s.data.scaleY);case d.first:s.scaleY+=(s.data.scaleY-s.scaleY)*i}else{var u=this.getCurveValue(n)*s.data.scaleY;if(1==i)a==d.add?s.scaleY+=u-s.data.scaleY:s.scaleY=u;else{var l=0;if(o==p.mixOut)switch(a){case d.setup:l=s.data.scaleY,s.scaleY=l+(Math.abs(u)*N.signum(l)-l)*i;break;case d.first:case d.replace:l=s.scaleY,s.scaleY=l+(Math.abs(u)*N.signum(l)-l)*i;break;case d.add:s.scaleY+=(u-s.data.scaleY)*i}else switch(a){case d.setup:l=Math.abs(s.data.scaleY)*N.signum(u),s.scaleY=l+(u-l)*i;break;case d.first:case d.replace:l=Math.abs(s.scaleY)*N.signum(u),s.scaleY=l+(u-l)*i;break;case d.add:s.scaleY+=(u-s.data.scaleY)*i}}}}}]),n}(xr),Pr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,"".concat(rr,"|").concat(i),"".concat(ir,"|").concat(i))).boneIndex=0,a.boneIndex=i,a}return(0,h.Z)(n,[{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.bones[this.boneIndex];if(s.active){var u=this.frames;if(n<u[0])switch(a){case d.setup:return s.shearX=s.data.shearX,void(s.shearY=s.data.shearY);case d.first:s.shearX+=(s.data.shearX-s.shearX)*i,s.shearY+=(s.data.shearY-s.shearY)*i}else{var l=0,c=0,h=yr.search(u,n,3),f=this.curves[h/3];switch(f){case 0:var p=u[h];l=u[h+1],c=u[h+2];var v=(n-p)/(u[h+3]-p);l+=(u[h+3+1]-l)*v,c+=(u[h+3+2]-c)*v;break;case 1:l=u[h+1],c=u[h+2];break;default:l=this.getBezierValue(n,h,1,f-2),c=this.getBezierValue(n,h,2,f+18-2)}switch(a){case d.setup:s.shearX=s.data.shearX+l*i,s.shearY=s.data.shearY+c*i;break;case d.first:case d.replace:s.shearX+=(s.data.shearX+l-s.shearX)*i,s.shearY+=(s.data.shearY+c-s.shearY)*i;break;case d.add:s.shearX+=l*i,s.shearY+=c*i}}}}}]),n}(_r),Cr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,"".concat(rr,"|").concat(i))).boneIndex=0,a.boneIndex=i,a}return(0,h.Z)(n,[{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(a){case d.setup:return void(s.shearX=s.data.shearX);case d.first:s.shearX+=(s.data.shearX-s.shearX)*i}else{var u=this.getCurveValue(n);switch(a){case d.setup:s.shearX=s.data.shearX+u*i;break;case d.first:case d.replace:s.shearX+=(s.data.shearX+u-s.shearX)*i;break;case d.add:s.shearX+=u*i}}}}]),n}(xr),Ir=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,"".concat(ir,"|").concat(i))).boneIndex=0,a.boneIndex=i,a}return(0,h.Z)(n,[{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(a){case d.setup:return void(s.shearY=s.data.shearY);case d.first:s.shearY+=(s.data.shearY-s.shearY)*i}else{var u=this.getCurveValue(n);switch(a){case d.setup:s.shearY=s.data.shearY+u*i;break;case d.first:case d.replace:s.shearY+=(s.data.shearY+u-s.shearY)*i;break;case d.add:s.shearY+=u*i}}}}]),n}(xr),Rr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,["".concat(ar,"|").concat(i),"".concat(or,"|").concat(i)])).slotIndex=0,a.slotIndex=i,a}return(0,h.Z)(n,[{key:"getFrameEntries",value:function(){return 5}},{key:"setFrame",value:function(e,t,n,r,i,a){e*=5,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=a}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.slots[this.slotIndex];if(s.bone.active){var u=this.frames,l=s.color;if(n<u[0]){var c=s.data.color;switch(a){case d.setup:return void l.setFromColor(c);case d.first:l.add((c.r-l.r)*i,(c.g-l.g)*i,(c.b-l.b)*i,(c.a-l.a)*i)}}else{var h=0,f=0,p=0,v=0,m=yr.search(u,n,5),g=this.curves[m/5];switch(g){case 0:var y=u[m];h=u[m+1],f=u[m+2],p=u[m+3],v=u[m+4];var b=(n-y)/(u[m+5]-y);h+=(u[m+5+1]-h)*b,f+=(u[m+5+2]-f)*b,p+=(u[m+5+3]-p)*b,v+=(u[m+5+4]-v)*b;break;case 1:h=u[m+1],f=u[m+2],p=u[m+3],v=u[m+4];break;default:h=this.getBezierValue(n,m,1,g-2),f=this.getBezierValue(n,m,2,g+18-2),p=this.getBezierValue(n,m,3,g+36-2),v=this.getBezierValue(n,m,4,g+54-2)}1==i?l.set(h,f,p,v):(a==d.setup&&l.setFromColor(s.data.color),l.add((h-l.r)*i,(f-l.g)*i,(p-l.b)*i,(v-l.a)*i))}}}}]),n}(br),Or=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,["".concat(ar,"|").concat(i)])).slotIndex=0,a.slotIndex=i,a}return(0,h.Z)(n,[{key:"getFrameEntries",value:function(){return 4}},{key:"setFrame",value:function(e,t,n,r,i){e<<=2,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.slots[this.slotIndex];if(s.bone.active){var u=this.frames,l=s.color;if(n<u[0]){var c=s.data.color;switch(a){case d.setup:return l.r=c.r,l.g=c.g,void(l.b=c.b);case d.first:l.r+=(c.r-l.r)*i,l.g+=(c.g-l.g)*i,l.b+=(c.b-l.b)*i}}else{var h=0,f=0,p=0,v=yr.search(u,n,4),m=this.curves[v>>2];switch(m){case 0:var g=u[v];h=u[v+1],f=u[v+2],p=u[v+3];var y=(n-g)/(u[v+4]-g);h+=(u[v+4+1]-h)*y,f+=(u[v+4+2]-f)*y,p+=(u[v+4+3]-p)*y;break;case 1:h=u[v+1],f=u[v+2],p=u[v+3];break;default:h=this.getBezierValue(n,v,1,m-2),f=this.getBezierValue(n,v,2,m+18-2),p=this.getBezierValue(n,v,3,m+36-2)}if(1==i)l.r=h,l.g=f,l.b=p;else{if(a==d.setup){var b=s.data.color;l.r=b.r,l.g=b.g,l.b=b.b}l.r+=(h-l.r)*i,l.g+=(f-l.g)*i,l.b+=(p-l.b)*i}}}}}]),n}(br),Lr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,"".concat(or,"|").concat(i))).slotIndex=0,a.slotIndex=i,a}return(0,h.Z)(n,[{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.slots[this.slotIndex];if(s.bone.active){var u=s.color;if(n<this.frames[0]){var l=s.data.color;switch(a){case d.setup:return void(u.a=l.a);case d.first:u.a+=(l.a-u.a)*i}}else{var c=this.getCurveValue(n);1==i?u.a=c:(a==d.setup&&(u.a=s.data.color.a),u.a+=(c-u.a)*i)}}}}]),n}(xr),Nr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,["".concat(ar,"|").concat(i),"".concat(or,"|").concat(i),"".concat(sr,"|").concat(i)])).slotIndex=0,a.slotIndex=i,a}return(0,h.Z)(n,[{key:"getFrameEntries",value:function(){return 8}},{key:"setFrame",value:function(e,t,n,r,i,a,o,s,u){e<<=3,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=a,this.frames[e+5]=o,this.frames[e+6]=s,this.frames[e+7]=u}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.slots[this.slotIndex];if(s.bone.active){var u=this.frames,l=s.color,c=s.darkColor;if(n<u[0]){var h=s.data.color,f=s.data.darkColor;switch(a){case d.setup:return l.setFromColor(h),c.r=f.r,c.g=f.g,void(c.b=f.b);case d.first:l.add((h.r-l.r)*i,(h.g-l.g)*i,(h.b-l.b)*i,(h.a-l.a)*i),c.r+=(f.r-c.r)*i,c.g+=(f.g-c.g)*i,c.b+=(f.b-c.b)*i}}else{var p=0,v=0,m=0,g=0,y=0,b=0,x=0,_=yr.search(u,n,8),w=this.curves[_>>3];switch(w){case 0:var k=u[_];p=u[_+1],v=u[_+2],m=u[_+3],g=u[_+4],y=u[_+5],b=u[_+6],x=u[_+7];var E=(n-k)/(u[_+8]-k);p+=(u[_+8+1]-p)*E,v+=(u[_+8+2]-v)*E,m+=(u[_+8+3]-m)*E,g+=(u[_+8+4]-g)*E,y+=(u[_+8+5]-y)*E,b+=(u[_+8+6]-b)*E,x+=(u[_+8+7]-x)*E;break;case 1:p=u[_+1],v=u[_+2],m=u[_+3],g=u[_+4],y=u[_+5],b=u[_+6],x=u[_+7];break;default:p=this.getBezierValue(n,_,1,w-2),v=this.getBezierValue(n,_,2,w+18-2),m=this.getBezierValue(n,_,3,w+36-2),g=this.getBezierValue(n,_,4,w+54-2),y=this.getBezierValue(n,_,5,w+72-2),b=this.getBezierValue(n,_,6,w+90-2),x=this.getBezierValue(n,_,7,w+108-2)}if(1==i)l.set(p,v,m,g),c.r=y,c.g=b,c.b=x;else{if(a==d.setup){l.setFromColor(s.data.color);var T=s.data.darkColor;c.r=T.r,c.g=T.g,c.b=T.b}l.add((p-l.r)*i,(v-l.g)*i,(m-l.b)*i,(g-l.a)*i),c.r+=(y-c.r)*i,c.g+=(b-c.g)*i,c.b+=(x-c.b)*i}}}}}]),n}(br),Br=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,["".concat(ar,"|").concat(i),"".concat(sr,"|").concat(i)])).slotIndex=0,a.slotIndex=i,a}return(0,h.Z)(n,[{key:"getFrameEntries",value:function(){return 7}},{key:"setFrame",value:function(e,t,n,r,i,a,o,s){e*=7,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=a,this.frames[e+5]=o,this.frames[e+6]=s}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.slots[this.slotIndex];if(s.bone.active){var u=this.frames,l=s.color,c=s.darkColor;if(n<u[0]){var h=s.data.color,f=s.data.darkColor;switch(a){case d.setup:return l.r=h.r,l.g=h.g,l.b=h.b,c.r=f.r,c.g=f.g,void(c.b=f.b);case d.first:l.r+=(h.r-l.r)*i,l.g+=(h.g-l.g)*i,l.b+=(h.b-l.b)*i,c.r+=(f.r-c.r)*i,c.g+=(f.g-c.g)*i,c.b+=(f.b-c.b)*i}}else{var p=0,v=0,m=0,g=0,y=0,b=0,x=yr.search(u,n,7),_=this.curves[x/7];switch(_){case 0:var w=u[x];p=u[x+1],v=u[x+2],m=u[x+3],g=u[x+4],y=u[x+5],b=u[x+6];var k=(n-w)/(u[x+7]-w);p+=(u[x+7+1]-p)*k,v+=(u[x+7+2]-v)*k,m+=(u[x+7+3]-m)*k,g+=(u[x+7+4]-g)*k,y+=(u[x+7+5]-y)*k,b+=(u[x+7+6]-b)*k;break;case 1:p=u[x+1],v=u[x+2],m=u[x+3],g=u[x+4],y=u[x+5],b=u[x+6];break;default:p=this.getBezierValue(n,x,1,_-2),v=this.getBezierValue(n,x,2,_+18-2),m=this.getBezierValue(n,x,3,_+36-2),g=this.getBezierValue(n,x,4,_+54-2),y=this.getBezierValue(n,x,5,_+72-2),b=this.getBezierValue(n,x,6,_+90-2)}if(1==i)l.r=p,l.g=v,l.b=m,c.r=g,c.g=y,c.b=b;else{if(a==d.setup){var E=s.data.color,T=s.data.darkColor;l.r=E.r,l.g=E.g,l.b=E.b,c.r=T.r,c.g=T.g,c.b=T.b}l.r+=(p-l.r)*i,l.g+=(v-l.g)*i,l.b+=(m-l.b)*i,c.r+=(g-c.r)*i,c.g+=(y-c.g)*i,c.b+=(b-c.b)*i}}}}}]),n}(br),Dr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,e,["".concat(ur,"|").concat(r)])).slotIndex=0,i.slotIndex=r,i.attachmentNames=new Array(e),i}return(0,h.Z)(n,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.attachmentNames[e]=n}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.slots[this.slotIndex];s.bone.active&&(o!=p.mixOut?n<this.frames[0]?a!=d.setup&&a!=d.first||this.setAttachment(e,s,s.data.attachmentName):this.setAttachment(e,s,this.attachmentNames[yr.search1(this.frames,n)]):a==d.setup&&this.setAttachment(e,s,s.data.attachmentName))}},{key:"setAttachment",value:function(e,t,n){t.setAttachment(n?e.getAttachment(this.slotIndex,n):null)}}]),n}(yr),Fr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i,a){var o;return(0,c.Z)(this,n),(o=t.call(this,e,r,["".concat(lr,"|").concat(i,"|").concat(a.id)])).slotIndex=0,o.slotIndex=i,o.attachment=a,o.vertices=new Array(e),o}return(0,h.Z)(n,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.vertices[e]=n}},{key:"setBezier",value:function(e,t,n,r,i,a,o,s,u,l,c){var h=this.curves,f=this.getFrameCount()+18*e;0==n&&(h[t]=2+f);for(var d=.03*(r-2*a+s),p=.03*u-.06*o,v=.006*(3*(a-s)-r+l),m=.018*(o-u+.33333333),g=2*d+v,y=2*p+m,b=.3*(a-r)+d+.16666667*v,x=.3*o+p+.16666667*m,_=r+b,w=x,k=f+18;f<k;f+=2)h[f]=_,h[f+1]=w,b+=g,x+=y,g+=v,y+=m,_+=b,w+=x}},{key:"getCurvePercent",value:function(e,t){var n=this.curves,r=n[t];switch(r){case 0:var i=this.frames[t];return(e-i)/(this.frames[t+this.getFrameEntries()]-i);case 1:return 0}if(n[r-=2]>e){var a=this.frames[t];return n[r+1]*(e-a)/(n[r]-a)}var o=r+18;for(r+=2;r<o;r+=2)if(n[r]>=e){var s=n[r-2],u=n[r-1];return u+(e-s)/(n[r]-s)*(n[r+1]-u)}var l=n[o-2],c=n[o-1];return c+(1-c)*(e-l)/(this.frames[t+this.getFrameEntries()]-l)}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.slots[this.slotIndex];if(s.bone.active){var u=s.getAttachment();if(u&&u instanceof Vn&&u.timelineAttachment==this.attachment){var l=s.deform;0==l.length&&(a=d.setup);var c=this.vertices,h=c[0].length,f=this.frames;if(n<f[0])switch(a){case d.setup:return void(l.length=0);case d.first:if(1==i)return void(l.length=0);l.length=h;var p=u;if(p.bones){i=1-i;for(var v=0;v<h;v++)l[v]*=i}else for(var m=p.vertices,g=0;g<h;g++)l[g]+=(m[g]-l[g])*i}else if(l.length=h,n>=f[f.length-1]){var y=c[f.length-1];if(1==i)if(a==d.add){var b=u;if(b.bones)for(var x=0;x<h;x++)l[x]+=y[x];else for(var _=b.vertices,w=0;w<h;w++)l[w]+=y[w]-_[w]}else F.arrayCopy(y,0,l,0,h);else switch(a){case d.setup:var k=u;if(k.bones)for(var E=0;E<h;E++)l[E]=y[E]*i;else for(var T=k.vertices,S=0;S<h;S++){var A=T[S];l[S]=A+(y[S]-A)*i}break;case d.first:case d.replace:for(var M=0;M<h;M++)l[M]+=(y[M]-l[M])*i;break;case d.add:var P=u;if(P.bones)for(var C=0;C<h;C++)l[C]+=y[C]*i;else for(var I=P.vertices,R=0;R<h;R++)l[R]+=(y[R]-I[R])*i}}else{var O=yr.search1(f,n),L=this.getCurvePercent(n,O),N=c[O],B=c[O+1];if(1==i)if(a==d.add){var D=u;if(D.bones)for(var Z=0;Z<h;Z++){var V=N[Z];l[Z]+=V+(B[Z]-V)*L}else for(var j=D.vertices,U=0;U<h;U++){var Y=N[U];l[U]+=Y+(B[U]-Y)*L-j[U]}}else for(var X=0;X<h;X++){var G=N[X];l[X]=G+(B[X]-G)*L}else switch(a){case d.setup:var W=u;if(W.bones)for(var H=0;H<h;H++){var z=N[H];l[H]=(z+(B[H]-z)*L)*i}else for(var q=W.vertices,$=0;$<h;$++){var K=N[$],J=q[$];l[$]=J+(K+(B[$]-K)*L-J)*i}break;case d.first:case d.replace:for(var Q=0;Q<h;Q++){var ee=N[Q];l[Q]+=(ee+(B[Q]-ee)*L-l[Q])*i}break;case d.add:var te=u;if(te.bones)for(var ne=0;ne<h;ne++){var re=N[ne];l[ne]+=(re+(B[ne]-re)*L)*i}else for(var ie=te.vertices,ae=0;ae<h;ae++){var oe=N[ae];l[ae]+=(oe+(B[ae]-oe)*L-ie[ae])*i}}}}}}}]),n}(br),Zr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e,n.propertyIds)).events=new Array(e),r}return(0,h.Z)(n,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t){this.frames[e]=t.time,this.events[e]=t}},{key:"apply",value:function(e,t,n,r,i,a,o){if(r){var s=this.frames,u=this.frames.length;if(t>n)this.apply(e,t,Number.MAX_VALUE,r,i,a,o),t=-1;else if(t>=s[u-1])return;if(!(n<s[0])){var l=0;if(t<s[0])l=0;else for(var c=s[l=yr.search1(s,t)+1];l>0&&s[l-1]==c;)l--;for(;l<u&&n>=s[l];l++)r.push(this.events[l])}}}}]),n}(yr);Zr.propertyIds=["".concat(cr)];var Vr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e,n.propertyIds)).drawOrders=new Array(e),r}return(0,h.Z)(n,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,n){this.frames[e]=t,this.drawOrders[e]=n}},{key:"apply",value:function(e,t,n,r,i,a,o){if(o!=p.mixOut)if(n<this.frames[0])a!=d.setup&&a!=d.first||F.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var s=yr.search1(this.frames,n),u=this.drawOrders[s];if(u)for(var l=e.drawOrder,c=e.slots,h=0,f=u.length;h<f;h++)l[h]=c[u[h]];else F.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length)}else a==d.setup&&F.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length)}}]),n}(yr);Vr.propertyIds=["".concat(hr)];var jr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,["".concat(fr,"|").concat(i)])).ikConstraintIndex=0,a.ikConstraintIndex=i,a}return(0,h.Z)(n,[{key:"getFrameEntries",value:function(){return 6}},{key:"setFrame",value:function(e,t,n,r,i,a,o){e*=6,this.frames[e]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=a?1:0,this.frames[e+5]=o?1:0}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.ikConstraints[this.ikConstraintIndex];if(s.active){var u=this.frames;if(n<u[0])switch(a){case d.setup:return s.mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,void(s.stretch=s.data.stretch);case d.first:s.mix+=(s.data.mix-s.mix)*i,s.softness+=(s.data.softness-s.softness)*i,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch}else{var l=0,c=0,h=yr.search(u,n,6),f=this.curves[h/6];switch(f){case 0:var v=u[h];l=u[h+1],c=u[h+2];var m=(n-v)/(u[h+6]-v);l+=(u[h+6+1]-l)*m,c+=(u[h+6+2]-c)*m;break;case 1:l=u[h+1],c=u[h+2];break;default:l=this.getBezierValue(n,h,1,f-2),c=this.getBezierValue(n,h,2,f+18-2)}a==d.setup?(s.mix=s.data.mix+(l-s.data.mix)*i,s.softness=s.data.softness+(c-s.data.softness)*i,o==p.mixOut?(s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch):(s.bendDirection=u[h+3],s.compress=0!=u[h+4],s.stretch=0!=u[h+5])):(s.mix+=(l-s.mix)*i,s.softness+=(c-s.softness)*i,o==p.mixIn&&(s.bendDirection=u[h+3],s.compress=0!=u[h+4],s.stretch=0!=u[h+5]))}}}}]),n}(br),Ur=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,["".concat(dr,"|").concat(i)])).transformConstraintIndex=0,a.transformConstraintIndex=i,a}return(0,h.Z)(n,[{key:"getFrameEntries",value:function(){return 7}},{key:"setFrame",value:function(e,t,n,r,i,a,o,s){var u=this.frames;u[e*=7]=t,u[e+1]=n,u[e+2]=r,u[e+3]=i,u[e+4]=a,u[e+5]=o,u[e+6]=s}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.transformConstraints[this.transformConstraintIndex];if(s.active){var u=this.frames;if(n<u[0]){var l=s.data;switch(a){case d.setup:return s.mixRotate=l.mixRotate,s.mixX=l.mixX,s.mixY=l.mixY,s.mixScaleX=l.mixScaleX,s.mixScaleY=l.mixScaleY,void(s.mixShearY=l.mixShearY);case d.first:s.mixRotate+=(l.mixRotate-s.mixRotate)*i,s.mixX+=(l.mixX-s.mixX)*i,s.mixY+=(l.mixY-s.mixY)*i,s.mixScaleX+=(l.mixScaleX-s.mixScaleX)*i,s.mixScaleY+=(l.mixScaleY-s.mixScaleY)*i,s.mixShearY+=(l.mixShearY-s.mixShearY)*i}}else{var c,h,f,p,v,m,g=yr.search(u,n,7),y=this.curves[g/7];switch(y){case 0:var b=u[g];c=u[g+1],h=u[g+2],f=u[g+3],p=u[g+4],v=u[g+5],m=u[g+6];var x=(n-b)/(u[g+7]-b);c+=(u[g+7+1]-c)*x,h+=(u[g+7+2]-h)*x,f+=(u[g+7+3]-f)*x,p+=(u[g+7+4]-p)*x,v+=(u[g+7+5]-v)*x,m+=(u[g+7+6]-m)*x;break;case 1:c=u[g+1],h=u[g+2],f=u[g+3],p=u[g+4],v=u[g+5],m=u[g+6];break;default:c=this.getBezierValue(n,g,1,y-2),h=this.getBezierValue(n,g,2,y+18-2),f=this.getBezierValue(n,g,3,y+36-2),p=this.getBezierValue(n,g,4,y+54-2),v=this.getBezierValue(n,g,5,y+72-2),m=this.getBezierValue(n,g,6,y+90-2)}if(a==d.setup){var _=s.data;s.mixRotate=_.mixRotate+(c-_.mixRotate)*i,s.mixX=_.mixX+(h-_.mixX)*i,s.mixY=_.mixY+(f-_.mixY)*i,s.mixScaleX=_.mixScaleX+(p-_.mixScaleX)*i,s.mixScaleY=_.mixScaleY+(v-_.mixScaleY)*i,s.mixShearY=_.mixShearY+(m-_.mixShearY)*i}else s.mixRotate+=(c-s.mixRotate)*i,s.mixX+=(h-s.mixX)*i,s.mixY+=(f-s.mixY)*i,s.mixScaleX+=(p-s.mixScaleX)*i,s.mixScaleY+=(v-s.mixScaleY)*i,s.mixShearY+=(m-s.mixShearY)*i}}}}]),n}(br),Yr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,"".concat(pr,"|").concat(i))).pathConstraintIndex=0,a.pathConstraintIndex=i,a}return(0,h.Z)(n,[{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.pathConstraints[this.pathConstraintIndex];if(s.active)if(n<this.frames[0])switch(a){case d.setup:return void(s.position=s.data.position);case d.first:s.position+=(s.data.position-s.position)*i}else{var u=this.getCurveValue(n);a==d.setup?s.position=s.data.position+(u-s.data.position)*i:s.position+=(u-s.position)*i}}}]),n}(xr),Xr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,"".concat(vr,"|").concat(i))).pathConstraintIndex=0,a.pathConstraintIndex=i,a}return(0,h.Z)(n,[{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.pathConstraints[this.pathConstraintIndex];if(s.active)if(n<this.frames[0])switch(a){case d.setup:return void(s.spacing=s.data.spacing);case d.first:s.spacing+=(s.data.spacing-s.spacing)*i}else{var u=this.getCurveValue(n);a==d.setup?s.spacing=s.data.spacing+(u-s.data.spacing)*i:s.spacing+=(u-s.spacing)*i}}}]),n}(xr),Gr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,["".concat(mr,"|").concat(i)])).pathConstraintIndex=0,a.pathConstraintIndex=i,a}return(0,h.Z)(n,[{key:"getFrameEntries",value:function(){return 4}},{key:"setFrame",value:function(e,t,n,r,i){var a=this.frames;a[e<<=2]=t,a[e+1]=n,a[e+2]=r,a[e+3]=i}},{key:"apply",value:function(e,t,n,r,i,a,o){var s=e.pathConstraints[this.pathConstraintIndex];if(s.active){var u=this.frames;if(n<u[0])switch(a){case d.setup:return s.mixRotate=s.data.mixRotate,s.mixX=s.data.mixX,void(s.mixY=s.data.mixY);case d.first:s.mixRotate+=(s.data.mixRotate-s.mixRotate)*i,s.mixX+=(s.data.mixX-s.mixX)*i,s.mixY+=(s.data.mixY-s.mixY)*i}else{var l,c,h,f=yr.search(u,n,4),p=this.curves[f>>2];switch(p){case 0:var v=u[f];l=u[f+1],c=u[f+2],h=u[f+3];var m=(n-v)/(u[f+4]-v);l+=(u[f+4+1]-l)*m,c+=(u[f+4+2]-c)*m,h+=(u[f+4+3]-h)*m;break;case 1:l=u[f+1],c=u[f+2],h=u[f+3];break;default:l=this.getBezierValue(n,f,1,p-2),c=this.getBezierValue(n,f,2,p+18-2),h=this.getBezierValue(n,f,3,p+36-2)}if(a==d.setup){var g=s.data;s.mixRotate=g.mixRotate+(l-g.mixRotate)*i,s.mixX=g.mixX+(c-g.mixX)*i,s.mixY=g.mixY+(h-g.mixY)*i}else s.mixRotate+=(l-s.mixRotate)*i,s.mixX+=(c-s.mixX)*i,s.mixY+=(h-s.mixY)*i}}}}]),n}(br),Wr=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,["".concat(gr,"|").concat(r,"|").concat(i.sequence.id)])).slotIndex=r,a.attachment=i,a}return(0,h.Z)(n,[{key:"getFrameEntries",value:function(){return n.ENTRIES}},{key:"getSlotIndex",value:function(){return this.slotIndex}},{key:"getAttachment",value:function(){return this.attachment}},{key:"setFrame",value:function(e,t,r,i,a){var o=this.frames;o[e*=n.ENTRIES]=t,o[e+n.MODE]=r|i<<4,o[e+n.DELAY]=a}},{key:"apply",value:function(e,t,r,i,a,o,s){var u=e.slots[this.slotIndex];if(u.bone.active){var l=u.attachment,c=this.attachment;if(l==c||l instanceof Vn&&l.timelineAttachment==c){var h=this.frames;if(r<h[0])o!=d.setup&&o!=d.first||(u.sequenceIndex=-1);else{var f=yr.search(h,r,n.ENTRIES),p=h[f],v=h[f+n.MODE],m=h[f+n.DELAY];if(this.attachment.sequence){var g=v>>4,y=this.attachment.sequence.regions.length,b=$n[15&v];if(b!=qn.hold)switch(g+=(r-p)/m+1e-5|0,b){case qn.once:g=Math.min(y-1,g);break;case qn.loop:g%=y;break;case qn.pingpong:var x=(y<<1)-2;(g=0==x?0:g%x)>=y&&(g=x-g);break;case qn.onceReverse:g=Math.max(y-1-g,0);break;case qn.loopReverse:g=y-1-g%y;break;case qn.pingpongReverse:var _=(y<<1)-2;(g=0==_?0:(g+y-1)%_)>=y&&(g=_-g)}u.sequenceIndex=g}}}}}}]),n}(yr);Wr.ENTRIES=3,Wr.MODE=1,Wr.DELAY=2;var Hr=function(){function e(t){(0,c.Z)(this,e),this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new Kr(this),this.propertyIDs=new I,this.animationsChanged=!1,this.trackEntryPool=new Z((function(){return new $r})),this.data=t}return(0,h.Z)(e,[{key:"update",value:function(e){e*=this.timeScale;for(var t=this.tracks,n=0,r=t.length;n<r;n++){var i=t[n];if(i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var a=e*i.timeScale;if(i.delay>0){if(i.delay-=a,i.delay>0)continue;a=-i.delay,i.delay=0}var o=i.next;if(o){var s=i.trackLast-o.delay;if(s>=0){for(o.delay=0,o.trackTime+=0==i.timeScale?0:(s/i.timeScale+e)*o.timeScale,i.trackTime+=a,this.setCurrent(n,o,!0);o.mixingFrom;)o.mixTime+=e,o=o.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&!i.mixingFrom){t[n]=null,this.queue.end(i),this.clearNext(i);continue}if(i.mixingFrom&&this.updateMixingFrom(i,e)){var u=i.mixingFrom;for(i.mixingFrom=null,u&&(u.mixingTo=null);u;)this.queue.end(u),u=u.mixingFrom}i.trackTime+=a}}this.queue.drain()}},{key:"updateMixingFrom",value:function(e,t){var n=e.mixingFrom;if(!n)return!0;var r=this.updateMixingFrom(n,t);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?(0!=n.totalAlpha&&0!=e.mixDuration||(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),r):(n.trackTime+=t*n.timeScale,e.mixTime+=t,!1)}},{key:"apply",value:function(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var t=this.events,n=this.tracks,r=!1,i=0,a=n.length;i<a;i++){var o=n[i];if(o&&!(o.delay>0)){r=!0;var s=0==i?d.first:o.mixBlend,u=o.alpha;o.mixingFrom?u*=this.applyMixingFrom(o,e,s):o.trackTime>=o.trackEnd&&!o.next&&(u=0);var l=o.animationLast,c=o.getAnimationTime(),h=c,f=t;o.reverse&&(h=o.animation.duration-h,f=null);var v=o.animation.timelines,m=v.length;if(0==i&&1==u||s==d.add)for(var g=0;g<m;g++){F.webkit602BugfixHelper(u,s);var y=v[g];y instanceof Dr?this.applyAttachmentTimeline(y,e,h,s,!0):y.apply(e,l,h,f,u,s,p.mixIn)}else{var b=o.timelineMode,x=o.shortestRotation,_=!x&&o.timelinesRotation.length!=m<<1;_&&(o.timelinesRotation.length=m<<1);for(var w=0;w<m;w++){var k=v[w],E=b[w]==ei?s:d.setup;!x&&k instanceof wr?this.applyRotateTimeline(k,e,h,u,E,o.timelinesRotation,w<<1,_):k instanceof Dr?this.applyAttachmentTimeline(k,e,h,s,!0):(F.webkit602BugfixHelper(u,s),k.apply(e,l,h,f,u,E,p.mixIn))}}this.queueEvents(o,c),t.length=0,o.nextAnimationLast=c,o.nextTrackLast=o.trackTime}}for(var T=this.unkeyedState+ai,S=e.slots,A=0,M=e.slots.length;A<M;A++){var P=S[A];if(P.attachmentState==T){var C=P.data.attachmentName;P.setAttachment(C?e.getAttachment(P.data.index,C):null)}}return this.unkeyedState+=2,this.queue.drain(),r}},{key:"applyMixingFrom",value:function(e,t,n){var r=e.mixingFrom;r.mixingFrom&&this.applyMixingFrom(r,t,n);var i=0;0==e.mixDuration?(i=1,n==d.first&&(n=d.setup)):((i=e.mixTime/e.mixDuration)>1&&(i=1),n!=d.first&&(n=r.mixBlend));var a=i<r.attachmentThreshold,o=i<r.drawOrderThreshold,s=r.animation.timelines,u=s.length,l=r.alpha*e.interruptAlpha,c=l*(1-i),h=r.animationLast,f=r.getAnimationTime(),v=f,m=null;if(r.reverse?v=r.animation.duration-v:i<r.eventThreshold&&(m=this.events),n==d.add)for(var g=0;g<u;g++)s[g].apply(t,h,v,m,c,n,p.mixOut);else{var y=r.timelineMode,b=r.timelineHoldMix,x=r.shortestRotation,_=!x&&r.timelinesRotation.length!=u<<1;_&&(r.timelinesRotation.length=u<<1),r.totalAlpha=0;for(var w=0;w<u;w++){var k=s[w],E=p.mixOut,T=void 0,S=0;switch(y[w]){case ei:if(!o&&k instanceof Vr)continue;T=n,S=c;break;case ti:T=d.setup,S=c;break;case ni:T=n,S=l;break;case ri:T=d.setup,S=l;break;default:T=d.setup;var A=b[w];S=l*Math.max(0,1-A.mixTime/A.mixDuration)}r.totalAlpha+=S,!x&&k instanceof wr?this.applyRotateTimeline(k,t,v,S,T,r.timelinesRotation,w<<1,_):k instanceof Dr?this.applyAttachmentTimeline(k,t,v,T,a):(F.webkit602BugfixHelper(S,n),o&&k instanceof Vr&&T==d.setup&&(E=p.mixIn),k.apply(t,h,v,m,S,T,E))}}return e.mixDuration>0&&this.queueEvents(r,f),this.events.length=0,r.nextAnimationLast=f,r.nextTrackLast=r.trackTime,i}},{key:"applyAttachmentTimeline",value:function(e,t,n,r,i){var a=t.slots[e.slotIndex];a.bone.active&&(n<e.frames[0]?r!=d.setup&&r!=d.first||this.setAttachment(t,a,a.data.attachmentName,i):this.setAttachment(t,a,e.attachmentNames[yr.search1(e.frames,n)],i),a.attachmentState<=this.unkeyedState&&(a.attachmentState=this.unkeyedState+ai))}},{key:"setAttachment",value:function(e,t,n,r){t.setAttachment(n?e.getAttachment(t.data.index,n):null),r&&(t.attachmentState=this.unkeyedState+oi)}},{key:"applyRotateTimeline",value:function(e,t,n,r,i,a,o,s){if(s&&(a[o]=0),1!=r){var u=t.bones[e.boneIndex];if(u.active){var l=0,c=0;if(n<e.frames[0])switch(i){case d.setup:u.rotation=u.data.rotation;default:return;case d.first:l=u.rotation,c=u.data.rotation}else l=i==d.setup?u.data.rotation:u.rotation,c=u.data.rotation+e.getCurveValue(n);var h=0,f=c-l;if(0==(f-=360*(16384-(16384.499999999996-f/360|0))))h=a[o];else{var v=0,m=0;s?(v=0,m=f):(v=a[o],m=a[o+1]);var g=f>0,y=v>=0;N.signum(m)!=N.signum(f)&&Math.abs(m)<=90&&(Math.abs(v)>180&&(v+=360*N.signum(v)),y=g),h=f+v-v%360,y!=g&&(h+=360*N.signum(v)),a[o]=h}a[o+1]=f,u.rotation=l+h*r}}else e.apply(t,0,n,null,1,i,p.mixIn)}},{key:"queueEvents",value:function(e,t){for(var n=e.animationStart,r=e.animationEnd,i=r-n,a=e.trackLast%i,o=this.events,s=0,u=o.length;s<u;s++){var l=o[s];if(l.time<a)break;l.time>r||this.queue.event(e,l)}for((e.loop?0==i||a>e.trackTime%i:t>=r&&e.animationLast<r)&&this.queue.complete(e);s<u;s++){var c=o[s];c.time<n||this.queue.event(e,c)}}},{key:"clearTracks",value:function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var t=0,n=this.tracks.length;t<n;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()}},{key:"clearTrack",value:function(e){if(!(e>=this.tracks.length)){var t=this.tracks[e];if(t){this.queue.end(t),this.clearNext(t);for(var n=t;;){var r=n.mixingFrom;if(!r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[t.trackIndex]=null,this.queue.drain()}}}},{key:"setCurrent",value:function(e,t,n){var r=this.expandToIndex(e);this.tracks[e]=t,t.previous=null,r&&(n&&this.queue.interrupt(r),t.mixingFrom=r,r.mixingTo=t,t.mixTime=0,r.mixingFrom&&r.mixDuration>0&&(t.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(t)}},{key:"setAnimation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.data.skeletonData.findAnimation(t);if(!r)throw new Error("Animation not found: ".concat(t));return this.setAnimationWith(e,r,n)}},{key:"setAnimationWith",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)throw new Error("animation cannot be null.");var r=!0,i=this.expandToIndex(e);i&&(-1==i.nextTrackLast?(this.tracks[e]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.clearNext(i),i=i.mixingFrom,r=!1):this.clearNext(i));var a=this.trackEntry(e,t,n,i);return this.setCurrent(e,a,r),this.queue.drain(),a}},{key:"addAnimation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this.data.skeletonData.findAnimation(t);if(!i)throw new Error("Animation not found: ".concat(t));return this.addAnimationWith(e,i,n,r)}},{key:"addAnimationWith",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!t)throw new Error("animation cannot be null.");var i=this.expandToIndex(e);if(i)for(;i.next;)i=i.next;var a=this.trackEntry(e,t,n,i);return i?(i.next=a,a.previous=i,r<=0&&(r+=i.getTrackComplete()-a.mixDuration)):(this.setCurrent(e,a,!0),this.queue.drain()),a.delay=r,a}},{key:"setEmptyAnimation",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.setAnimationWith(t,e.emptyAnimation(),!1);return r.mixDuration=n,r.trackEnd=n,r}},{key:"addEmptyAnimation",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.addAnimationWith(t,e.emptyAnimation(),!1,r);return r<=0&&(i.delay+=i.mixDuration-n),i.mixDuration=n,i.trackEnd=n,i}},{key:"setEmptyAnimations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];i&&this.setEmptyAnimation(i.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()}},{key:"expandToIndex",value:function(e){return e<this.tracks.length?this.tracks[e]:(F.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)}},{key:"trackEntry",value:function(e,t,n,r){var i=this.trackEntryPool.obtain();return i.reset(),i.trackIndex=e,i.animation=t,i.loop=n,i.holdPrevious=!1,i.reverse=!1,i.shortestRotation=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=t.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.mixTime=0,i.mixDuration=r?this.data.getMix(r.animation,t):0,i.interruptAlpha=1,i.totalAlpha=0,i.mixBlend=d.replace,i}},{key:"clearNext",value:function(e){for(var t=e.next;t;)this.queue.dispose(t),t=t.next;e.next=null}},{key:"_animationsChanged",value:function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,t=0,n=e.length;t<n;t++){var r=e[t];if(r){for(;r.mixingFrom;)r=r.mixingFrom;do{r.mixingTo&&r.mixBlend==d.add||this.computeHold(r),r=r.mixingTo}while(r)}}}},{key:"computeHold",value:function(e){var t=e.mixingTo,n=e.animation.timelines,r=e.animation.timelines.length,i=e.timelineMode;i.length=r;var a=e.timelineHoldMix;a.length=0;var o=this.propertyIDs;if(t&&t.holdPrevious)for(var s=0;s<r;s++)i[s]=o.addAll(n[s].getPropertyIds())?ri:ni;else e:for(var u=0;u<r;u++){var l=n[u],c=l.getPropertyIds();if(o.addAll(c))if(!t||l instanceof Dr||l instanceof Vr||l instanceof Zr||!t.animation.hasTimeline(c))i[u]=ti;else{for(var h=t.mixingTo;h;h=h.mixingTo)if(!h.animation.hasTimeline(c)){if(e.mixDuration>0){i[u]=ii,a[u]=h;continue e}break}i[u]=ri}else i[u]=ei}}},{key:"getCurrent",value:function(e){return e>=this.tracks.length?null:this.tracks[e]}},{key:"addListener",value:function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}},{key:"clearListeners",value:function(){this.listeners.length=0}},{key:"clearListenerNotifications",value:function(){this.queue.clear()}},{key:"setAnimationByName",value:function(t,n,r){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,n,r)}},{key:"addAnimationByName",value:function(t,n,r,i){e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,n,r,i)}},{key:"hasAnimation",value:function(e){return null!==this.data.skeletonData.findAnimation(e)}},{key:"hasAnimationByName",value:function(t){return e.deprecatedWarning3||(e.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)}}],[{key:"emptyAnimation",value:function(){return e._emptyAnimation}}]),e}(),zr=Hr;zr._emptyAnimation=new Kn("<empty>",[],0),zr.deprecatedWarning1=!1,zr.deprecatedWarning2=!1,zr.deprecatedWarning3=!1;var qr=function(){function e(){(0,c.Z)(this,e),this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=d.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return(0,h.Z)(e,[{key:"reset",value:function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}},{key:"getAnimationTime",value:function(){if(this.loop){var e=this.animationEnd-this.animationStart;return 0==e?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}},{key:"setAnimationLast",value:function(e){this.animationLast=e,this.nextAnimationLast=e}},{key:"isComplete",value:function(){return this.trackTime>=this.animationEnd-this.animationStart}},{key:"resetRotationDirections",value:function(){this.timelinesRotation.length=0}},{key:"getTrackComplete",value:function(){var e=this.animationEnd-this.animationStart;if(0!=e){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime}},{key:"time",get:function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t}},{key:"endTime",get:function(){return e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t}},{key:"loopsCount",value:function(){return Math.floor(this.trackTime/this.trackEnd)}}]),e}(),$r=qr;$r.deprecatedWarning1=!1,$r.deprecatedWarning2=!1;var Kr=function(){function e(t){(0,c.Z)(this,e),this.objects=[],this.drainDisabled=!1,this.animState=t}return(0,h.Z)(e,[{key:"start",value:function(e){this.objects.push(Jr.start),this.objects.push(e),this.animState.animationsChanged=!0}},{key:"interrupt",value:function(e){this.objects.push(Jr.interrupt),this.objects.push(e)}},{key:"end",value:function(e){this.objects.push(Jr.end),this.objects.push(e),this.animState.animationsChanged=!0}},{key:"dispose",value:function(e){this.objects.push(Jr.dispose),this.objects.push(e)}},{key:"complete",value:function(e){this.objects.push(Jr.complete),this.objects.push(e)}},{key:"event",value:function(e,t){this.objects.push(Jr.event),this.objects.push(e),this.objects.push(t)}},{key:"drain",value:function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,t=this.animState.listeners,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];switch(r){case Jr.start:i.listener&&i.listener.start&&i.listener.start(i);for(var a=0;a<t.length;a++){var o=t[a];o.start&&o.start(i)}break;case Jr.interrupt:i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(var s=0;s<t.length;s++){var u=t[s];u.interrupt&&u.interrupt(i)}break;case Jr.end:i.listener&&i.listener.end&&i.listener.end(i);for(var l=0;l<t.length;l++){var c=t[l];c.end&&c.end(i)}case Jr.dispose:i.listener&&i.listener.dispose&&i.listener.dispose(i);for(var h=0;h<t.length;h++){var f=t[h];f.dispose&&f.dispose(i)}this.animState.trackEntryPool.free(i);break;case Jr.complete:i.listener&&i.listener.complete&&i.listener.complete(i);for(var d=0;d<t.length;d++){var p=t[d];p.complete&&p.complete(i)}break;case Jr.event:var v=e[2+n++];i.listener&&i.listener.event&&i.listener.event(i,v);for(var m=0;m<t.length;m++){var g=t[m];g.event&&g.event(i,v)}}}this.clear(),this.drainDisabled=!1}}},{key:"clear",value:function(){this.objects.length=0}}]),e}(),Jr=function(e){return e[e.start=0]="start",e[e.interrupt=1]="interrupt",e[e.end=2]="end",e[e.dispose=3]="dispose",e[e.complete=4]="complete",e[e.event=5]="event",e}(Jr||{}),Qr=function(){function e(){(0,c.Z)(this,e)}return(0,h.Z)(e,[{key:"start",value:function(e){}},{key:"interrupt",value:function(e){}},{key:"end",value:function(e){}},{key:"dispose",value:function(e){}},{key:"complete",value:function(e){}},{key:"event",value:function(e,t){}}]),e}(),ei=0,ti=1,ni=2,ri=3,ii=4,ai=1,oi=2,si=function(){function e(t){if((0,c.Z)(this,e),this.animationToMixTime={},this.defaultMix=0,!t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return(0,h.Z)(e,[{key:"setMix",value:function(e,t,n){var r=this.skeletonData.findAnimation(e);if(!r)throw new Error("Animation not found: ".concat(e));var i=this.skeletonData.findAnimation(t);if(!i)throw new Error("Animation not found: ".concat(t));this.setMixWith(r,i,n)}},{key:"setMixWith",value:function(e,t,n){if(!e)throw new Error("from cannot be null.");if(!t)throw new Error("to cannot be null.");var r="".concat(e.name,".").concat(t.name);this.animationToMixTime[r]=n}},{key:"getMix",value:function(e,t){var n="".concat(e.name,".").concat(t.name),r=this.animationToMixTime[n];return void 0===r?this.defaultMix:r}}]),e}(),ui=function(){function e(t){(0,c.Z)(this,e),this.atlas=t}return(0,h.Z)(e,[{key:"loadSequence",value:function(e,t,n){for(var r=n.regions,i=0,a=r.length;i<a;i++){var o=n.getPath(t,i),s=this.atlas.findRegion(o);if(null==s)throw new Error("Region not found in atlas: ".concat(o," (sequence: ").concat(e,")"));r[i]=s,r[i].renderObject=r[i]}}},{key:"newRegionAttachment",value:function(e,t,n,r){var i=new Hn(t,n);if(null!=r)this.loadSequence(t,n,r);else{var a=this.atlas.findRegion(n);if(!a)throw new Error("Region not found in atlas: ".concat(n," (region attachment: ").concat(t,")"));a.renderObject=a,i.region=a}return i}},{key:"newMeshAttachment",value:function(e,t,n,r){var i=new Yn(t,n);if(null!=r)this.loadSequence(t,n,r);else{var a=this.atlas.findRegion(n);if(!a)throw new Error("Region not found in atlas: ".concat(n," (mesh attachment: ").concat(t,")"));a.renderObject=a,i.region=a}return i}},{key:"newBoundingBoxAttachment",value:function(e,t){return new jn(t)}},{key:"newPathAttachment",value:function(e,t){return new Xn(t)}},{key:"newPointAttachment",value:function(e,t){return new Gn(t)}},{key:"newClippingAttachment",value:function(e,t){return new Un(t)}}]),e}(),li=function(){function e(t,n,r){if((0,c.Z)(this,e),this.matrix=new x.y3,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!t)throw new Error("data cannot be null.");if(!n)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=n,this.parent=r,this.setToSetupPose()}return(0,h.Z)(e,[{key:"worldX",get:function(){return this.matrix.tx}},{key:"worldY",get:function(){return this.matrix.ty}},{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}},{key:"updateWorldTransform",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransformWith",value:function(e,t,n,r,i,a,o){this.ax=e,this.ay=t,this.arotation=n,this.ascaleX=r,this.ascaleY=i,this.ashearX=a,this.ashearY=o;var s=this.parent,u=this.matrix,l=this.skeleton.scaleX,c=U?-this.skeleton.scaleY:this.skeleton.scaleY;if(!s){var h=this.skeleton,f=n+90+o;return u.a=N.cosDeg(n+a)*r*l,u.c=N.cosDeg(f)*i*l,u.b=N.sinDeg(n+a)*r*c,u.d=N.sinDeg(f)*i*c,u.tx=e*l+h.x,void(u.ty=t*c+h.y)}var d=s.matrix.a,p=s.matrix.c,v=s.matrix.b,m=s.matrix.d;switch(u.tx=d*e+p*t+s.matrix.tx,u.ty=v*e+m*t+s.matrix.ty,this.data.transformMode){case g.Normal:var y=n+90+o,b=N.cosDeg(n+a)*r,x=N.cosDeg(y)*i,_=N.sinDeg(n+a)*r,w=N.sinDeg(y)*i;return u.a=d*b+p*_,u.c=d*x+p*w,u.b=v*b+m*_,void(u.d=v*x+m*w);case g.OnlyTranslation:var k=n+90+o;u.a=N.cosDeg(n+a)*r,u.c=N.cosDeg(k)*i,u.b=N.sinDeg(n+a)*r,u.d=N.sinDeg(k)*i;break;case g.NoRotationOrReflection:var E=d*d+v*v,T=0;E>1e-4?(E=Math.abs(d*m-p*v)/E,p=(v/=c)*E,m=(d/=l)*E,T=Math.atan2(v,d)*N.radDeg):(d=0,v=0,T=90-Math.atan2(m,p)*N.radDeg);var S=n+a-T,A=n+o-T+90,M=N.cosDeg(S)*r,P=N.cosDeg(A)*i,C=N.sinDeg(S)*r,I=N.sinDeg(A)*i;u.a=d*M-p*C,u.c=d*P-p*I,u.b=v*M+m*C,u.d=v*P+m*I;break;case g.NoScale:case g.NoScaleOrReflection:var R=N.cosDeg(n),O=N.sinDeg(n),L=(d*R+p*O)/l,B=(v*R+m*O)/c,D=Math.sqrt(L*L+B*B);D>1e-5&&(D=1/D),L*=D,B*=D,D=Math.sqrt(L*L+B*B),this.data.transformMode==g.NoScale&&d*m-p*v<0!=(l<0!=c<0)&&(D=-D);var F=Math.PI/2+Math.atan2(B,L),Z=Math.cos(F)*D,V=Math.sin(F)*D,j=N.cosDeg(a)*r,Y=N.cosDeg(90+o)*i,X=N.sinDeg(a)*r,G=N.sinDeg(90+o)*i;u.a=L*j+Z*X,u.c=L*Y+Z*G,u.b=B*j+V*X,u.d=B*Y+V*G}u.a*=l,u.c*=l,u.b*=c,u.d*=c}},{key:"setToSetupPose",value:function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY}},{key:"getWorldRotationX",value:function(){return Math.atan2(this.matrix.b,this.matrix.a)*N.radDeg}},{key:"getWorldRotationY",value:function(){return Math.atan2(this.matrix.d,this.matrix.c)*N.radDeg}},{key:"getWorldScaleX",value:function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)}},{key:"getWorldScaleY",value:function(){var e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)}},{key:"updateAppliedTransform",value:function(){var e=this.parent,t=this.matrix;if(!e)return this.ax=t.tx-this.skeleton.x,this.ay=t.ty-this.skeleton.y,this.arotation=Math.atan2(t.b,t.a)*N.radDeg,this.ascaleX=Math.sqrt(t.a*t.a+t.b*t.b),this.ascaleY=Math.sqrt(t.c*t.c+t.d*t.d),this.ashearX=0,void(this.ashearY=Math.atan2(t.a*t.c+t.b*t.d,t.a*t.d-t.b*t.c)*N.radDeg);var n=e.matrix,r=1/(n.a*n.d-n.b*n.c),i=t.tx-n.tx,a=t.ty-n.ty;this.ax=i*n.d*r-a*n.c*r,this.ay=a*n.a*r-i*n.b*r;var o=r*n.d,s=r*n.a,u=r*n.c,l=r*n.b,c=o*t.a-u*t.b,h=o*t.c-u*t.d,f=s*t.b-l*t.a,d=s*t.d-l*t.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+f*f),this.ascaleX>1e-4){var p=c*d-h*f;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(c*h+f*d,p)*N.radDeg,this.arotation=Math.atan2(f,c)*N.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*N.radDeg}},{key:"worldToLocal",value:function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,a=t.d,o=1/(n*a-r*i),s=e.x-t.tx,u=e.y-t.ty;return e.x=s*a*o-u*r*o,e.y=u*n*o-s*i*o,e}},{key:"localToWorld",value:function(e){var t=this.matrix,n=e.x,r=e.y;return e.x=n*t.a+r*t.c+t.tx,e.y=n*t.b+r*t.d+t.ty,e}},{key:"worldToLocalRotation",value:function(e){var t=N.sinDeg(e),n=N.cosDeg(e),r=this.matrix;return Math.atan2(r.a*t-r.b*n,r.d*n-r.c*t)*N.radDeg}},{key:"localToWorldRotation",value:function(e){e-=this.rotation-this.shearX;var t=N.sinDeg(e),n=N.cosDeg(e),r=this.matrix;return Math.atan2(n*r.b+t*r.d,n*r.a+t*r.c)*N.radDeg}},{key:"rotateWorld",value:function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,a=t.d,o=N.cosDeg(e),s=N.sinDeg(e);t.a=o*n-s*i,t.c=o*r-s*a,t.b=s*n+o*i,t.d=s*r+o*a}}]),e}(),ci=(0,h.Z)((function e(t,n,r){if((0,c.Z)(this,e),this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=g.Normal,this.skinRequired=!1,this.color=new O,t<0)throw new Error("index must be >= 0.");if(!n)throw new Error("name cannot be null.");this.index=t,this.name=n,this.parent=r})),hi=(0,h.Z)((function e(t,n,r){(0,c.Z)(this,e),this.name=t,this.order=n,this.skinRequired=r})),fi=(0,h.Z)((function e(t,n){if((0,c.Z)(this,e),this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!n)throw new Error("data cannot be null.");this.time=t,this.data=n})),di=(0,h.Z)((function e(t){(0,c.Z)(this,e),this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=t})),pi=function(){function e(t,n){if((0,c.Z)(this,e),this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!t)throw new Error("data cannot be null.");if(!n)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var r=0;r<t.bones.length;r++){var i=n.findBone(t.bones[r].name);if(!i)throw new Error("Couldn't find bone ".concat(t.bones[r].name));this.bones.push(i)}var a=n.findBone(t.target.name);if(!a)throw new Error("Couldn't find bone ".concat(t.target.name));this.target=a}return(0,h.Z)(e,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){if(0!=this.mix){var e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}}},{key:"apply1",value:function(e,t,n,r,i,a,o){var s=e.parent.matrix;if(!s)throw new Error("IK bone must have parent.");var u=s.a,l=s.c,c=s.b,h=s.d,f=-e.ashearX-e.arotation,d=0,p=0,v=e.skeleton.scaleX,m=U?-e.skeleton.scaleY:e.skeleton.scaleY;switch(e.data.transformMode){case g.OnlyTranslation:d=t-e.worldX,p=n-e.worldY,U&&(p=-p);break;case g.NoRotationOrReflection:var y=Math.abs(u*h-l*c)/(u*u+c*c),b=u/v,x=c/m;l=-x*y*v,h=b*y*m,f+=Math.atan2(x,b)*N.radDeg;default:var _=t-s.tx,w=n-s.ty,k=u*h-l*c;d=(_*h-w*l)/k-e.ax,p=(w*u-_*c)/k-e.ay}f+=Math.atan2(p,d)*N.radDeg,e.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);var E=e.ascaleX,T=e.ascaleY;if(r||i){switch(e.data.transformMode){case g.NoScale:case g.NoScaleOrReflection:d=t-e.worldX,p=n-e.worldY}var S=e.data.length*E,A=Math.sqrt(d*d+p*p);if(r&&A<S||i&&A>S&&S>1e-4){var M=(A/S-1)*o+1;E*=M,a&&(T*=M)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+f*o,E,T,e.ashearX,e.ashearY)}},{key:"apply2",value:function(e,t,n,r,i,a,o,s,u){var l=e.ax,c=e.ay,h=e.ascaleX,f=e.ascaleY,d=h,p=f,v=t.ascaleX,m=e.matrix,g=0,y=0,b=0;h<0?(h=-h,g=180,b=-1):(g=0,b=1),f<0&&(f=-f,b=-b),v<0?(v=-v,y=180):y=0;var x=t.ax,_=0,w=0,k=0,E=m.a,T=m.c,S=m.b,A=m.d,M=Math.abs(h-f)<=1e-4;!M||a?(_=0,w=E*x+m.tx,k=S*x+m.ty):(w=E*x+T*(_=t.ay)+m.tx,k=S*x+A*_+m.ty);var P=e.parent.matrix;if(!P)throw new Error("IK parent must itself have a parent.");E=P.a,T=P.c,S=P.b;var C,I,R=1/(E*(A=P.d)-T*S),O=w-P.tx,L=k-P.ty,B=(O*A-L*T)*R-l,D=(L*E-O*S)*R-c,F=Math.sqrt(B*B+D*D),Z=t.data.length*v;if(F<1e-4)return this.apply1(e,n,r,!1,a,!1,u),void t.updateWorldTransformWith(x,_,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);var V=((O=n-P.tx)*A-(L=r-P.ty)*T)*R-l,j=(L*E-O*S)*R-c,U=V*V+j*j;if(0!=s){s*=h*(v+1)*.5;var Y=Math.sqrt(U),X=Y-F-Z*h+s;if(X>0){var G=Math.min(1,X/(2*s))-1;U=(V-=(G=(X-s*(1-G*G))/Y)*V)*V+(j-=G*j)*j}}e:if(M){var W=(U-F*F-(Z*=h)*Z)/(2*F*Z);W<-1?(W=-1,I=Math.PI*i):W>1?(W=1,I=0,a&&(d*=E=(Math.sqrt(U)/(F+Z)-1)*u+1,o&&(p*=E))):I=Math.acos(W)*i,E=F+Z*W,T=Z*Math.sin(I),C=Math.atan2(j*E-V*T,V*E+j*T)}else{var H=(E=h*Z)*E,z=(T=f*Z)*T,q=Math.atan2(j,V),$=-2*z*F,K=z-H;if((A=$*$-4*K*(S=z*F*F+H*U-H*z))>=0){var J=Math.sqrt(A);$<0&&(J=-J);var Q=(J=.5*-($+J))/K,ee=S/J,te=Math.abs(Q)<Math.abs(ee)?Q:ee;if(te*te<=U){L=Math.sqrt(U-te*te)*i,C=q-Math.atan2(L,te),I=Math.atan2(L/f,(te-F)/h);break e}}var ne=N.PI,re=F-E,ie=re*re,ae=0,oe=0,se=F+E,ue=se*se,le=0;(S=-E*F/(H-z))>=-1&&S<=1&&(S=Math.acos(S),(A=(O=E*Math.cos(S)+F)*O+(L=T*Math.sin(S))*L)<ie&&(ne=S,ie=A,re=O,ae=L),A>ue&&(oe=S,ue=A,se=O,le=L)),U<=.5*(ie+ue)?(C=q-Math.atan2(ae*i,re),I=ne*i):(C=q-Math.atan2(le*i,se),I=oe*i)}var ce=Math.atan2(_,x)*b,he=e.arotation;(C=(C-ce)*N.radDeg+g-he)>180?C-=360:C<-180&&(C+=360),e.updateWorldTransformWith(l,c,he+C*u,d,p,0,0),he=t.arotation,(I=((I+ce)*N.radDeg-t.ashearX)*b+y-he)>180?I-=360:I<-180&&(I+=360),t.updateWorldTransformWith(x,_,he+I*u,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}}]),e}(),vi=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e,0,!1)).bones=new Array,r._target=null,r.bendDirection=1,r.compress=!1,r.stretch=!1,r.uniform=!1,r.mix=1,r.softness=0,r}return(0,h.Z)(n,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(e){this._target=e}}]),n}(hi),mi=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e,0,!1)).bones=new Array,r._target=null,r.positionMode=v.Fixed,r.spacingMode=gi.Fixed,r.rotateMode=m.Chain,r.offsetRotation=0,r.position=0,r.spacing=0,r.mixRotate=0,r.mixX=0,r.mixY=0,r}return(0,h.Z)(n,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(e){this._target=e}}]),n}(hi),gi=function(e){return e[e.Length=0]="Length",e[e.Fixed=1]="Fixed",e[e.Percent=2]="Percent",e[e.Proportional=3]="Proportional",e}(gi||{}),yi=function(){function e(t,n){if((0,c.Z)(this,e),this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!t)throw new Error("data cannot be null.");if(!n)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var r=0,i=t.bones.length;r<i;r++){var a=n.findBone(t.bones[r].name);if(!a)throw new Error("Couldn't find bone ".concat(t.bones[r].name,"."));this.bones.push(a)}var o=n.findSlot(t.target.name);if(!o)throw new Error("Couldn't find target bone ".concat(t.target.name));this.target=o,this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}return(0,h.Z)(e,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){var t=this.target.getAttachment();if(t instanceof Xn){var n=this.mixRotate,r=this.mixX,i=this.mixY;if(0!=n||0!=r||0!=i){var a=this.data,o=a.rotateMode==m.Tangent,s=a.rotateMode==m.ChainScale,u=this.bones,l=u.length,c=o?l:l+1,h=F.setArraySize(this.spaces,c),f=s?this.lengths=F.setArraySize(this.lengths,l):[],d=this.spacing;switch(a.spacingMode){case gi.Percent:if(s)for(var p=0,v=c-1;p<v;p++){var g=u[p],y=g.data.length;if(y<e.epsilon)f[p]=0;else{var b=y*g.matrix.a,x=y*g.matrix.b;f[p]=Math.sqrt(b*b+x*x)}}F.arrayFill(h,1,c,d);break;case gi.Proportional:for(var _=0,w=0,k=c-1;w<k;){var E=u[w],T=E.data.length;if(T<e.epsilon)s&&(f[w]=0),h[++w]=d;else{var S=T*E.matrix.a,A=T*E.matrix.b,M=Math.sqrt(S*S+A*A);s&&(f[w]=M),h[++w]=M,_+=M}}if(_>0){_=c/_*d;for(var P=1;P<c;P++)h[P]*=_}break;default:for(var C=a.spacingMode==gi.Length,I=0,R=c-1;I<R;){var O=u[I],L=O.data.length;if(L<e.epsilon)s&&(f[I]=0),h[++I]=d;else{var B=L*O.matrix.a,D=L*O.matrix.b,Z=Math.sqrt(B*B+D*D);s&&(f[I]=Z),h[++I]=(C?L+d:d)*Z/L}}}var V=this.computeWorldPositions(t,c,o),j=V[0],U=V[1],Y=a.offsetRotation,X=!1;if(0==Y)X=a.rotateMode==m.Chain;else{X=!1;var G=this.target.bone.matrix;Y*=G.a*G.d-G.b*G.c>0?N.degRad:-N.degRad}for(var W=0,H=3;W<l;W++,H+=3){var z=u[W],q=z.matrix;q.tx+=(j-q.tx)*r,q.ty+=(U-q.ty)*i;var $=V[H],K=V[H+1],J=$-j,Q=K-U;if(s){var ee=f[W];if(0!=ee){var te=(Math.sqrt(J*J+Q*Q)/ee-1)*n+1;q.a*=te,q.b*=te}}if(j=$,U=K,n>0){var ne=q.a,re=q.c,ie=q.b,ae=q.d,oe=0,se=0,ue=0;if(oe=o?V[H-1]:0==h[W+1]?V[H+2]:Math.atan2(Q,J),oe-=Math.atan2(ie,ne),X){se=Math.cos(oe),ue=Math.sin(oe);var le=z.data.length;j+=(le*(se*ne-ue*ie)-J)*n,U+=(le*(ue*ne+se*ie)-Q)*n}else oe+=Y;oe>N.PI?oe-=N.PI2:oe<-N.PI&&(oe+=N.PI2),oe*=n,se=Math.cos(oe),ue=Math.sin(oe),q.a=se*ne-ue*ie,q.c=se*re-ue*ae,q.b=ue*ne+se*ie,q.d=ue*re+se*ae}z.updateAppliedTransform()}}}}},{key:"computeWorldPositions",value:function(t,n,r){var i=this.target,a=this.position,o=this.spaces,s=F.setArraySize(this.positions,3*n+2),u=this.world,l=t.closed,c=t.worldVerticesLength,h=c/6,f=e.NONE;if(!t.constantSpeed){var d,p=t.lengths,m=p[h-=l?1:2];switch(this.data.positionMode==v.Percent&&(a*=m),this.data.spacingMode){case gi.Percent:d=m;break;case gi.Proportional:d=m/n;break;default:d=1}u=F.setArraySize(this.world,8);for(var g=0,y=0,b=0;g<n;g++,y+=3){var x=o[g]*d,_=a+=x;if(l)(_%=m)<0&&(_+=m),b=0;else{if(_<0){f!=e.BEFORE&&(f=e.BEFORE,t.computeWorldVertices(i,2,4,u,0,2)),this.addBeforePosition(_,u,0,s,y);continue}if(_>m){f!=e.AFTER&&(f=e.AFTER,t.computeWorldVertices(i,c-6,4,u,0,2)),this.addAfterPosition(_-m,u,0,s,y);continue}}for(;;b++){var w=p[b];if(!(_>w)){if(0==b)_/=w;else{var k=p[b-1];_=(_-k)/(w-k)}break}}b!=f&&(f=b,l&&b==h?(t.computeWorldVertices(i,c-4,4,u,0,2),t.computeWorldVertices(i,0,4,u,4,2)):t.computeWorldVertices(i,6*b+2,8,u,0,2)),this.addCurvePosition(_,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],s,y,r||g>0&&0==x)}return s}l?(c+=2,u=F.setArraySize(this.world,c),t.computeWorldVertices(i,2,c-4,u,0,2),t.computeWorldVertices(i,0,2,u,c-4,2),u[c-2]=u[0],u[c-1]=u[1]):(h--,c-=4,u=F.setArraySize(this.world,c),t.computeWorldVertices(i,2,c,u,0,2));for(var E,T=F.setArraySize(this.curves,h),S=0,A=u[0],M=u[1],P=0,C=0,I=0,R=0,O=0,L=0,N=0,B=0,D=0,Z=0,V=0,j=0,U=0,Y=0,X=0,G=2;X<h;X++,G+=6)P=u[G],C=u[G+1],I=u[G+2],R=u[G+3],V=2*(N=.1875*(A-2*P+I))+(D=.09375*(3*(P-I)-A+(O=u[G+4]))),j=2*(B=.1875*(M-2*C+R))+(Z=.09375*(3*(C-R)-M+(L=u[G+5]))),U=.75*(P-A)+N+.16666667*D,Y=.75*(C-M)+B+.16666667*Z,S+=Math.sqrt(U*U+Y*Y),U+=V,Y+=j,V+=D,j+=Z,S+=Math.sqrt(U*U+Y*Y),U+=V,Y+=j,S+=Math.sqrt(U*U+Y*Y),U+=V+D,Y+=j+Z,S+=Math.sqrt(U*U+Y*Y),T[X]=S,A=O,M=L;switch(this.data.positionMode==v.Percent&&(a*=S),this.data.spacingMode){case gi.Percent:E=S;break;case gi.Proportional:E=S/n;break;default:E=1}for(var W=this.segments,H=0,z=0,q=0,$=0,K=0;z<n;z++,q+=3){var J=o[z]*E,Q=a+=J;if(l)(Q%=S)<0&&(Q+=S),$=0;else{if(Q<0){this.addBeforePosition(Q,u,0,s,q);continue}if(Q>S){this.addAfterPosition(Q-S,u,c-4,s,q);continue}}for(;;$++){var ee=T[$];if(!(Q>ee)){if(0==$)Q/=ee;else{var te=T[$-1];Q=(Q-te)/(ee-te)}break}}if($!=f){f=$;var ne=6*$;for(A=u[ne],M=u[ne+1],P=u[ne+2],C=u[ne+3],I=u[ne+4],R=u[ne+5],V=2*(N=.03*(A-2*P+I))+(D=.006*(3*(P-I)-A+(O=u[ne+6]))),j=2*(B=.03*(M-2*C+R))+(Z=.006*(3*(C-R)-M+(L=u[ne+7]))),U=.3*(P-A)+N+.16666667*D,Y=.3*(C-M)+B+.16666667*Z,H=Math.sqrt(U*U+Y*Y),W[0]=H,ne=1;ne<8;ne++)U+=V,Y+=j,V+=D,j+=Z,H+=Math.sqrt(U*U+Y*Y),W[ne]=H;U+=V,Y+=j,H+=Math.sqrt(U*U+Y*Y),W[8]=H,U+=V+D,Y+=j+Z,H+=Math.sqrt(U*U+Y*Y),W[9]=H,K=0}for(Q*=H;;K++){var re=W[K];if(!(Q>re)){if(0==K)Q/=re;else{var ie=W[K-1];Q=K+(Q-ie)/(re-ie)}break}}this.addCurvePosition(.1*Q,A,M,P,C,I,R,O,L,s,q,r||z>0&&0==J)}return s}},{key:"addBeforePosition",value:function(e,t,n,r,i){var a=t[n],o=t[n+1],s=t[n+2]-a,u=t[n+3]-o,l=Math.atan2(u,s);r[i]=a+e*Math.cos(l),r[i+1]=o+e*Math.sin(l),r[i+2]=l}},{key:"addAfterPosition",value:function(e,t,n,r,i){var a=t[n+2],o=t[n+3],s=a-t[n],u=o-t[n+1],l=Math.atan2(u,s);r[i]=a+e*Math.cos(l),r[i+1]=o+e*Math.sin(l),r[i+2]=l}},{key:"addCurvePosition",value:function(e,t,n,r,i,a,o,s,u,l,c,h){if(0==e||isNaN(e))return l[c]=t,l[c+1]=n,void(l[c+2]=Math.atan2(i-n,r-t));var f=e*e,d=f*e,p=1-e,v=p*p,m=v*p,g=p*e,y=3*g,b=p*y,x=y*e,_=t*m+r*b+a*x+s*d,w=n*m+i*b+o*x+u*d;l[c]=_,l[c+1]=w,h&&(l[c+2]=e<.001?Math.atan2(i-n,r-t):Math.atan2(w-(n*v+i*g*2+o*f),_-(t*v+r*g*2+a*f)))}}]),e}(),bi=yi;bi.NONE=-1,bi.BEFORE=-2,bi.AFTER=-3,bi.epsilon=1e-5;var xi=function(){function e(t,n){if((0,c.Z)(this,e),this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!t)throw new Error("data cannot be null.");if(!n)throw new Error("bone cannot be null.");this.data=t,this.bone=n,this.color=new O,this.darkColor=t.darkColor?new O:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return(0,h.Z)(e,[{key:"getSkeleton",value:function(){return this.bone.skeleton}},{key:"getAttachment",value:function(){return this.attachment}},{key:"setAttachment",value:function(e){this.attachment!=e&&(e instanceof Vn&&this.attachment instanceof Vn&&e.timelineAttachment==this.attachment.timelineAttachment||(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)}},{key:"setToSetupPose",value:function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}}]),e}(),_i=function(){function e(t,n){if((0,c.Z)(this,e),this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new V,this.active=!1,!t)throw new Error("data cannot be null.");if(!n)throw new Error("skeleton cannot be null.");this.data=t,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY,this.bones=new Array;for(var r=0;r<t.bones.length;r++){var i=n.findBone(t.bones[r].name);if(!i)throw new Error("Couldn't find bone ".concat(t.bones[r].name,"."));this.bones.push(i)}var a=n.findBone(t.target.name);if(!a)throw new Error("Couldn't find target bone ".concat(t.target.name,"."));this.target=a}return(0,h.Z)(e,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleX&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}},{key:"applyAbsoluteWorld",value:function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,a=this.mixShearY,o=0!=t||0!=n,s=this.target,u=s.matrix,l=u.a,c=u.c,h=u.b,f=u.d,d=l*f-c*h>0?N.degRad:-N.degRad,p=this.data.offsetRotation*d,v=this.data.offsetShearY*d,m=this.bones,g=0,y=m.length;g<y;g++){var b=m[g],x=b.matrix;if(0!=e){var _=x.a,w=x.c,k=x.b,E=x.d,T=Math.atan2(h,l)-Math.atan2(k,_)+p;T>N.PI?T-=N.PI2:T<-N.PI&&(T+=N.PI2),T*=e;var S=Math.cos(T),A=Math.sin(T);x.a=S*_-A*k,x.c=S*w-A*E,x.b=A*_+S*k,x.d=A*w+S*E}if(o){var M=this.temp;s.localToWorld(M.set(this.data.offsetX,this.data.offsetY)),x.tx+=(M.x-x.tx)*t,x.ty+=(M.y-x.ty)*n}if(0!=r){var P=Math.sqrt(x.a*x.a+x.b*x.b);0!=P&&(P=(P+(Math.sqrt(l*l+h*h)-P+this.data.offsetScaleX)*r)/P),x.a*=P,x.b*=P}if(0!=i){var C=Math.sqrt(x.c*x.c+x.d*x.d);0!=C&&(C=(C+(Math.sqrt(c*c+f*f)-C+this.data.offsetScaleY)*i)/C),x.c*=C,x.d*=C}if(a>0){var I=x.c,R=x.d,O=Math.atan2(R,I),L=Math.atan2(f,c)-Math.atan2(h,l)-(O-Math.atan2(x.b,x.a));L>N.PI?L-=N.PI2:L<-N.PI&&(L+=N.PI2),L=O+(L+v)*a;var B=Math.sqrt(I*I+R*R);x.c=Math.cos(L)*B,x.d=Math.sin(L)*B}b.updateAppliedTransform()}}},{key:"applyRelativeWorld",value:function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,a=this.mixShearY,o=0!=t||0!=n,s=this.target,u=s.matrix,l=u.a,c=u.c,h=u.b,f=u.d,d=l*f-c*h>0?N.degRad:-N.degRad,p=this.data.offsetRotation*d,v=this.data.offsetShearY*d,m=this.bones,g=0,y=m.length;g<y;g++){var b=m[g],x=b.matrix;if(0!=e){var _=x.a,w=x.c,k=x.b,E=x.d,T=Math.atan2(h,l)+p;T>N.PI?T-=N.PI2:T<-N.PI&&(T+=N.PI2),T*=e;var S=Math.cos(T),A=Math.sin(T);x.a=S*_-A*k,x.c=S*w-A*E,x.b=A*_+S*k,x.d=A*w+S*E}if(o){var M=this.temp;s.localToWorld(M.set(this.data.offsetX,this.data.offsetY)),x.tx+=M.x*t,x.ty+=M.y*n}if(0!=r){var P=(Math.sqrt(l*l+h*h)-1+this.data.offsetScaleX)*r+1;x.a*=P,x.b*=P}if(0!=i){var C=(Math.sqrt(c*c+f*f)-1+this.data.offsetScaleY)*i+1;x.c*=C,x.d*=C}if(a>0){var I=Math.atan2(f,c)-Math.atan2(h,l);I>N.PI?I-=N.PI2:I<-N.PI&&(I+=N.PI2);var R=x.c,O=x.d;I=Math.atan2(O,R)+(I-N.PI/2+v)*a;var L=Math.sqrt(R*R+O*O);x.c=Math.cos(I)*L,x.d=Math.sin(I)*L}b.updateAppliedTransform()}}},{key:"applyAbsoluteLocal",value:function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,a=this.mixShearY,o=this.target,s=this.bones,u=0,l=s.length;u<l;u++){var c=s[u],h=c.arotation;if(0!=e){var f=o.arotation-h+this.data.offsetRotation;h+=(f-=360*(16384-(16384.499999999996-f/360|0)))*e}var d=c.ax,p=c.ay;d+=(o.ax-d+this.data.offsetX)*t,p+=(o.ay-p+this.data.offsetY)*n;var v=c.ascaleX,m=c.ascaleY;0!=r&&0!=v&&(v=(v+(o.ascaleX-v+this.data.offsetScaleX)*r)/v),0!=i&&0!=m&&(m=(m+(o.ascaleY-m+this.data.offsetScaleY)*i)/m);var g=c.ashearY;if(0!=a){var y=o.ashearY-g+this.data.offsetShearY;g+=(y-=360*(16384-(16384.499999999996-y/360|0)))*a}c.updateWorldTransformWith(d,p,h,v,m,c.ashearX,g)}}},{key:"applyRelativeLocal",value:function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,a=this.mixShearY,o=this.target,s=this.bones,u=0,l=s.length;u<l;u++){var c=s[u],h=c.arotation+(o.arotation+this.data.offsetRotation)*e,f=c.ax+(o.ax+this.data.offsetX)*t,d=c.ay+(o.ay+this.data.offsetY)*n,p=c.ascaleX*((o.ascaleX-1+this.data.offsetScaleX)*r+1),v=c.ascaleY*((o.ascaleY-1+this.data.offsetScaleY)*i+1),m=c.ashearY+(o.ashearY+this.data.offsetShearY)*a;c.updateWorldTransformWith(f,d,h,p,v,c.ashearX,m)}}}]),e}(),wi=function(){function e(t){if((0,c.Z)(this,e),this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var n=0;n<t.bones.length;n++){var r=t.bones[n],i=void 0;if(r.parent){var a=this.bones[r.parent.index];i=new li(r,this,a),a.children.push(i)}else i=new li(r,this,null);this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var o=0;o<t.slots.length;o++){var s=t.slots[o],u=this.bones[s.boneData.index],l=new xi(s,u);this.slots.push(l),this.drawOrder.push(l)}this.ikConstraints=new Array;for(var h=0;h<t.ikConstraints.length;h++){var f=t.ikConstraints[h];this.ikConstraints.push(new pi(f,this))}this.transformConstraints=new Array;for(var d=0;d<t.transformConstraints.length;d++){var p=t.transformConstraints[d];this.transformConstraints.push(new _i(p,this))}this.pathConstraints=new Array;for(var v=0;v<t.pathConstraints.length;v++){var m=t.pathConstraints[v];this.pathConstraints.push(new bi(m,this))}this.color=new O(1,1,1,1),this.updateCache()}return(0,h.Z)(e,[{key:"updateCache",value:function(){var e=this._updateCache;e.length=0;for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(this.skin)for(var a=this.skin.bones,o=0,s=this.skin.bones.length;o<s;o++){var u=this.bones[a[o].index];do{u.sorted=!1,u.active=!0,u=u.parent}while(u)}var l=this.ikConstraints,c=this.transformConstraints,h=this.pathConstraints,f=l.length,d=c.length,p=h.length,v=f+d+p;e:for(var m=0;m<v;m++){for(var g=0;g<f;g++){var y=l[g];if(y.data.order==m){this.sortIkConstraint(y);continue e}}for(var b=0;b<d;b++){var x=c[b];if(x.data.order==m){this.sortTransformConstraint(x);continue e}}for(var _=0;_<p;_++){var w=h[_];if(w.data.order==m){this.sortPathConstraint(w);continue e}}}for(var k=0,E=t.length;k<E;k++)this.sortBone(t[k])}},{key:"sortIkConstraint",value:function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&F.contains(this.skin.constraints,e.data,!0)),e.active){var t=e.target;this.sortBone(t);var n=e.bones,r=n[0];if(this.sortBone(r),1==n.length)this._updateCache.push(e),this.sortReset(r.children);else{var i=n[n.length-1];this.sortBone(i),this._updateCache.push(e),this.sortReset(r.children),i.sorted=!0}}}},{key:"sortPathConstraint",value:function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&F.contains(this.skin.constraints,e.data,!0)),e.active){var t=e.target,n=t.data.index,r=t.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var i=0,a=this.data.skins.length;i<a;i++)this.sortPathConstraintAttachment(this.data.skins[i],n,r);var o=t.getAttachment();o instanceof Xn&&this.sortPathConstraintAttachmentWith(o,r);for(var s=e.bones,u=s.length,l=0;l<u;l++)this.sortBone(s[l]);this._updateCache.push(e);for(var c=0;c<u;c++)this.sortReset(s[c].children);for(var h=0;h<u;h++)s[h].sorted=!0}}},{key:"sortTransformConstraint",value:function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&F.contains(this.skin.constraints,e.data,!0)),e.active){this.sortBone(e.target);var t=e.bones,n=t.length;if(e.data.local)for(var r=0;r<n;r++){var i=t[r];this.sortBone(i.parent),this.sortBone(i)}else for(var a=0;a<n;a++)this.sortBone(t[a]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(t[o].children);for(var s=0;s<n;s++)t[s].sorted=!0}}},{key:"sortPathConstraintAttachment",value:function(e,t,n){var r=e.attachments[t];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)}},{key:"sortPathConstraintAttachmentWith",value:function(e,t){if(e instanceof Xn){var n=e.bones;if(n)for(var r=this.bones,i=0,a=n.length;i<a;){var o=n[i++];for(o+=i;i<o;)this.sortBone(r[n[i++]])}else this.sortBone(t)}}},{key:"sortBone",value:function(e){if(e&&!e.sorted){var t=e.parent;t&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e)}}},{key:"sortReset",value:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}}},{key:"updateWorldTransform",value:function(){for(var e=this.bones,t=0,n=e.length;t<n;t++){var r=e[t];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY}for(var i=this._updateCache,a=0,o=i.length;a<o;a++)i[a].update()}},{key:"updateWorldTransformWith",value:function(e){var t=this.getRootBone(),n=e.matrix.a,r=e.matrix.c,i=e.matrix.b,a=e.matrix.d;t.matrix.tx=n*this.x+r*this.y+e.worldX,t.matrix.ty=i*this.x+a*this.y+e.worldY;var o=t.rotation+90+t.shearY,s=N.cosDeg(t.rotation+t.shearX)*t.scaleX,u=N.cosDeg(o)*t.scaleY,l=N.sinDeg(t.rotation+t.shearX)*t.scaleX,c=N.sinDeg(o)*t.scaleY,h=this.scaleX,f=U?-this.scaleY:this.scaleY;t.matrix.a=(n*s+r*l)*h,t.matrix.c=(n*u+r*c)*h,t.matrix.b=(i*s+a*l)*f,t.matrix.d=(i*u+a*c)*f;for(var d=this._updateCache,p=0,v=d.length;p<v;p++){var m=d[p];m!=t&&m.update()}}},{key:"setToSetupPose",value:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}},{key:"setBonesToSetupPose",value:function(){for(var e=this.bones,t=0,n=e.length;t<n;t++)e[t].setToSetupPose();for(var r=this.ikConstraints,i=0,a=r.length;i<a;i++){var o=r[i];o.mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}for(var s=this.transformConstraints,u=0,l=s.length;u<l;u++){var c=s[u],h=c.data;c.mixRotate=h.mixRotate,c.mixX=h.mixX,c.mixY=h.mixY,c.mixScaleX=h.mixScaleX,c.mixScaleY=h.mixScaleY,c.mixShearY=h.mixShearY}for(var f=this.pathConstraints,d=0,p=f.length;d<p;d++){var v=f[d],m=v.data;v.position=m.position,v.spacing=m.spacing,v.mixRotate=m.mixRotate,v.mixX=m.mixX,v.mixY=m.mixY}}},{key:"setSlotsToSetupPose",value:function(){var e=this.slots;F.arrayCopy(e,0,this.drawOrder,0,e.length);for(var t=0,n=e.length;t<n;t++)e[t].setToSetupPose()}},{key:"getRootBone",value:function(){return 0==this.bones.length?null:this.bones[0]}},{key:"findBone",value:function(e){if(!e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"findBoneIndex",value:function(e){if(!e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1}},{key:"findSlot",value:function(e){if(!e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"findSlotIndex",value:function(e){if(!e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1}},{key:"setSkinByName",value:function(e){var t=this.data.findSkin(e);if(!t)throw new Error("Skin not found: ".concat(e));this.setSkin(t)}},{key:"setSkin",value:function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n],a=i.data.attachmentName;if(a){var o=e.getAttachment(n,a);o&&i.setAttachment(o)}}this.skin=e,this.updateCache()}}},{key:"getAttachmentByName",value:function(e,t){var n=this.data.findSlot(e);if(!n)throw new Error("Can't find slot with name ".concat(e));return this.getAttachment(n.index,t)}},{key:"getAttachment",value:function(e,t){if(!t)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(e,t);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null}},{key:"setAttachment",value:function(e,t){if(!e)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,i=n.length;r<i;r++){var a=n[r];if(a.data.name==e){var o=null;if(t&&!(o=this.getAttachment(r,t)))throw new Error("Attachment not found: ".concat(t,", for slot: ").concat(e));return void a.setAttachment(o)}}throw new Error("Slot not found: ".concat(e))}},{key:"findIkConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"findTransformConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"findPathConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null}},{key:"getBoundsRect",value:function(){var e=new V,t=new V;return this.getBounds(e,t),{x:e.x,y:e.y,width:t.x,height:t.y}}},{key:"getBounds",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Array(2);if(!e)throw new Error("offset cannot be null.");if(!t)throw new Error("size cannot be null.");for(var r=this.drawOrder,i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=0,l=r.length;u<l;u++){var c=r[u];if(c.bone.active){var h=0,f=null,d=c.getAttachment();if(d instanceof Hn)h=8,f=F.setArraySize(n,h,0),d.computeWorldVertices(c,f,0,2);else if(d instanceof Yn){var p=d;h=p.worldVerticesLength,f=F.setArraySize(n,h,0),p.computeWorldVertices(c,0,h,f,0,2)}if(f)for(var v=0,m=f.length;v<m;v+=2){var g=f[v],y=f[v+1];i=Math.min(i,g),a=Math.min(a,y),o=Math.max(o,g),s=Math.max(s,y)}}}e.set(i,a),t.set(o-i,s-a)}},{key:"flipX",get:function(){return-1==this.scaleX},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1}},{key:"flipY",get:function(){return-1==this.scaleY},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1}}]),e}(),ki=wi;ki.deprecatedWarning1=!1;var Ei=function(){function e(){(0,c.Z)(this,e),this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return(0,h.Z)(e,[{key:"findBone",value:function(e){if(!e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findBoneIndex",value:function(e){if(!e)throw new Error("boneName cannot be null.");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1}},{key:"findSlot",value:function(e){if(!e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findSlotIndex",value:function(e){if(!e)throw new Error("slotName cannot be null.");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1}},{key:"findSkin",value:function(e){if(!e)throw new Error("skinName cannot be null.");for(var t=this.skins,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findEvent",value:function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var t=this.events,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findAnimation",value:function(e){if(!e)throw new Error("animationName cannot be null.");for(var t=this.animations,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findIkConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findTransformConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findPathConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null}},{key:"findPathConstraintIndex",value:function(e){if(null==e)throw new Error("pathConstraintName cannot be null.");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1}}]),e}(),Ti=(0,h.Z)((function e(t,n,r){if((0,c.Z)(this,e),this.index=0,this.color=new O(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=x.T$.NORMAL,t<0)throw new Error("index must be >= 0.");if(!n)throw new Error("name cannot be null.");if(!r)throw new Error("boneData cannot be null.");this.index=t,this.name=n,this.boneData=r})),Si=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e,0,!1)).bones=new Array,r._target=null,r.mixRotate=0,r.mixX=0,r.mixY=0,r.mixScaleX=0,r.mixScaleY=0,r.mixShearY=0,r.offsetRotation=0,r.offsetX=0,r.offsetY=0,r.offsetScaleX=0,r.offsetScaleY=0,r.offsetShearY=0,r.relative=!1,r.local=!1,r}return(0,h.Z)(n,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(e){this._target=e}}]),n}(hi),Ai=(0,h.Z)((function e(t,n,r){(0,c.Z)(this,e),this.slotIndex=t,this.name=n,this.attachment=r})),Mi=function(){function e(t){if((0,c.Z)(this,e),this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!t)throw new Error("name cannot be null.");this.name=t}return(0,h.Z)(e,[{key:"setAttachment",value:function(e,t,n){if(!n)throw new Error("attachment cannot be null.");var r=this.attachments;e>=r.length&&(r.length=e+1),r[e]||(r[e]={}),r[e][t]=n}},{key:"addSkin",value:function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(var a=0;a<e.constraints.length;a++){for(var o=e.constraints[a],s=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==o){s=!0;break}s||this.constraints.push(o)}for(var l=e.getAttachments(),c=0;c<l.length;c++){var h=l[c];this.setAttachment(h.slotIndex,h.name,h.attachment)}}},{key:"copySkin",value:function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(var a=0;a<e.constraints.length;a++){for(var o=e.constraints[a],s=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==o){s=!0;break}s||this.constraints.push(o)}for(var l=e.getAttachments(),c=0;c<l.length;c++){var h=l[c];h.attachment&&(h.attachment instanceof Yn?(h.attachment=h.attachment.newLinkedMesh(),this.setAttachment(h.slotIndex,h.name,h.attachment)):(h.attachment=h.attachment.copy(),this.setAttachment(h.slotIndex,h.name,h.attachment)))}}},{key:"getAttachment",value:function(e,t){var n=this.attachments[e];return n?n[t]:null}},{key:"removeAttachment",value:function(e,t){var n=this.attachments[e];n&&delete n[t]}},{key:"getAttachments",value:function(){for(var e=new Array,t=0;t<this.attachments.length;t++){var n=this.attachments[t];if(n)for(var r in n){var i=n[r];i&&e.push(new Ai(t,r,i))}}return e}},{key:"getAttachmentsForSlot",value:function(e,t){var n=this.attachments[e];if(n)for(var r in n){var i=n[r];i&&t.push(new Ai(e,r,i))}}},{key:"clear",value:function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}},{key:"attachAll",value:function(e,t){for(var n=0,r=0;r<e.slots.length;r++){var i=e.slots[r],a=i.getAttachment();if(a&&n<t.attachments.length){var o=t.attachments[n];for(var s in o){if(a==o[s]){var u=this.getAttachment(n,s);u&&i.setAttachment(u);break}}}n++}}}]),e}(),Pi=function(){function e(t){(0,c.Z)(this,e),this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return(0,h.Z)(e,[{key:"readSkeletonData",value:function(e){var t=this.scale,n=new Ei;n.name="";var r=new f(e),i=r.readInt32(),a=r.readInt32();n.hash=0==a&&0==i?null:a.toString(16)+i.toString(16),n.version=r.readString();var o=n.version.substr(0,3);if("4.0"!==o&&"4.1"!==o){var s="Spine 4.1 loader cant load version ".concat(n.version,". Please configure your pixi-spine bundle");console.error(s)}this.ver40="4.0"===o,n.x=r.readFloat(),n.y=r.readFloat(),n.width=r.readFloat(),n.height=r.readFloat();var u=r.readBoolean();u&&(n.fps=r.readFloat(),n.imagesPath=r.readString(),n.audioPath=r.readString());var l=0;l=r.readInt(!0);for(var c=0;c<l;c++){var h=r.readString();if(!h)throw new Error("String in string table must not be null.");r.strings.push(h)}l=r.readInt(!0);for(var d=0;d<l;d++){var p=r.readString();if(!p)throw new Error("Bone name must not be null.");var m=0==d?null:n.bones[r.readInt(!0)],g=new ci(d,p,m);g.rotation=r.readFloat(),g.x=r.readFloat()*t,g.y=r.readFloat()*t,g.scaleX=r.readFloat(),g.scaleY=r.readFloat(),g.shearX=r.readFloat(),g.shearY=r.readFloat(),g.length=r.readFloat()*t,g.transformMode=r.readInt(!0),g.skinRequired=r.readBoolean(),u&&O.rgba8888ToColor(g.color,r.readInt32()),n.bones.push(g)}l=r.readInt(!0);for(var y=0;y<l;y++){var b=r.readString();if(!b)throw new Error("Slot name must not be null.");var x=n.bones[r.readInt(!0)],_=new Ti(y,b,x);O.rgba8888ToColor(_.color,r.readInt32());var w=r.readInt32();-1!=w&&O.rgb888ToColor(_.darkColor=new O,w),_.attachmentName=r.readStringRef(),_.blendMode=r.readInt(!0),n.slots.push(_)}l=r.readInt(!0);for(var k,E=0;E<l;E++){var T=r.readString();if(!T)throw new Error("IK constraint data name must not be null.");var S=new vi(T);S.order=r.readInt(!0),S.skinRequired=r.readBoolean(),k=r.readInt(!0);for(var A=0;A<k;A++)S.bones.push(n.bones[r.readInt(!0)]);S.target=n.bones[r.readInt(!0)],S.mix=r.readFloat(),S.softness=r.readFloat()*t,S.bendDirection=r.readByte(),S.compress=r.readBoolean(),S.stretch=r.readBoolean(),S.uniform=r.readBoolean(),n.ikConstraints.push(S)}l=r.readInt(!0);for(var M,P=0;P<l;P++){var C=r.readString();if(!C)throw new Error("Transform constraint data name must not be null.");var I=new Si(C);I.order=r.readInt(!0),I.skinRequired=r.readBoolean(),M=r.readInt(!0);for(var R=0;R<M;R++)I.bones.push(n.bones[r.readInt(!0)]);I.target=n.bones[r.readInt(!0)],I.local=r.readBoolean(),I.relative=r.readBoolean(),I.offsetRotation=r.readFloat(),I.offsetX=r.readFloat()*t,I.offsetY=r.readFloat()*t,I.offsetScaleX=r.readFloat(),I.offsetScaleY=r.readFloat(),I.offsetShearY=r.readFloat(),I.mixRotate=r.readFloat(),I.mixX=r.readFloat(),I.mixY=r.readFloat(),I.mixScaleX=r.readFloat(),I.mixScaleY=r.readFloat(),I.mixShearY=r.readFloat(),n.transformConstraints.push(I)}l=r.readInt(!0);for(var L,N=0;N<l;N++){var B=r.readString();if(!B)throw new Error("Path constraint data name must not be null.");var D=new mi(B);D.order=r.readInt(!0),D.skinRequired=r.readBoolean(),L=r.readInt(!0);for(var Z=0;Z<L;Z++)D.bones.push(n.bones[r.readInt(!0)]);D.target=n.slots[r.readInt(!0)],D.positionMode=r.readInt(!0),D.spacingMode=r.readInt(!0),D.rotateMode=r.readInt(!0),D.offsetRotation=r.readFloat(),D.position=r.readFloat(),D.positionMode==v.Fixed&&(D.position*=t),D.spacing=r.readFloat(),D.spacingMode!=gi.Length&&D.spacingMode!=gi.Fixed||(D.spacing*=t),D.mixRotate=r.readFloat(),D.mixX=r.readFloat(),D.mixY=r.readFloat(),n.pathConstraints.push(D)}var V=this.readSkin(r,n,!0,u);V&&(n.defaultSkin=V,n.skins.push(V));var j=n.skins.length;for(F.setArraySize(n.skins,l=j+r.readInt(!0));j<l;j++){var U=this.readSkin(r,n,!1,u);if(!U)throw new Error("readSkin() should not have returned null.");n.skins[j]=U}l=this.linkedMeshes.length;for(var Y=0;Y<l;Y++){var X=this.linkedMeshes[Y],G=X.skin?n.findSkin(X.skin):n.defaultSkin;if(!G)throw new Error("Not skin found for linked mesh.");if(!X.parent)throw new Error("Linked mesh parent must not be null");var W=G.getAttachment(X.slotIndex,X.parent);if(!W)throw new Error("Parent mesh not found: ".concat(X.parent));X.mesh.timelineAttachment=X.inheritTimeline?W:X.mesh,X.mesh.setParentMesh(W)}this.linkedMeshes.length=0,l=r.readInt(!0);for(var H=0;H<l;H++){var z=r.readStringRef();if(!z)throw new Error;var q=new di(z);q.intValue=r.readInt(!1),q.floatValue=r.readFloat(),q.stringValue=r.readString(),q.audioPath=r.readString(),q.audioPath&&(q.volume=r.readFloat(),q.balance=r.readFloat()),n.events.push(q)}l=r.readInt(!0);for(var $=0;$<l;$++){var K=r.readString();if(!K)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(r,K,n))}return n}},{key:"readSkin",value:function(e,t,n,r){var i=null,a=0;if(n){if(0==(a=e.readInt(!0)))return null;i=new Mi("default")}else{var o=e.readStringRef();if(!o)throw new Error("Skin name must not be null.");(i=new Mi(o)).bones.length=e.readInt(!0);for(var s=0,u=i.bones.length;s<u;s++)i.bones[s]=t.bones[e.readInt(!0)];for(var l=0,c=e.readInt(!0);l<c;l++)i.constraints.push(t.ikConstraints[e.readInt(!0)]);for(var h=0,f=e.readInt(!0);h<f;h++)i.constraints.push(t.transformConstraints[e.readInt(!0)]);for(var d=0,p=e.readInt(!0);d<p;d++)i.constraints.push(t.pathConstraints[e.readInt(!0)]);a=e.readInt(!0)}for(var v=0;v<a;v++)for(var m=e.readInt(!0),g=0,y=e.readInt(!0);g<y;g++){var b=e.readStringRef();if(!b)throw new Error("Attachment name must not be null");var x=this.readAttachment(e,t,i,m,b,r);x&&i.setAttachment(m,b,x)}return i}},{key:"readAttachment",value:function(e,t,n,r,i,a){var o=this.scale,s=e.readStringRef();switch(s||(s=i),e.readByte()){case l.Region:var u=e.readStringRef(),c=e.readFloat(),h=e.readFloat(),f=e.readFloat(),d=e.readFloat(),p=e.readFloat(),v=e.readFloat(),m=e.readFloat(),g=e.readInt32(),y=this.readSequence(e);u||(u=s);var b=this.attachmentLoader.newRegionAttachment(n,s,u,y);return b?(b.path=u,b.x=h*o,b.y=f*o,b.scaleX=d,b.scaleY=p,b.rotation=c,b.width=v*o,b.height=m*o,O.rgba8888ToColor(b.color,g),b.sequence=y,null==y&&b.updateRegion(),b):null;case l.BoundingBox:var x=e.readInt(!0),_=this.readVertices(e,x),w=a?e.readInt32():0,k=this.attachmentLoader.newBoundingBoxAttachment(n,s);return k?(k.worldVerticesLength=x<<1,k.vertices=_.vertices,k.bones=_.bones,a&&O.rgba8888ToColor(k.color,w),k):null;case l.Mesh:var E=e.readStringRef(),T=e.readInt32(),S=e.readInt(!0),A=this.readFloatArray(e,S<<1,1),M=this.readShortArray(e),P=this.readVertices(e,S),C=e.readInt(!0),I=this.readSequence(e),R=[],L=0,N=0;a&&(R=this.readShortArray(e),L=e.readFloat(),N=e.readFloat()),E||(E=s);var B=this.attachmentLoader.newMeshAttachment(n,s,E,I);return B?(B.path=E,O.rgba8888ToColor(B.color,T),B.bones=P.bones,B.vertices=P.vertices,B.worldVerticesLength=S<<1,B.triangles=M,B.regionUVs=new Float32Array(A),B.hullLength=C<<1,B.sequence=I,a&&(B.edges=R,B.width=L*o,B.height=N*o),B):null;case l.LinkedMesh:var D=e.readStringRef(),Z=e.readInt32(),V=e.readStringRef(),j=e.readStringRef(),U=e.readBoolean(),Y=this.readSequence(e),X=0,G=0;a&&(X=e.readFloat(),G=e.readFloat()),D||(D=s);var W=this.attachmentLoader.newMeshAttachment(n,s,D,Y);return W?(W.path=D,O.rgba8888ToColor(W.color,Z),W.sequence=Y,a&&(W.width=X*o,W.height=G*o),this.linkedMeshes.push(new Ci(W,V,r,j,U)),W):null;case l.Path:for(var H=e.readBoolean(),z=e.readBoolean(),q=e.readInt(!0),$=this.readVertices(e,q),K=F.newArray(q/3,0),J=0,Q=K.length;J<Q;J++)K[J]=e.readFloat()*o;var ee=a?e.readInt32():0,te=this.attachmentLoader.newPathAttachment(n,s);return te?(te.closed=H,te.constantSpeed=z,te.worldVerticesLength=q<<1,te.vertices=$.vertices,te.bones=$.bones,te.lengths=K,a&&O.rgba8888ToColor(te.color,ee),te):null;case l.Point:var ne=e.readFloat(),re=e.readFloat(),ie=e.readFloat(),ae=a?e.readInt32():0,oe=this.attachmentLoader.newPointAttachment(n,s);return oe?(oe.x=re*o,oe.y=ie*o,oe.rotation=ne,a&&O.rgba8888ToColor(oe.color,ae),oe):null;case l.Clipping:var se=e.readInt(!0),ue=e.readInt(!0),le=this.readVertices(e,ue),ce=a?e.readInt32():0,he=this.attachmentLoader.newClippingAttachment(n,s);return he?(he.endSlot=t.slots[se],he.worldVerticesLength=ue<<1,he.vertices=le.vertices,he.bones=le.bones,a&&O.rgba8888ToColor(he.color,ce),he):null}return null}},{key:"readSequence",value:function(e){if(this.ver40||!e.readBoolean())return null;var t=new zn(e.readInt(!0));return t.start=e.readInt(!0),t.digits=e.readInt(!0),t.setupIndex=e.readInt(!0),t}},{key:"readDeformTimelineType",value:function(e){return this.ver40?Ki:e.readByte()}},{key:"readVertices",value:function(e,t){var n=this.scale,r=t<<1,i=new Ii;if(!e.readBoolean())return i.vertices=this.readFloatArray(e,r,n),i;for(var a=new Array,o=new Array,s=0;s<t;s++){var u=e.readInt(!0);o.push(u);for(var l=0;l<u;l++)o.push(e.readInt(!0)),a.push(e.readFloat()*n),a.push(e.readFloat()*n),a.push(e.readFloat())}return i.vertices=F.toFloatArray(a),i.bones=o,i}},{key:"readFloatArray",value:function(e,t,n){var r=new Array(t);if(1==n)for(var i=0;i<t;i++)r[i]=e.readFloat();else for(var a=0;a<t;a++)r[a]=e.readFloat()*n;return r}},{key:"readShortArray",value:function(e){for(var t=e.readInt(!0),n=new Array(t),r=0;r<t;r++)n[r]=e.readShort();return n}},{key:"readAnimation",value:function(e,t,n){e.readInt(!0);for(var r=new Array,i=this.scale,a=0,o=e.readInt(!0);a<o;a++)for(var s=e.readInt(!0),u=0,l=e.readInt(!0);u<l;u++){var c=e.readByte(),h=e.readInt(!0),f=h-1;switch(c){case Gi:for(var d=new Dr(h,s),p=0;p<h;p++)d.setFrame(p,e.readFloat(),e.readStringRef());r.push(d);break;case Wi:for(var m=e.readInt(!0),g=new Rr(h,m,s),y=e.readFloat(),b=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,_=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,k=0,E=0;g.setFrame(k,y,b,x,_,w),k!=f;k++){var T=e.readFloat(),S=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,M=e.readUnsignedByte()/255,P=e.readUnsignedByte()/255;switch(e.readByte()){case na:g.setStepped(k);break;case ra:Li(e,g,E++,k,0,y,T,b,S,1),Li(e,g,E++,k,1,y,T,x,A,1),Li(e,g,E++,k,2,y,T,_,M,1),Li(e,g,E++,k,3,y,T,w,P,1)}y=T,b=S,x=A,_=M,w=P}r.push(g);break;case Hi:for(var C=e.readInt(!0),I=new Or(h,C,s),R=e.readFloat(),O=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,N=e.readUnsignedByte()/255,B=0,D=0;I.setFrame(B,R,O,L,N),B!=f;B++){var Z=e.readFloat(),V=e.readUnsignedByte()/255,j=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255;switch(e.readByte()){case na:I.setStepped(B);break;case ra:Li(e,I,D++,B,0,R,Z,O,V,1),Li(e,I,D++,B,1,R,Z,L,j,1),Li(e,I,D++,B,2,R,Z,N,U,1)}R=Z,O=V,L=j,N=U}r.push(I);break;case zi:for(var Y=e.readInt(!0),X=new Nr(h,Y,s),G=e.readFloat(),W=e.readUnsignedByte()/255,H=e.readUnsignedByte()/255,z=e.readUnsignedByte()/255,q=e.readUnsignedByte()/255,$=e.readUnsignedByte()/255,K=e.readUnsignedByte()/255,J=e.readUnsignedByte()/255,Q=0,ee=0;X.setFrame(Q,G,W,H,z,q,$,K,J),Q!=f;Q++){var te=e.readFloat(),ne=e.readUnsignedByte()/255,re=e.readUnsignedByte()/255,ie=e.readUnsignedByte()/255,ae=e.readUnsignedByte()/255,oe=e.readUnsignedByte()/255,se=e.readUnsignedByte()/255,ue=e.readUnsignedByte()/255;switch(e.readByte()){case na:X.setStepped(Q);break;case ra:Li(e,X,ee++,Q,0,G,te,W,ne,1),Li(e,X,ee++,Q,1,G,te,H,re,1),Li(e,X,ee++,Q,2,G,te,z,ie,1),Li(e,X,ee++,Q,3,G,te,q,ae,1),Li(e,X,ee++,Q,4,G,te,$,oe,1),Li(e,X,ee++,Q,5,G,te,K,se,1),Li(e,X,ee++,Q,6,G,te,J,ue,1)}G=te,W=ne,H=re,z=ie,q=ae,$=oe,K=se,J=ue}r.push(X);break;case qi:for(var le=e.readInt(!0),ce=new Br(h,le,s),he=e.readFloat(),fe=e.readUnsignedByte()/255,de=e.readUnsignedByte()/255,pe=e.readUnsignedByte()/255,ve=e.readUnsignedByte()/255,me=e.readUnsignedByte()/255,ge=e.readUnsignedByte()/255,ye=0,be=0;ce.setFrame(ye,he,fe,de,pe,ve,me,ge),ye!=f;ye++){var xe=e.readFloat(),_e=e.readUnsignedByte()/255,we=e.readUnsignedByte()/255,ke=e.readUnsignedByte()/255,Ee=e.readUnsignedByte()/255,Te=e.readUnsignedByte()/255,Se=e.readUnsignedByte()/255;switch(e.readByte()){case na:ce.setStepped(ye);break;case ra:Li(e,ce,be++,ye,0,he,xe,fe,_e,1),Li(e,ce,be++,ye,1,he,xe,de,we,1),Li(e,ce,be++,ye,2,he,xe,pe,ke,1),Li(e,ce,be++,ye,3,he,xe,ve,Ee,1),Li(e,ce,be++,ye,4,he,xe,me,Te,1),Li(e,ce,be++,ye,5,he,xe,ge,Se,1)}he=xe,fe=_e,de=we,pe=ke,ve=Ee,me=Te,ge=Se}r.push(ce);break;case $i:for(var Ae=new Lr(h,e.readInt(!0),s),Me=e.readFloat(),Pe=e.readUnsignedByte()/255,Ce=0,Ie=0;Ae.setFrame(Ce,Me,Pe),Ce!=f;Ce++){var Re=e.readFloat(),Oe=e.readUnsignedByte()/255;switch(e.readByte()){case na:Ae.setStepped(Ce);break;case ra:Li(e,Ae,Ie++,Ce,0,Me,Re,Pe,Oe,1)}Me=Re,Pe=Oe}r.push(Ae)}}for(var Le=0,Ne=e.readInt(!0);Le<Ne;Le++)for(var Be=e.readInt(!0),De=0,Fe=e.readInt(!0);De<Fe;De++){var Ze=e.readByte(),Ve=e.readInt(!0),je=e.readInt(!0);switch(Ze){case Ni:r.push(Ri(e,new wr(Ve,je,Be),1));break;case Bi:r.push(Oi(e,new kr(Ve,je,Be),i));break;case Di:r.push(Ri(e,new Er(Ve,je,Be),i));break;case Fi:r.push(Ri(e,new Tr(Ve,je,Be),i));break;case Zi:r.push(Oi(e,new Sr(Ve,je,Be),1));break;case Vi:r.push(Ri(e,new Ar(Ve,je,Be),1));break;case ji:r.push(Ri(e,new Mr(Ve,je,Be),1));break;case Ui:r.push(Oi(e,new Pr(Ve,je,Be),1));break;case Yi:r.push(Ri(e,new Cr(Ve,je,Be),1));break;case Xi:r.push(Ri(e,new Ir(Ve,je,Be),1))}}for(var Ue=0,Ye=e.readInt(!0);Ue<Ye;Ue++){for(var Xe=e.readInt(!0),Ge=e.readInt(!0),We=Ge-1,He=new jr(Ge,e.readInt(!0),Xe),ze=e.readFloat(),qe=e.readFloat(),$e=e.readFloat()*i,Ke=0,Je=0;He.setFrame(Ke,ze,qe,$e,e.readByte(),e.readBoolean(),e.readBoolean()),Ke!=We;Ke++){var Qe=e.readFloat(),et=e.readFloat(),tt=e.readFloat()*i;switch(e.readByte()){case na:He.setStepped(Ke);break;case ra:Li(e,He,Je++,Ke,0,ze,Qe,qe,et,1),Li(e,He,Je++,Ke,1,ze,Qe,$e,tt,i)}ze=Qe,qe=et,$e=tt}r.push(He)}for(var nt=0,rt=e.readInt(!0);nt<rt;nt++){for(var it=e.readInt(!0),at=e.readInt(!0),ot=at-1,st=new Ur(at,e.readInt(!0),it),ut=e.readFloat(),lt=e.readFloat(),ct=e.readFloat(),ht=e.readFloat(),ft=e.readFloat(),dt=e.readFloat(),pt=e.readFloat(),vt=0,mt=0;st.setFrame(vt,ut,lt,ct,ht,ft,dt,pt),vt!=ot;vt++){var gt=e.readFloat(),yt=e.readFloat(),bt=e.readFloat(),xt=e.readFloat(),_t=e.readFloat(),wt=e.readFloat(),kt=e.readFloat();switch(e.readByte()){case na:st.setStepped(vt);break;case ra:Li(e,st,mt++,vt,0,ut,gt,lt,yt,1),Li(e,st,mt++,vt,1,ut,gt,ct,bt,1),Li(e,st,mt++,vt,2,ut,gt,ht,xt,1),Li(e,st,mt++,vt,3,ut,gt,ft,_t,1),Li(e,st,mt++,vt,4,ut,gt,dt,wt,1),Li(e,st,mt++,vt,5,ut,gt,pt,kt,1)}ut=gt,lt=yt,ct=bt,ht=xt,ft=_t,dt=wt,pt=kt}r.push(st)}for(var Et=0,Tt=e.readInt(!0);Et<Tt;Et++)for(var St=e.readInt(!0),At=n.pathConstraints[St],Mt=0,Pt=e.readInt(!0);Mt<Pt;Mt++)switch(e.readByte()){case Qi:r.push(Ri(e,new Yr(e.readInt(!0),e.readInt(!0),St),At.positionMode==v.Fixed?i:1));break;case ea:r.push(Ri(e,new Xr(e.readInt(!0),e.readInt(!0),St),At.spacingMode==gi.Length||At.spacingMode==gi.Fixed?i:1));break;case ta:for(var Ct=new Gr(e.readInt(!0),e.readInt(!0),St),It=e.readFloat(),Rt=e.readFloat(),Ot=e.readFloat(),Lt=e.readFloat(),Nt=0,Bt=0,Dt=Ct.getFrameCount()-1;Ct.setFrame(Nt,It,Rt,Ot,Lt),Nt!=Dt;Nt++){var Ft=e.readFloat(),Zt=e.readFloat(),Vt=e.readFloat(),jt=e.readFloat();switch(e.readByte()){case na:Ct.setStepped(Nt);break;case ra:Li(e,Ct,Bt++,Nt,0,It,Ft,Rt,Zt,1),Li(e,Ct,Bt++,Nt,1,It,Ft,Ot,Vt,1),Li(e,Ct,Bt++,Nt,2,It,Ft,Lt,jt,1)}It=Ft,Rt=Zt,Ot=Vt,Lt=jt}r.push(Ct)}for(var Ut=0,Yt=e.readInt(!0);Ut<Yt;Ut++)for(var Xt=n.skins[e.readInt(!0)],Gt=0,Wt=e.readInt(!0);Gt<Wt;Gt++)for(var Ht=e.readInt(!0),zt=0,qt=e.readInt(!0);zt<qt;zt++){var $t=e.readStringRef();if(!$t)throw new Error("attachmentName must not be null.");var Kt=Xt.getAttachment(Ht,$t),Jt=this.readDeformTimelineType(e),Qt=e.readInt(!0),en=Qt-1;switch(Jt){case Ki:for(var tn=Kt,nn=tn.bones,rn=tn.vertices,an=nn?rn.length/3*2:rn.length,on=e.readInt(!0),sn=new Fr(Qt,on,Ht,tn),un=e.readFloat(),ln=0,cn=0;;ln++){var hn=void 0,fn=e.readInt(!0);if(0==fn)hn=nn?F.newFloatArray(an):rn;else{hn=F.newFloatArray(an);var dn=e.readInt(!0);if(fn+=dn,1==i)for(var pn=dn;pn<fn;pn++)hn[pn]=e.readFloat();else for(var vn=dn;vn<fn;vn++)hn[vn]=e.readFloat()*i;if(!nn)for(var mn=0,gn=hn.length;mn<gn;mn++)hn[mn]+=rn[mn]}if(sn.setFrame(ln,un,hn),ln==en)break;var yn=e.readFloat();switch(e.readByte()){case na:sn.setStepped(ln);break;case ra:Li(e,sn,cn++,ln,0,un,yn,0,1,1)}un=yn}r.push(sn);break;case Ji:for(var bn=new Wr(Qt,Ht,Kt),xn=0;xn<Qt;xn++){var _n=e.readFloat(),wn=e.readInt32();bn.setFrame(xn,_n,$n[15&wn],wn>>4,e.readFloat())}r.push(bn)}}var kn=e.readInt(!0);if(kn>0){for(var En=new Vr(kn),Tn=n.slots.length,Sn=0;Sn<kn;Sn++){for(var An=e.readFloat(),Mn=e.readInt(!0),Pn=F.newArray(Tn,0),Cn=Tn-1;Cn>=0;Cn--)Pn[Cn]=-1;for(var In=F.newArray(Tn-Mn,0),Rn=0,On=0,Ln=0;Ln<Mn;Ln++){for(var Nn=e.readInt(!0);Rn!=Nn;)In[On++]=Rn++;Pn[Rn+e.readInt(!0)]=Rn++}for(;Rn<Tn;)In[On++]=Rn++;for(var Bn=Tn-1;Bn>=0;Bn--)-1==Pn[Bn]&&(Pn[Bn]=In[--On]);En.setFrame(Sn,An,Pn)}r.push(En)}var Dn=e.readInt(!0);if(Dn>0){for(var Fn=new Zr(Dn),Zn=0;Zn<Dn;Zn++){var Vn=e.readFloat(),jn=n.events[e.readInt(!0)],Un=new fi(Vn,jn);Un.intValue=e.readInt(!1),Un.floatValue=e.readFloat(),Un.stringValue=e.readBoolean()?e.readString():jn.stringValue,Un.data.audioPath&&(Un.volume=e.readFloat(),Un.balance=e.readFloat()),Fn.setFrame(Zn,Un)}r.push(Fn)}for(var Yn=0,Xn=0,Gn=r.length;Xn<Gn;Xn++)Yn=Math.max(Yn,r[Xn].getDuration());return new Kn(t,r,Yn)}}]),e}();Pi.BlendModeValues=[x.T$.NORMAL,x.T$.ADD,x.T$.MULTIPLY,x.T$.SCREEN];var Ci=(0,h.Z)((function e(t,n,r,i,a){(0,c.Z)(this,e),this.mesh=t,this.skin=n,this.slotIndex=r,this.parent=i,this.inheritTimeline=a})),Ii=(0,h.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,c.Z)(this,e),this.bones=t,this.vertices=n}));function Ri(e,t,n){for(var r=e.readFloat(),i=e.readFloat()*n,a=0,o=0,s=t.getFrameCount()-1;t.setFrame(a,r,i),a!=s;a++){var u=e.readFloat(),l=e.readFloat()*n;switch(e.readByte()){case na:t.setStepped(a);break;case ra:Li(e,t,o++,a,0,r,u,i,l,n)}r=u,i=l}return t}function Oi(e,t,n){for(var r=e.readFloat(),i=e.readFloat()*n,a=e.readFloat()*n,o=0,s=0,u=t.getFrameCount()-1;t.setFrame(o,r,i,a),o!=u;o++){var l=e.readFloat(),c=e.readFloat()*n,h=e.readFloat()*n;switch(e.readByte()){case na:t.setStepped(o);break;case ra:Li(e,t,s++,o,0,r,l,i,c,n),Li(e,t,s++,o,1,r,l,a,h,n)}r=l,i=c,a=h}return t}function Li(e,t,n,r,i,a,o,s,u,l){t.setBezier(n,r,i,a,s,e.readFloat(),e.readFloat()*l,e.readFloat(),e.readFloat()*l,o,u)}var Ni=0,Bi=1,Di=2,Fi=3,Zi=4,Vi=5,ji=6,Ui=7,Yi=8,Xi=9,Gi=0,Wi=1,Hi=2,zi=3,qi=4,$i=5,Ki=0,Ji=1,Qi=0,ea=1,ta=2,na=1,ra=2,ia=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n)}(j),aa=function(){function e(t){(0,c.Z)(this,e),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return(0,h.Z)(e,[{key:"readSkeletonData",value:function(t){var n=this.scale,r=new Ei,i="string"===typeof t?JSON.parse(t):t,a=i.skeleton;if(a){r.hash=a.hash,r.version=a.spine;var o=r.version.substr(0,3);if("4.0"!==o&&"4.1"!==o){var s="Spine 4.1 loader cant load version ".concat(a.spine,". Please configure your pixi-spine bundle");console.error(s)}r.x=a.x,r.y=a.y,r.width=a.width,r.height=a.height,r.fps=a.fps,r.imagesPath=a.images}if(i.bones)for(var u=0;u<i.bones.length;u++){var l=i.bones[u],c=null,h=ca(l,"parent",null);if(null!=h&&null==(c=r.findBone(h)))throw new Error("Parent bone not found: ".concat(h));var f=new ci(r.bones.length,l.name,c);f.length=ca(l,"length",0)*n,f.x=ca(l,"x",0)*n,f.y=ca(l,"y",0)*n,f.rotation=ca(l,"rotation",0),f.scaleX=ca(l,"scaleX",1),f.scaleY=ca(l,"scaleY",1),f.shearX=ca(l,"shearX",0),f.shearY=ca(l,"shearY",0),f.transformMode=F.enumValue(g,ca(l,"transform","Normal")),f.skinRequired=ca(l,"skin",!1);var d=ca(l,"color",null);d&&f.color.setFromString(d),r.bones.push(f)}if(i.slots)for(var p=0;p<i.slots.length;p++){var y=i.slots[p],b=r.findBone(y.bone);if(!b)throw new Error("Couldn't find bone ".concat(y.bone," for slot ").concat(y.name));var x=new Ti(r.slots.length,y.name,b),_=ca(y,"color",null);_&&x.color.setFromString(_);var w=ca(y,"dark",null);w&&(x.darkColor=O.fromString(w)),x.attachmentName=ca(y,"attachment",null),x.blendMode=e.blendModeFromString(ca(y,"blend","normal")),r.slots.push(x)}if(i.ik)for(var k=0;k<i.ik.length;k++){var E=i.ik[k],T=new vi(E.name);T.order=ca(E,"order",0),T.skinRequired=ca(E,"skin",!1);for(var S=0;S<E.bones.length;S++){var A=E.bones[S],M=r.findBone(A);if(null==M)throw new Error("IK bone not found: ".concat(A));T.bones.push(M)}T.target=r.findBone(E.target),T.mix=ca(E,"mix",1),T.softness=ca(E,"softness",0)*n,T.bendDirection=ca(E,"bendPositive",!0)?1:-1,T.compress=ca(E,"compress",!1),T.stretch=ca(E,"stretch",!1),T.uniform=ca(E,"uniform",!1),r.ikConstraints.push(T)}if(i.transform)for(var P=0;P<i.transform.length;P++){var C=i.transform[P],I=new Si(C.name);I.order=ca(C,"order",0),I.skinRequired=ca(C,"skin",!1);for(var R=0;R<C.bones.length;R++){var L=C.bones[R],N=r.findBone(L);if(!N)throw new Error("Couldn't find bone ".concat(L," for transform constraint ").concat(C.name,"."));I.bones.push(N)}var B=C.target,D=r.findBone(B);if(!D)throw new Error("Couldn't find target bone ".concat(B," for transform constraint ").concat(C.name,"."));I.target=D,I.local=ca(C,"local",!1),I.relative=ca(C,"relative",!1),I.offsetRotation=ca(C,"rotation",0),I.offsetX=ca(C,"x",0)*n,I.offsetY=ca(C,"y",0)*n,I.offsetScaleX=ca(C,"scaleX",0),I.offsetScaleY=ca(C,"scaleY",0),I.offsetShearY=ca(C,"shearY",0),I.mixRotate=ca(C,"mixRotate",1),I.mixX=ca(C,"mixX",1),I.mixY=ca(C,"mixY",I.mixX),I.mixScaleX=ca(C,"mixScaleX",1),I.mixScaleY=ca(C,"mixScaleY",I.mixScaleX),I.mixShearY=ca(C,"mixShearY",1),r.transformConstraints.push(I)}if(i.path)for(var Z=0;Z<i.path.length;Z++){var V=i.path[Z],j=new mi(V.name);j.order=ca(V,"order",0),j.skinRequired=ca(V,"skin",!1);for(var U=0;U<V.bones.length;U++){var Y=V.bones[U],X=r.findBone(Y);if(!X)throw new Error("Couldn't find bone ".concat(Y," for path constraint ").concat(V.name,"."));j.bones.push(X)}var G=V.target,W=r.findSlot(G);if(!W)throw new Error("Couldn't find target slot ".concat(G," for path constraint ").concat(V.name,"."));j.target=W,j.positionMode=F.enumValue(v,ca(V,"positionMode","Percent")),j.spacingMode=F.enumValue(gi,ca(V,"spacingMode","Length")),j.rotateMode=F.enumValue(m,ca(V,"rotateMode","Tangent")),j.offsetRotation=ca(V,"rotation",0),j.position=ca(V,"position",0),j.positionMode==v.Fixed&&(j.position*=n),j.spacing=ca(V,"spacing",0),j.spacingMode!=gi.Length&&j.spacingMode!=gi.Fixed||(j.spacing*=n),j.mixRotate=ca(V,"mixRotate",1),j.mixX=ca(V,"mixX",1),j.mixY=ca(V,"mixY",j.mixX),r.pathConstraints.push(j)}if(i.skins)for(var H=0;H<i.skins.length;H++){var z=i.skins[H],q=new Mi(z.name);if(z.bones)for(var $=0;$<z.bones.length;$++){var K=z.bones[$],J=r.findBone(K);if(!J)throw new Error("Couldn't find bone ".concat(K," for skin ").concat(z.name,"."));q.bones.push(J)}if(z.ik)for(var Q=0;Q<z.ik.length;Q++){var ee=z.ik[Q],te=r.findIkConstraint(ee);if(!te)throw new Error("Couldn't find IK constraint ".concat(ee," for skin ").concat(z.name,"."));q.constraints.push(te)}if(z.transform)for(var ne=0;ne<z.transform.length;ne++){var re=z.transform[ne],ie=r.findTransformConstraint(re);if(!ie)throw new Error("Couldn't find transform constraint ".concat(re," for skin ").concat(z.name,"."));q.constraints.push(ie)}if(z.path)for(var ae=0;ae<z.path.length;ae++){var oe=z.path[ae],se=r.findPathConstraint(oe);if(!se)throw new Error("Couldn't find path constraint ".concat(oe," for skin ").concat(z.name,"."));q.constraints.push(se)}for(var ue in z.attachments){var le=r.findSlot(ue);if(!le)throw new Error("Couldn't find slot ".concat(ue," for skin ").concat(z.name,"."));var ce=z.attachments[ue];for(var he in ce){var fe=this.readAttachment(ce[he],q,le.index,he,r);fe&&q.setAttachment(le.index,he,fe)}}r.skins.push(q),"default"==q.name&&(r.defaultSkin=q)}for(var de=0,pe=this.linkedMeshes.length;de<pe;de++){var ve=this.linkedMeshes[de],me=ve.skin?r.findSkin(ve.skin):r.defaultSkin;if(!me)throw new Error("Skin not found: ".concat(ve.skin));var ge=me.getAttachment(ve.slotIndex,ve.parent);if(!ge)throw new Error("Parent mesh not found: ".concat(ve.parent));ve.mesh.timelineAttachment=ve.inheritTimeline?ge:ve.mesh,ve.mesh.setParentMesh(ge)}if(this.linkedMeshes.length=0,i.events)for(var ye in i.events){var be=i.events[ye],xe=new di(ye);xe.intValue=ca(be,"int",0),xe.floatValue=ca(be,"float",0),xe.stringValue=ca(be,"string",""),xe.audioPath=ca(be,"audio",null),xe.audioPath&&(xe.volume=ca(be,"volume",1),xe.balance=ca(be,"balance",0)),r.events.push(xe)}if(i.animations)for(var _e in i.animations){var we=i.animations[_e];this.readAnimation(we,_e,r)}return r}},{key:"readAttachment",value:function(e,t,n,r,i){var a=this.scale;switch(r=ca(e,"name",r),ca(e,"type","region")){case"region":var o=ca(e,"path",r),s=this.readSequence(ca(e,"sequence",null)),u=this.attachmentLoader.newRegionAttachment(t,r,o,s);if(!u)return null;u.path=o,u.x=ca(e,"x",0)*a,u.y=ca(e,"y",0)*a,u.scaleX=ca(e,"scaleX",1),u.scaleY=ca(e,"scaleY",1),u.rotation=ca(e,"rotation",0),u.width=e.width*a,u.height=e.height*a,u.sequence=s;var l=ca(e,"color",null);return l&&u.color.setFromString(l),u;case"boundingbox":var c=this.attachmentLoader.newBoundingBoxAttachment(t,r);if(!c)return null;this.readVertices(e,c,e.vertexCount<<1);var h=ca(e,"color",null);return h&&c.color.setFromString(h),c;case"mesh":case"linkedmesh":var f=ca(e,"path",r),d=this.readSequence(ca(e,"sequence",null)),p=this.attachmentLoader.newMeshAttachment(t,r,f,d);if(!p)return null;p.path=f;var v=ca(e,"color",null);v&&p.color.setFromString(v),p.width=ca(e,"width",0)*a,p.height=ca(e,"height",0)*a,p.sequence=d;var m=ca(e,"parent",null);if(m)return this.linkedMeshes.push(new oa(p,ca(e,"skin",null),n,m,ca(e,"timelines",!0))),p;var g=e.uvs;return this.readVertices(e,p,g.length),p.triangles=e.triangles,p.regionUVs=new Float32Array(g),p.edges=ca(e,"edges",null),p.hullLength=2*ca(e,"hull",0),p;case"path":var y=this.attachmentLoader.newPathAttachment(t,r);if(!y)return null;y.closed=ca(e,"closed",!1),y.constantSpeed=ca(e,"constantSpeed",!0);var b=e.vertexCount;this.readVertices(e,y,b<<1);for(var x=F.newArray(b/3,0),_=0;_<e.lengths.length;_++)x[_]=e.lengths[_]*a;y.lengths=x;var w=ca(e,"color",null);return w&&y.color.setFromString(w),y;case"point":var k=this.attachmentLoader.newPointAttachment(t,r);if(!k)return null;k.x=ca(e,"x",0)*a,k.y=ca(e,"y",0)*a,k.rotation=ca(e,"rotation",0);var E=ca(e,"color",null);return E&&k.color.setFromString(E),k;case"clipping":var T=this.attachmentLoader.newClippingAttachment(t,r);if(!T)return null;var S=ca(e,"end",null);if(null!=S){var A=i.findSlot(S);if(null==A)throw new Error("Clipping end slot not found: ".concat(S));T.endSlot=A}var M=e.vertexCount;this.readVertices(e,T,M<<1);var P=ca(e,"color",null);return P&&T.color.setFromString(P),T}return null}},{key:"readSequence",value:function(e){if(null==e)return null;var t=new zn(ca(e,"count",0));return t.start=ca(e,"start",1),t.digits=ca(e,"digits",0),t.setupIndex=ca(e,"setup",0),t}},{key:"readVertices",value:function(e,t,n){var r=this.scale;t.worldVerticesLength=n;var i=e.vertices;if(n!=i.length){for(var a=new Array,o=new Array,s=0,u=i.length;s<u;){var l=i[s++];o.push(l);for(var c=s+4*l;s<c;s+=4)o.push(i[s]),a.push(i[s+1]*r),a.push(i[s+2]*r),a.push(i[s+3])}t.bones=o,t.vertices=F.toFloatArray(a)}else{var h=F.toFloatArray(i);if(1!=r)for(var f=0,d=i.length;f<d;f++)h[f]*=r;t.vertices=h}}},{key:"readAnimation",value:function(e,t,n){var r=this.scale,i=new Array;if(e.slots)for(var a in e.slots){var o=e.slots[a],s=n.findSlot(a);if(!s)throw new Error("Slot not found: ".concat(a));var u=s.index;for(var l in o){var c=o[l];if(c){var h=c.length;if("attachment"==l){for(var f=new Dr(h,u),d=0;d<h;d++){var p=c[d];f.setFrame(d,ca(p,"time",0),ca(p,"name",null))}i.push(f)}else if("rgba"==l){for(var m=new Rr(h,h<<2,u),g=c[0],y=ca(g,"time",0),b=O.fromString(g.color),x=0,_=0;;x++){m.setFrame(x,y,b.r,b.g,b.b,b.a);var w=c[x+1];if(!w){m.shrink(_);break}var k=ca(w,"time",0),E=O.fromString(w.color),T=g.curve;T&&(_=la(T,m,_,x,0,y,k,b.r,E.r,1),_=la(T,m,_,x,1,y,k,b.g,E.g,1),_=la(T,m,_,x,2,y,k,b.b,E.b,1),_=la(T,m,_,x,3,y,k,b.a,E.a,1)),y=k,b=E,g=w}i.push(m)}else if("rgb"==l){for(var S=new Or(h,3*h,u),A=c[0],M=ca(A,"time",0),P=O.fromString(A.color),C=0,I=0;;C++){S.setFrame(C,M,P.r,P.g,P.b);var R=c[C+1];if(!R){S.shrink(I);break}var L=ca(R,"time",0),N=O.fromString(R.color),B=A.curve;B&&(I=la(B,S,I,C,0,M,L,P.r,N.r,1),I=la(B,S,I,C,1,M,L,P.g,N.g,1),I=la(B,S,I,C,2,M,L,P.b,N.b,1)),M=L,P=N,A=R}i.push(S)}else if("alpha"==l)i.push(sa(c,new Lr(h,h,u),0,1));else if("rgba2"==l){for(var D=new Nr(h,7*h,u),Z=c[0],V=ca(Z,"time",0),j=O.fromString(Z.light),U=O.fromString(Z.dark),X=0,G=0;;X++){D.setFrame(X,V,j.r,j.g,j.b,j.a,U.r,U.g,U.b);var W=c[X+1];if(!W){D.shrink(G);break}var H=ca(W,"time",0),z=O.fromString(W.light),q=O.fromString(W.dark),$=Z.curve;$&&(G=la($,D,G,X,0,V,H,j.r,z.r,1),G=la($,D,G,X,1,V,H,j.g,z.g,1),G=la($,D,G,X,2,V,H,j.b,z.b,1),G=la($,D,G,X,3,V,H,j.a,z.a,1),G=la($,D,G,X,4,V,H,U.r,q.r,1),G=la($,D,G,X,5,V,H,U.g,q.g,1),G=la($,D,G,X,6,V,H,U.b,q.b,1)),V=H,j=z,U=q,Z=W}i.push(D)}else if("rgb2"==l){for(var K=new Br(h,6*h,u),J=c[0],Q=ca(J,"time",0),ee=O.fromString(J.light),te=O.fromString(J.dark),ne=0,re=0;;ne++){K.setFrame(ne,Q,ee.r,ee.g,ee.b,te.r,te.g,te.b);var ie=c[ne+1];if(!ie){K.shrink(re);break}var ae=ca(ie,"time",0),oe=O.fromString(ie.light),se=O.fromString(ie.dark),ue=J.curve;ue&&(re=la(ue,K,re,ne,0,Q,ae,ee.r,oe.r,1),re=la(ue,K,re,ne,1,Q,ae,ee.g,oe.g,1),re=la(ue,K,re,ne,2,Q,ae,ee.b,oe.b,1),re=la(ue,K,re,ne,3,Q,ae,te.r,se.r,1),re=la(ue,K,re,ne,4,Q,ae,te.g,se.g,1),re=la(ue,K,re,ne,5,Q,ae,te.b,se.b,1)),Q=ae,ee=oe,te=se,J=ie}i.push(K)}}}}if(e.bones)for(var le in e.bones){var ce=e.bones[le],he=n.findBone(le);if(!he)throw new Error("Bone not found: ".concat(le));var fe=he.index;for(var de in ce){var pe=ce[de],ve=pe.length;if(0!=ve)if("rotate"===de)i.push(sa(pe,new wr(ve,ve,fe),0,1));else if("translate"===de){var me=new kr(ve,ve<<1,fe);i.push(ua(pe,me,"x","y",0,r))}else if("translatex"===de){var ge=new Er(ve,ve,fe);i.push(sa(pe,ge,0,r))}else if("translatey"===de){var ye=new Tr(ve,ve,fe);i.push(sa(pe,ye,0,r))}else if("scale"===de){var be=new Sr(ve,ve<<1,fe);i.push(ua(pe,be,"x","y",1,1))}else if("scalex"===de){var xe=new Ar(ve,ve,fe);i.push(sa(pe,xe,1,1))}else if("scaley"===de){var _e=new Mr(ve,ve,fe);i.push(sa(pe,_e,1,1))}else if("shear"===de){var we=new Pr(ve,ve<<1,fe);i.push(ua(pe,we,"x","y",0,1))}else if("shearx"===de){var ke=new Cr(ve,ve,fe);i.push(sa(pe,ke,0,1))}else if("sheary"===de){var Ee=new Ir(ve,ve,fe);i.push(sa(pe,Ee,0,1))}}}if(e.ik)for(var Te in e.ik){var Se=e.ik[Te],Ae=Se[0];if(Ae){var Me=n.findIkConstraint(Te);if(!Me)throw new Error("IK Constraint not found: ".concat(Te));for(var Pe=n.ikConstraints.indexOf(Me),Ce=new jr(Se.length,Se.length<<1,Pe),Ie=ca(Ae,"time",0),Re=ca(Ae,"mix",1),Oe=ca(Ae,"softness",0)*r,Le=0,Ne=0;;Le++){Ce.setFrame(Le,Ie,Re,Oe,ca(Ae,"bendPositive",!0)?1:-1,ca(Ae,"compress",!1),ca(Ae,"stretch",!1));var Be=Se[Le+1];if(!Be){Ce.shrink(Ne);break}var De=ca(Be,"time",0),Fe=ca(Be,"mix",1),Ze=ca(Be,"softness",0)*r,Ve=Ae.curve;Ve&&(Ne=la(Ve,Ce,Ne,Le,0,Ie,De,Re,Fe,1),Ne=la(Ve,Ce,Ne,Le,1,Ie,De,Oe,Ze,r)),Ie=De,Re=Fe,Oe=Ze,Ae=Be}i.push(Ce)}}if(e.transform)for(var je in e.transform){var Ue=e.transform[je],Ye=Ue[0];if(Ye){var Xe=n.findTransformConstraint(je);if(!Xe)throw new Error("Transform constraint not found: ".concat(je));for(var Ge=n.transformConstraints.indexOf(Xe),We=new Ur(Ue.length,6*Ue.length,Ge),He=ca(Ye,"time",0),ze=ca(Ye,"mixRotate",1),qe=ca(Ye,"mixX",1),$e=ca(Ye,"mixY",qe),Ke=ca(Ye,"mixScaleX",1),Je=ca(Ye,"mixScaleY",Ke),Qe=ca(Ye,"mixShearY",1),et=0,tt=0;;et++){We.setFrame(et,He,ze,qe,$e,Ke,Je,Qe);var nt=Ue[et+1];if(!nt){We.shrink(tt);break}var rt=ca(nt,"time",0),it=ca(nt,"mixRotate",1),at=ca(nt,"mixX",1),ot=ca(nt,"mixY",at),st=ca(nt,"mixScaleX",1),ut=ca(nt,"mixScaleY",st),lt=ca(nt,"mixShearY",1),ct=Ye.curve;ct&&(tt=la(ct,We,tt,et,0,He,rt,ze,it,1),tt=la(ct,We,tt,et,1,He,rt,qe,at,1),tt=la(ct,We,tt,et,2,He,rt,$e,ot,1),tt=la(ct,We,tt,et,3,He,rt,Ke,st,1),tt=la(ct,We,tt,et,4,He,rt,Je,ut,1),tt=la(ct,We,tt,et,5,He,rt,Qe,lt,1)),He=rt,ze=it,qe=at,$e=ot,Ke=st,Je=ut,Ke=st,Ye=nt}i.push(We)}}if(e.path)for(var ht in e.path){var ft=e.path[ht],dt=n.findPathConstraint(ht);if(!dt)throw new Error("Path constraint not found: ".concat(ht));var pt=n.pathConstraints.indexOf(dt);for(var vt in ft){var mt=ft[vt],gt=mt[0];if(gt){var yt=mt.length;if("position"===vt){var bt=new Yr(yt,yt,pt);i.push(sa(mt,bt,0,dt.positionMode==v.Fixed?r:1))}else if("spacing"===vt){var xt=new Xr(yt,yt,pt);i.push(sa(mt,xt,0,dt.spacingMode==gi.Length||dt.spacingMode==gi.Fixed?r:1))}else if("mix"===vt){for(var _t=new Gr(yt,3*yt,pt),wt=ca(gt,"time",0),kt=ca(gt,"mixRotate",1),Et=ca(gt,"mixX",1),Tt=ca(gt,"mixY",Et),St=0,At=0;;St++){_t.setFrame(St,wt,kt,Et,Tt);var Mt=mt[St+1];if(!Mt){_t.shrink(At);break}var Pt=ca(Mt,"time",0),Ct=ca(Mt,"mixRotate",1),It=ca(Mt,"mixX",1),Rt=ca(Mt,"mixY",It),Ot=gt.curve;Ot&&(At=la(Ot,_t,At,St,0,wt,Pt,kt,Ct,1),At=la(Ot,_t,At,St,1,wt,Pt,Et,It,1),At=la(Ot,_t,At,St,2,wt,Pt,Tt,Rt,1)),wt=Pt,kt=Ct,Et=It,Tt=Rt,gt=Mt}i.push(_t)}}}}if(e.deform)for(var Lt in e.attachments={},e.deform){var Nt=e.deform[Lt],Bt=e.attachments[Lt]={};for(var Dt in Nt){var Ft=Nt[Dt],Zt=Bt[Dt]={};for(var Vt in Ft)Zt[Vt]={deform:Ft[Vt]}}}if(e.attachments)for(var jt in e.attachments){var Ut=e.attachments[jt],Yt=n.findSkin(jt);if(null!=Yt)for(var Xt in Ut){var Gt=Ut[Xt],Wt=n.findSlot(Xt);if(!Wt)throw new Error("Slot not found: ".concat(Xt));var Ht=Wt.index;for(var zt in Gt){var qt=Gt[zt],$t=Yt.getAttachment(Ht,zt);for(var Kt in qt){var Jt=qt[Kt],Qt=Jt[0];if(Qt)if("deform"==Kt){for(var en=$t.bones,tn=$t.vertices,nn=en?tn.length/3*2:tn.length,rn=new Fr(Jt.length,Jt.length,Ht,$t),an=ca(Qt,"time",0),on=0,sn=0;;on++){var un=void 0,ln=ca(Qt,"vertices",null);if(ln){un=F.newFloatArray(nn);var cn=ca(Qt,"offset",0);if(F.arrayCopy(ln,0,un,cn,ln.length),1!=r)for(var hn=cn,fn=hn+ln.length;hn<fn;hn++)un[hn]*=r;if(!en)for(var dn=0;dn<nn;dn++)un[dn]+=tn[dn]}else un=en?F.newFloatArray(nn):tn;rn.setFrame(on,an,un);var pn=Jt[on+1];if(!pn){rn.shrink(sn);break}var vn=ca(pn,"time",0),mn=Qt.curve;mn&&(sn=la(mn,rn,sn,on,0,an,vn,0,1,1)),an=vn,Qt=pn}i.push(rn)}else if("sequence"==Kt){for(var gn=new Wr(Jt.length,Ht,$t),yn=0,bn=0;bn<Jt.length;bn++){var xn=ca(Qt,"delay",yn),_n=ca(Qt,"time",0),wn=qn[ca(Qt,"mode","hold")],kn=ca(Qt,"index",0);gn.setFrame(bn,_n,wn,kn,xn),yn=xn,Qt=Jt[bn+1]}i.push(gn)}}}}else if(Y)throw new Error("Skin not found: ".concat(jt))}if(e.drawOrder){for(var En=new Vr(e.drawOrder.length),Tn=n.slots.length,Sn=0,An=0;An<e.drawOrder.length;An++,Sn++){var Mn=e.drawOrder[An],Pn=null,Cn=ca(Mn,"offsets",null);if(Cn){Pn=F.newArray(Tn,-1);for(var In=F.newArray(Tn-Cn.length,0),Rn=0,On=0,Ln=0;Ln<Cn.length;Ln++){var Nn=Cn[Ln],Bn=n.findSlot(Nn.slot);if(!Bn)throw new Error("Slot not found: ".concat(Bn));for(var Dn=Bn.index;Rn!=Dn;)In[On++]=Rn++;Pn[Rn+Nn.offset]=Rn++}for(;Rn<Tn;)In[On++]=Rn++;for(var Fn=Tn-1;Fn>=0;Fn--)-1==Pn[Fn]&&(Pn[Fn]=In[--On])}En.setFrame(Sn,ca(Mn,"time",0),Pn)}i.push(En)}if(e.events){for(var Zn=new Zr(e.events.length),Vn=0,jn=0;jn<e.events.length;jn++,Vn++){var Un=e.events[jn],Yn=n.findEvent(Un.name);if(!Yn)throw new Error("Event not found: ".concat(Un.name));var Xn=new fi(F.toSinglePrecision(ca(Un,"time",0)),Yn);Xn.intValue=ca(Un,"int",Yn.intValue),Xn.floatValue=ca(Un,"float",Yn.floatValue),Xn.stringValue=ca(Un,"string",Yn.stringValue),Xn.data.audioPath&&(Xn.volume=ca(Un,"volume",1),Xn.balance=ca(Un,"balance",0)),Zn.setFrame(Vn,Xn)}i.push(Zn)}for(var Gn=0,Wn=0,Hn=i.length;Wn<Hn;Wn++)Gn=Math.max(Gn,i[Wn].getDuration());if(isNaN(Gn))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Kn(t,i,Gn))}}],[{key:"blendModeFromString",value:function(e){if("normal"==(e=e.toLowerCase()))return x.T$.NORMAL;if("additive"==e)return x.T$.ADD;if("multiply"==e)return x.T$.MULTIPLY;if("screen"==e)return x.T$.SCREEN;throw new Error("Unknown blend mode: ".concat(e))}}]),e}(),oa=(0,h.Z)((function e(t,n,r,i,a){(0,c.Z)(this,e),this.mesh=t,this.skin=n,this.slotIndex=r,this.parent=i,this.inheritTimeline=a}));function sa(e,t,n,r){for(var i=e[0],a=ca(i,"time",0),o=ca(i,"value",n)*r,s=0,u=0;;u++){t.setFrame(u,a,o);var l=e[u+1];if(!l)return t.shrink(s),t;var c=ca(l,"time",0),h=ca(l,"value",n)*r;i.curve&&(s=la(i.curve,t,s,u,0,a,c,o,h,r)),a=c,o=h,i=l}}function ua(e,t,n,r,i,a){for(var o=e[0],s=ca(o,"time",0),u=ca(o,n,i)*a,l=ca(o,r,i)*a,c=0,h=0;;h++){t.setFrame(h,s,u,l);var f=e[h+1];if(!f)return t.shrink(c),t;var d=ca(f,"time",0),p=ca(f,n,i)*a,v=ca(f,r,i)*a,m=o.curve;m&&(c=la(m,t,c,h,0,s,d,u,p,a),c=la(m,t,c,h,1,s,d,l,v,a)),s=d,u=p,l=v,o=f}}function la(e,t,n,r,i,a,o,s,u,l){if("stepped"==e)return t.setStepped(r),n;var c=i<<2,h=e[c],f=e[c+1]*l,d=e[c+2],p=e[c+3]*l;return t.setBezier(n,r,i,a,s,h,f,d,p,o,u),n+1}function ca(e,t,n){return void 0!==e[t]?e[t]:n}var ha=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"createSkeleton",value:function(e){this.skeleton=new ki(e),this.skeleton.updateWorldTransform(),this.stateData=new si(e),this.state=new zr(this.stateData)}}]),n}(ne),fa=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.VER37=37]="VER37",e[e.VER38=38]="VER38",e[e.VER40=40]="VER40",e[e.VER41=41]="VER41",e}(fa||{});function da(e){var t=e.substr(0,3),n=Math.floor(10*Number(t)+.001);return"3.7"===t?37:"3.8"===t?38:"4.0"===t?40:"4.1"===t?41:n<37?37:0}var pa=function(){function e(){(0,c.Z)(this,e),this.scale=1}return(0,h.Z)(e,[{key:"readSkeletonData",value:function(e,t){var n=null,r=this.readVersionOldFormat(t),i=da(r);if(i===fa.VER38&&(n=new ct(new Ge(e))),(i=da(r=this.readVersionNewFormat(t)))!==fa.VER40&&i!==fa.VER41||(n=new Pi(new ui(e))),!n){var a="Unsupported version of spine model ".concat(r,", please update pixi-spine");console.error(a)}return n.scale=this.scale,n.readSkeletonData(t)}},{key:"readVersionOldFormat",value:function(e){var t,n=new f(e);try{n.readString(),t=n.readString()}catch(r){t=""}return t||""}},{key:"readVersionNewFormat",value:function(e){var t,n=new f(e);n.readInt32(),n.readInt32();try{t=n.readString()}catch(r){t=""}return t||""}}]),e}(),va=function(){function e(){(0,c.Z)(this,e),this.scale=1}return(0,h.Z)(e,[{key:"readSkeletonData",value:function(e,t){var n=t.skeleton.spine,r=da(n),i=null;if(r===fa.VER37&&(i=new Nn(new mn(e))),r===fa.VER38&&(i=new pt(new Ge(e))),r!==fa.VER40&&r!==fa.VER41||(i=new aa(new ui(e))),!i){var a="Unsupported version of spine model ".concat(n,", please update pixi-spine");console.error(a)}return i.scale=this.scale,i.readSkeletonData(t)}}]),e}(),ma=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"createBinaryParser",value:function(){return new pa}},{key:"createJsonParser",value:function(){return new va}},{key:"parseData",value:function(e,t,n){return{spineData:e.readSkeletonData(t,n),spineAtlas:t}}}]),n}(se),ga=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"createSkeleton",value:function(e){var t=da(e.version),n=null;if(t===fa.VER37&&(n=i),t===fa.VER38&&(n=r),t!==fa.VER40&&t!==fa.VER41||(n=a),!n){var o="Cant detect version of spine model ".concat(e.version);console.error(o)}this.skeleton=new n.Skeleton(e),this.skeleton.updateWorldTransform(),this.stateData=new n.AnimationStateData(e),this.state=new n.AnimationState(this.stateData)}}]),n}(ne);(new ma).installLoader()},2070:function(e,t,n){"use strict";n.d(t,{MxU:function(){return Z},deM:function(){return X.de},Ilk:function(){return a.Il},W20:function(){return o.W2},wn$:function(){return a.wn},ZXM:function(){return a.wG},TCu:function(){return Ye.TC},Kj0:function(){return Xe.Kj},rY4:function(){return Xe.rY},AB0:function(){return a.AB},AeJ:function(){return a.Ae},exe:function(){return a.ex},jyi:function(){return s.j},xvT:function(){return at},pn8:function(){return et},xEZ:function(){return a.xE}});var r=n(3144),i=n(5671),a=n(172),o=n(1378),s=n(9815),u=new a.y3;o.s$.prototype._cacheAsBitmap=!1,o.s$.prototype._cacheData=null,o.s$.prototype._cacheAsBitmapResolution=null,o.s$.prototype._cacheAsBitmapMultisample=null;var l=(0,r.Z)((function e(){(0,i.Z)(this,e),this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}));Object.defineProperties(o.s$.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new l),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),o.s$.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},o.s$.prototype._initCachedDisplayObject=function(e){var t,n,r;if(null===(t=this._cacheData)||void 0===t||!t.sprite){var i=this.alpha;this.alpha=1,e.batch.flush();var o=this.getLocalBounds(null,!0).clone();if(null!==(n=this.filters)&&void 0!==n&&n.length){var l=this.filters[0].padding;o.pad(l)}o.ceil(a.Xd.RESOLUTION);var c=e.renderTexture.current,h=e.renderTexture.sourceFrame.clone(),f=e.renderTexture.destinationFrame.clone(),d=e.projection.transform,p=a.TI.create({width:o.width,height:o.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:null!==(r=this.cacheAsBitmapMultisample)&&void 0!==r?r:e.multisample}),v="cacheAsBitmap_".concat(a.P6.uid());this._cacheData.textureCacheId=v,a.VL.addToCache(p.baseTexture,v),a.xE.addToCache(p,v);var m=this.transform.localTransform.copyTo(u).invert().translate(-o.x,-o.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:p,clear:!0,transform:m,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=d,e.renderTexture.bind(c,h,f),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var g=new s.j(p);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-o.x/o.width,g.anchor.y=-o.y/o.height,g.alpha=i,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=g.containsPoint.bind(g)}},o.s$.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},o.s$.prototype._initCachedDisplayObjectCanvas=function(e){var t;if(null===(t=this._cacheData)||void 0===t||!t.sprite){var n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=e.canvasContext.activeContext,o=e._projTransform;n.ceil(a.Xd.RESOLUTION);var l=a.TI.create({width:n.width,height:n.height}),c="cacheAsBitmap_".concat(a.P6.uid());this._cacheData.textureCacheId=c,a.VL.addToCache(l.baseTexture,c),a.xE.addToCache(l,c);var h=u;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=n.x,h.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var f=new s.j(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-n.x/n.width,f.anchor.y=-n.y/n.height,f.alpha=r,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)}},o.s$.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},o.s$.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},o.s$.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,a.VL.removeFromCache(this._cacheData.textureCacheId),a.xE.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},o.s$.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},o.s$.prototype.name=null,o.W2.prototype.getChildByName=function(e,t){for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].name===e)return this.children[n];if(t)for(var i=0,a=this.children.length;i<a;i++){var o=this.children[i];if(o.getChildByName){var s=o.getChildByName(e,!0);if(s)return s}}return null},o.s$.prototype.getGlobalPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new a.E9,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var c=n(9439),h=n(136),f=n(9388),d=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(0,i.Z)(this,n),(e=t.call(this,a.kP,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})).alpha=r,e}return(0,r.Z)(n,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),n}(a.wn),p={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},v=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var m=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.wn.defaultResolution,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;(0,i.Z)(this,n);var c=function(e,t){var n,r=Math.ceil(e/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",a="";n=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<e;o++){var s=n.replace("%index%",o.toString());a+=s=s.replace("%sampleIndex%","".concat(o-(r-1),".0")),a+="\n"}return(i=i.replace("%blur%",a)).replace("%size%",e.toString())}(l,e),h=function(e){for(var t,n=p[e],r=n.length,i=v,a="",o=0;o<e;o++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",o.toString());t=o,o>=r&&(t=e-o-1),a+=s=s.replace("%value%",n[t].toString()),a+="\n"}return(i=i.replace("%blur%",a)).replace("%size%",e.toString())}(l);return(r=t.call(this,c,h)).horizontal=e,r.resolution=u,r._quality=0,r.quality=s,r.blur=o,r}return(0,r.Z)(n,[{key:"apply",value:function(e,t,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{var i=e.getFilterTexture(),o=e.renderer,s=t,u=i;this.state.blend=!1,e.applyFilter(this,s,u,a.yl.CLEAR);for(var l=1;l<this.passes-1;l++){e.bindAndClear(s,a.yl.BLIT),this.uniforms.uSampler=u;var c=u;u=s,s=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,u,n,r),e.returnFilterTexture(i)}}},{key:"blur",get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),n}(a.wn),g=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.wn.defaultResolution,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;return(0,i.Z)(this,n),(e=t.call(this))._repeatEdgePixels=!1,e.blurXFilter=new m(!0,r,o,s,u),e.blurYFilter=new m(!1,r,o,s,u),e.resolution=s,e.quality=o,e.blur=r,e.repeatEdgePixels=!1,e}return(0,r.Z)(n,[{key:"apply",value:function(e,t,n,r){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){var s=e.getFilterTexture();this.blurXFilter.apply(e,t,s,a.yl.CLEAR),this.blurYFilter.apply(e,s,n,r),e.returnFilterTexture(s)}else o?this.blurYFilter.apply(e,t,n,r):this.blurXFilter.apply(e,t,n,r)}},{key:"updatePadding",value:function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blur",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()}},{key:"blendMode",get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e}},{key:"repeatEdgePixels",get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()}}]),n}(a.wn),y=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;(0,i.Z)(this,n);var r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,a.Y9,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)).alpha=1,e}return(0,r.Z)(n,[{key:"_loadMatrix",value:function(e){var t=e;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(t,this.uniforms.m,e),t=this._colorMatrix(t)),this.uniforms.m=t}},{key:"_multiply",value:function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e}},{key:"_colorMatrix",value:function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}},{key:"brightness",value:function(e,t){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"tint",value:function(e,t){var n=a.Il.shared.setValue(e).toArray(),r=(0,c.Z)(n,3),i=[r[0],0,0,0,0,0,r[1],0,0,0,0,0,r[2],0,0,0,0,0,1,0];this._loadMatrix(i,t)}},{key:"greyscale",value:function(e,t){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"blackAndWhite",value:function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}},{key:"hue",value:function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),r=Math.sin(e),i=1/3,a=(0,Math.sqrt)(i),o=[n+(1-n)*i,i*(1-n)-a*r,i*(1-n)+a*r,0,0,i*(1-n)+a*r,n+i*(1-n),i*(1-n)-a*r,0,0,i*(1-n)-a*r,i*(1-n)+a*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(o,t)}},{key:"contrast",value:function(e,t){var n=(e||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,t)}},{key:"saturate",value:function(){var e=arguments.length>1?arguments[1]:void 0,t=2*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/3+1,n=-.5*(t-1),r=[t,n,n,0,0,n,t,n,0,0,n,n,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}},{key:"desaturate",value:function(){this.saturate(-1)}},{key:"negative",value:function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}},{key:"sepia",value:function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}},{key:"technicolor",value:function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}},{key:"polaroid",value:function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}},{key:"toBGR",value:function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}},{key:"kodachrome",value:function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}},{key:"browni",value:function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}},{key:"vintage",value:function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}},{key:"colorTone",value:function(e,t,n,r,i){e=e||.2,t=t||.15,n=n||16770432,r=r||3375104;var o=a.Il.shared,s=o.setValue(n).toArray(),u=(0,c.Z)(s,3),l=u[0],h=u[1],f=u[2],d=o.setValue(r).toArray(),p=(0,c.Z)(d,3),v=p[0],m=p[1],g=p[2],y=[.3,.59,.11,0,0,l,h,f,e,0,v,m,g,t,0,l-v,h-m,f-g,0,0];this._loadMatrix(y,i)}},{key:"night",value:function(e,t){var n=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"predator",value:function(e,t){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"lsd",value:function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}},{key:"reset",value:function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}},{key:"matrix",get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),n}(a.wn);y.prototype.grayscale=y.prototype.greyscale;var b=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(e,r){var o;(0,i.Z)(this,n);var s=new a.y3;return e.renderable=!1,(o=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})).maskSprite=e,o.maskMatrix=s,null!==r&&void 0!==r||(r=20),o.scale=new a.E9(r,r),o}return(0,r.Z)(n,[{key:"apply",value:function(e,t,n,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,a=Math.sqrt(i.a*i.a+i.b*i.b),o=Math.sqrt(i.c*i.c+i.d*i.d);0!==a&&0!==o&&(this.uniforms.rotation[0]=i.a/a,this.uniforms.rotation[1]=i.b/a,this.uniforms.rotation[2]=i.c/o,this.uniforms.rotation[3]=i.d/o),e.applyFilter(this,t,n,r)}},{key:"map",get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e}}]),n}(a.wn),x=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}return(0,r.Z)(n)}(a.wn),_=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();return(0,i.Z)(this,n),(e=t.call(this,a.Y9,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})).noise=r,e.seed=o,e}return(0,r.Z)(n,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e}}]),n}(a.wn),w={AlphaFilter:d,BlurFilter:g,BlurFilterPass:m,ColorMatrixFilter:y,DisplacementFilter:b,FXAAFilter:x,NoiseFilter:_};Object.entries(w).forEach((function(e){var t=(0,c.Z)(e,2),n=t[0],r=t[1];Object.defineProperty(w,n,{get:function(){return a.P6.deprecation("7.1.0","filters.".concat(n," has moved to ").concat(n)),r}})}));var k=new(function(){function e(){(0,i.Z)(this,e),this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}return(0,r.Z)(e,[{key:"init",value:function(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}},{key:"pauseUpdate",get:function(){return this._pauseUpdate},set:function(e){this._pauseUpdate=e}},{key:"addTickerListener",value:function(){!this.tickerAdded&&this.domElement&&(a.vB.system.add(this.tickerUpdate,this,a.uF.INTERACTION),this.tickerAdded=!0)}},{key:"removeTickerListener",value:function(){this.tickerAdded&&(a.vB.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}},{key:"pointerMoved",value:function(){this._didMove=!0}},{key:"update",value:function(){if(this.domElement&&!this._pauseUpdate)if(this._didMove)this._didMove=!1;else{var e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}}},{key:"tickerUpdate",value:function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())}}]),e}()),E=function(){function e(t){(0,i.Z)(this,e),this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=e.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new a.E9,this.page=new a.E9,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}return(0,r.Z)(e,[{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"data",get:function(){return this}},{key:"composedPath",value:function(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"initEvent",value:function(e,t,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}},{key:"initUIEvent",value:function(e,t,n,r,i){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),e}(),T=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).client=new a.E9,e.movement=new a.E9,e.offset=new a.E9,e.global=new a.E9,e.screen=new a.E9,e}return(0,r.Z)(n,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"x",get:function(){return this.clientX}},{key:"y",get:function(){return this.clientY}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getLocalPosition",value:function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}},{key:"getModifierState",value:function(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}},{key:"initMouseEvent",value:function(e,t,n,r,i,a,o,s,u,l,c,h,f,d,p){throw new Error("Method not implemented.")}}]),n}(E),S=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).width=0,e.height=0,e.isPrimary=!1,e}return(0,r.Z)(n,[{key:"getCoalescedEvents",value:function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}}]),n}(T),A=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).DOM_DELTA_PIXEL=0,e.DOM_DELTA_LINE=1,e.DOM_DELTA_PAGE=2,e}return(0,r.Z)(n)}(T);A.DOM_DELTA_PIXEL=0,A.DOM_DELTA_LINE=1,A.DOM_DELTA_PAGE=2;var M=new a.E9,P=new a.E9,C=function(){function e(t){(0,i.Z)(this,e),this.dispatch=new a.P6.EventEmitter,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}return(0,r.Z)(e,[{key:"addEventMapping",value:function(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((function(e,t){return e.priority-t.priority}))}},{key:"dispatchEvent",value:function(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}},{key:"mapEvent",value:function(e){if(this.rootTarget){var t=this.mappingTable[e.type];if(t)for(var n=0,r=t.length;n<r;n++)t[n].fn(e);else console.warn("[EventBoundary]: Event mapping not defined for ".concat(e.type))}}},{key:"hitTest",value:function(e,t){k.pauseUpdate=!0;var n=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,M.set(e,t),this.hitTestFn,this.hitPruneFn);return n&&n[0]}},{key:"propagate",value:function(e,t){if(e.target){var n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(var r=0,i=n.length-1;r<i;r++)if(e.currentTarget=n[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(var a=n.length-2;a>=0;a--)if(e.currentTarget=n[a],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}}},{key:"all",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._allInteractiveElements;if(0!==r.length){e.eventPhase=e.BUBBLING_PHASE;for(var i=Array.isArray(t)?t:[t],a=function(t){i.forEach((function(i){e.currentTarget=r[t],n.notifyTarget(e,i)}))},o=r.length-1;o>=0;o--)a(o)}}},{key:"propagationPath",value:function(e){for(var t=[e],n=0;n<2048&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}},{key:"hitTestMoveRecursive",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(this._interactivePrune(e))return null;if("dynamic"!==e.eventMode&&"dynamic"!==t||(k.pauseUpdate=!1),e.interactiveChildren&&e.children)for(var o=e.children,s=o.length-1;s>=0;s--){var u=o[s],l=this.hitTestMoveRecursive(u,this._isInteractive(t)?t:u.eventMode,n,r,i,i(e,n));if(l){if(l.length>0&&!l[l.length-1].parent)continue;var c=e.isInteractive();(l.length>0||c)&&(c&&this._allInteractiveElements.push(e),l.push(e)),0===this._hitElements.length&&(this._hitElements=l)}}var h=this._isInteractive(t),f=e.isInteractive();return f&&f&&this._allInteractiveElements.push(e),a||this._hitElements.length>0?null:h&&!i(e,n)&&r(e,n)?f?[e]:[]:null}},{key:"hitTestRecursive",value:function(e,t,n,r,i){if(this._interactivePrune(e)||i(e,n))return null;if("dynamic"!==e.eventMode&&"dynamic"!==t||(k.pauseUpdate=!1),e.interactiveChildren&&e.children)for(var a=e.children,o=a.length-1;o>=0;o--){var s=a[o],u=this.hitTestRecursive(s,this._isInteractive(t)?t:s.eventMode,n,r,i);if(u){if(u.length>0&&!u[u.length-1].parent)continue;var l=e.isInteractive();return(u.length>0||l)&&u.push(e),u}}var c=this._isInteractive(t),h=e.isInteractive();return c&&r(e,n)?h?[e]:[]:null}},{key:"_isInteractive",value:function(e){return"static"===e||"dynamic"===e}},{key:"_interactivePrune",value:function(e){return!(e&&!e.isMask&&e.visible&&e.renderable)||("none"===e.eventMode||("passive"===e.eventMode&&!e.interactiveChildren||!!e.isMask))}},{key:"hitPruneFn",value:function(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,P),!e.hitArea.contains(P.x,P.y)))return!0;if(e._mask){var n,r=e._mask.isMaskData?e._mask.maskObject:e._mask;if(r&&(null===(n=r.containsPoint)||void 0===n||!n.call(r,t)))return!0}return!1}},{key:"hitTestFn",value:function(e,t){return"passive"!==e.eventMode&&(!!e.hitArea||!!e.containsPoint&&e.containsPoint(t))}},{key:"notifyTarget",value:function(e,t){var n,r,i;t=null!==(n=t)&&void 0!==n?n:e.type;var a="on".concat(t);null===(r=(i=e.currentTarget)[a])||void 0===r||r.call(i,e);var o=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(t,"capture"):t;this.notifyListeners(e,o),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}},{key:"mapPointerDown",value:function(e){if(e instanceof S){var t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){var n=2===t.button;this.dispatchEvent(t,n?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerMove",value:function(e){var t,n;if(e instanceof S){this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;var r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;var i="mouse"===r.pointerType||"pen"===r.pointerType,a=this.trackingData(e.pointerId),o=this.findMountedTarget(a.overTargets);if((null===(t=a.overTargets)||void 0===t?void 0:t.length)>0&&o!==r.target){var s="mousemove"===e.type?"mouseout":"pointerout",u=this.createPointerEvent(e,s,o);if(this.dispatchEvent(u,"pointerout"),i&&this.dispatchEvent(u,"mouseout"),!r.composedPath().includes(o)){var l=this.createPointerEvent(e,"pointerleave",o);for(l.eventPhase=l.AT_TARGET;l.target&&!r.composedPath().includes(l.target);)l.currentTarget=l.target,this.notifyTarget(l),i&&this.notifyTarget(l,"mouseleave"),l.target=l.target.parent;this.freeEvent(l)}this.freeEvent(u)}if(o!==r.target){var c="mousemove"===e.type?"mouseover":"pointerover",h=this.clonePointerEvent(r,c);this.dispatchEvent(h,"pointerover"),i&&this.dispatchEvent(h,"mouseover");for(var f=null===o||void 0===o?void 0:o.parent;f&&f!==this.rootTarget.parent&&f!==r.target;)f=f.parent;if(!f||f===this.rootTarget.parent){var d=this.clonePointerEvent(r,"pointerenter");for(d.eventPhase=d.AT_TARGET;d.target&&d.target!==o&&d.target!==this.rootTarget.parent;)d.currentTarget=d.target,this.notifyTarget(d),i&&this.notifyTarget(d,"mouseenter"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(h)}var p,v=[],m=null===(n=this.enableGlobalMoveEvents)||void 0===n||n;if(this.moveOnAll?v.push("pointermove"):this.dispatchEvent(r,"pointermove"),m&&v.push("globalpointermove"),"touch"===r.pointerType&&(this.moveOnAll?v.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),m&&v.push("globaltouchmove")),i)this.moveOnAll?v.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),m&&v.push("globalmousemove"),this.cursor=null===(p=r.target)||void 0===p?void 0:p.cursor;v.length>0&&this.all(r,v),this._allInteractiveElements.length=0,this._hitElements.length=0,a.overTargets=r.composedPath(),this.freeEvent(r)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerOver",value:function(e){var t;if(e instanceof S){var n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i="mouse"===r.pointerType||"pen"===r.pointerType;this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),"mouse"===r.pointerType&&(this.cursor=null===(t=r.target)||void 0===t?void 0:t.cursor);var a=this.clonePointerEvent(r,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),i&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(a)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerOut",value:function(e){if(e instanceof S){var t=this.trackingData(e.pointerId);if(t.overTargets){var n="mouse"===e.pointerType||"pen"===e.pointerType,r=this.findMountedTarget(t.overTargets),i=this.createPointerEvent(e,"pointerout",r);this.dispatchEvent(i),n&&this.dispatchEvent(i,"mouseout");var a=this.createPointerEvent(e,"pointerleave",r);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),n&&this.notifyTarget(a,"mouseleave"),a.target=a.target.parent;t.overTargets=null,this.freeEvent(i),this.freeEvent(a)}this.cursor=null}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerUp",value:function(e){if(e instanceof S){var t=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),"touch"===n.pointerType)this.dispatchEvent(n,"touchend");else if("mouse"===n.pointerType||"pen"===n.pointerType){var r=2===n.button;this.dispatchEvent(n,r?"rightup":"mouseup")}var i=this.trackingData(e.pointerId),a=this.findMountedTarget(i.pressTargetsByButton[e.button]),o=a;if(a&&!n.composedPath().includes(a)){for(var s=a;s&&!n.composedPath().includes(s);){if(n.currentTarget=s,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType)this.notifyTarget(n,"touchendoutside");else if("mouse"===n.pointerType||"pen"===n.pointerType){var u=2===n.button;this.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}s=s.parent}delete i.pressTargetsByButton[e.button],o=s}if(o){var l=this.clonePointerEvent(n,"click");l.target=o,l.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:t});var c=i.clicksByButton[e.button];if(c.target===l.target&&t-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=l.target,c.timeStamp=t,l.detail=c.clickCount,"mouse"===l.pointerType){var h=2===l.button;this.dispatchEvent(l,h?"rightclick":"click")}else"touch"===l.pointerType&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(n)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerUpOutside",value:function(e){if(e instanceof S){var t=this.trackingData(e.pointerId),n=this.findMountedTarget(t.pressTargetsByButton[e.button]),r=this.createPointerEvent(e);if(n){for(var i=n;i;)r.currentTarget=i,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType?this.notifyTarget(r,"touchendoutside"):"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.notifyTarget(r,2===r.button?"rightupoutside":"mouseupoutside"),i=i.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(r)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapWheel",value:function(e){if(e instanceof A){var t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}else console.warn("EventBoundary cannot map a non-wheel event as a wheel event")}},{key:"findMountedTarget",value:function(e){if(!e)return null;for(var t=e[0],n=1;n<e.length&&e[n].parent===t;n++)t=e[n];return t}},{key:"createPointerEvent",value:function(e,t,n){var r,i=this.allocateEvent(S);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=null!==(r=null!==n&&void 0!==n?n:this.hitTest(i.global.x,i.global.y))&&void 0!==r?r:this._hitElements[0],"string"===typeof t&&(i.type=t),i}},{key:"createWheelEvent",value:function(e){var t=this.allocateEvent(A);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}},{key:"clonePointerEvent",value:function(e,t){var n=this.allocateEvent(S);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=null!==t&&void 0!==t?t:n.type,n}},{key:"copyWheelData",value:function(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}},{key:"copyPointerData",value:function(e,t){e instanceof S&&t instanceof S&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}},{key:"copyMouseData",value:function(e,t){e instanceof T&&t instanceof T&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}},{key:"copyData",value:function(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}},{key:"trackingData",value:function(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}},{key:"allocateEvent",value:function(e){this.eventPool.has(e)||this.eventPool.set(e,[]);var t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}},{key:"freeEvent",value:function(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}},{key:"notifyListeners",value:function(e,t){var n=e.currentTarget._events[t];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(t,n.fn,void 0,!0),n.fn.call(n.context,e);else for(var r=0,i=n.length;r<i&&!e.propagationImmediatelyStopped;r++)n[r].once&&e.currentTarget.removeListener(t,n[r].fn,void 0,!0),n[r].fn.call(n[r].context,e)}}]),e}(),I=n(1413),R={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},O=function(){function e(t){var n=this;(0,i.Z)(this,e),this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new C(null),k.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new S(null),this.rootWheelEvent=new A(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy((0,I.Z)({},e.defaultEventFeatures),{set:function(e,t,r){return"globalMove"===t&&(n.rootBoundary.enableGlobalMoveEvents=r),e[t]=r,!0}}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}return(0,r.Z)(e,[{key:"init",value:function(t){var n,r,i=this.renderer,a=i.view,o=i.resolution;this.setTargetElement(a),this.resolution=o,e._defaultEventMode=null!==(n=t.eventMode)&&void 0!==n?n:"auto",Object.assign(this.features,null!==(r=t.eventFeatures)&&void 0!==r?r:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}},{key:"resolutionChange",value:function(e){this.resolution=e}},{key:"destroy",value:function(){this.setTargetElement(null),this.renderer=null}},{key:"setCursor",value:function(e){e=e||"default";var t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor!==e){this.currentCursor=e;var n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.domElement.style,n)}else t&&"string"===typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}}},{key:"pointer",get:function(){return this.rootPointerEvent}},{key:"onPointerDown",value:function(e){if(this.features.click&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){var t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized)(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var n=0,r=t.length;n<r;n++){var i=t[n],a=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerMove",value:function(e){if(this.features.move&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){k.pointerMoved();for(var t=this.normalizeToPointerData(e),n=0,r=t.length;n<r;n++){var i=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerUp",value:function(e){if(this.features.click&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){var t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);for(var n=t!==this.domElement?"outside":"",r=this.normalizeToPointerData(e),i=0,a=r.length;i<a;i++){var o=this.bootstrapEvent(this.rootPointerEvent,r[i]);o.type+=n,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerOverOut",value:function(e){if(this.features.click&&(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,!this.supportsTouchEvents||"touch"!==e.pointerType)){for(var t=this.normalizeToPointerData(e),n=0,r=t.length;n<r;n++){var i=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onWheel",value:function(e){if(this.features.wheel){var t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}}},{key:"setTargetElement",value:function(e){this.removeEvents(),this.domElement=e,k.domElement=e,this.addEvents()}},{key:"addEvents",value:function(){if(!this.eventsAdded&&this.domElement){k.addTickerListener();var e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}}},{key:"removeEvents",value:function(){if(this.eventsAdded&&this.domElement){k.removeTickerListener();var e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}}},{key:"mapPositionToPoint",value:function(e,t,n){var r;r=this.domElement.parentElement?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};var i=1/this.resolution;e.x=(t-r.left)*(this.domElement.width/r.width)*i,e.y=(n-r.top)*(this.domElement.height/r.height)*i}},{key:"normalizeToPointerData",value:function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,r=e.changedTouches.length;n<r;n++){var i=e.changedTouches[n];"undefined"===typeof i.button&&(i.button=0),"undefined"===typeof i.buttons&&(i.buttons=1),"undefined"===typeof i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),"undefined"===typeof i.width&&(i.width=i.radiusX||1),"undefined"===typeof i.height&&(i.height=i.radiusY||1),"undefined"===typeof i.tiltX&&(i.tiltX=0),"undefined"===typeof i.tiltY&&(i.tiltY=0),"undefined"===typeof i.pointerType&&(i.pointerType="touch"),"undefined"===typeof i.pointerId&&(i.pointerId=i.identifier||0),"undefined"===typeof i.pressure&&(i.pressure=i.force||.5),"undefined"===typeof i.twist&&(i.twist=0),"undefined"===typeof i.tangentialPressure&&(i.tangentialPressure=0),"undefined"===typeof i.layerX&&(i.layerX=i.offsetX=i.clientX),"undefined"===typeof i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=e.type,t.push(i)}else if(globalThis.MouseEvent&&(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof globalThis.PointerEvent))t.push(e);else{var a=e;"undefined"===typeof a.isPrimary&&(a.isPrimary=!0),"undefined"===typeof a.width&&(a.width=1),"undefined"===typeof a.height&&(a.height=1),"undefined"===typeof a.tiltX&&(a.tiltX=0),"undefined"===typeof a.tiltY&&(a.tiltY=0),"undefined"===typeof a.pointerType&&(a.pointerType="mouse"),"undefined"===typeof a.pointerId&&(a.pointerId=1),"undefined"===typeof a.pressure&&(a.pressure=.5),"undefined"===typeof a.twist&&(a.twist=0),"undefined"===typeof a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,t.push(a)}return t}},{key:"normalizeWheelEvent",value:function(e){var t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}},{key:"bootstrapEvent",value:function(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=R[e.type]||e.type),e}},{key:"transferMouseData",value:function(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}}],[{key:"defaultEventMode",get:function(){return this._defaultEventMode}}]),e}();O.extension={name:"events",type:[a.nw.RendererSystem,a.nw.CanvasRendererSystem]},O.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0},a.Rw.add(O);var L=n(8060);function N(e){return"dynamic"===e||"static"===e}var B={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var e;return null!==(e=this._internalInteractive)&&void 0!==e?e:N(O.defaultEventMode)},set interactive(e){(0,L.deprecation)("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=e,this.eventMode=e?"static":"auto"},_internalEventMode:void 0,get eventMode(){var e;return null!==(e=this._internalEventMode)&&void 0!==e?e:O.defaultEventMode},set eventMode(e){this._internalInteractive=N(e),this._internalEventMode=e},isInteractive:function(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener:function(e,t,n){var r="function"===typeof t?void 0:t;e="boolean"===typeof n&&n||"object"===typeof n&&n.capture?"".concat(e,"capture"):e,t="function"===typeof t?t:t.handleEvent,this.on(e,t,r)},removeEventListener:function(e,t,n){var r="function"===typeof t?void 0:t;e="boolean"===typeof n&&n||"object"===typeof n&&n.capture?"".concat(e,"capture"):e,t="function"===typeof t?t:t.handleEvent,this.off(e,t,r)},dispatchEvent:function(e){if(!(e instanceof E))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};o.s$.mixin(B);o.s$.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var D=100,F=function(){function e(t){(0,i.Z)(this,e),this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(a.P6.isMobile.tablet||a.P6.isMobile.phone)&&this.createTouchHook();var n=document.createElement("div");n.style.width="".concat(D,"px"),n.style.height="".concat(D,"px"),n.style.position="absolute",n.style.top="".concat(0,"px"),n.style.left="".concat(0,"px"),n.style.zIndex=2..toString(),this.div=n,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return(0,r.Z)(e,[{key:"isActive",get:function(){return this._isActive}},{key:"isMobileAccessibility",get:function(){return this._isMobileAccessibility}},{key:"createTouchHook",value:function(){var e=this,t=document.createElement("button");t.style.width="".concat(1,"px"),t.style.height="".concat(1,"px"),t.style.position="absolute",t.style.top="".concat(-1e3,"px"),t.style.left="".concat(-1e3,"px"),t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",(function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t}},{key:"destroyTouchHook",value:function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}},{key:"activate",value:function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(e=this.renderer.view.parentNode)||void 0===e||e.appendChild(this.div))}},{key:"deactivate",value:function(){var e;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(e=this.div.parentNode)||void 0===e||e.removeChild(this.div))}},{key:"updateAccessibleObjects",value:function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var t=e.children;if(t)for(var n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}}},{key:"update",value:function(){var e=performance.now();if(!(a.P6.isMobile.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),n=t.x,r=t.y,i=t.width,o=t.height,s=this.renderer,u=s.width,l=s.height,c=s.resolution,h=i/u*c,f=o/l*c,d=this.div;d.style.left="".concat(n,"px"),d.style.top="".concat(r,"px"),d.style.width="".concat(u,"px"),d.style.height="".concat(l,"px");for(var p=0;p<this.children.length;p++){var v=this.children[p];if(v.renderId!==this.renderId)v._accessibleActive=!1,a.P6.removeItems(this.children,p,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,p--;else{d=v._accessibleDiv;var m=v.hitArea,g=v.worldTransform;v.hitArea?(d.style.left="".concat((g.tx+m.x*g.a)*h,"px"),d.style.top="".concat((g.ty+m.y*g.d)*f,"px"),d.style.width="".concat(m.width*g.a*h,"px"),d.style.height="".concat(m.height*g.d*f,"px")):(m=v.getBounds(),this.capHitArea(m),d.style.left="".concat(m.x*h,"px"),d.style.top="".concat(m.y*f,"px"),d.style.width="".concat(m.width*h,"px"),d.style.height="".concat(m.height*f,"px"),d.title!==v.accessibleTitle&&null!==v.accessibleTitle&&(d.title=v.accessibleTitle),d.getAttribute("aria-label")!==v.accessibleHint&&null!==v.accessibleHint&&d.setAttribute("aria-label",v.accessibleHint)),v.accessibleTitle===d.title&&v.tabIndex===d.tabIndex||(d.title=v.accessibleTitle,d.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}}},{key:"updateDebugHTML",value:function(e){e.innerHTML="type: ".concat(e.type,"</br> title : ").concat(e.title,"</br> tabIndex: ").concat(e.tabIndex)}},{key:"capHitArea",value:function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var t=this.renderer,n=t.width,r=t.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}},{key:"addChild",value:function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width="".concat(D,"px"),t.style.height="".concat(D,"px"),t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject ".concat(e.tabIndex)),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}},{key:"_dispatchEvent",value:function(e,t){var n=e.target.displayObject,r=this.renderer.events.rootBoundary,i=Object.assign(new E(r),{target:n});r.rootTarget=this.renderer.lastObjectRendered,t.forEach((function(e){return r.dispatchEvent(i,e)}))}},{key:"_onClick",value:function(e){this._dispatchEvent(e,["click","pointertap","tap"])}},{key:"_onFocus",value:function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}},{key:"_onFocusOut",value:function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}},{key:"_onKeyDown",value:function(e){9===e.keyCode&&this.activate()}},{key:"_onMouseMove",value:function(e){0===e.movementX&&0===e.movementY||this.deactivate()}},{key:"destroy",value:function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}]),e}();F.extension={name:"accessibility",type:[a.nw.RendererPlugin,a.nw.CanvasRendererPlugin]},a.Rw.add(F);var Z=function(){function e(t){var n=this;(0,i.Z)(this,e),this.stage=new o.W2,t=Object.assign({forceCanvas:!1},t),this.renderer=(0,a.e6)(t),e._plugins.forEach((function(e){e.init.call(n,t)}))}return(0,r.Z)(e,[{key:"render",value:function(){this.renderer.render(this.stage)}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}},{key:"destroy",value:function(t,n){var r=this,i=e._plugins.slice(0);i.reverse(),i.forEach((function(e){e.destroy.call(r)})),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}}]),e}();Z._plugins=[],a.Rw.handleByList(a.nw.Application,Z._plugins);var V=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,null,[{key:"init",value:function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame((function(){return t.resize()})))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){var e,n;if(t.cancelResize(),t._resizeTo===globalThis.window)e=globalThis.innerWidth,n=globalThis.innerHeight;else{var r=t._resizeTo;e=r.clientWidth,n=r.clientHeight}t.renderer.resize(e,n),t.render()}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}},{key:"destroy",value:function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}]),e}();V.extension=a.nw.Application,a.Rw.add(V);var j,U,Y,X=n(5162),G=n(4942),W=function(e){return e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",e}(W||{}),H=(j={},(0,G.Z)(j,33776,.5),(0,G.Z)(j,33777,.5),(0,G.Z)(j,33778,1),(0,G.Z)(j,33779,1),(0,G.Z)(j,35916,.5),(0,G.Z)(j,35917,.5),(0,G.Z)(j,35918,1),(0,G.Z)(j,35919,1),(0,G.Z)(j,37488,.5),(0,G.Z)(j,37489,.5),(0,G.Z)(j,37490,1),(0,G.Z)(j,37491,1),(0,G.Z)(j,37492,.5),(0,G.Z)(j,37496,1),(0,G.Z)(j,37493,.5),(0,G.Z)(j,37497,1),(0,G.Z)(j,37494,.5),(0,G.Z)(j,37495,.5),(0,G.Z)(j,35840,.5),(0,G.Z)(j,35842,.5),(0,G.Z)(j,35841,.25),(0,G.Z)(j,35843,.25),(0,G.Z)(j,36196,.5),(0,G.Z)(j,35986,.5),(0,G.Z)(j,35986,1),(0,G.Z)(j,34798,1),(0,G.Z)(j,37808,1),j),z=n(3433),q=n(4165),$=n(5861);function K(){Y={s3tc:U.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:U.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:U.getExtension("WEBGL_compressed_texture_etc"),etc1:U.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:U.getExtension("WEBGL_compressed_texture_pvrtc")||U.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:U.getExtension("WEBGL_compressed_texture_atc"),astc:U.getExtension("WEBGL_compressed_texture_astc")}}var J={extension:{type:a.nw.DetectionParser,priority:2},test:function(){var e=(0,$.Z)((0,q.Z)().mark((function e(){var t,n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.Xd.ADAPTER.createCanvas(),n=t.getContext("webgl")){e.next=5;break}return console.warn("WebGL not available for compressed textures."),e.abrupt("return",!1);case 5:return U=n,e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),add:function(){var e=(0,$.Z)((0,q.Z)().mark((function e(t){var n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y||K(),n=[],e.t0=(0,q.Z)().keys(Y);case 3:if((e.t1=e.t0()).done){e.next=11;break}if(r=e.t1.value,Y[r]){e.next=8;break}return e.abrupt("continue",3);case 8:n.push(r),e.next=3;break;case 11:return e.abrupt("return",[].concat(n,(0,z.Z)(t)));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=(0,$.Z)((0,q.Z)().mark((function e(t){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y||K(),e.abrupt("return",t.filter((function(e){return!(e in Y)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};a.Rw.add(J);var Q,ee,te,ne,re,ie=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r,o,s,u,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:1,height:1,autoLoad:!0};return(0,i.Z)(this,n),"string"===typeof e?(s=e,u=new Uint8Array):(s=null,u=e),(o=t.call(this,u,l)).origin=s,o.buffer=u?new a.Rv(u):null,o.origin&&!1!==l.autoLoad&&o.load(),null!==(r=u)&&void 0!==r&&r.length&&(o.loaded=!0,o.onBlobLoaded(o.buffer.rawBinaryData)),o}return(0,r.Z)(n,[{key:"onBlobLoaded",value:function(e){}},{key:"load",value:function(){var e=(0,$.Z)((0,q.Z)().mark((function e(){var t,n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.origin);case 2:return t=e.sent,e.next=5,t.blob();case 5:return n=e.sent,e.next=8,n.arrayBuffer();case 8:return r=e.sent,this.data=new Uint32Array(r),this.buffer=new a.Rv(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),e.abrupt("return",this);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(a.qm),ae=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(e,r){var a;return(0,i.Z)(this,n),(a=t.call(this,e,r)).format=r.format,a.levels=r.levels||1,a._width=r.width,a._height=r.height,a._extension=n._formatToExtension(a.format),(r.levelBuffers||a.buffer)&&(a._levelBuffers=r.levelBuffers||n._createLevelBuffers(e instanceof Uint8Array?e:a.buffer.uint8View,a.format,a.levels,4,4,a.width,a.height)),a}return(0,r.Z)(n,[{key:"upload",value:function(e,t,n){var r=e.gl;if(!e.context.extensions[this._extension])throw new Error("".concat(this._extension," textures are not supported on the current machine"));if(!this._levelBuffers)return!1;for(var i=0,a=this.levels;i<a;i++){var o=this._levelBuffers[i],s=o.levelID,u=o.levelWidth,l=o.levelHeight,c=o.levelBuffer;r.compressedTexImage2D(r.TEXTURE_2D,s,this.format,u,l,0,c)}return!0}},{key:"onBlobLoaded",value:function(){this._levelBuffers=n._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}}],[{key:"_formatToExtension",value:function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}},{key:"_createLevelBuffers",value:function(e,t,n,r,i,a,o){for(var s=new Array(n),u=e.byteOffset,l=a,c=o,h=l+r-1&~(r-1),f=c+i-1&~(i-1),d=h*f*H[t],p=0;p<n;p++)s[p]={levelID:p,levelWidth:n>1?l:h,levelHeight:n>1?c:f,levelBuffer:new Uint8Array(e.buffer,u,d)},u+=d,d=(h=(l=l>>1||1)+r-1&~(r-1))*(f=(c=c>>1||1)+i-1&~(i-1))*H[t];return s}}]),n}(ie),oe=124,se=3,ue=4,le=7,ce=19,he=2,fe=0,de=1,pe=2,ve=3,me=(Q={},(0,G.Z)(Q,827611204,W.COMPRESSED_RGBA_S3TC_DXT1_EXT),(0,G.Z)(Q,861165636,W.COMPRESSED_RGBA_S3TC_DXT3_EXT),(0,G.Z)(Q,894720068,W.COMPRESSED_RGBA_S3TC_DXT5_EXT),Q),ge=(ee={},(0,G.Z)(ee,70,W.COMPRESSED_RGBA_S3TC_DXT1_EXT),(0,G.Z)(ee,71,W.COMPRESSED_RGBA_S3TC_DXT1_EXT),(0,G.Z)(ee,73,W.COMPRESSED_RGBA_S3TC_DXT3_EXT),(0,G.Z)(ee,74,W.COMPRESSED_RGBA_S3TC_DXT3_EXT),(0,G.Z)(ee,76,W.COMPRESSED_RGBA_S3TC_DXT5_EXT),(0,G.Z)(ee,77,W.COMPRESSED_RGBA_S3TC_DXT5_EXT),(0,G.Z)(ee,72,W.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT),(0,G.Z)(ee,75,W.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT),(0,G.Z)(ee,78,W.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT),ee);function ye(e){var t=new Uint32Array(e);if(542327876!==t[0])throw new Error("Invalid DDS file magic word");var n=new Uint32Array(e,0,oe/Uint32Array.BYTES_PER_ELEMENT),r=n[se],i=n[ue],a=n[le],o=new Uint32Array(e,ce*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),s=o[1];if(4&s){var u=o[he];if(808540228!==u){var l=me[u],c=new Uint8Array(e,128);return[new ae(c,{format:l,width:i,height:r,levels:a})]}var h=new Uint32Array(t.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),f=h[fe],d=h[de],p=h[pe],v=h[ve],m=ge[f];if(void 0===m)throw new Error("DDSParser cannot parse texture data with DXGI format ".concat(f));if(4===p)throw new Error("DDSParser does not support cubemap textures");if(6===d)throw new Error("DDSParser does not supported 3D texture data");var g=new Array;if(1===v)g.push(new Uint8Array(e,148));else{for(var y=H[m],b=0,x=i,_=r,w=0;w<a;w++){b+=Math.max(1,x+3&-4)*Math.max(1,_+3&-4)*y,x>>>=1,_>>>=1}for(var k=148,E=0;E<v;E++)g.push(new Uint8Array(e,k,b)),k+=b}return g.map((function(e){return new ae(e,{format:m,width:i,height:r,levels:a})}))}if(64&s)throw new Error("DDSParser does not support uncompressed texture data.");if(512&s)throw new Error("DDSParser does not supported YUV uncompressed texture data.");if(131072&s)throw new Error("DDSParser does not support single-channel (lumninance) texture data!");if(2&s)throw new Error("DDSParser does not support single-channel (alpha) texture data!");throw new Error("DDSParser failed to load a texture file due to an unknown reason!")}var be=[171,75,84,88,32,49,49,187,13,10,26,10],xe=12,_e=16,we=24,ke=28,Ee=36,Te=40,Se=44,Ae=48,Me=52,Pe=56,Ce=60,Ie=64,Re=(te={},(0,G.Z)(te,a.vK.UNSIGNED_BYTE,1),(0,G.Z)(te,a.vK.UNSIGNED_SHORT,2),(0,G.Z)(te,a.vK.INT,4),(0,G.Z)(te,a.vK.UNSIGNED_INT,4),(0,G.Z)(te,a.vK.FLOAT,4),(0,G.Z)(te,a.vK.HALF_FLOAT,8),te),Oe=(ne={},(0,G.Z)(ne,a.I2.RGBA,4),(0,G.Z)(ne,a.I2.RGB,3),(0,G.Z)(ne,a.I2.RG,2),(0,G.Z)(ne,a.I2.RED,1),(0,G.Z)(ne,a.I2.LUMINANCE,1),(0,G.Z)(ne,a.I2.LUMINANCE_ALPHA,2),(0,G.Z)(ne,a.I2.ALPHA,1),ne),Le=(re={},(0,G.Z)(re,a.vK.UNSIGNED_SHORT_4_4_4_4,2),(0,G.Z)(re,a.vK.UNSIGNED_SHORT_5_5_5_1,2),(0,G.Z)(re,a.vK.UNSIGNED_SHORT_5_6_5,2),re);function Ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new DataView(t);if(!function(e,t){for(var n=0;n<be.length;n++)if(t.getUint8(n)!==be[n])return console.error("".concat(e," is not a valid *.ktx file!")),!1;return!0}(e,r))return null;var i=67305985===r.getUint32(xe,!0),o=r.getUint32(_e,i),s=r.getUint32(we,i),u=r.getUint32(ke,i),l=r.getUint32(Ee,i),c=r.getUint32(Te,i)||1,h=r.getUint32(Se,i)||1,f=r.getUint32(Ae,i)||1,d=r.getUint32(Me,i),p=r.getUint32(Pe,i),v=r.getUint32(Ce,i);if(0===c||1!==h)throw new Error("Only 2D textures are supported");if(1!==d)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==f)throw new Error("WebGL does not support array textures");var m,g=l+3&-4,y=c+3&-4,b=new Array(f),x=l*c;if(0===o&&(x=g*y),void 0===(m=0!==o?Re[o]?Re[o]*Oe[s]:Le[o]:H[u]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var _=n?function(e,t,n){var r=new Map,i=0;for(;i<t;){var a=e.getUint32(Ie+i,n),o=Ie+i+4,s=3-(a+3)%4;if(0===a||a>t-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var u=0;u<a&&0!==e.getUint8(o+u);u++);if(-1===u){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var l=(new TextDecoder).decode(new Uint8Array(e.buffer,o,u)),c=new DataView(e.buffer,o+u+1,a-u-1);r.set(l,c),i+=4+a+s}return r}(r,v,i):null,w=x*m,k=l,E=c,T=g,S=y,A=Ie+v,M=0;M<p;M++){for(var P=r.getUint32(A,i),C=A+4,I=0;I<f;I++){var R=b[I];R||(R=b[I]=new Array(p)),R[M]={levelID:M,levelWidth:p>1||0!==o?k:T,levelHeight:p>1||0!==o?E:S,levelBuffer:new Uint8Array(t,C,w)},C+=w}A=(A+=P+4)%4!==0?A+4-A%4:A,w=(T=(k=k>>1||1)+4-1&-4)*(S=(E=E>>1||1)+4-1&-4)*m}return 0!==o?{uncompressed:b.map((function(e){var t=e[0].levelBuffer,n=!1;return o===a.vK.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):o===a.vK.UNSIGNED_INT?(n=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):o===a.vK.INT&&(n=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new a.qm(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:o,format:n?Be(s):s}})),kvData:_}:{compressed:b.map((function(e){return new ae(null,{format:u,width:l,height:c,levels:p,levelBuffers:e})})),kvData:_}}function Be(e){switch(e){case a.I2.RGBA:return a.I2.RGBA_INTEGER;case a.I2.RGB:return a.I2.RGB_INTEGER;case a.I2.RG:return a.I2.RG_INTEGER;case a.I2.RED:return a.I2.RED_INTEGER;default:return e}}var De={extension:{type:a.nw.LoadParser,priority:X.Q2.High},name:"loadDDS",test:function(e){return(0,X.gN)(e,".dds")},load:function(e,t,n){return(0,$.Z)((0,q.Z)().mark((function r(){var i,o,s,u;return(0,q.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.Xd.ADAPTER.fetch(e);case 2:return i=r.sent,r.next=5,i.arrayBuffer();case 5:return o=r.sent,s=ye(o),u=s.map((function(r){var i=new a.VL(r,(0,I.Z)({mipmap:a.KI.OFF,alphaMode:a.iw.NO_PREMULTIPLIED_ALPHA,resolution:a.P6.getResolutionOfUrl(e)},t.data));return(0,X.cU)(i,n,e)})),r.abrupt("return",1===u.length?u[0]:u);case 9:case"end":return r.stop()}}),r)})))()},unload:function(e){Array.isArray(e)?e.forEach((function(e){return e.destroy(!0)})):e.destroy(!0)}};a.Rw.add(De);var Fe={extension:{type:a.nw.LoadParser,priority:X.Q2.High},name:"loadKTX",test:function(e){return(0,X.gN)(e,".ktx")},load:function(e,t,n){return(0,$.Z)((0,q.Z)().mark((function r(){var i,o,s,u,l,c,h,f,d;return(0,q.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.Xd.ADAPTER.fetch(e);case 2:return i=r.sent,r.next=5,i.arrayBuffer();case 5:return o=r.sent,s=Ne(e,o),u=s.compressed,l=s.uncompressed,c=s.kvData,h=null!==u&&void 0!==u?u:l,f=(0,I.Z)({mipmap:a.KI.OFF,alphaMode:a.iw.NO_PREMULTIPLIED_ALPHA,resolution:a.P6.getResolutionOfUrl(e)},t.data),d=h.map((function(t){h===l&&Object.assign(f,{type:t.type,format:t.format});var r=new a.VL(t,f);return r.ktxKeyValueData=c,(0,X.cU)(r,n,e)})),r.abrupt("return",1===d.length?d[0]:d);case 11:case"end":return r.stop()}}),r)})))()},unload:function(e){Array.isArray(e)?e.forEach((function(e){return e.destroy(!0)})):e.destroy(!0)}};a.Rw.add(Fe);var Ze={extension:a.nw.ResolveParser,test:function(e){var t=e.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(t)},parse:function(e){var t,n;if("ktx"===e.split("?")[0].split(".").pop()){var r,i,o=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(o.some((function(t){return e.endsWith(t)})))return{resolution:parseFloat(null!==(r=null===(i=a.Xd.RETINA_PREFIX.exec(e))||void 0===i?void 0:i[1])&&void 0!==r?r:"1"),format:o.find((function(t){return e.endsWith(t)})),src:e}}return{resolution:parseFloat(null!==(t=null===(n=a.Xd.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:e.split(".").pop(),src:e}}};a.Rw.add(Ze);var Ve=new a.Ae,je=function(){function e(t){(0,i.Z)(this,e),this.renderer=t}return(0,r.Z)(e,[{key:"image",value:function(){var e=(0,$.Z)((0,q.Z)().mark((function e(t,n,r){var i;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Image,e.next=3,this.base64(t,n,r);case 3:return i.src=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"base64",value:function(){var e=(0,$.Z)((0,q.Z)().mark((function e(t,n,r){var i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(i=this.canvas(t)).toDataURL){e.next=3;break}return e.abrupt("return",i.toDataURL(n,r));case 3:if(void 0===i.convertToBlob){e.next=10;break}return e.next=6,i.convertToBlob({type:n,quality:r});case 6:return a=e.sent,e.next=9,new Promise((function(e){var t=new FileReader;t.onload=function(){return e(t.result)},t.readAsDataURL(a)}));case 9:return e.abrupt("return",e.sent);case 10:throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented");case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"canvas",value:function(t,n){var r=this._rawPixels(t,n),i=r.pixels,o=r.width,s=r.height,u=r.flipY,l=new a.P6.CanvasRenderTarget(o,s,1),c=l.context.getImageData(0,0,o,s);if(e.arrayPostDivide(i,c.data),l.context.putImageData(c,0,0),u){var h=new a.P6.CanvasRenderTarget(l.width,l.height,1);h.context.scale(1,-1),h.context.drawImage(l.canvas,0,-s),l.destroy(),l=h}return l.canvas}},{key:"pixels",value:function(t,n){var r=this._rawPixels(t,n).pixels;return e.arrayPostDivide(r,r),r}},{key:"_rawPixels",value:function(e,t){var n,r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");var i,o,s=!1,u=!1;if(e)if(e instanceof a.TI)i=e;else{var l=r.context.webGLVersion>=2?r.multisample:a.G5.NONE;if(i=r.generateTexture(e,{multisample:l}),l!==a.G5.NONE){var c=a.TI.create({width:i.width,height:i.height});r.framebuffer.bind(i.framebuffer),r.framebuffer.blit(c.framebuffer),r.framebuffer.bind(),i.destroy(!0),i=c}u=!0}i?(n=i.baseTexture.resolution,t=null!==(o=t)&&void 0!==o?o:i.frame,s=!1,r.renderTexture.bind(i)):(n=r.resolution,t||((t=Ve).width=r.width,t.height=r.height),s=!0,r.renderTexture.bind());var h,f=Math.round(t.width*n),d=Math.round(t.height*n),p=new Uint8Array(4*f*d),v=r.gl;(v.readPixels(Math.round(t.x*n),Math.round(t.y*n),f,d,v.RGBA,v.UNSIGNED_BYTE,p),u)&&(null===(h=i)||void 0===h||h.destroy(!0));return{pixels:p,width:f,height:d,flipY:s}}},{key:"destroy",value:function(){this.renderer=null}}],[{key:"arrayPostDivide",value:function(e,t){for(var n=0;n<e.length;n+=4){var r=t[n+3]=e[n+3];0!==r?(t[n]=Math.round(Math.min(255*e[n]/r,255)),t[n+1]=Math.round(Math.min(255*e[n+1]/r,255)),t[n+2]=Math.round(Math.min(255*e[n+2]/r,255))):(t[n]=e[n],t[n+1]=e[n+1],t[n+2]=e[n+2])}}}]),e}(),Ue=je;Ue.extension={name:"extract",type:a.nw.RendererSystem},a.Rw.add(Ue);var Ye=n(1),Xe=n(1762),Ge=(n(775),n(1752)),We=n(1120),He=(o.W2,function(){function e(t,n,r){(0,i.Z)(this,e),this.geometry=new a.wG,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<t.length;++o){var s=t[o];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||a.vK.FLOAT,offset:s.offset},n[o]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return(0,r.Z)(e,[{key:"initBuffers",value:function(){var e=this.geometry,t=0;this.indexBuffer=new a.lW(a.P6.createIndicesForQuads(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var r=this.dynamicProperties[n];r.offset=t,t+=r.size,this.dynamicStride+=r.size}var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new a.lW(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var u=this.staticProperties[s];u.offset=o,o+=u.size,this.staticStride+=u.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=new a.lW(this.staticData,!0,!1);for(var c=0;c<this.dynamicProperties.length;++c){var h=this.dynamicProperties[c];e.addAttribute(h.attributeName,this.dynamicBuffer,0,h.type===a.vK.UNSIGNED_BYTE,h.type,4*this.dynamicStride,4*h.offset)}for(var f=0;f<this.staticProperties.length;++f){var d=this.staticProperties[f];e.addAttribute(d.attributeName,this.staticBuffer,0,d.type===a.vK.UNSIGNED_BYTE,d.type,4*this.staticStride,4*d.offset)}}},{key:"uploadDynamic",value:function(e,t,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(e,t,n,i.type===a.vK.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++}},{key:"uploadStatic",value:function(e,t,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(e,t,n,i.type===a.vK.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++}},{key:"destroy",value:function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}]),e}()),ze=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).shader=null,r.properties=null,r.tempMatrix=new a.y3,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:a.vK.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=a.ex.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=a.ZM.for2d(),r}return(0,r.Z)(n,[{key:"render",value:function(e){var t=e.children,n=e._maxSize,r=e._batchSize,i=this.renderer,o=t.length;if(0!==o){o>n&&!e.autoResize&&(o=n);var s=e._buffers;s||(s=e._buffers=this.generateBuffers(e));var u=t[0]._texture.baseTexture,l=u.alphaMode>0;this.state.blendMode=a.P6.correctBlendMode(e.blendMode,l),i.state.set(this.state);var c=i.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=a.Il.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);for(var f=!1,d=0,p=0;d<o;d+=r,p+=1){var v=o-d;v>r&&(v=r),p>=s.length&&s.push(this._generateOneMoreBuffer(e));var m=s[p];m.uploadDynamic(t,d,v);var g=e._bufferUpdateIDs[p]||0;(f=f||m._updateID<g)&&(m._updateID=e._updateID,m.uploadStatic(t,d,v)),i.geometry.bind(m.geometry),c.drawElements(c.TRIANGLES,6*v,c.UNSIGNED_SHORT,0)}}}},{key:"generateBuffers",value:function(e){for(var t=[],n=e._maxSize,r=e._batchSize,i=e._properties,a=0;a<n;a+=r)t.push(new He(this.properties,i,r));return t}},{key:"_generateOneMoreBuffer",value:function(e){var t=e._batchSize,n=e._properties;return new He(this.properties,n,t)}},{key:"uploadVertices",value:function(e,t,n,r,i,a){for(var o=0,s=0,u=0,l=0,c=0;c<n;++c){var h=e[t+c],f=h._texture,d=h.scale.x,p=h.scale.y,v=f.trim,m=f.orig;v?(o=(s=v.x-h.anchor.x*m.width)+v.width,u=(l=v.y-h.anchor.y*m.height)+v.height):(o=m.width*(1-h.anchor.x),s=m.width*-h.anchor.x,u=m.height*(1-h.anchor.y),l=m.height*-h.anchor.y),r[a]=s*d,r[a+1]=l*p,r[a+i]=o*d,r[a+i+1]=l*p,r[a+2*i]=o*d,r[a+2*i+1]=u*p,r[a+3*i]=s*d,r[a+3*i+1]=u*p,a+=4*i}}},{key:"uploadPosition",value:function(e,t,n,r,i,a){for(var o=0;o<n;o++){var s=e[t+o].position;r[a]=s.x,r[a+1]=s.y,r[a+i]=s.x,r[a+i+1]=s.y,r[a+2*i]=s.x,r[a+2*i+1]=s.y,r[a+3*i]=s.x,r[a+3*i+1]=s.y,a+=4*i}}},{key:"uploadRotation",value:function(e,t,n,r,i,a){for(var o=0;o<n;o++){var s=e[t+o].rotation;r[a]=s,r[a+i]=s,r[a+2*i]=s,r[a+3*i]=s,a+=4*i}}},{key:"uploadUvs",value:function(e,t,n,r,i,a){for(var o=0;o<n;++o){var s=e[t+o]._texture._uvs;s?(r[a]=s.x0,r[a+1]=s.y0,r[a+i]=s.x1,r[a+i+1]=s.y1,r[a+2*i]=s.x2,r[a+2*i+1]=s.y2,r[a+3*i]=s.x3,r[a+3*i+1]=s.y3,a+=4*i):(r[a]=0,r[a+1]=0,r[a+i]=0,r[a+i+1]=0,r[a+2*i]=0,r[a+2*i+1]=0,r[a+3*i]=0,r[a+3*i+1]=0,a+=4*i)}}},{key:"uploadTint",value:function(e,t,n,r,i,o){for(var s=0;s<n;++s){var u=e[t+s],l=a.Il.shared.setValue(u._tintRGB).toPremultiplied(u.alpha);r[o]=l,r[o+i]=l,r[o+2*i]=l,r[o+3*i]=l,o+=4*i}}},{key:"destroy",value:function(){(0,Ge.Z)((0,We.Z)(n.prototype),"destroy",this).call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}]),n}(a.bO);ze.extension={name:"particle",type:a.nw.RendererPlugin},a.Rw.add(ze);var qe=function(e){return e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",e}(qe||{}),$e={willReadFrequently:!0},Ke=function(){function e(t,n,r,a,o,s,u,l,c){(0,i.Z)(this,e),this.text=t,this.style=n,this.width=r,this.height=a,this.lines=o,this.lineWidths=s,this.lineHeight=u,this.maxLineWidth=l,this.fontProperties=c}return(0,r.Z)(e,null,[{key:"experimentalLetterSpacingSupported",get:function(){var t=e._experimentalLetterSpacingSupported;if(void 0!==t){var n=a.Xd.ADAPTER.getCanvasRenderingContext2D().prototype;t=e._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}},{key:"measureText",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e._canvas;r=void 0===r||null===r?n.wordWrap:r;var a=n.toFontString(),o=e.measureFont(a);0===o.fontSize&&(o.fontSize=n.fontSize,o.ascent=n.fontSize);var s=i.getContext("2d",$e);s.font=a;for(var u=(r?e.wordWrap(t,n,i):t).split(/(?:\r\n|\r|\n)/),l=new Array(u.length),c=0,h=0;h<u.length;h++){var f=e._measureText(u[h],n.letterSpacing,s);l[h]=f,c=Math.max(c,f)}var d=c+n.strokeThickness;n.dropShadow&&(d+=n.dropShadowDistance);var p=n.lineHeight||o.fontSize+n.strokeThickness,v=Math.max(p,o.fontSize+2*n.strokeThickness)+(u.length-1)*(p+n.leading);return n.dropShadow&&(v+=n.dropShadowDistance),new e(t,n,d,v,u,l,p+n.leading,c,o)}},{key:"_measureText",value:function(t,n,r){var i=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(r.letterSpacing="".concat(n,"px"),r.textLetterSpacing="".concat(n,"px"),i=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));var a=r.measureText(t).width;return a>0&&(i?a-=n:a+=(e.graphemeSegmenter(t).length-1)*n),a}},{key:"wordWrap",value:function(t,n){for(var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e._canvas).getContext("2d",$e),i=0,a="",o="",s=Object.create(null),u=n.letterSpacing,l=n.whiteSpace,c=e.collapseSpaces(l),h=e.collapseNewlines(l),f=!c,d=n.wordWrapWidth+u,p=e.tokenize(t),v=0;v<p.length;v++){var m=p[v];if(e.isNewline(m)){if(!h){o+=e.addLine(a),f=!c,a="",i=0;continue}m=" "}if(c){var g=e.isBreakingSpace(m),y=e.isBreakingSpace(a[a.length-1]);if(g&&y)continue}var b=e.getFromCache(m,u,s,r);if(b>d)if(""!==a&&(o+=e.addLine(a),a="",i=0),e.canBreakWords(m,n.breakWords))for(var x=e.wordWrapSplit(m),_=0;_<x.length;_++){for(var w=x[_],k=w,E=1;x[_+E];){var T=x[_+E];if(e.canBreakChars(k,T,m,_,n.breakWords))break;w+=T,k=T,E++}_+=E-1;var S=e.getFromCache(w,u,s,r);S+i>d&&(o+=e.addLine(a),f=!1,a="",i=0),a+=w,i+=S}else{a.length>0&&(o+=e.addLine(a),a="",i=0);var A=v===p.length-1;o+=e.addLine(m,!A),f=!1,a="",i=0}else b+i>d&&(f=!1,o+=e.addLine(a),a="",i=0),(a.length>0||!e.isBreakingSpace(m)||f)&&(a+=m,i+=b)}return o+=e.addLine(a,!1)}},{key:"addLine",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=e.trimRight(t),t=n?"".concat(t,"\n"):t}},{key:"getFromCache",value:function(t,n,r,i){var a=r[t];return"number"!==typeof a&&(a=e._measureText(t,n,i)+n,r[t]=a),a}},{key:"collapseSpaces",value:function(e){return"normal"===e||"pre-line"===e}},{key:"collapseNewlines",value:function(e){return"normal"===e}},{key:"trimRight",value:function(t){if("string"!==typeof t)return"";for(var n=t.length-1;n>=0;n--){var r=t[n];if(!e.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}},{key:"isNewline",value:function(t){return"string"===typeof t&&e._newlines.includes(t.charCodeAt(0))}},{key:"isBreakingSpace",value:function(t,n){return"string"===typeof t&&e._breakingSpaces.includes(t.charCodeAt(0))}},{key:"tokenize",value:function(t){var n=[],r="";if("string"!==typeof t)return n;for(var i=0;i<t.length;i++){var a=t[i],o=t[i+1];e.isBreakingSpace(a,o)||e.isNewline(a)?(""!==r&&(n.push(r),r=""),n.push(a)):r+=a}return""!==r&&n.push(r),n}},{key:"canBreakWords",value:function(e,t){return t}},{key:"canBreakChars",value:function(e,t,n,r,i){return!0}},{key:"wordWrapSplit",value:function(t){return e.graphemeSegmenter(t)}},{key:"measureFont",value:function(t){if(e._fonts[t])return e._fonts[t];var n={ascent:0,descent:0,fontSize:0},r=e._canvas,i=e._context;i.font=t;var a=e.METRICS_STRING+e.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),u=Math.ceil(e.HEIGHT_MULTIPLIER*s);if(s=s*e.BASELINE_MULTIPLIER|0,0===o||0===u)return e._fonts[t]=n,n;r.width=o,r.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,u).data,c=l.length,h=4*o,f=0,d=0,p=!1;for(f=0;f<s;++f){for(var v=0;v<h;v+=4)if(255!==l[d+v]){p=!0;break}if(p)break;d+=h}for(n.ascent=s-f,d=c-h,p=!1,f=u;f>s;--f){for(var m=0;m<h;m+=4)if(255!==l[d+m]){p=!0;break}if(p)break;d-=h}return n.descent=f-s,n.fontSize=n.ascent+n.descent,e._fonts[t]=n,n}},{key:"clearMetrics",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t?delete e._fonts[t]:e._fonts={}}},{key:"_canvas",get:function(){if(!e.__canvas){var t;try{var n=new OffscreenCanvas(0,0),r=n.getContext("2d",$e);if(null!==r&&void 0!==r&&r.measureText)return e.__canvas=n,n;t=a.Xd.ADAPTER.createCanvas()}catch(i){t=a.Xd.ADAPTER.createCanvas()}t.width=t.height=10,e.__canvas=t}return e.__canvas}},{key:"_context",get:function(){return e.__context||(e.__context=e._canvas.getContext("2d",$e)),e.__context}}]),e}(),Je=Ke;Je.METRICS_STRING="|\xc9q\xc5",Je.BASELINE_SYMBOL="M",Je.BASELINE_MULTIPLIER=1.4,Je.HEIGHT_MULTIPLIER=2,Je.graphemeSegmenter=function(){var e;if("function"===typeof(null===(e=Intl)||void 0===e?void 0:e.Segmenter)){var t=new Intl.Segmenter;return function(e){return(0,z.Z)(t.segment(e)).map((function(e){return e.segment}))}}return function(e){return(0,z.Z)(e)}}(),Je.experimentalLetterSpacing=!1,Je._fonts={},Je._newlines=[10,13],Je._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Qe=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],et=function(){function e(t){(0,i.Z)(this,e),this.styleID=0,this.reset(),nt(this,t,t)}return(0,r.Z)(e,[{key:"clone",value:function(){var t={};return nt(t,this,e.defaultStyle),new e(t)}},{key:"reset",value:function(){nt(this,e.defaultStyle,e.defaultStyle)}},{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(e){var t=tt(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(e){var t=tt(e);this._fill!==t&&(this._fill=t,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(e){var t=tt(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}},{key:"toFontString",value:function(){var e="number"===typeof this.fontSize?"".concat(this.fontSize,"px"):this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var n=t.length-1;n>=0;n--){var r=t[n].trim();/([\"\'])[^\'\"]+\1/.test(r)||Qe.includes(r)||(r='"'.concat(r,'"')),t[n]=r}return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(e," ").concat(t.join(","))}}]),e}();function tt(e){var t=a.Il.shared;return Array.isArray(e)?e.map((function(e){return t.setValue(e).toHex()})):t.setValue(e).toHex()}function nt(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}et.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:qe.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};var rt={texture:!0,children:!1,baseTexture:!0},it=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,o){var s,u;(0,i.Z)(this,n);var l=!1;o||(o=a.Xd.ADAPTER.createCanvas(),l=!0),o.width=3,o.height=3;var c=a.xE.from(o);return c.orig=new a.Ae,c.trim=new a.Ae,(u=t.call(this,c))._ownCanvas=l,u.canvas=o,u.context=o.getContext("2d",{willReadFrequently:!0}),u._resolution=null!==(s=n.defaultResolution)&&void 0!==s?s:a.Xd.RESOLUTION,u._autoResolution=n.defaultAutoResolution,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=e,u.style=r,u.localStyleID=-1,u}return(0,r.Z)(n,[{key:"updateText",value:function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var n,r,i=this.context,o=Je.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,u=o.height,l=o.lines,c=o.lineHeight,h=o.lineWidths,f=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,u)+2*t.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=t.strokeThickness,i.textBaseline=t.textBaseline,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit;for(var p=t.dropShadow?2:1,v=0;v<p;++v){var m=t.dropShadow&&0===v,g=m?Math.ceil(Math.max(1,u)+2*t.padding):0,y=g*this._resolution;if(m){i.fillStyle="black",i.strokeStyle="black";var b=t.dropShadowColor,x=t.dropShadowBlur*this._resolution,_=t.dropShadowDistance*this._resolution;i.shadowColor=a.Il.shared.setValue(b).setAlpha(t.dropShadowAlpha).toRgbaString(),i.shadowBlur=x,i.shadowOffsetX=Math.cos(t.dropShadowAngle)*_,i.shadowOffsetY=Math.sin(t.dropShadowAngle)*_+y}else i.fillStyle=this._generateFillStyle(t,l,o),i.strokeStyle=t.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var w=(c-d.fontSize)/2;c-d.fontSize<0&&(w=0);for(var k=0;k<l.length;k++)n=t.strokeThickness/2,r=t.strokeThickness/2+k*c+d.ascent+w,"right"===t.align?n+=f-h[k]:"center"===t.align&&(n+=(f-h[k])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(l[k],n+t.padding,r+t.padding-g,!0),t.fill&&this.drawLetterSpacing(l[k],n+t.padding,r+t.padding-g)}this.updateTexture()}}},{key:"drawLetterSpacing",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing,a=!1;if(Je.experimentalLetterSpacingSupported&&(Je.experimentalLetterSpacing?(this.context.letterSpacing="".concat(i,"px"),this.context.textLetterSpacing="".concat(i,"px"),a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===i||a)r?this.context.strokeText(e,t,n):this.context.fillText(e,t,n);else for(var o=t,s=Je.graphemeSegmenter(e),u=this.context.measureText(e).width,l=0,c=0;c<s.length;++c){var h=s[c];r?this.context.strokeText(h,o,n):this.context.fillText(h,o,n);for(var f="",d=c+1;d<s.length;++d)f+=s[d];o+=u-(l=this.context.measureText(f).width)+i,u=l}}},{key:"updateTexture",value:function(){var e=this.canvas;if(this._style.trim){var t=a.P6.trimCanvas(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;n.trim.width=n._frame.width=e.width/this._resolution,n.trim.height=n._frame.height=e.height/this._resolution,n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),n.updateUvs(),this.dirty=!1}},{key:"_render",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),(0,Ge.Z)((0,We.Z)(n.prototype),"_render",this).call(this,e)}},{key:"updateTransform",value:function(){this.updateText(!0),(0,Ge.Z)((0,We.Z)(n.prototype),"updateTransform",this).call(this)}},{key:"getBounds",value:function(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),(0,Ge.Z)((0,We.Z)(n.prototype),"getBounds",this).call(this,e,t)}},{key:"getLocalBounds",value:function(e){return this.updateText(!0),(0,Ge.Z)((0,We.Z)(n.prototype),"getLocalBounds",this).call(this,e)}},{key:"_calculateBounds",value:function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}},{key:"_generateFillStyle",value:function(e,t,n){var r,i=e.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var a=e.dropShadow?e.dropShadowDistance:0,o=e.padding||0,s=this.canvas.width/this._resolution-a-2*o,u=this.canvas.height/this._resolution-a-2*o,l=i.slice(),c=e.fillGradientStops.slice();if(!c.length)for(var h=l.length+1,f=1;f<h;++f)c.push(f/h);if(l.unshift(i[0]),c.unshift(0),l.push(i[i.length-1]),c.push(1),e.fillGradientType===qe.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,o,s/2,u+o);for(var d=n.fontProperties.fontSize+e.strokeThickness,p=0;p<t.length;p++){var v=n.lineHeight*(p-1)+d,m=n.lineHeight*p,g=m;p>0&&v>m&&(g=(m+v)/2);var y=m+d,b=n.lineHeight*(p+1),x=y;p+1<t.length&&b<y&&(x=(y+b)/2);for(var _=(x-g)/u,w=0;w<l.length;w++){var k=0;k="number"===typeof c[w]?c[w]:w/l.length;var E=Math.min(1,Math.max(0,g/u+k*_));E=Number(E.toFixed(5)),r.addColorStop(E,l[w])}}}else{r=this.context.createLinearGradient(o,u/2,s+o,u/2);for(var T=l.length+1,S=1,A=0;A<l.length;A++){var M=void 0;M="number"===typeof c[A]?c[A]:S/T,r.addColorStop(M,l[A]),S++}}return r}},{key:"destroy",value:function(e){"boolean"===typeof e&&(e={children:e}),e=Object.assign({},rt,e),(0,Ge.Z)((0,We.Z)(n.prototype),"destroy",this).call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}},{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=a.P6.sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=a.P6.sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof et?e:new et(e),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(e){e=String(null===e||void 0===e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}}],[{key:"experimentalLetterSpacing",get:function(){return Je.experimentalLetterSpacing},set:function(e){a.P6.deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Je.experimentalLetterSpacing=e}}]),n}(s.j),at=it;at.defaultAutoResolution=!0;var ot=function(){function e(t){(0,i.Z)(this,e),this.maxItemsPerFrame=t,this.itemsLeft=0}return(0,r.Z)(e,[{key:"beginFrame",value:function(){this.itemsLeft=this.maxItemsPerFrame}},{key:"allowedToUpload",value:function(){return this.itemsLeft-- >0}}]),e}();function st(e,t){var n,r=!1;if(null!==e&&void 0!==e&&null!==(n=e._textures)&&void 0!==n&&n.length)for(var i=0;i<e._textures.length;i++)if(e._textures[i]instanceof a.xE){var o=e._textures[i].baseTexture;t.includes(o)||(t.push(o),r=!0)}return r}function ut(e,t){if(e.baseTexture instanceof a.VL){var n=e.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function lt(e,t){if(e._texture&&e._texture instanceof a.xE){var n=e._texture.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function ct(e,t){return t instanceof at&&(t.updateText(!0),!0)}function ht(e,t){if(t instanceof et){var n=t.toFontString();return Je.measureFont(n),!0}return!1}function ft(e,t){if(e instanceof at){t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e);var n=e._texture.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function dt(e,t){return e instanceof et&&(t.includes(e)||t.push(e),!0)}var pt=function(){function e(t){var n=this;(0,i.Z)(this,e),this.limiter=new ot(e.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(ft),this.registerFindHook(dt),this.registerFindHook(st),this.registerFindHook(ut),this.registerFindHook(lt),this.registerUploadHook(ct),this.registerUploadHook(ht)}return(0,r.Z)(e,[{key:"upload",value:function(e){var t=this;return new Promise((function(n){e&&t.add(e),t.queue.length?(t.completes.push(n),t.ticking||(t.ticking=!0,a.vB.system.addOnce(t.tick,t,a.uF.UTILITY))):n()}))}},{key:"tick",value:function(){setTimeout(this.delayedTick,0)}},{key:"prepareItems",value:function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)a.vB.system.addOnce(this.tick,this,a.uF.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(var o=0,s=i.length;o<s;o++)i[o]()}}},{key:"registerFindHook",value:function(e){return e&&this.addHooks.push(e),this}},{key:"registerUploadHook",value:function(e){return e&&this.uploadHooks.push(e),this}},{key:"add",value:function(e){for(var t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof o.W2)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}},{key:"destroy",value:function(){this.ticking&&a.vB.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}}]),e}();function vt(e,t){return t instanceof a.VL&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function mt(e,t){if(!(t instanceof Ye.TC))return!1;var n=t.geometry;t.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var a=r[i].style.texture;a&&vt(e,a.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function gt(e,t){return e instanceof Ye.TC&&(t.push(e),!0)}pt.uploadsPerFrame=4,Object.defineProperties(a.Xd,{UPLOADS_PER_FRAME:{get:function(){return pt.uploadsPerFrame},set:function(e){a.P6.deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),pt.uploadsPerFrame=e}}});var yt=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).uploadHookHelper=r.renderer,r.registerFindHook(gt),r.registerUploadHook(vt),r.registerUploadHook(mt),r}return(0,r.Z)(n)}(pt);yt.extension={name:"prepare",type:a.nw.RendererSystem},a.Rw.add(yt);s.j;var bt=new a.E9,xt=(s.j,n(7326)),_t="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",wt=new a.y3,kt=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),e.runners.contextChange.add((0,xt.Z)(r)),r.quad=new a.ud,r.state=a.ZM.for2d(),r}return(0,r.Z)(n,[{key:"contextChange",value:function(){var e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=a.ex.from(_t,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",t),this.shader=e.context.webGLVersion>1?a.ex.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",t):a.ex.from(_t,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",t)}},{key:"render",value:function(e){var t=this.renderer,n=this.quad,r=n.vertices;r[0]=r[6]=e._width*-e.anchor.x,r[1]=r[3]=e._height*-e.anchor.y,r[2]=r[4]=e._width*(1-e.anchor.x),r[5]=r[7]=e._height*(1-e.anchor.y);var i=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;(r=n.uvs)[0]=r[6]=-i,r[1]=r[3]=-o,r[2]=r[4]=1-i,r[5]=r[7]=1-o,n.invalidate();var s=e._texture,u=s.baseTexture,l=u.alphaMode>0,c=e.tileTransform.localTransform,h=e.uvMatrix,f=u.isPowerOfTwo&&s.frame.width===u.width&&s.frame.height===u.height;f&&(u._glTextures[t.CONTEXT_UID]?f=u.wrapMode!==a.Nt.CLAMP:u.wrapMode===a.Nt.CLAMP&&(u.wrapMode=a.Nt.REPEAT));var d=f?this.simpleShader:this.shader,p=s.width,v=s.height,m=e._width,g=e._height;wt.set(c.a*p/m,c.b*p/g,c.c*v/m,c.d*v/g,c.tx/m,c.ty/g),wt.invert(),f?wt.prepend(h.mapCoord):(d.uniforms.uMapCoord=h.mapCoord.toArray(!0),d.uniforms.uClampFrame=h.uClampFrame,d.uniforms.uClampOffset=h.uClampOffset),d.uniforms.uTransform=wt.toArray(!0),d.uniforms.uColor=a.Il.shared.setValue(e.tint).premultiply(e.worldAlpha,l).toArray(d.uniforms.uColor),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=s,t.shader.bind(d),t.geometry.bind(n),this.state.blendMode=a.P6.correctBlendMode(e.blendMode,l),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}]),n}(a.bO);kt.extension={name:"tilingSprite",type:a.nw.RendererPlugin},a.Rw.add(kt);var Et=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,i.Z)(this,e),this.linkedSheets=[],this._texture=t instanceof a.xE?t:null,this.baseTexture=t instanceof a.VL?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=n;var o=this.baseTexture.resource;this.resolution=this._updateResolution(r||(o?o.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return(0,r.Z)(e,[{key:"_updateResolution",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.data.meta.scale,n=a.P6.getResolutionOfUrl(e,null);return null===n&&(n=parseFloat(null!==t&&void 0!==t?t:"1")),1!==n&&this.baseTexture.setResolution(n),n}},{key:"parse",value:function(){var t=this;return new Promise((function(n){t._callback=n,t._batchIndex=0,t._frameKeys.length<=e.BATCH_SIZE?(t._processFrames(0),t._processAnimations(),t._parseComplete()):t._nextBatch()}))}},{key:"_processFrames",value:function(t){for(var n=t,r=e.BATCH_SIZE;n-t<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],o=this._frames[i],s=o.frame;if(s){var u=null,l=null,c=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,h=new a.Ae(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);u=o.rotated?new a.Ae(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new a.Ae(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new a.Ae(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new a.xE(this.baseTexture,u,h,l,o.rotated?2:0,o.anchor,o.borders),a.xE.addToCache(this.textures[i],i)}n++}}},{key:"_processAnimations",value:function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var n=0;n<e[t].length;n++){var r=e[t][n];this.animations[t].push(this.textures[r])}}}},{key:"_parseComplete",value:function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}},{key:"_nextBatch",value:function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)}},{key:"destroy",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var n in this.textures)this.textures[n].destroy();(this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t)&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy());this._texture=null,this.baseTexture=null,this.linkedSheets=[]}}]),e}(),Tt=Et;Tt.BATCH_SIZE=1e3;var St=n(7762),At=["jpg","png","jpeg","avif","webp"];function Mt(e,t,n){var r={};if(e.forEach((function(e){r[e]=t})),Object.keys(t.textures).forEach((function(e){r[e]=t.textures[e]})),!n){var i=a.P6.path.dirname(e[0]);t.linkedSheets.forEach((function(e,n){var a=Mt(["".concat(i,"/").concat(t.data.meta.related_multi_packs[n])],e,!0);Object.assign(r,a)}))}return r}var Pt={extension:a.nw.Asset,cache:{test:function(e){return e instanceof Tt},getCacheableAssets:function(e,t){return Mt(e,t,!1)}},resolver:{test:function(e){var t=e.split("?")[0].split("."),n=t.pop(),r=t.pop();return"json"===n&&At.includes(r)},parse:function(e){var t,n,r=e.split(".");return{resolution:parseFloat(null!==(t=null===(n=a.Xd.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:r[r.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:a.nw.LoadParser,priority:X.Q2.Normal},testParse:function(e,t){return(0,$.Z)((0,q.Z)().mark((function n(){return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",".json"===a.P6.path.extname(t.src).toLowerCase()&&!!e.frames);case 1:case"end":return n.stop()}}),n)})))()},parse:function(e,t,n){return(0,$.Z)((0,q.Z)().mark((function r(){var i,o,s,u,l,c,h,f,d,p,v,m,g,y;return(0,q.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(o=a.P6.path.dirname(t.src))&&o.lastIndexOf("/")!==o.length-1&&(o+="/"),s=o+e.meta.image,s=(0,X.uz)(s,t.src),r.next=6,n.load([s]);case 6:return u=r.sent,l=u[s],c=new Tt(l.baseTexture,e,t.src),r.next=11,c.parse();case 11:if(h=null===e||void 0===e||null===(i=e.meta)||void 0===i?void 0:i.related_multi_packs,!Array.isArray(h)){r.next=41;break}f=[],d=(0,St.Z)(h),r.prev=15,d.s();case 17:if((p=d.n()).done){r.next=28;break}if("string"===typeof(m=p.value)){r.next=21;break}return r.abrupt("continue",26);case 21:if(g=o+m,null===(v=t.data)||void 0===v||!v.ignoreMultiPack){r.next=24;break}return r.abrupt("continue",26);case 24:g=(0,X.uz)(g,t.src),f.push(n.load({src:g,data:{ignoreMultiPack:!0}}));case 26:r.next=17;break;case 28:r.next=33;break;case 30:r.prev=30,r.t0=r.catch(15),d.e(r.t0);case 33:return r.prev=33,d.f(),r.finish(33);case 36:return r.next=38,Promise.all(f);case 38:y=r.sent,c.linkedSheets=y,y.forEach((function(e){e.linkedSheets=[c].concat(c.linkedSheets.filter((function(t){return t!==e})))}));case 41:return r.abrupt("return",c);case 42:case"end":return r.stop()}}),r,null,[[15,30,33,36]])})))()},unload:function(e){e.destroy(!0)}}};a.Rw.add(Pt);var Ct=n(4925),It=(0,r.Z)((function e(){(0,i.Z)(this,e),this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]})),Rt=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,null,[{key:"test",value:function(e){return"string"===typeof e&&e.startsWith("info face=")}},{key:"parse",value:function(e){var t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var r in t){var i=t[r].match(/^[a-z]+/gm)[0],a=t[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var s in a){var u=a[s].split("="),l=u[0],c=u[1].replace(/"/gm,""),h=parseFloat(c),f=isNaN(h)?c:h;o[l]=f}n[i].push(o)}var d=new It;return n.info.forEach((function(e){return d.info.push({face:e.face,size:parseInt(e.size,10)})})),n.common.forEach((function(e){return d.common.push({lineHeight:parseInt(e.lineHeight,10)})})),n.page.forEach((function(e){return d.page.push({id:parseInt(e.id,10),file:e.file})})),n.char.forEach((function(e){return d.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),n.kerning.forEach((function(e){return d.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),n.distanceField.forEach((function(e){return d.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})})),d}}]),e}(),Ot=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,null,[{key:"test",value:function(e){var t=e;return"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")}},{key:"parse",value:function(e){for(var t=new It,n=e.getElementsByTagName("info"),r=e.getElementsByTagName("common"),i=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),s=e.getElementsByTagName("distanceField"),u=0;u<n.length;u++)t.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(var l=0;l<r.length;l++)t.common.push({lineHeight:parseInt(r[l].getAttribute("lineHeight"),10)});for(var c=0;c<i.length;c++)t.page.push({id:parseInt(i[c].getAttribute("id"),10)||0,file:i[c].getAttribute("file")});for(var h=0;h<a.length;h++){var f=a[h];t.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(var d=0;d<o.length;d++)t.kerning.push({first:parseInt(o[d].getAttribute("first"),10),second:parseInt(o[d].getAttribute("second"),10),amount:parseInt(o[d].getAttribute("amount"),10)});for(var p=0;p<s.length;p++)t.distanceField.push({fieldType:s[p].getAttribute("fieldType"),distanceRange:parseInt(s[p].getAttribute("distanceRange"),10)});return t}}]),e}(),Lt=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,null,[{key:"test",value:function(e){return!("string"!==typeof e||!e.includes("<font>"))&&Ot.test(a.Xd.ADAPTER.parseXML(e))}},{key:"parse",value:function(e){return Ot.parse(a.Xd.ADAPTER.parseXML(e))}}]),e}(),Nt=[Rt,Ot,Lt];function Bt(e,t,n,r,i,o,s){var u=n.text,l=n.fontProperties;t.translate(r,i),t.scale(o,o);var c=s.strokeThickness/2,h=-s.strokeThickness/2;if(t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=function(e,t,n,r,i,a){var o,s=n.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var u=n.dropShadow?n.dropShadowDistance:0,l=n.padding||0,c=e.width/r-u-2*l,h=e.height/r-u-2*l,f=s.slice(),d=n.fillGradientStops.slice();if(!d.length)for(var p=f.length+1,v=1;v<p;++v)d.push(v/p);if(f.unshift(s[0]),d.unshift(0),f.push(s[s.length-1]),d.push(1),n.fillGradientType===qe.LINEAR_VERTICAL){o=t.createLinearGradient(c/2,l,c/2,h+l);for(var m=0,g=(a.fontProperties.fontSize+n.strokeThickness)/h,y=0;y<i.length;y++)for(var b=a.lineHeight*y,x=0;x<f.length;x++){var _=b/h+("number"===typeof d[x]?d[x]:x/f.length)*g,w=Math.max(m,_);w=Math.min(w,1),o.addColorStop(w,f[x]),m=w}}else{o=t.createLinearGradient(l,h/2,c+l,h/2);for(var k=f.length+1,E=1,T=0;T<f.length;T++){var S=void 0;S="number"===typeof d[T]?d[T]:E/k,o.addColorStop(S,f[T]),E++}}return o}(e,t,s,o,[u],n),t.strokeStyle=s.stroke,s.dropShadow){var f=s.dropShadowColor,d=s.dropShadowBlur*o,p=s.dropShadowDistance*o;t.shadowColor=a.Il.shared.setValue(f).setAlpha(s.dropShadowAlpha).toRgbaString(),t.shadowBlur=d,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*p,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*p}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;s.stroke&&s.strokeThickness&&t.strokeText(u,c,h+n.lineHeight-l.descent),s.fill&&t.fillText(u,c,h+n.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function Dt(e){return Array.from?Array.from(e):e.split("")}function Ft(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var Zt=["chars","padding","resolution","textureWidth","textureHeight"],Vt=function(){function e(t,n,r){var o,s;(0,i.Z)(this,e);var u=(0,c.Z)(t.info,1)[0],l=(0,c.Z)(t.common,1)[0],h=(0,c.Z)(t.page,1)[0],f=(0,c.Z)(t.distanceField,1)[0],d=a.P6.getResolutionOfUrl(h.file),p={};this._ownsTextures=r,this.font=u.face,this.size=u.size,this.lineHeight=l.lineHeight/d,this.chars={},this.pageTextures=p;for(var v=0;v<t.page.length;v++){var m=t.page[v],g=m.id,y=m.file;p[g]=n instanceof Array?n[v]:n[y],null!==f&&void 0!==f&&f.fieldType&&"none"!==f.fieldType&&(p[g].baseTexture.alphaMode=a.iw.NO_PREMULTIPLIED_ALPHA,p[g].baseTexture.mipmap=a.KI.OFF)}for(var b=0;b<t.char.length;b++){var x=t.char[b],_=x.id,w=x.page,k=t.char[b],E=k.x,T=k.y,S=k.width,A=k.height,M=k.xoffset,P=k.yoffset,C=k.xadvance;E/=d,T/=d,S/=d,A/=d,M/=d,P/=d,C/=d;var I=new a.Ae(E+p[w].frame.x/d,T+p[w].frame.y/d,S,A);this.chars[_]={xOffset:M,yOffset:P,xAdvance:C,kerning:{},texture:new a.xE(p[w].baseTexture,I),page:w}}for(var R=0;R<t.kerning.length;R++){var O=t.kerning[R],L=O.first,N=O.second,B=O.amount;L/=d,N/=d,B/=d,this.chars[N]&&(this.chars[N].kerning[L]=B)}this.distanceFieldRange=null===f||void 0===f?void 0:f.distanceRange,this.distanceFieldType=null!==(o=null===f||void 0===f||null===(s=f.fieldType)||void 0===s?void 0:s.toLowerCase())&&void 0!==o?o:"none"}return(0,r.Z)(e,[{key:"destroy",value:function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}}],[{key:"install",value:function(t,n,r){var i;if(t instanceof It)i=t;else{var o=function(e){for(var t=0;t<Nt.length;t++)if(Nt[t].test(e))return Nt[t];return null}(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}n instanceof a.xE&&(n=[n]);var s=new e(i,n,r);return e.available[s.font]=s,s}},{key:"uninstall",value:function(t){var n=e.available[t];if(!n)throw new Error("No font found named '".concat(t,"'"));n.destroy(),delete e.available[t]}},{key:"from",value:function(t,n,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,r),o=i.chars,s=i.padding,u=i.resolution,l=i.textureWidth,c=i.textureHeight,h=(0,Ct.Z)(i,Zt),f=function(e){"string"===typeof e&&(e=[e]);for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got ".concat(i.length,"."));var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,u=o;s<=u;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,(0,z.Z)(Dt(i)))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(o),d=n instanceof et?n:new et(n),p=l,v=new It;v.info[0]={face:d.fontFamily,size:d.fontSize},v.common[0]={lineHeight:d.fontSize};for(var m,g,y,b=0,x=0,_=0,w=[],k=[],E=0;E<f.length;E++){m||((m=a.Xd.ADAPTER.createCanvas()).width=l,m.height=c,g=m.getContext("2d"),y=new a.VL(m,(0,I.Z)({resolution:u},h)),w.push(y),k.push(new a.xE(y)),v.page.push({id:k.length-1,file:""}));var T=f[E],S=Je.measureText(T,d,!1,m),A=S.width,M=Math.ceil(S.height),P=Math.ceil(("italic"===d.fontStyle?2:1)*A);if(x>=c-M*u){if(0===x)throw new Error("[BitmapFont] textureHeight ".concat(c,"px is too small (fontFamily: '").concat(d.fontFamily,"', fontSize: ").concat(d.fontSize,"px, char: '").concat(T,"')"));--E,m=null,g=null,y=null,x=0,b=0,_=0}else if(_=Math.max(M+S.fontProperties.descent,_),P*u+b>=p){if(0===b)throw new Error("[BitmapFont] textureWidth ".concat(l,"px is too small (fontFamily: '").concat(d.fontFamily,"', fontSize: ").concat(d.fontSize,"px, char: '").concat(T,"')"));--E,x+=_*u,x=Math.ceil(x),b=0,_=0}else{Bt(m,g,S,b,x,u,d);var C=Ft(S.text);v.char.push({id:C,page:k.length-1,x:b/u,y:x/u,width:P,height:M,xoffset:0,yoffset:0,xadvance:A-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0)}),b+=(P+2*s)*u,b=Math.ceil(b)}}for(var R=0,O=f.length;R<O;R++)for(var L=f[R],N=0;N<O;N++){var B=f[N],D=g.measureText(L).width,F=g.measureText(B).width,Z=g.measureText(L+B).width-(D+F);Z&&v.kerning.push({first:Ft(L),second:Ft(B),amount:Z})}var V=new e(v,k,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=V,V}}]),e}(),jt=Vt;jt.ALPHA=[["a","z"],["A","Z"]," "],jt.NUMERIC=[["0","9"]],jt.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],jt.ASCII=[[" ","~"]],jt.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Vt.ALPHANUMERIC},jt.available={};var Ut=[],Yt=[],Xt=[],Gt=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Z)(this,n),r=t.call(this);var s=Object.assign({},n.styleDefaults,o),u=s.align,l=s.tint,c=s.maxWidth,h=s.letterSpacing,f=s.fontName,d=s.fontSize;if(!jt.available[f])throw new Error('Missing BitmapFont "'.concat(f,'"'));return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=u,r._tintColor=new a.Il(l),r._font=void 0,r._fontName=f,r._fontSize=d,r.text=e,r._maxWidth=c,r._maxLineHeight=0,r._letterSpacing=h,r._anchor=new a.AB((function(){r.dirty=!0}),(0,xt.Z)(r),0,0),r._roundPixels=a.Xd.ROUND_PIXELS,r.dirty=!0,r._resolution=a.Xd.RESOLUTION,r._autoResolution=!0,r._textureCache={},r}return(0,r.Z)(n,[{key:"updateText",value:function(){for(var e=jt.available[this._fontName],t=this.fontSize,n=t/e.size,r=new a.E9,i=[],o=[],s=[],u=Dt(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),l=this._maxWidth*e.size/t,c="none"===e.distanceFieldType?Ut:Yt,h=null,f=0,d=0,p=0,v=-1,m=0,g=0,y=0,b=0,x=0;x<u.length;x++){var _=u[x],w=Ft(_);if(/(?:\s)/.test(_)&&(v=x,m=f,b++),"\r"!==_&&"\n"!==_){var k=e.chars[w];if(k){h&&k.kerning[h]&&(r.x+=k.kerning[h]);var E=Xt.pop()||{texture:a.xE.EMPTY,line:0,charCode:0,prevSpaces:0,position:new a.E9};E.texture=k.texture,E.line=p,E.charCode=w,E.position.x=Math.round(r.x+k.xOffset+this._letterSpacing/2),E.position.y=Math.round(r.y+k.yOffset),E.prevSpaces=b,i.push(E),f=E.position.x+Math.max(k.xAdvance-k.xOffset,k.texture.orig.width),r.x+=k.xAdvance+this._letterSpacing,y=Math.max(y,k.yOffset+k.texture.height),h=w,-1!==v&&l>0&&r.x>l&&(++g,a.P6.removeItems(i,1+v-g,1+x-v),x=v,v=-1,o.push(m),s.push(i.length>0?i[i.length-1].prevSpaces:0),d=Math.max(d,m),p++,r.x=0,r.y+=e.lineHeight,h=null,b=0)}}else o.push(f),s.push(-1),d=Math.max(d,f),++p,++g,r.x=0,r.y+=e.lineHeight,h=null,b=0}var T=u[u.length-1];"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(f=m),o.push(f),d=Math.max(d,f),s.push(-1));for(var S=[],A=0;A<=p;A++){var M=0;"right"===this._align?M=d-o[A]:"center"===this._align?M=(d-o[A])/2:"justify"===this._align&&(M=s[A]<0?0:(d-o[A])/s[A]),S.push(M)}var P=i.length,C={},I=[],R=this._activePagesMeshData;c.push.apply(c,(0,z.Z)(R));for(var O=0;O<P;O++){var L=i[O].texture,N=L.baseTexture.uid;if(!C[N]){var B=c.pop();if(!B){var D=new Xe.xc,F=void 0,Z=void 0;"none"===e.distanceFieldType?(F=new Xe.rY(a.xE.EMPTY),Z=a.T$.NORMAL):(F=new Xe.rY(a.xE.EMPTY,{program:a.$r.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"),uniforms:{uFWidth:0}}),Z=a.T$.NORMAL_NPM);var V=new Xe.Kj(D,F);V.blendMode=Z,B={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:V,vertices:null,uvs:null,indices:null}}B.index=0,B.indexCount=0,B.vertexCount=0,B.uvsCount=0,B.total=0;var j=this._textureCache;j[N]=j[N]||new a.xE(L.baseTexture),B.mesh.texture=j[N],B.mesh.tint=this._tintColor.value,I.push(B),C[N]=B}C[N].total++}for(var U=0;U<R.length;U++)I.includes(R[U])||this.removeChild(R[U].mesh);for(var Y=0;Y<I.length;Y++)I[Y].mesh.parent!==this&&this.addChild(I[Y].mesh);for(var X in this._activePagesMeshData=I,C){var G,W=C[X],H=W.total;if(!((null===(G=W.indices)||void 0===G?void 0:G.length)>6*H)||W.vertices.length<2*Xe.Kj.BATCHABLE_SIZE)W.vertices=new Float32Array(8*H),W.uvs=new Float32Array(8*H),W.indices=new Uint16Array(6*H);else for(var q=W.total,$=W.vertices,K=4*q*2;K<$.length;K++)$[K]=0;W.mesh.size=6*H}for(var J=0;J<P;J++){var Q=i[J],ee=Q.position.x+S[Q.line]*("justify"===this._align?Q.prevSpaces:1);this._roundPixels&&(ee=Math.round(ee));var te=ee*n,ne=Q.position.y*n,re=Q.texture,ie=C[re.baseTexture.uid],ae=re.frame,oe=re._uvs,se=ie.index++;ie.indices[6*se+0]=0+4*se,ie.indices[6*se+1]=1+4*se,ie.indices[6*se+2]=2+4*se,ie.indices[6*se+3]=0+4*se,ie.indices[6*se+4]=2+4*se,ie.indices[6*se+5]=3+4*se,ie.vertices[8*se+0]=te,ie.vertices[8*se+1]=ne,ie.vertices[8*se+2]=te+ae.width*n,ie.vertices[8*se+3]=ne,ie.vertices[8*se+4]=te+ae.width*n,ie.vertices[8*se+5]=ne+ae.height*n,ie.vertices[8*se+6]=te,ie.vertices[8*se+7]=ne+ae.height*n,ie.uvs[8*se+0]=oe.x0,ie.uvs[8*se+1]=oe.y0,ie.uvs[8*se+2]=oe.x1,ie.uvs[8*se+3]=oe.y1,ie.uvs[8*se+4]=oe.x2,ie.uvs[8*se+5]=oe.y2,ie.uvs[8*se+6]=oe.x3,ie.uvs[8*se+7]=oe.y3}for(var ue in this._textWidth=d*n,this._textHeight=(r.y+e.lineHeight)*n,C){var le=C[ue];if(0!==this.anchor.x||0!==this.anchor.y)for(var ce=0,he=this._textWidth*this.anchor.x,fe=this._textHeight*this.anchor.y,de=0;de<le.total;de++)le.vertices[ce++]-=he,le.vertices[ce++]-=fe,le.vertices[ce++]-=he,le.vertices[ce++]-=fe,le.vertices[ce++]-=he,le.vertices[ce++]-=fe,le.vertices[ce++]-=he,le.vertices[ce++]-=fe;this._maxLineHeight=y*n;var pe=le.mesh.geometry.getBuffer("aVertexPosition"),ve=le.mesh.geometry.getBuffer("aTextureCoord"),me=le.mesh.geometry.getIndex();pe.data=le.vertices,ve.data=le.uvs,me.data=le.indices,pe.update(),ve.update(),me.update()}for(var ge=0;ge<i.length;ge++)Xt.push(i[ge]);this._font=e,this.dirty=!1}},{key:"updateTransform",value:function(){this.validate(),this.containerUpdateTransform()}},{key:"_render",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);var t=jt.available[this._fontName],r=t.distanceFieldRange,i=t.distanceFieldType,a=t.size;if("none"!==i){var o,s=this.worldTransform,u=s.a,l=s.b,c=s.c,h=s.d,f=Math.sqrt(u*u+l*l),d=Math.sqrt(c*c+h*h),p=(Math.abs(f)+Math.abs(d))/2,v=this.fontSize/a,m=e._view.resolution,g=(0,St.Z)(this._activePagesMeshData);try{for(g.s();!(o=g.n()).done;){o.value.mesh.shader.uniforms.uFWidth=p*r*v*m}}catch(y){g.e(y)}finally{g.f()}}(0,Ge.Z)((0,We.Z)(n.prototype),"_render",this).call(this,e)}},{key:"getLocalBounds",value:function(){return this.validate(),(0,Ge.Z)((0,We.Z)(n.prototype),"getLocalBounds",this).call(this)}},{key:"validate",value:function(){var e=jt.available[this._fontName];if(!e)throw new Error('Missing BitmapFont "'.concat(this._fontName,'"'));this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}},{key:"tint",get:function(){return this._tintColor.value},set:function(e){if(this.tint!==e){this._tintColor.setValue(e);for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}},{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)}},{key:"fontName",get:function(){return this._fontName},set:function(e){if(!jt.available[e])throw new Error('Missing BitmapFont "'.concat(e,'"'));this._fontName!==e&&(this._fontName=e,this.dirty=!0)}},{key:"fontSize",get:function(){var e;return null!==(e=this._fontSize)&&void 0!==e?e:jt.available[this._fontName].size},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}},{key:"anchor",get:function(){return this._anchor},set:function(e){"number"===typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}},{key:"text",get:function(){return this._text},set:function(e){e=String(null===e||void 0===e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}},{key:"destroy",value:function(e){var t=this._textureCache,r="none"===jt.available[this._fontName].distanceFieldType?Ut:Yt;r.push.apply(r,(0,z.Z)(this._activePagesMeshData));var i,o=(0,St.Z)(this._activePagesMeshData);try{for(o.s();!(i=o.n()).done;){var s=i.value;this.removeChild(s.mesh)}}catch(l){o.e(l)}finally{o.f()}for(var u in this._activePagesMeshData=[],r.filter((function(e){return t[e.mesh.texture.baseTexture.uid]})).forEach((function(e){e.mesh.texture=a.xE.EMPTY})),t){t[u].destroy(),delete t[u]}this._font=null,this._tintColor=null,this._textureCache=null,(0,Ge.Z)((0,We.Z)(n.prototype),"destroy",this).call(this,e)}}]),n}(o.W2);Gt.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};var Wt=[".xml",".fnt"],Ht={extension:{type:a.nw.LoadParser,priority:X.Q2.Normal},name:"loadBitmapFont",test:function(e){return Wt.includes(a.P6.path.extname(e).toLowerCase())},testParse:function(e){return(0,$.Z)((0,q.Z)().mark((function t(){return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Rt.test(e)||Lt.test(e));case 1:case"end":return t.stop()}}),t)})))()},parse:function(e,t,n){return(0,$.Z)((0,q.Z)().mark((function r(){var i,o,s,u,l,c,h,f,d;return(0,q.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(i=Rt.test(e)?Rt.parse(e):Lt.parse(e),o=t.src,s=i.page,u=[],l=0;l<s.length;++l)c=s[l].file,h=a.P6.path.join(a.P6.path.dirname(o),c),h=(0,X.uz)(h,o),u.push(h);return r.next=7,n.load(u);case 7:return f=r.sent,d=u.map((function(e){return f[e]})),r.abrupt("return",jt.install(i,d,!0));case 10:case"end":return r.stop()}}),r)})))()},load:function(e,t){return(0,$.Z)((0,q.Z)().mark((function t(){var n;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Xd.ADAPTER.fetch(e);case 2:return n=t.sent,t.abrupt("return",n.text());case 4:case"end":return t.stop()}}),t)})))()},unload:function(e){e.destroy()}};a.Rw.add(Ht);var zt=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments))._fonts=[],e._overrides=[],e._stylesheet="",e.fontsDirty=!1,e}return(0,r.Z)(n,[{key:"cleanFonts",value:function(){this._fonts.length>0&&(this._fonts.forEach((function(e){URL.revokeObjectURL(e.src),e.refs--,0===e.refs&&(e.fontFace&&document.fonts.delete(e.fontFace),delete n.availableFonts[e.originalUrl])})),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}},{key:"loadFont",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.availableFonts;if(i[e]){var o=i[e];return this._fonts.push(o),o.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return a.Xd.ADAPTER.fetch(e).then((function(e){return e.blob()})).then(function(){var e=(0,$.Z)((0,q.Z)().mark((function e(t){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=URL.createObjectURL(t),i=new FileReader;i.onload=function(){return e([r,i.result])},i.onerror=n,i.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var n=(0,$.Z)((0,q.Z)().mark((function n(o){var s,u,l,h,f;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=(0,c.Z)(o,2),u=s[0],l=s[1],h=Object.assign({family:a.P6.path.basename(e,a.P6.path.extname(e)),weight:"normal",style:"normal",src:u,dataSrc:l,refs:1,originalUrl:e,fontFace:null},r),i[e]=h,t._fonts.push(h),t.styleID++,f=new FontFace(h.family,"url(".concat(h.src,")"),{weight:h.weight,style:h.style}),h.fontFace=f,n.next=9,f.load();case 9:return document.fonts.add(f),n.next=12,document.fonts.ready;case 12:t.styleID++,t.fontsDirty=!0;case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"addOverride",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,a=n.filter((function(t){return!e._overrides.includes(t)}));a.length>0&&((i=this._overrides).push.apply(i,(0,z.Z)(a)),this.styleID++)}},{key:"removeOverride",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter((function(t){return e._overrides.includes(t)}));i.length>0&&(this._overrides=this._overrides.filter((function(e){return!i.includes(e)})),this.styleID++)}},{key:"toCSS",value:function(e){return["transform: scale(".concat(e,")"),"transform-origin: top left","display: inline-block","color: ".concat(this.normalizeColor(this.fill)),"font-size: ".concat(this.fontSize,"px"),"font-family: ".concat(this.fontFamily),"font-weight: ".concat(this.fontWeight),"font-style: ".concat(this.fontStyle),"font-variant: ".concat(this.fontVariant),"letter-spacing: ".concat(this.letterSpacing,"px"),"text-align: ".concat(this.align),"padding: ".concat(this.padding,"px"),"white-space: ".concat(this.whiteSpace)].concat((0,z.Z)(this.lineHeight?["line-height: ".concat(this.lineHeight,"px")]:[]),(0,z.Z)(this.wordWrap?["word-wrap: ".concat(this.breakWords?"break-all":"break-word"),"max-width: ".concat(this.wordWrapWidth,"px")]:[]),(0,z.Z)(this.strokeThickness?["-webkit-text-stroke-width: ".concat(this.strokeThickness,"px"),"-webkit-text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"text-stroke-width: ".concat(this.strokeThickness,"px"),"text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"paint-order: stroke"]:[]),(0,z.Z)(this.dropShadow?[this.dropShadowToCSS()]:[]),(0,z.Z)(this._overrides)).join(";")}},{key:"toGlobalCSS",value:function(){return this._fonts.reduce((function(e,t){return"".concat(e,'\n            @font-face {\n                font-family: "').concat(t.family,"\";\n                src: url('").concat(t.dataSrc,"');\n                font-weight: ").concat(t.weight,";\n                font-style: ").concat(t.style,"; \n            }")}),this._stylesheet)}},{key:"stylesheet",get:function(){return this._stylesheet},set:function(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}},{key:"normalizeColor",value:function(e){return Array.isArray(e)&&(e=a.P6.rgb2hex(e)),"number"===typeof e?a.P6.hex2string(e):e}},{key:"dropShadowToCSS",value:function(){var e=this.normalizeColor(this.dropShadowColor),t=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),r=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(255*t|0).toString(16).padStart(2,"0"));var i="".concat(n,"px ").concat(r,"px");return this.dropShadowBlur>0?"text-shadow: ".concat(i," ").concat(this.dropShadowBlur,"px ").concat(e):"text-shadow: ".concat(i," ").concat(e)}},{key:"reset",value:function(){Object.assign(this,n.defaultOptions)}},{key:"onBeforeDraw",value:function(){var e=this.fontsDirty;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise((function(e){return setTimeout(e,100)})):Promise.resolve()}},{key:"isSafari",get:function(){var e=a.Xd.ADAPTER.getNavigator().userAgent;return/^((?!chrome|android).)*safari/i.test(e)}},{key:"fillGradientStops",get:function(){return(0,Ge.Z)((0,We.Z)(n.prototype),"fillGradientStops",this)},set:function(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}},{key:"fillGradientType",get:function(){return(0,Ge.Z)((0,We.Z)(n.prototype),"fillGradientType",this)},set:function(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}},{key:"miterLimit",get:function(){return(0,Ge.Z)((0,We.Z)(n.prototype),"miterLimit",this)},set:function(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}},{key:"trim",get:function(){return(0,Ge.Z)((0,We.Z)(n.prototype),"trim",this)},set:function(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}},{key:"textBaseline",get:function(){return(0,Ge.Z)((0,We.Z)(n.prototype),"textBaseline",this)},set:function(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}},{key:"leading",get:function(){return(0,Ge.Z)((0,We.Z)(n.prototype),"leading",this)},set:function(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}},{key:"lineJoin",get:function(){return(0,Ge.Z)((0,We.Z)(n.prototype),"lineJoin",this)},set:function(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}}],[{key:"from",value:function(e){return new n(Object.keys(n.defaultOptions).reduce((function(t,n){return(0,I.Z)((0,I.Z)({},t),{},(0,G.Z)({},n,e[n]))}),{}))}}]),n}(et),qt=zt;qt.availableFonts={},qt.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};var $t=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Z)(this,n),(r=t.call(this,a.xE.EMPTY))._text=null,r._style=null,r._autoResolution=!0,r._loading=!1,r.localStyleID=-1,r.dirty=!1,r.ownsStyle=!1;var u=new Image,l=a.xE.from(u,{scaleMode:a.Xd.SCALE_MODE,resourceOptions:{autoLoad:!1}});l.orig=new a.Ae,l.trim=new a.Ae,r.texture=l;var c="http://www.w3.org/2000/svg",h="http://www.w3.org/1999/xhtml",f=document.createElementNS(c,"svg"),d=document.createElementNS(c,"foreignObject"),p=document.createElementNS(h,"div"),v=document.createElementNS(h,"style");return d.setAttribute("width","10000"),d.setAttribute("height","10000"),d.style.overflow="hidden",f.appendChild(d),r.maxWidth=n.defaultMaxWidth,r.maxHeight=n.defaultMaxHeight,r._domElement=p,r._styleElement=v,r._svgRoot=f,r._foreignObject=d,r._foreignObject.appendChild(v),r._foreignObject.appendChild(p),r._image=u,r._loadImage=new Image,r._autoResolution=n.defaultAutoResolution,r._resolution=null!==(e=n.defaultResolution)&&void 0!==e?e:a.Xd.RESOLUTION,r.text=o,r.style=s,r}return(0,r.Z)(n,[{key:"measureText",value:function(e){var t=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e),n=t.text,r=t.style,i=t.resolution;Object.assign(this._domElement,{innerHTML:n,style:r.toCSS(i)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);var a=this._domElement.getBoundingClientRect();this._svgRoot.remove();var o,s,u=Math.min(this.maxWidth,Math.ceil(a.width)),l=Math.min(this.maxHeight,Math.ceil(a.height));(this._svgRoot.setAttribute("width",u.toString()),this._svgRoot.setAttribute("height",l.toString()),n!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style)&&(Object.assign(this._domElement,{style:null===(o=this._style)||void 0===o?void 0:o.toCSS(i)}),this._styleElement.textContent=null===(s=this._style)||void 0===s?void 0:s.toGlobalCSS());return{width:u+2*r.padding,height:l+2*r.padding}}},{key:"updateText",value:function(){var e=(0,$.Z)((0,q.Z)().mark((function e(){var t,n,r,i,a,o,s,u=this,l=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(l.length>0&&void 0!==l[0])||l[0],n=this.style,r=this._image,i=this._loadImage,this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),this.dirty||!t){e.next=5;break}return e.abrupt("return");case 5:if(a=this.measureText(),o=a.width,s=a.height,r.width=i.width=Math.ceil(Math.max(1,o)),r.height=i.height=Math.ceil(Math.max(1,s)),this._loading){e.next=12;break}return this._loading=!0,e.next=12,new Promise((function(e){i.onload=(0,$.Z)((0,q.Z)().mark((function t(){return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.onBeforeDraw();case 2:u._loading=!1,r.src=i.src,i.onload=null,i.src="",u.updateTexture(),e();case 8:case"end":return t.stop()}}),t)})));var t=(new XMLSerializer).serializeToString(u._svgRoot);i.src="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(t))}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"source",get:function(){return this._image}},{key:"updateTexture",value:function(){var e=this.style,t=this.texture,n=this._image,r=this.resolution,i=e.padding,a=t.baseTexture;t.trim.width=t._frame.width=n.width/r,t.trim.height=t._frame.height=n.height/r,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-2*i,t.orig.height=t._frame.height-2*i,this._onTextureUpdate(),a.setRealSize(n.width,n.height,r),this.dirty=!1}},{key:"_render",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),(0,Ge.Z)((0,We.Z)(n.prototype),"_render",this).call(this,e)}},{key:"_renderCanvas",value:function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),(0,Ge.Z)((0,We.Z)(n.prototype),"_renderCanvas",this).call(this,e)}},{key:"getLocalBounds",value:function(e){return this.updateText(!0),(0,Ge.Z)((0,We.Z)(n.prototype),"getLocalBounds",this).call(this,e)}},{key:"_calculateBounds",value:function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}},{key:"_onStyleChange",value:function(){this.dirty=!0}},{key:"destroy",value:function(e){var t,r,i,a;"boolean"===typeof e&&(e={children:e}),e=Object.assign({},n.defaultDestroyOptions,e),(0,Ge.Z)((0,We.Z)(n.prototype),"destroy",this).call(this,e);var o,s=null;this.ownsStyle&&(null===(o=this._style)||void 0===o||o.cleanFonts());this._style=s,null===(t=this._svgRoot)||void 0===t||t.remove(),this._svgRoot=s,null===(r=this._domElement)||void 0===r||r.remove(),this._domElement=s,null===(i=this._foreignObject)||void 0===i||i.remove(),this._foreignObject=s,null===(a=this._styleElement)||void 0===a||a.remove(),this._styleElement=s,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=s,this._image.src="",this._image=s}},{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution},set:function(e){this.updateText(!0);var t=a.P6.sign(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution},set:function(e){this.updateText(!0);var t=a.P6.sign(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){this._style!==e&&((e=e||{})instanceof qt?(this.ownsStyle=!1,this._style=e):e instanceof et?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=qt.from(e)):(this.ownsStyle=!0,this._style=new qt(e)),this.localStyleID=-1,this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(e){e=String(""===e||null===e||void 0===e?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"resolution",get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}},{key:"sanitiseText",value:function(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}}]),n}(s.j),Kt=$t;Kt.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Kt.defaultMaxWidth=2024,Kt.defaultMaxHeight=2024,Kt.defaultAutoResolution=!0},4379:function(e){"use strict";e.exports=JSON.parse('{"name":"@momo-api","apiVersion":64}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},__webpack_require__.d(i,a),i}}(),__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,n){return __webpack_require__.f[n](e,t),t}),[]))},__webpack_require__.u=function(e){return"static/js/"+e+"."+{809:"63fc1bb7",934:"cb27b284"}[e]+".chunk.js"},__webpack_require__.miniCssF=function(e){return"static/css/"+e+".31d6cfe0.chunk.css"},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="momo-game:";__webpack_require__.l=function(n,r,i,a){if(e[n])e[n].push(r);else{var o,s;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var c=u[l];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+i){o=c;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",t+i),o.src=n),e[n]=[r];var h=function(t,r){o.onerror=o.onload=null,clearTimeout(f);var i=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(r)})),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),s&&document.head.appendChild(o)}}}(),__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},__webpack_require__.p="./",function(){if("undefined"!==typeof document){var e=function(e){return new Promise((function(t,n){var r=__webpack_require__.miniCssF(e),i=__webpack_require__.p+r;if(function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(o=n[r]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){var o;if((i=(o=a[r]).getAttribute("data-href"))===e||i===t)return o}}(r,i))return t();!function(e,t,n,r,i){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=function(n){if(a.onerror=a.onload=null,"load"===n.type)r();else{var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=o,u.request=s,a.parentNode&&a.parentNode.removeChild(a),i(u)}},a.href=t,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a)}(e,i,null,t,n)}))},t={179:0};__webpack_require__.f.miniCss=function(n,r){t[n]?r.push(t[n]):0!==t[n]&&{809:1}[n]&&r.push(t[n]=e(n).then((function(){t[n]=0}),(function(e){throw delete t[n],e})))}}}(),function(){var e={179:0};__webpack_require__.f.j=function(t,n){var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var a=__webpack_require__.p+__webpack_require__.u(t),o=new Error;__webpack_require__.l(a,(function(n){if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,r[1](o)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,a=n[0],o=n[1],s=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in o)__webpack_require__.o(o,r)&&(__webpack_require__.m[r]=o[r]);if(s)s(__webpack_require__)}for(t&&t(n);u<a.length;u++)i=a[u],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkmomo_game=self.webpackChunkmomo_game||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),__webpack_require__.nc=void 0;var __webpack_exports__={};!function(){"use strict";var e=__webpack_require__(7313),t=__webpack_require__(1739),n=__webpack_require__(5554),r=__webpack_require__(3231),i=__webpack_require__(4165),a=__webpack_require__(5861),o=__webpack_require__(5671),s=__webpack_require__(3144),u=__webpack_require__(2749),l=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,[{key:"load",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.add("iCielUniSans","https://img.mservice.com.vn/app/img/gamihub/doremi_shooter/fonts/UniSansHeavy.ttf"),this.add("SFProText","https://img.mservice.com.vn/app/img/minigames/lacxi2023/fonts/SF-Pro-Text-Regular.ttf");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){var r,a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.P.cacheFile(n);case 2:r=e.sent,(a=document.createElement("style")).appendChild(document.createTextNode("\n        @font-face {\n            font-family: ".concat(t,';\n            src: url("').concat(r,'");\n        }'))),document.head.appendChild(a),(o=document.createElement("div")).innerText="test",o.style.fontFamily=t,o.className="fontDiv",document.body.appendChild(o);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),c=new l,h=__webpack_require__(6417),f=e.lazy((function(){return Promise.all([__webpack_require__.e(934),__webpack_require__.e(809)]).then(__webpack_require__.bind(__webpack_require__,809))})),d=document.getElementById("root"),p=(0,t.s)(d);c.load(),p.render((0,h.jsx)(n.zt,{store:r.Z,children:(0,h.jsx)(e.Suspense,{children:(0,h.jsx)(f,{})})}))}()})();