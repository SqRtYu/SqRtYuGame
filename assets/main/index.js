System.register("chunks:///_virtual/a-protobuf.ts",["cc","./index.mjs_cjs=&original=.js","./index.js"],(function(){"use strict";var t,n;return{setters:[function(n){t=n.cclegacy},null,function(t){n=t.default}],execute:function(){t._RF.push({},"55100wlTAVGGaIFArbn+z6n","a-protobuf",void 0),window.protobuf=n,t._RF.pop()}}}));

System.register("chunks:///_virtual/Api.ts",["cc"],(function(e){"use strict";var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){e({WSCmd:void 0,WSGameCmd:void 0}),i._RF.push({},"6478a4A+/ZPo5+fjQN0Ek1S","Api",void 0);var o=e("Api",(function(){}));o.DEBUG_TOKEN="0362984381",o.IS_DEV=!0,o.VERSION="0.0.1",o.DEV_HOST="https://m.dev.mservice.io/",o.PROD_HOST="https://m.mservice.io/",o.HOST=o.IS_DEV?o.DEV_HOST:o.PROD_HOST,o.GAME_CONFIG="magelife-profile/v1/global-config",o.DEEP_LINK="deeplink-universal/v1/content-dynamic",o.ERROR_REPORT="xpyxis-metrics/api/v1/failure",o.FPS_REPORT="xpyxis-metrics/api/v1/fps",o.LATENCY_REPORT="xpyxis-metrics/api/v1/latency";var t,n,r=e("SocketDefine",(function(){}));r.SERVER_NAME="boat",r.lostConnectionTime=3e4,r.URL_STAGING="wss://realtime.mservice.io/phoenix-krun-connector",r.URL_DEV="wss://realtime.dev.mservice.io/phoenix-krun-connector/connector",r.HOST_SOCKET=o.IS_DEV?r.URL_DEV:r.URL_STAGING,function(e){e.MsgPing="MsgPing",e.ReqWorker="ReqWorker",e.ResWorker="ResWorker",e.ResVerify="ResVerify",e.ReqVerify="ReqVerify",e.BoatMsg="BoatMsg"}(t||(t=e("WSCmd",{}))),function(e){e.BoatMsg="BoatMsg"}(n||(n=e("WSGameCmd",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/ApiMock.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"f6032IoNbNDmaE5dpKfBrwy","ApiMock",void 0);var c=e("ApiMock",(function(){}));c.deviceInfo={instanceID:"FTWJFBDPQMYDQFAJB5VOPB",totalStorage:107209,totalRam:5584,countryCode:"084",devicePerformance:"high-end",bundleId:"vn.momo.platform.test",isEmulator:"false",BSSID:"02:00:00:00:00:00",deviceMCC:"452",firebaseToken:"ftwjFbDPQMydqfAjB5vOpb:APA91bF_DVNBUdmVH9JXcp9aGlZZMF2eVmvqj_5ksm7KRenkvSsRYGbTJRvdWjOR_I35rcQvZuuCUhdDDq0xwG3Rks_5taONd_x5vZVw9D15ceeRT87gXEMxqk3aGpeRiEc2GwqyNFpN",googlePlayServicesAvailable:!0,deviceSecureId:"230c8f27a54b97de",buildVersion:31040,deviceModelName:"Z818L",isDev:"true",deviceName:"Z818L",deviceManufacturer:"Xiaomi",AAID:"461b635f-1f94-4dea-90a0-cd04e3f6f2c9",deviceHardwareVersion:"qcom",appVersion:"3.1.4-debug",IDFA:"",deviceSoftwareVersion:"30",deviceNetworkOperatorName:"Viettel",icc:"",deviceImei:"20aef116-ae34-41be-abf3-fcb58da6c12d",countryName:"Vietnam",freeStorage:63899,deviceModelID:"xiaomi m2101k7agqcomnull"},c.APP_CONFIG={feature:{featureID:"p2p",params:{featureCode:"p2p",refId:"screen_main_menu",useCloud:!1}}},c.GAME_CONFIG={response_info:{error_message:"success",error_code:0,event_tracking:"v1_get_global_config"},result:{cdnURL:"https://cdn-test.momoapp.vn/game/tiles/v220601"}},a._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts"],(function(o){"use strict";var t,n,e,i,r,u,s,a,c;return{setters:[function(o){t=o.inheritsLoose,n=o.asyncToGenerator,e=o.regeneratorRuntime},function(o){i=o.cclegacy,r=o._decorator,u=o.AudioSource,s=o.Component,a=o.assetManager},function(o){c=o.default}],execute:function(){var S;o("SoundEvent",void 0),i._RF.push({},"9dd765fsdpBTYPuaYbGlpDj","AudioMgr",void 0);var p,d=r.ccclass;r.property;!function(o){o.PLAY_SOUND="PLAY_SOUND",o.PLAY_MUSIC="PLAY_MUSIC",o.STOP_SOUND="STOP_SOUND",o.PLAY_SINGLE_SOUND_LOOP="PLAY_SINGLE_SOUND_LOOP",o.STOP_SINGLE_SOUND_LOOP="STOP_SINGLE_SOUND_LOOP"}(p||(p=o("SoundEvent",{})));o("AudioMgr",d("AudioMgr")(S=function(o){function i(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this).audioClips=null,t.audioSourceSfx=null,t.audioSourceSfxLoop=null,t.audioSourceBg=null,t.cdnUrl="https://img.mservice.com.vn/app/img/Gamification/cocos/template2d/sounds/",t}t(i,o);var r=i.prototype;return r.onLoad=function(){this.init(),c.on(p.PLAY_SOUND,this.onPlaySingleSound,this),c.on(p.PLAY_MUSIC,this.onPlayBgMusic,this),c.on(p.STOP_SOUND,this.onStop,this),c.off(p.PLAY_SINGLE_SOUND_LOOP,this.onPlaySingleSoundLoop,this),c.off(p.STOP_SINGLE_SOUND_LOOP,this.onStopSingleSoundLoop,this)},r.init=function(){this.audioClips=new Map,this.audioSourceSfx=this.node.addComponent(u),this.audioSourceSfxLoop=this.node.addComponent(u),this.audioSourceSfxLoop.loop=!0,this.audioSourceSfxLoop.playOnAwake=!1,this.audioSourceBg=this.node.addComponent(u),this.audioSourceBg.loop=!0,this.audioSourceBg.playOnAwake=!1},r.onDestroy=function(){c.off(p.PLAY_SOUND,this.onPlaySingleSound,this),c.off(p.PLAY_MUSIC,this.onPlayBgMusic,this),c.off(p.STOP_SOUND,this.onStop,this),c.off(p.PLAY_SINGLE_SOUND_LOOP,this.onPlaySingleSoundLoop,this),c.off(p.STOP_SINGLE_SOUND_LOOP,this.onStopSingleSoundLoop,this)},r.load=function(){var o=n(e().mark((function o(t){var n=this;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",new Promise((function(o,e){a.loadRemote(n.cdnUrl+t+".mp3",(function(e,i){i&&n.audioClips.set(t,i),o(i)}))})));case 1:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}(),r.getSound=function(){var o=n(e().mark((function o(t){var n;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(n=this.audioClips.get(t))){o.next=5;break}o.t0=n,o.next=8;break;case 5:return o.next=7,this.load(t);case 7:o.t0=o.sent;case 8:return o.abrupt("return",o.t0);case 9:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),r.onPlayBgMusic=function(){var o=n(e().mark((function o(t){var n;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getSound(t);case 2:if(n=o.sent){o.next=5;break}return o.abrupt("return");case 5:this.audioSourceBg.stop(),this.audioSourceBg.clip=n,this.audioSourceBg.play();case 8:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),r.onPlaySingleSound=function(){var o=n(e().mark((function o(t){var n;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getSound(t);case 2:if(n=o.sent){o.next=5;break}return o.abrupt("return");case 5:this.audioSourceSfx.playOneShot(n);case 6:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),r.onPlaySingleSoundLoop=function(){var o=n(e().mark((function o(t){var n;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getSound(t);case 2:if(n=o.sent){o.next=5;break}return o.abrupt("return");case 5:this.audioSourceSfxLoop.stop(),this.audioSourceSfxLoop.clip=n,this.audioSourceSfxLoop.play();case 8:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),r.onStop=function(){this.audioSourceSfx.stop(),this.audioSourceBg.stop(),this.audioSourceSfxLoop.stop()},r.onStopSingleSoundLoop=function(){this.audioSourceSfxLoop.stop()},i}(s))||S);i._RF.pop()}}}));

System.register("chunks:///_virtual/Boat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalDefine.ts","./Utils.ts","./GameDefine.ts","./GamePlay.ts","./Player.ts"],(function(e){"use strict";var t,i,n,s,o,a,r,l,p,h,u,c,d,f,y,b,v,m,P,M,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,r=e._decorator,l=e.Prefab,p=e.Node,h=e.Sprite,u=e.SpriteFrame,c=e.ParticleSystem2D,d=e.instantiate,f=e.tween,y=e.Vec3,b=e.Component},function(e){v=e.globalDefine},function(e){m=e.utils},function(e){P=e.GameDefine},function(e){M=e.GamePlay},function(e){w=e.Player}],execute:function(){var g,S,B,C,F,_,R,x,E,I,D,z,G;a._RF.push({},"d869cf/nVxEC60KVJESQSac","Boat",void 0);var A=r.ccclass,T=r.property;e("Boat",(g=A("Boat"),S=T(l),B=T(p),C=T(h),F=T(u),_=T(c),g((E=t((x=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"playerPrefab",E,s(t)),n(t,"playerContainer",I,s(t)),n(t,"boatSprite",D,s(t)),n(t,"boatSpriteFrames",z,s(t)),n(t,"ripple",G,s(t)),t.id=void 0,t.x=void 0,t.position=0,t.playerIds=[],t.isMainBoat=!1,t.tweenMove=null,t._speed=0,t}i(t,e);var a=t.prototype;return a.setInfo=function(e,t){var i=this;this.id=e.bid,this.node.name=this.id,this.x=P.BOAT_X[t],this.node.setPosition(this.x,0),this.speed=0,e.players.forEach((function(e){i.addPlayer(e,t)})),this.boatSprite.spriteFrame=this.boatSpriteFrames[t]},a.addPlayer=function(e,t){var i=this,n=d(this.playerPrefab);n.setParent(this.playerContainer),n.getComponent(w).setInfo(e,this.playerIds.length,t),this.playerIds.push(e.uid),e.uid==v.profile.userId&&(this.isMainBoat=!0,this.node.setPosition(this.x,-460),M.instance.setCameraTarget(this.node),this.speed=1,this.tweenMove=f(this.node).to(4,{position:new y(this.x,0,0)}).call((function(){i.tweenMove=null,i.speed=0})).start())},a.setRippleSpeed=function(){0!=this.speed?(this.ripple.node.active=!0,this.ripple.emissionRate=9*this.speed):this.ripple.node.active=!1},a.netUpdate=function(e){var t=this;this.isMainBoat&&e.isFinish&&M.instance.onMainBoatFinish(),this.isMainBoat&&e.isOverFinish&&M.instance.onMainBoatOverFinish(),this.speed=e.speed,this.setPosition(e.position),e.players.forEach((function(e){var i=t.playerContainer.getChildByName(e.uid);i&&i.getComponent(w).netUpdate(e)}))},a.setPosition=function(e){var t=this;this.position!=e&&(this.position=e,this.tweenMove&&(this.tweenMove.stop(),this.tweenMove=null),this.tweenMove=f(this.node).to(P.SERVER_TIME_PER_FRAME,{position:new y(this.x,this.position,0)}).call((function(){t.tweenMove=null})).start())},a.onReset=function(){this.speed=0,this.position=0,this.playerIds=[],this.isMainBoat=!1,this.node.setPosition(this.x,0),m.destroyAllChild(this.playerContainer)},o(t,[{key:"speed",get:function(){return this._speed},set:function(e){this._speed=e,this.setRippleSpeed()}}]),t}(b)).prototype,"playerPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(x.prototype,"playerContainer",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(x.prototype,"boatSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(x.prototype,"boatSpriteFrames",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(x.prototype,"ripple",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=x))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/CameraController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./GameDefine.ts"],(function(t){"use strict";var e,r,i,o,n,a,s,c,l,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.Camera,c=t.Vec3,l=t.Component},function(t){u=t.GameMgr},function(t){h=t.GameDefine}],execute:function(){var f,p,g,m,C;n._RF.push({},"70149IDCRJBv4ZjY1XeKQL6","CameraController",void 0);var y=a.ccclass,d=a.property;t("CameraController",(f=y("CameraController"),p=d(s),f((C=e((m=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,i(e,"camera",C,o(e)),e.target=null,e}r(e,t);var n=e.prototype;return n.start=function(){this.camera.orthoHeight=u.instance.uiCamera.orthoHeight},n.setTarget=function(t){this.target=t},n.update=function(t){this.followTarget(t)},n.followTarget=function(t){if(this.target&&this.target.position.y>this.camera.orthoHeight-h.BOAT_SIZE_HAFT){var e=new c(this.node.position.x,this.target.position.y-(this.camera.orthoHeight-h.BOAT_SIZE_HAFT),1e3);this.node.setPosition(e)}},n.onReset=function(){this.target=null,this.node.setPosition(0,0)},e}(l)).prototype,"camera",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/CornerStone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MaxApiUtils.ts","./GlobalDefine.ts","./Api.ts","./NetworkMgr.ts","./CSDefine.ts"],(function(e){"use strict";var t,n,r,i,o,a,s,c,u,l,p,f,h,b,d,v,g,y,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){c=e.cclegacy,u=e._decorator,l=e.Enum,p=e.Node,f=e.Component},function(e){h=e.maxApiUtils,b=e.MaxApiName},function(e){d=e.globalDefine},function(e){v=e.Api},function(e){g=e.networkMgr},function(e){y=e.CSName,m=e.CSType}],execute:function(){var k,S,C,w,x,D,q,R,A,T,I;c._RF.push({},"5dc4fRCtGlL6oGdK2x5bqj1","CornerStone",void 0);var _=u.ccclass,H=u.property;e("CornerStone",(k=_("CornerStone"),S=H({type:l(y)}),C=H({type:l(m)}),w=H(Boolean),x=H(p),k((R=t((q=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"refID",R,i(t)),r(t,"type",A,i(t)),r(t,"autoStart",T,i(t)),r(t,"container",I,i(t)),t.appCode="spiner-mega",t.url="hermes-cornerstone-api/v1/get",t.urlTracking="hermes-cornerstone-track/v1/tracking",t.isAvailable=!1,t.clickable=!0,t}n(t,e);var c=t.prototype;return c.start=function(){this.autoStart&&this.fetch(this.refID)},c.fetch=function(){var e=o(a().mark((function e(t){var n,r,i,o,c,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=null),this.refID=t||this.refID,this.container&&(this.container.active=!1),e.next=5,this.request(this.url,"POST",{ref_id:y[this.refID]});case 5:if(n=e.sent,console.log("[ConnerStone] "+this.appCode+" "+y[this.refID]+" response: ",n),!n||!n.blocks){e.next=24;break}r=s(n.blocks);case 9:if((i=r()).done){e.next=24;break}o=i.value,c=s(o.zones);case 12:if((u=c()).done){e.next=20;break}if(-1==(l=u.value).type.indexOf(m[this.type])){e.next=18;break}return this.init(l),this.isAvailable=!0,e.abrupt("break",20);case 18:e.next=12;break;case 20:if(!this.isAvailable){e.next=22;break}return e.abrupt("break",24);case 22:e.next=9;break;case 24:this.container&&(this.container.active=!0),this.node.active=this.isAvailable;case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.getRatio=function(e){switch(e){case m.carousel_banner:return.5;case m.thin_banner:return 114/343}},c.init=function(e){},c.refresh=function(){this.isAvailable||this.fetch(this.refID)},c.sendTracking=function(e,t){var n={action:e,data:t};g.postRequest(this.urlTracking,n)},c.openURL=function(e){h.request(b.openWeb,{url:e})},c.filterUrl=function(e){return e.replace("img.mservice.io","atc-edge03.mservice.com.vn")},c.request=function(e,t,n){var r=this;return h.isBrowser?new Promise((function(i,o){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status){var e=JSON.parse(a.response);i(e)}else i(null)},a.open(t,v.HOST+e),a.setRequestHeader("Authorization","Bearer "+d.profile.userToken),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("app_version",d.buildVersion.toString()),a.setRequestHeader("app_code",r.appCode),a.setRequestHeader("device_os",d.osPlatform),a.timeout=3e3,a.send(n?JSON.stringify(n):null)})):"GET"==t?new Promise((function(t,n){h.request(b.getCloudMessage,{path:e}).then((function(e){t(e.response)}))})):"POST"==t?new Promise((function(t,r){h.request(b.sendCloudMessage,{path:e,body:n}).then((function(e){t(e.response)}))})):void 0},t}(f)).prototype,"refID",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(q.prototype,"type",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(q.prototype,"autoStart",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=t(q.prototype,"container",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=q))||D));c._RF.pop()}}}));

System.register("chunks:///_virtual/CornerStoneBanner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ImageCache.ts","./CornerStone.ts"],(function(t){"use strict";var e,n,r,i,o,s,c,a,l,h,u,d,f,p;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,r=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator,c=t.ScrollView,a=t.UITransform,l=t.log,h=t.instantiate,u=t.Node,d=t.Sprite},function(t){f=t.default},function(t){p=t.CornerStone}],execute:function(){var m;o._RF.push({},"ea30cefRcdKOZ+eLiWQEv00","CornerStoneBanner",void 0);var v=s.ccclass;s.property,t("CornerStoneBanner",v("CornerStoneBanner")(m=function(t){function o(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).defaultItem=null,e.scrollView=null,e.currentItem=0,e.dataList=[],e.saveNode=[],e}e(o,t);var s=o.prototype;return s.start=function(){t.prototype.start.call(this),this.scrollView=this.getComponentInChildren(c),this.defaultItem=this.scrollView.content.getChildByName("default"),this.defaultItem.getComponent(a).width=this.scrollView.view.width,this.defaultItem.getComponent(a).height=this.scrollView.view.height,this.scrollView.content.removeAllChildren(),this.dataList=[]},s.init=function(t){var e=this;if(this.dataList=[],this.scrollView.content.children.forEach((function(t){e.saveNode.push(t)})),this.scrollView.content.removeAllChildren(),t&&t.data){for(var r,i=n(t.data);!(r=i()).done;){var o=r.value;o&&(this.dataList.push(o),this.add(o))}this.currentItem=-1,this.schedule(this.nextBanner,5)}},s.add=function(){var t=r(i().mark((function t(e){var n,r=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.saveNode.pop()||h(this.defaultItem),this.sendTracking("impression",e.tracking.impression),n.on(u.EventType.TOUCH_END,(function(){r.sendTracking("click",e.tracking.click),r.openURL(e.refId),l("[ConnerStoneBanner] click",e.refId)}),this),n.setParent(this.scrollView.content),f.bindSprite(n.getComponent(d),e.image);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.nextBanner=function(){this.currentItem=(this.currentItem+1)%this.scrollView.content.children.length;var t=this.scrollView.content.children[this.currentItem];t.active=!0;var e=t.getComponent(a).width,n=this.scrollView.getScrollOffset();n.x+=t.position.x+e/2,this.scrollView.horizontal=!0,this.scrollView.scrollToOffset(n,.5),l("[ConnerStoneBanner] nextBanner",this.currentItem,n)},s.onscroll=function(t,e){switch(e){case 9:this.scrollView.horizontal=!1}},o}(p))||m);o._RF.pop()}}}));

System.register("chunks:///_virtual/CSDefine.ts",["cc"],(function(_){"use strict";var o;return{setters:[function(_){o=_.cclegacy}],execute:function(){var e,h;_({CSName:void 0,CSType:void 0}),o._RF.push({},"7f6e0GPevdA66tTesJA8udB","CSDefine",void 0),function(_){_[_.carousel_banner=0]="carousel_banner",_[_.thin_banner=1]="thin_banner",_[_.popup=2]="popup",_[_.video=3]="video"}(e||(e=_("CSType",{}))),function(_){_[_.momo_phache_home=0]="momo_phache_home",_[_.momo_phache_Watch_video_vid=1]="momo_phache_Watch_video_vid",_[_.momo_phache_QR_W2B_vid=2]="momo_phache_QR_W2B_vid",_[_.momo_phache_OCR_W2B_vid=3]="momo_phache_OCR_W2B_vid",_[_.momo_phache_Copy_transfer_vid=4]="momo_phache_Copy_transfer_vid",_[_.momo_phache_Save_bank_account_vid=5]="momo_phache_Save_bank_account_vid",_[_.momophache_home_popup=6]="momophache_home_popup"}(h||(h=_("CSName",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/CSMockup.ts",["cc"],(function(c){"use strict";var l;return{setters:[function(c){l=c.cclegacy}],execute:function(){l._RF.push({},"a9316FPkbdL66Y5IhJFzoWu","CSMockup",void 0);var I=c("CSMockup",(function(){}));I.CSResponse={response_info:{error_code:0,error_message:"success",event_tracking:"user_get_comm_in_app",event_tracking_params:{ref_id:"global_2",service_id:"",tag:"global"}},blocks:[{layout:"VERTICAL",zones:[{type:"carousel_banner",title:"",isCapsLockTitle:!1,data:[{ad_label:"",image:"https://img.mservice.com.vn/app/img/investment/popup_referral_step2.jpeg",refId:"ins_referral",caption:"Mời bạn mua bảo hiểm sức khỏe ",body:"Nhận ngay 1 tỷ về Túi Thần Tài",cta_button:"Mời bạn ngay",params:{},tracking:{impression:"Cg9jYXJvdXNlbF9iYW5uZXIiEQoFc3RhZ2USCGdsb2JhbF8yIhMKDnBvc2l0aW9uX2Jsb2NrEgExIhIKDXBvc2l0aW9uX3pvbmUSATEiDgoKc2VydmljZV9pZBIAIjMKC2NhbXBhaWduX2lkEiRhODQ3ZWRmMS03MzY4LTQ3MjItYmUyNC1hOWY4YjBiOTgyNGQiKgoNY2FtcGFpZ25fbmFtZRIZMjIwNjIyX0NCX0dhbWVvbmVfTmhpdGVzdCIwCghhc3NldF9pZBIkM2Y4ZDU4MDktZTQ3Ni00NjNiLTk1NmUtOGIzOTY4N2VhYjhjIiwKBHR5cGUSJDNmOGQ1ODA5LWU0NzYtNDYzYi05NTZlLThiMzk2ODdlYWI4YyIWCgxmb3JtYXRfZ3JvdXASBkJBTk5FUiIWCghlbmRfdGltZRIKMTY1NjAwMzYwMCIKCgVsZXZlbBIBNiIeCg1zZXJ2aWNlX2dyb3VwEg1lbnRlcnRhaW5tZW50IhAKDHNlcnZpY2VfdHlwZRIAIhcKDmlzX2V4dGVybmFsX2FkEgVmYWxzZSIfChZpc19mb3J3YXJkZWRfcHJvbW90aW9uEgVmYWxzZSIRCg1wcm9tb3Rpb25fa2V5EgAiGgoLYWRfcHJvdmlkZXISC2Nvcm5lcnN0b25lIkAKCnJlcXVlc3RfaWQSMjE2NTU5ODI3NDU2MDUtOTc3YjQyOTUtOTVmMC00ZGQzLTkxNzAtYWFhNzE4NzcyZGM2IgkKBHNsb3QSATAqFAoLYXBwX3ZlcnNpb24SBTMxMDQwKhcKCGFwcF9jb2RlEgtzcGluZXItbWVnYSoUCglkZXZpY2Vfb3MSB2Jyb3dzZXIqFQoIYWdlbnRfaWQSCTk3MzY2ODE1MCoUCgZ1c2VySUQSCjA5NzM2NjgxNTA=",click:"Cg9jYXJvdXNlbF9iYW5uZXIiEQoFc3RhZ2USCGdsb2JhbF8yIhMKDnBvc2l0aW9uX2Jsb2NrEgExIhIKDXBvc2l0aW9uX3pvbmUSATEiDgoKc2VydmljZV9pZBIAIjMKC2NhbXBhaWduX2lkEiRhODQ3ZWRmMS03MzY4LTQ3MjItYmUyNC1hOWY4YjBiOTgyNGQiKgoNY2FtcGFpZ25fbmFtZRIZMjIwNjIyX0NCX0dhbWVvbmVfTmhpdGVzdCIwCghhc3NldF9pZBIkM2Y4ZDU4MDktZTQ3Ni00NjNiLTk1NmUtOGIzOTY4N2VhYjhjIiwKBHR5cGUSJDNmOGQ1ODA5LWU0NzYtNDYzYi05NTZlLThiMzk2ODdlYWI4YyIWCgxmb3JtYXRfZ3JvdXASBkJBTk5FUiIWCghlbmRfdGltZRIKMTY1NjAwMzYwMCIKCgVsZXZlbBIBNiIeCg1zZXJ2aWNlX2dyb3VwEg1lbnRlcnRhaW5tZW50IhAKDHNlcnZpY2VfdHlwZRIAIhcKDmlzX2V4dGVybmFsX2FkEgVmYWxzZSIfChZpc19mb3J3YXJkZWRfcHJvbW90aW9uEgVmYWxzZSIRCg1wcm9tb3Rpb25fa2V5EgAiGgoLYWRfcHJvdmlkZXISC2Nvcm5lcnN0b25lIkAKCnJlcXVlc3RfaWQSMjE2NTU5ODI3NDU2MDUtOTc3YjQyOTUtOTVmMC00ZGQzLTkxNzAtYWFhNzE4NzcyZGM2IgkKBHNsb3QSATAqFAoLYXBwX3ZlcnNpb24SBTMxMDQwKhcKCGFwcF9jb2RlEgtzcGluZXItbWVnYSoUCglkZXZpY2Vfb3MSB2Jyb3dzZXIqFQoIYWdlbnRfaWQSCTk3MzY2ODE1MCoUCgZ1c2VySUQSCjA5NzM2NjgxNTA=",utm:"Cg9jYXJvdXNlbF9iYW5uZXIiHgoNc2VydmljZV9ncm91cBINZW50ZXJ0YWlubWVudCIQCgxzZXJ2aWNlX3R5cGUSADIUCgp1dG1fc291cmNlEgZIZXJtZXMyFAoKdXRtX21lZGl1bRIGYmFubmVyMikKDHV0bV9jYW1wYWlnbhIZMjIwNjIyX0NCX0dhbWVvbmVfTmhpdGVzdDIgCgh1dG1fdGVybRIUR2FtZV9HQU1FT05FX0xpc3RpbmcyJwoLdXRtX2NvbnRlbnQSGDIyMDUxMl9jYXJvdXNlbF9tYXhza19tcA=="},third_party_tracking:{impression:"",click:""}}]}]},{layout:"VERTICAL",zones:[]}]},I.CSZone=I.CSResponse.blocks[0].zones[0],I.CSZoneData=I.CSZone.data[0],l._RF.pop()}}}));

System.register("chunks:///_virtual/define.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var o,t,i,p,a,u,r,s;e({EventName:void 0,MaxAPIEvent:void 0,PopupEvent:void 0,PopupName:void 0,ScreenName:void 0,SoundName:void 0,TouchState:void 0,UiEvent:void 0}),n._RF.push({},"d0ac71YsqJMyZhRJeN3Hvkz","define",void 0),function(e){e.GamePlay="GamePlay"}(o||(o=e("ScreenName",{}))),t||(t=e("PopupName",{})),function(e){e.Bgm="bgm",e.Reward="gift_show",e.Click="button_tap"}(i||(i=e("SoundName",{}))),function(e){e.Spin="game-spin",e.OnSpinStart="game-on-spin-start",e.OnSpinFinish="game-on-spin-finish",e.CaptureScreenShoot="game-capture-screen-shoot",e.fpsReport="fps-report",e.onPing="on-ping",e.onReset="on-reset",e.onReward="on-reward"}(p||(p=e("EventName",{}))),function(e){e.ActiveSpinButton="active-spin-button",e.ShowPopupReward="show-popup-reward"}(a||(a=e("UiEvent",{}))),function(e){e.Load="popup-load",e.Show="popup-show",e.Hide="popup-hide",e.HideAll="popup-hide-all"}(u||(u=e("PopupEvent",{}))),function(e){e.request="maxapi-request"}(r||(r=e("MaxAPIEvent",{}))),function(e){e[e.None=0]="None",e[e.Down=1]="Down",e[e.Press=2]="Press",e[e.Up=3]="Up"}(s||(s=e("TouchState",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/Duckweed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GamePlay.ts"],(function(e){"use strict";var t,n,i,r,a,o,l,c,s,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,c=e.math,s=e.tween,p=e.Component},function(e){u=e.GamePlay}],execute:function(){var d,h,m,g,f,v,y,w;a._RF.push({},"7c5aaadldRIRL9T6DeV4T3C","Duckweed",void 0);var D=o.ccclass,R=o.property;e("Duckweed",(d=D("Duckweed"),h=R(l),m=R(l),d(((w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"ripple",v,r(t)),i(t,"model",y,r(t)),t.direction=1,t}n(t,e);var a=t.prototype;return a.start=function(){this.node.angle=c.randomRangeInt(0,360);var e=c.randomRange(.4,.7);this.node.setScale(e,e),this.move()},a.update=function(){var e=u.instance.gamePlayCamera.node.position.y,t=e+2*u.instance.gamePlayCamera.camera.orthoHeight;this.node.position.y<e-300||this.node.position.y>t+300?(this.model.active=!1,this.ripple.active=!1):(this.model.active=!0,this.ripple.active=!0)},a.move=function(){var e=this;this.ripple.angle=t.ripleAngle[c.randomRangeInt(0,t.ripleAngle.length)],s(this.node).to(1.5,{angle:this.node.angle+this.direction*c.randomRangeInt(10,20)}).call((function(){e.direction*=-1,e.move()})).start()},t}(p)).ripleAngle=[-100,-200],v=t((f=w).prototype,"ripple",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(f.prototype,"model",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=f))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/EndGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./define.ts","./PlayerEndGameGroup.ts"],(function(e){"use strict";var n,t,r,o,i,u,a,l,p,c,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,u=e._decorator,a=e.Node,l=e.Component},function(e){p=e.default},function(e){c=e.EventName},function(e){s=e.PlayerEndGameGroup}],execute:function(){var f,y,G,b,m,d,h,v,g,C,E;i._RF.push({},"bb35cB+onxO2azMOoGijRdK","EndGame",void 0);var z=u.ccclass,w=u.property;e("EndGame",(f=z("EndGame"),y=w(a),G=w(a),b=w(a),m=w(a),f((v=n((h=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];return n=e.call.apply(e,[this].concat(i))||this,r(n,"playerGroup1",v,o(n)),r(n,"playerGroup2",g,o(n)),r(n,"playerGroup3",C,o(n)),r(n,"btnContinue",E,o(n)),n}t(n,e);var i=n.prototype;return i.start=function(){this.btnContinue.on(a.EventType.TOUCH_END,this.onButtonContinueClick,this)},i.onButtonContinueClick=function(){p.emit(c.onReward)},i.setInfo=function(e){for(var n=0;n<e.length;n++){var t=e[n],r=void 0;0==n?r=this.playerGroup1.getComponent(s):1==n?r=this.playerGroup2.getComponent(s):2==n&&(r=this.playerGroup3.getComponent(s)),r.setInfo(t)}},n}(l)).prototype,"playerGroup1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(h.prototype,"playerGroup2",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(h.prototype,"playerGroup3",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(h.prototype,"btnContinue",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/Fluxay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,a,n,o,s,l,c,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,s=t.CCFloat,l=t.Material,c=t.Sprite,p=t.tween,u=t.Component}],execute:function(){var m,y,h,f,d;n._RF.push({},"819518WMadLLqdAR3Hj9//0","Fluxay",void 0);var g=o.ccclass,v=o.property;t("Fluxay",(m=g("Fluxay"),y=v(s),m((d=e((f=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,r(e,"speed",d,a(e)),e.material=null,e.time=0,e}return i(e,t),e.prototype.start=function(){var t=this;this.material=new l,this.material.copy(this.getComponent(c).material),this.getComponent(c).material=this.material,p({time:0}).set({time:0}).to(5/this.speed,{time:1},{onUpdate:function(e,i){t.material.setProperty("time",e.time)},easing:"linear"}).union().repeatForever().start()},e}(u)).prototype,"speed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),h=f))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameApi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MaxApiUtils.ts","./GlobalDefine.ts","./Api.ts","./NetworkMgr.ts"],(function(e){"use strict";var t,r,n,o,i,s,a,u;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy,o=e.log},function(e){i=e.maxApiUtils},function(e){s=e.globalDefine},function(e){a=e.Api},function(e){u=e.networkMgr}],execute:function(){n._RF.push({},"ba4b7JbNotHybnbVqsYJgFq","GameApi",void 0);e("gameApi",new(function(){function e(){}var n=e.prototype;return n.getGameConfig=function(){var e=t(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.getRequest(a.GAME_CONFIG));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.genDeepLink=function(){var e=t(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){u.postRequest(a.DEEP_LINK,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.error=function(e,t,r){if(!i.isBrowser){var n={gameId:s.featureID,appVersion:""+s.buildVersion,osVersion:"",deviceModel:s.deviceModelName,osPlatform:s.osPlatform,screenId:screen,errorCode:t+"#"+r,extra:"",timestamp:Date.now(),value:1};u.postRequest(a.ERROR_REPORT,n).then((function(e){o("[REPORT ERROR] result: ",e,n)}))}},n.fps=function(e,t){if(!i.isBrowser){var r={gameId:s.featureID,appVersion:""+s.buildVersion,osVersion:"",deviceModel:s.deviceModelName,osPlatform:s.osPlatform,screenId:e,errorCode:e,extra:"",timestamp:Date.now(),value:Math.round(t)};u.postRequest(a.FPS_REPORT,r).then((function(e){o("[REPORT FPS] result: ",e,r)}))}},n.latencyReport=function(e,t,r){if(!i.isBrowser){var n={gameId:s.featureID,appVersion:""+s.buildVersion,osVersion:"",deviceModel:s.deviceModelName,osPlatform:s.osPlatform,screenId:e,errorCode:t,extra:"",timestamp:Date.now(),value:r/1e3};u.postRequest(a.LATENCY_REPORT,n).then((function(e){o("[REPORT LATENCY] result: ",e,n)}))}},e}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameDefine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,E,_;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,E=e._decorator,_=e.Component}],execute:function(){var i,r;t._RF.push({},"cb331gS3flPeLrry60O5nSZ","GameDefine",void 0);var c=E.ccclass;E.property,e("GameDefine",c("GameDefine")(((r=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var E=t.prototype;return E.start=function(){t.instance=this},E.setGameDefine=function(e){t.MAP_LENGTH=e.mapLength,t.BOAT_SIZE=e.boatSize,t.BOAT_SIZE_HAFT=.5*t.BOAT_SIZE,t.SERVER_TIME_PER_FRAME=e.timePerFrame/1e3,t.PERFECT_TIME_RANGE=e.perfectTimeRange,t.COOL_TIME_RANGE=e.coolTimeRange},t}(_)).instance=null,r.MAP_LENGTH=1e4,r.BOAT_X=[-250,0,250],r.BOAT_SIZE=300,r.BOAT_SIZE_HAFT=.5*r.BOAT_SIZE,r.PLAYER_Y=[275,185,100],r.SERVER_TIME_PER_FRAME=.125,r.TIME_PICKER_PHASE_LONG=5e3,r.TIME_PICKER_PHASE_RANGE=600,r.PERFECT_TIME_RANGE=50,r.COOL_TIME_RANGE=100,i=r))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvent.ts",["cc"],(function(e){"use strict";var t,c;return{setters:[function(e){t=e.cclegacy,c=e.EventTarget}],execute:function(){t._RF.push({},"cf67fV7rxVL5IrLlgHmZ3Xi","GameEvent",void 0);e("default",new c);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalDefine.ts","./MaxApiUtils.ts","./TrimBase64.ts","./PopupMgr.ts","./ScreenMgr.ts","./define.ts","./GameEvent.ts","./GameApi.ts","./NetworkBridge.ts","./Api.ts","./GamePlay.ts","./GameDefine.ts"],(function(e){"use strict";var t,n,i,o,a,s,r,c,h,g,u,d,p,l,m,f,k,M,A,R,C,B,b,G,S,w,_,E,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,c=e.Camera,h=e.director,g=e.Director,u=e.game,d=e.view,p=e.Component},function(e){l=e.globalDefine},function(e){m=e.maxApiUtils,f=e.MaxApiName},function(e){k=e.TrimBase64},function(e){M=e.PopupMgr},function(e){A=e.ScreenMgr},function(e){R=e.EventName,C=e.UiEvent},function(e){B=e.default},function(e){b=e.gameApi},function(e){G=e.NetworkBridge},function(e){S=e.SocketDefine,w=e.Api,_=e.WSCmd},function(e){E=e.GamePlay},function(e){T=e.GameDefine}],execute:function(){var D,v,O,y,x,I;s._RF.push({},"b7472axsNtOc6fjgxtXsqcK","GameMgr",void 0);var N,P=r.ccclass,q=r.property;!function(e){e[e.Init=0]="Init",e[e.CheckToken=1]="CheckToken",e[e.Connecting=2]="Connecting",e[e.Authentication=3]="Authentication",e[e.ReqWorker=4]="ReqWorker",e[e.ReqDefines=5]="ReqDefines",e[e.GameConfig=6]="GameConfig",e[e.Playing=7]="Playing",e[e.NetworkError=8]="NetworkError"}(N||(N={}));e("GameMgr",(D=P("GameMgr"),v=q(c),D(((I=function(e){function t(){var t;return t=e.call(this)||this,i(t,"uiCamera",x,o(t)),t.state=void 0,t.isCapture=!1,t.captureCallBack=null,t.time=0,t.networkBrigde=new G,t.frameCount=0,t.dt=0,t.fps=0,t.updateRate=4,t._ping=0,t.hideError(),t}n(t,e);var s=t.prototype;return s.onLoad=function(){h.on(g.EVENT_AFTER_DRAW,this.canvasAfterDraw,this),B.on(R.CaptureScreenShoot,this.captureScreen,this),B.on(R.fpsReport,this.onFpsReport,this),B.on(R.onReset,this.onReset,this)},s.start=function(){t.instance=this,window.OnHideLoading&&(window.OnHideLoading(),m.request(f.stopTrace,window.traceScreenLoadId),m.request(f.stopTrace,window.traceScreenInterractionId)),this.SetState(N.Init),m.listen("onFocusApp",this.handleFocusMiniApp.bind(this)),m.listen("onBlurApp",this.handleBlurMiniApp.bind(this)),console.log(this.uiCamera.orthoHeight)},s.onFpsReport=function(e){var t=this;void 0===e&&(e="Main"),setTimeout((function(){b.fps(e,t.fps)}),1e3)},s.hideError=function(){var e=document.createElement("style");document.head.appendChild(e),e.innerText="\n            .error {\n                display: none;\n                z-index: -1;\n            }\n        "},s.handleFocusMiniApp=function(){u.resume(),console.log("[GameMgr] handleFocusMiniApp")},s.handleBlurMiniApp=function(){u.pause(),console.log("[GameMgr] handleBlurMiniApp")},s.update=function(e){switch(this.state){case N.Init:break;case N.CheckToken:this.time+=e,l.profile.isOk?this.SetState(N.Connecting):this.time>=2&&(w.IS_DEV?this.SetState(N.Connecting):this.SetState(N.NetworkError));break;case N.Connecting:this.time+=e,this.time>S.lostConnectionTime/1e3?this.SetState(N.NetworkError):this.networkBrigde.isReady&&this.SetState(N.Authentication)}this.frameCount++,this.dt+=e,this.dt>1/this.updateRate&&(this.fps=this.frameCount/this.dt,this.frameCount=0,this.dt-=1/this.updateRate),l.fps=this.fps},s.SetState=function(e){switch(console.log("[GameMgr] state: "+N[this.state]+" => "+N[e]),this.state=e,e){case N.Init:M.instance.load(),A.instance.load(),this.initNetwork(),this.SetState(N.CheckToken);break;case N.CheckToken:case N.Connecting:this.time=0;break;case N.Authentication:this.networkBrigde.authentication(l.profile.userToken);break;case N.ReqWorker:this.networkBrigde.reqWorker();break;case N.ReqDefines:this.networkBrigde.reqDefines();break;case N.GameConfig:this.SetState(N.Playing);break;case N.Playing:this.networkBrigde.joinGame(),m.request(f.stopTrace,window.traceScreenGoldId),B.emit(C.ActiveSpinButton,!0)}},s.initNetwork=function(){this.networkBrigde.connect(),this.networkBrigde.onMessage=this.onMessage.bind(this)},s.onMessage=function(e){switch(e.msgClass){case _.ResVerify:var t=phoenix.krun.internal.ResVerify.decode(e.msg);l.profile.userId=t.uid,this.SetState(N.ReqWorker),console.log("[GameMgr] ResVerify: ",t);break;case _.MsgPing:var n=phoenix.krun.internal.MsgPing.decode(e.msg),i=Date.now()-n.createAt;B.emit(R.onPing,n.workerAt+i/2,i),console.log("[GameMgr] ping: ",i),this.ping=i;break;case _.ResWorker:this.SetState(N.ReqDefines);break;case _.BoatMsg:this.onGameMsg(e.msg)}},s.onGameMsg=function(e){var t=phoenix.boat.BoatMsg.decode(e);if(t.error==phoenix.boat.BOAT_ERROR.BOAT_ERROR_NONE)switch(t.cmd){case phoenix.boat.BOAT_CMD.BOAT_CMD_DEFINES:var n=phoenix.boat.BoatGameDefines.decode(t.body);console.log("[GameMgr] on game define: ",n),T.instance.setGameDefine(n),this.SetState(N.GameConfig);break;case phoenix.boat.BOAT_CMD.BOAT_CMD_GAME_MATCHING:var i=phoenix.boat.BoatGameMatching.decode(t.body);console.log("[GameMgr] on game matching: ",i),E.instance.initMap(i);break;case phoenix.boat.BOAT_CMD.BOAT_CMD_GAME_UPDATE:var o=phoenix.boat.BoatGameUpdate.decode(t.body);E.instance.netUpdate(o);break;case phoenix.boat.BOAT_CMD.BOAT_CMD_GAME_FINISH:var a=phoenix.boat.BoatGameFinish.decode(t.body);E.instance.onFinish(a);break;case phoenix.boat.BOAT_CMD.BOAT_CMD_GAME_END:var s=phoenix.boat.BoatGameEnd.decode(t.body);console.log("[GameMgr] on game end: ",s),E.instance.onEndGame(s)}else switch(t.error){case phoenix.boat.BOAT_ERROR.BOAT_ERROR_MATCHING_DISABLE:console.log("[GameMgr] ongameMsg Error ","matching disable");break;case phoenix.boat.BOAT_ERROR.BOAT_ERROR_MATCHING_FAIL:console.log("[GameMgr] ongameMsg Error ","matching fail");break;case phoenix.boat.BOAT_ERROR.BOAT_ERROR_USER_DOUBLE:console.log("[GameMgr] ongameMsg Error ","user double")}},s.onAction=function(e){E.instance.isPlaying&&this.networkBrigde.sendAction(e,null)},s.requestServerTime=function(){this.networkBrigde.ping()},s.onReset=function(){this.SetState(N.Playing)},s.closeGame=function(){m.closeGame()},s.canvasAfterDraw=function(){if(this.isCapture){this.isCapture=!1;var e=document.getElementById("GameCanvas"),t=document.createElement("canvas"),n=t.getContext("2d"),i=d.getVisibleSize().width,o=d.getVisibleSize().height;t.width=i,t.height=o,n.drawImage(e,0,0,i,o,0,0,i,o);var a=k.trimCanvas(t).toDataURL("image/png");this.captureCallBack(a)}},s.captureScreen=function(e){this.captureCallBack=e,this.isCapture=!0},a(t,[{key:"ping",get:function(){return this._ping},set:function(e){this._ping=e}},{key:"isPingReady",get:function(){return this.networkBrigde.isPingReady}}]),t}(p)).instance=null,x=t((y=I).prototype,"uiCamera",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=y))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./GlobalDefine.ts","./Screen.ts","./Utils.ts","./define.ts","./CameraController.ts","./Boat.ts","./GameDefine.ts","./GamePlayUI.ts"],(function(t){"use strict";var n,e,i,a,o,r,s,u,l,c,f,h,b,m,p,d,P,g,y,v,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,u=t.Node,l=t.Prefab,c=t.NodePool,f=t.instantiate,h=t.math},function(t){b=t.default},function(t){m=t.globalDefine},function(t){p=t.Screen},function(t){d=t.utils},function(t){P=t.EventName},function(t){g=t.CameraController},function(t){y=t.Boat},function(t){v=t.GameDefine},function(t){C=t.GamePlayUI}],execute:function(){var w,B,G,M,F,k,T,z,E,R,D,_,I,L,N,O,U,H;r._RF.push({},"f7a4auGvMRHqamP5pK1vmJu","GamePlay",void 0);var A=s.ccclass,S=s.property;t("GamePlay",(w=A("GamePlay"),B=S(g),G=S(C),M=S(u),F=S(l),k=S(u),T=S(l),z=S(u),w(((H=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,i(n,"gamePlayCamera",D,a(n)),i(n,"ui",_,a(n)),i(n,"boatContainer",I,a(n)),i(n,"boatPrefab",L,a(n)),i(n,"duckweedContainer",N,a(n)),i(n,"duckweedPrefab",O,a(n)),i(n,"finalLine",U,a(n)),n.boatPool=new c,n._startTime=0,n.isMainBoatFinish=!1,n.isMainBoatOverFinish=!1,n.isPlaying=!1,n}e(n,t);var r=n.prototype;return r.start=function(){n.instance=this,b.on(P.onReset,this.onReset,this),this.genDuckweeds()},r.getNewBoat=function(){var t=null;return(t=this.boatPool.size()>0?this.boatPool.get():f(this.boatPrefab)).setParent(this.boatContainer),t},r.initMap=function(t){var n=this;this.ui.setInfo(t),this._startTime=t.startTime,t.boats.forEach((function(t,e){n.getNewBoat().getComponent(y).setInfo(t,e)})),this.finalLine.setPosition(0,v.MAP_LENGTH)},r.genDuckweeds=function(){for(var t=0;t<=v.MAP_LENGTH;t+=200){var n=f(this.duckweedPrefab);n.setParent(this.duckweedContainer),n.setPosition(h.randomRangeInt(-350,350),h.randomRangeInt(t,t+150))}},r.setCameraTarget=function(t){this.gamePlayCamera.setTarget(t)},r.netUpdate=function(t){var n=this;t.boats.forEach((function(t){var e=n.findBoat(t.bid);e&&e.getComponent(y).netUpdate(t)})),t.players.forEach((function(t){t.uid==m.profile.userId&&n.ui.updatePickerPosition(t.pickerPosition)}))},r.findBoat=function(t){var n=null;return this.boatContainer.children.forEach((function(e){e.name==t&&(n=e)})),n},r.onEndGame=function(t){this.ui.onEndGame(t)},r.onFinish=function(t){this.ui.onFinish(t)},r.onMainBoatFinish=function(){this.ui.onMainBoatFinish()},r.onMainBoatOverFinish=function(){this.isMainBoatOverFinish||(this.isMainBoatOverFinish=!0,this.ui.onMainBoatOverFinish())},r.onReset=function(){this.isMainBoatFinish=!1,this.isMainBoatOverFinish=!1,this.gamePlayCamera.onReset(),this.isPlaying=!1,d.putChildToPool(this.boatContainer.children,this.boatPool,(function(t){t.getComponent(y).onReset()}))},o(n,[{key:"startTime",get:function(){return this._startTime}}]),n}(p)).instance=null,D=n((R=H).prototype,"gamePlayCamera",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(R.prototype,"ui",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(R.prototype,"boatContainer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(R.prototype,"boatPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(R.prototype,"duckweedContainer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(R.prototype,"duckweedPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(R.prototype,"finalLine",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=R))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlayUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./define.ts","./GameMgr.ts","./TimeMgr.ts","./TimePicker.ts","./Input.ts","./EndGame.ts","./GamePlay.ts","./Reward.ts"],(function(i){"use strict";var e,t,n,r,a,o,s,c,u,h,l,m,f,d,g,P,p,v,w;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){a=i.cclegacy,o=i._decorator,s=i.Label,c=i.Button,u=i.Node,h=i.Component},function(i){l=i.default},function(i){m=i.EventName},function(i){f=i.GameMgr},function(i){d=i.TimeMgr},function(i){g=i.TimePicker},function(i){P=i.Input},function(i){p=i.EndGame},function(i){v=i.GamePlay},function(i){w=i.Reward}],execute:function(){var k,T,b,y,I,x,G,S,B,C,D,M,R,z,E,L,F,U;a._RF.push({},"1eed76t6ShIKYU7M1YWJH+/","GamePlayUI",void 0);var _=o.ccclass,H=o.property;i("GamePlayUI",(k=_("GamePlayUI"),T=H(s),b=H(g),y=H(p),I=H(s),x=H(c),G=H(w),S=H(u),k(((U=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=i.call.apply(i,[this].concat(a))||this,n(e,"waitingLabel",D,r(e)),n(e,"timePicker",M,r(e)),n(e,"endgame",R,r(e)),n(e,"finishContDown",z,r(e)),n(e,"exitButton",E,r(e)),n(e,"reward",L,r(e)),n(e,"tutorial",F,r(e)),e.finishTime=0,e.gameStartTime=0,e.timePickerPhases=[],e.currentTimePickerIndex=0,e}t(e,i);var a=e.prototype;return a.start=function(){e.instance=this,l.on(m.onReset,this.onReset,this),l.on(m.onReward,this.onReward,this),this.exitButton.node.on("click",this.onExitButtonClick,this)},a.onExitButtonClick=function(){console.log("Exit game"),f.instance.closeGame()},a.onEndGame=function(i){this.endgame.node.active=!0,this.timePicker.node.active=!1,this.endgame.setInfo(i.rankingBoats),this.finishContDown.node.active=!1},a.onReward=function(){this.reward.node.active=!0,this.endgame.node.active=!1},a.onFinish=function(i){this.finishTime=i.finishEndTime,this.finishContDown.node.active=!0},a.setInfo=function(i){this.gameStartTime=i.startTime,this.timePickerPhases=i.timePickerPhases},a.nextTimePicker=function(){if(!(this.currentTimePickerIndex>=this.timePickerPhases.length)){var i=this.timePickerPhases[this.currentTimePickerIndex];this.timePicker.setInfo(i),this.currentTimePickerIndex++}},a.updatePickerPosition=function(i){this.timePicker.updatePickerPosition(i)},a.update=function(i){if(0!=this.gameStartTime){var e=d.instance.serverTime;if(e<=this.gameStartTime){var t=this.gameStartTime-e;this.waitingLabel.string=Math.ceil(t/1e3).toString()}else this.show(),this.gameStartTime=0}if(0!=this.finishTime){var n=d.instance.serverTime;if(n<=this.finishTime){var r=this.finishTime-n;this.finishContDown.string=Math.ceil(r/1e3).toString()}else this.finishTime=0}P.Instance.isHold&&this.tutorial.active&&(this.tutorial.active=!1)},a.show=function(){this.waitingLabel.node.active=!1,this.timePicker.node.active=!0,this.timePicker.setInfo(this.timePickerPhases[this.currentTimePickerIndex]),v.instance.isPlaying=!0,this.tutorial.active=!0},a.onMainBoatFinish=function(){this.finishContDown.node.active=!1},a.onMainBoatOverFinish=function(){this.timePicker.node.active=!1},a.onReset=function(){this.gameStartTime=0,this.waitingLabel.node.active=!0,this.waitingLabel.string="Đang đợi...",this.timePicker.node.active=!1,this.currentTimePickerIndex=0,this.finishContDown.node.active=!1,this.finishTime=0,this.endgame.node.active=!1,this.reward.node.active=!1},e}(h)).instance=null,D=e((C=U).prototype,"waitingLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(C.prototype,"timePicker",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(C.prototype,"endgame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(C.prototype,"finishContDown",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(C.prototype,"exitButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(C.prototype,"reward",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(C.prototype,"tutorial",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=C))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalDefine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Profile.ts","./MaxApiUtils.ts","./ApiMock.ts"],(function(e){"use strict";var n,i,t,o,r,f,c,s,a;return{setters:[function(e){n=e.createClass,i=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.log},function(e){f=e.Profile},function(e){c=e.maxApiUtils,s=e.MaxApiName},function(e){a=e.ApiMock}],execute:function(){var u;e("DevicePerformance",void 0),o._RF.push({},"bd878PhQoVBopiCOx304mmp","GlobalDefine",void 0),function(e){e.LowEnd="low-end",e.MideEnd="mid-end",e.HighEnd="high-end"}(u||(u=e("DevicePerformance",{})));e("globalDefine",new(function(){function e(){this.deviceInfo=void 0,this.appConfig=void 0,this.gameConfig=void 0,this.profile=new f,this.fps=0,this.init()}var o=e.prototype;return o.init=function(){var e=i(t().mark((function e(){var n=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.request(s.getDeviceInfo).then((function(e){n.deviceInfo=e||a.deviceInfo,r("[globalDefine] getDeviceInfo: ",e)})),this.getGameParams().then((function(e){n.appConfig=e||a.APP_CONFIG,console.log("[GlobeDefine] getGameParams: ",n.appConfig)})),e.next=4,this.profile.init();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.getGameParams=function(){return new Promise((function(e,n){var i=localStorage.getItem("feature");e(JSON.parse(i))}))},n(e,[{key:"featureID",get:function(){return this.appConfig?this.appConfig.feature.featureID:"p2p"}},{key:"useCloud",get:function(){return!!this.appConfig&&this.appConfig.feature.params.useCloud}},{key:"screenRefID",get:function(){return this.appConfig?this.appConfig.feature.params.refId:"screen_main_menu"}},{key:"buildVersion",get:function(){return this.deviceInfo?this.deviceInfo.buildVersion:31040}},{key:"osPlatform",get:function(){return"apple"==this.deviceInfo.deviceManufacturer.toLocaleLowerCase()?"ios":"android"}},{key:"deviceModelName",get:function(){return this.deviceInfo?this.deviceInfo.deviceModelName:"browser"}},{key:"isIOS",get:function(){return"ios"==this.osPlatform}},{key:"env",get:function(){return this.deviceInfo.isDev?"dev":"prod"}},{key:"isLowEndDevice",get:function(){return!this.deviceInfo||this.deviceInfo.devicePerformance==u.LowEnd}},{key:"isHighEndDevice",get:function(){return!!this.deviceInfo&&this.deviceInfo.devicePerformance==u.HighEnd}}]),e}()));o._RF.pop()}}}));

System.register("chunks:///_virtual/ImageCache.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameApi.ts"],(function(e){"use strict";var t,r,n,a,u,i,s,c;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy,a=e.SpriteFrame,u=e.ImageAsset,i=e.Texture2D,s=e.assetManager},function(e){c=e.gameApi}],execute:function(){n._RF.push({},"36400DoKO9IurGOTW+nfKD5","ImageCache",void 0);var o=e("default",new(function(){var e=n.prototype;function n(){this.canvas=void 0,this.context=void 0,this.images=new Map,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d")}return e.get=function(e){return this.images.get(e)},e.request=function(){var e=t(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&""!=t){e.next=2;break}return e.abrupt("return",null);case 2:if(t=t.replace("img.mservice.io","atc-edge03.mservice.com.vn"),!(n=this.images.get(t))){e.next=6;break}return e.abrupt("return",n);case 6:return e.next=8,this.getRemoteTexture(t);case 8:return n=e.sent,this.images.set(t,n),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.requestSpriteFrame=function(){var e=t(r().mark((function e(t){var n,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.request(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return(u=new a).texture=n,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.requestAvatar=function(){var e=t(r().mark((function e(t){var n,u,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://s3-ap-southeast-1.amazonaws.com/avatars.mservice.io/"+t+".png",e.next=3,this.request(n);case 3:if(u=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return(i=new a).texture=u,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.clear=function(){this.images.clear()},e.getRemoteTextureImage=function(){var e=t(r().mark((function e(t,n){var s=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!0),e.abrupt("return",new Promise((function(e,r){var c=s.images.get(t);if(c){var o=new a;return o.texture=c,void e(o)}var p=new Image;p.crossOrigin="anonymous",p.onload=function(){var r=new u(p),c=new i;c.image=r;var o=new a;o.texture=c,n&&s.images.set(t,c),e(o)},p.onerror=function(){e(null)},p.src=t})));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.getRemoteTexture=function(){var e=t(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=Date.now();s.loadRemote(t,(function(r,a){if(a){var u=new i;u.image=a,e(u),-1==t.indexOf("/avatar")&&c.latencyReport("GetRemoteImage",t,Date.now()-n)}else e(null)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.resizeImage=function(e,t){var r=this;return void 0===t&&(t=128),new Promise((function(n,a){var u=new Image;u.crossOrigin="anonymous",u.onload=function(){var e=u.height>u.width?u.height/u.width:u.width/u.height;r.canvas.width=u.height>u.width?t*e:t,r.canvas.height=u.height>u.width?t:t*e,r.context.drawImage(u,0,0,r.canvas.width,r.canvas.height),n(r.canvas.toDataURL())},u.onerror=function(){n(e)},u.src=e}))},e.bindSprite=function(){var e=t(r().mark((function e(t,n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.requestSpriteFrame(n);case 2:return a=e.sent,t.spriteFrame=a,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/Input.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts"],(function(n){"use strict";var t,e,o,i,s,c,a;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){o=n.cclegacy,i=n._decorator,s=n.Node,c=n.Component},function(n){a=n.GameMgr}],execute:function(){var u,r;o._RF.push({},"10c20yXDEpFua99kw5lLM3S","Input",void 0);var h=i.ccclass;i.property,n("Input",h("Input")(((r=function(n){function o(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))||this).isHold=!1,t.isRelease=!1,t}t(o,n);var i=o.prototype;return i.onLoad=function(){o.instance=this,this.node.on(s.EventType.TOUCH_START,this.onTouchBegan,this),this.node.on(s.EventType.TOUCH_END,this.onTouchEnded,this),this.node.on(s.EventType.TOUCH_CANCEL,this.onTouchCancelled,this)},i.onTouchBegan=function(){this.isHold=!0,this.isRelease=!1,a.instance.onAction(phoenix.boat.BOAT_CMD.BOAT_CMD_PLAYER_HOLD)},i.onTouchEnded=function(){this.isRelease=!0,this.isHold=!1,a.instance.onAction(phoenix.boat.BOAT_CMD.BOAT_CMD_PLAYER_RELEASE)},i.onTouchCancelled=function(){this.isRelease=!0,this.isHold=!1,a.instance.onAction(phoenix.boat.BOAT_CMD.BOAT_CMD_PLAYER_RELEASE)},e(o,null,[{key:"Instance",get:function(){return o.instance}}]),o}(c)).instance=null,u=r))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./MaxApiUtils.ts","./bundle.mjs_cjs=&original=.js","./CSDefine.ts","./CSMockup.ts","./CornerStone.ts","./CornerStoneBanner.ts","./AudioMgr.ts","./GameEvent.ts","./GlobalDefine.ts","./ImageCache.ts","./MyButton.ts","./Api.ts","./ApiMock.ts","./GameApi.ts","./NetworkBridge.ts","./NetworkMgr.ts","./PerformanceTracking.ts","./RemoteImage.ts","./SpineRemote.ts","./TrimBase64.ts","./Utils.ts","./Fluxay.ts","./GameMgr.ts","./CameraController.ts","./Boat.ts","./Duckweed.ts","./Player.ts","./PlayerEndGameGroup.ts","./TimePicker.ts","./GameDefine.ts","./Input.ts","./EndGame.ts","./GamePlay.ts","./GamePlayUI.ts","./Reward.ts","./Profile.ts","./TimeMgr.ts","./define.ts","./a-protobuf.ts","./patchproto.mjs_cjs=&original=.js","./phoenix.mjs_cjs=&original=.js","./Popup.ts","./PopupMgr.ts","./Screen.ts","./ScreenMgr.ts","./Random.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MaxApiUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,i,o;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){i=e.cclegacy,o=e.log}],execute:function(){var a;e("MaxApiName",void 0),i._RF.push({},"28774sywudKJaUfJ3kzaJm/","MaxApiUtils",void 0),function(e){e.getProfile="getProfile",e.getDeviceInfo="getDeviceInfo",e.shareFacebook="shareFacebook",e.showToast="showToast",e.sendCloudMessage="sendCloudMessage",e.getCloudMessage="getCloudMessage",e.startFeatureCode="startFeatureCode",e.getBase64FromUrl="getBase64FromUrl",e.triggerEventVibration="triggerEventVibration",e.startTraceScreenLoad="startTraceScreenLoad",e.startTraceScreenInteraction="startTraceScreenInteraction",e.stopTrace="stopTrace",e.trackActionEvent="trackActionEvent",e.trackStageEvent="trackStageEvent",e.openWeb="openWeb",e.copyToClipBoard="copyToClipBoard",e.navigateTab="navigateTab"}(a||(a=e("MaxApiName",{})));e("maxApiUtils",new(function(){function e(){this.observer={},o("[MaxApiutils] isBrowser: ",this.isBrowser)}var i=e.prototype;return i.request=function(){var e=n(r().mark((function e(t){var n,i,a,s=this,u=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=u.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=u[a];return o("[MaxApiUtils]","Call function: ",t),e.abrupt("return",new Promise((function(e,n){s.isBrowser&&e&&e(null);var r=window.MaxApi[t];i&&i.length>0?r.apply(void 0,i.concat([function(t){e&&e(t)}])):r((function(t){e&&e(t)}))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.saveImage=function(e){var t=this;return new Promise((function(n,r){t.isBrowser&&n&&n(null),window.MaxApi.requestPermission("storage",(function(t){"granted"===t?window.MaxApi.saveImage(e,(function(e){e?(window.MaxApi.showToast({duration:5e3,title:"Lưu hình ảnh thành công"}),n&&n(!0)):(window.MaxApi.showToast({duration:5e3,title:"Lưu hình ảnh không thành công"}),n&&n(!1))})):(window.MaxApi.showToast({duration:5e3,title:"Lưu hình ảnh không thành công"}),n&&n(!1))}))}))},i.registerShaking=function(e,t){if(!this.isBrowser){var n=window.MaxApi.listen({event:"onShaker",updateInterval:100},(function(t){e(t)}));this.observer.shake=n}},i.unRegisterShaking=function(e){var t;this.isBrowser||null==(t=this.observer.shake)||null==t.remove||t.remove()},i.registerMagnetometer=function(e,t){if(!this.isBrowser){var n=window.MaxApi.listen({event:"onShaker",type:"magnetometer",updateInterval:50},(function(t){e(t)}));this.observer.magnetometer=n}},i.unRegisterMagnetometer=function(e){var t;this.isBrowser||null==(t=this.observer.magnetometer)||null==t.remove||t.remove()},i.listen=function(e,t){this.isBrowser||window.MaxApi.listen(e,t)},i.closeGame=function(){this.isBrowser||window.MaxApi.dismiss()},t(e,[{key:"isBrowser",get:function(){return null==window.ReactNativeWebView}}]),e}()));i._RF.pop()}}}));

System.register("chunks:///_virtual/MyButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,c,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,c=t.Vec3,r=t.tween,s=t.Component}],execute:function(){var u;n._RF.push({},"d753fKngEdFRoVogvjt/8Gz","MyButton",void 0);var i=o.ccclass;o.property,t("MyButton",i("MyButton")(u=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.start=function(){var t=this;this.node.on("click",(function(){var e=t.node.getScale();t.node.setScale(new c(.5,.5,.5)),r(t.node).to(.5,{scale:e},{easing:"elasticOut"}).start()}))},n}(s))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkBridge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalDefine.ts","./Api.ts"],(function(e){"use strict";var n,o,t,r,i,s,a,c,h,l,u,d,g;return{setters:[function(e){n=e.inheritsLoose,o=e.createClass,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e._decorator,a=e.math,c=e.Component},function(e){h=e.globalDefine},function(e){l=e.SocketDefine,u=e.WSGameCmd,d=e.Api,g=e.WSCmd}],execute:function(){var p;i._RF.push({},"77222IC1tlIj53T+NFY+geQ","NetworkBridge",void 0);var f=s.ccclass;s.property,e("NetworkBridge",f("NetworkBridge")(p=function(e){function i(){for(var n,o=arguments.length,t=new Array(o),r=0;r<o;r++)t[r]=arguments[r];return(n=e.call.apply(e,[this].concat(t))||this).ws=null,n.payloadCounter=0,n.worker=null,n.servers=[],n.onOpen=null,n.onMessage=null,n.onError=null,n.onClose=null,n}n(i,e);var s=i.prototype;return s.connect=function(){null==this.ws&&(this.ws=new WebSocket(l.HOST_SOCKET),this.ws.onopen=this.onopen.bind(this),this.ws.onmessage=this.onmessage.bind(this),this.ws.onerror=this.onerror.bind(this),this.ws.onclose=this.onclose.bind(this))},s.disconnect=function(){this.ws.readyState==WebSocket.OPEN&&(this.ws.close(),this.ws=null)},s.onopen=function(e){this.onOpen&&this.onOpen(),console.log("[NetworkBrigde] ws is connected!")},s.onmessage=function(e){this.binaryHandler(e.data)},s.onerror=function(e){this.onError&&(console.log("[NetworkBrigde] ws error!"),this.onError())},s.onclose=function(e){this.onClose&&(console.log("[NetworkBrigde] ws is closed!"),this.onClose())},s.send=function(e){this.ws.readyState==WebSocket.OPEN&&this.ws.send(e)},s.reconnect=function(){null!=this.ws&&this.ws.close(),this.connect()},s.binaryHandler=function(e){var n=this;e&&e.arrayBuffer().then((function(o){try{n.decodeMsgData(o)}catch(n){console.log("binaryHandler",n,e)}}))},s.decodeMsgData=function(){var e=t(r().mark((function e(n){var o,t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=phoenix.krun.internal.MessageWrapper.decode(new Uint8Array(n)),e.t0=o.msgClass,e.next=e.t0===g.ResVerify?4:e.t0===g.MsgPing?6:e.t0===g.ResWorker?7:11;break;case 4:return this.worker,e.abrupt("break",11);case 6:return e.abrupt("break",11);case 7:return t=phoenix.krun.internal.ResWorker.decode(o.msg),this.worker=t.worker,console.log("[NetworkBrigde] ResWorker: "+this.worker),e.abrupt("break",11);case 11:this.onMessage&&this.onMessage(o);case 12:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),s.sendProto=function(e,n){var o=new phoenix.krun.internal.MessageWrapper;o.msg=n,o.msgClass=e,o.worker=this.worker;var t=phoenix.krun.internal.MessageWrapper.encode(o).finish();this.send(t)},s.sendAction=function(e,n){var o=new phoenix.boat.BoatMsg;o.cmd=e,n&&(o.body=n);var t=phoenix.boat.BoatMsg.encode(o).finish();this.sendProto(u.BoatMsg,t)},s.getRoomName=function(){var e=l.SERVER_NAME;if(this.servers&&this.servers.length>0)e=this.servers[a.randomRangeInt(0,this.servers.length)];else if(!d.IS_DEV){var n=a.randomRangeInt(0,3);e=l.SERVER_NAME+n}return console.log("Req worker name: "+e),e},s.authentication=function(e){var n=new phoenix.krun.internal.ReqVerify;n.jwt=e;var o=phoenix.krun.internal.ReqVerify.encode(n).finish();this.sendProto("ReqVerify",o)},s.reqWorker=function(){if(!this.worker){var e=new phoenix.krun.internal.ReqWorker;e.game=this.getRoomName();var n=phoenix.krun.internal.ReqWorker.encode(e).finish();this.sendProto(g.ReqWorker,n)}},s.reqDefines=function(){this.sendAction(phoenix.boat.BOAT_CMD.BOAT_CMD_DEFINES,null)},s.joinGame=function(){var e=new phoenix.boat.BoatReqPlayerJoin;e.displayName=""==h.profile.name?"Player":h.profile.name,e.gameId="",this.sendAction(phoenix.boat.BOAT_CMD.BOAT_CMD_PLAYER_JOIN_GAME,phoenix.boat.BoatReqPlayerJoin.encode(e).finish()),console.log("[NetworkBrigde] sendAction => "+phoenix.boat.BOAT_CMD.BOAT_CMD_PLAYER_JOIN_GAME)},s.quitGame=function(){this.sendAction(phoenix.boat.BOAT_CMD.BOAT_CMD_PLAYER_QUIT_GAME,null),console.log("[NetworkBrigde] sendAction => "+phoenix.boat.BOAT_CMD.BOAT_CMD_PLAYER_QUIT_GAME),console.log("[NetworkBridge] quit game")},s.ping=function(){var e=new phoenix.krun.internal.MsgPing;e.id=this.payloadCounter++,e.createAt=Date.now();var n=phoenix.krun.internal.MsgPing.encode(e).finish();this.sendProto(g.MsgPing,n)},o(i,[{key:"isReady",get:function(){return this.ws&&this.ws.readyState===WebSocket.OPEN}},{key:"isPingReady",get:function(){return this.ws&&this.ws.readyState===WebSocket.OPEN&&""!=this.worker}},{key:"isHttps",get:function(){return-1!=window.location.href.indexOf("https://")}}]),i}(c))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MaxApiUtils.ts","./GlobalDefine.ts","./Api.ts"],(function(e){"use strict";var t,n,r,s,o,u,a;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){s=e.maxApiUtils,o=e.MaxApiName},function(e){u=e.globalDefine},function(e){a=e.Api}],execute:function(){r._RF.push({},"b72b0V4dQJJTLMgBo4CZ95K","NetworkMgr",void 0);e("networkMgr",new(function(){function e(){}var r=e.prototype;return r.getRequest=function(){var e=t(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isBrowser){e.next=4;break}return e.abrupt("return",new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET",a.HOST+t,!0),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Authorization","Bearer "+u.profile.userToken),r.responseType="json",r.timeout=3e3,r.onreadystatechange=function(){4==r.readyState&&(r.status>=200&&r.status<400?e&&e(r.response):e&&e(null))},r.send()})));case 4:return e.abrupt("return",new Promise((function(e,n){s.request(o.getCloudMessage,{path:t}).then((function(t){e&&e(t?t.response:null)}))})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.postRequest=function(){var e=t(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isBrowser){e.next=4;break}return e.abrupt("return",new Promise((function(e,n){var s=new XMLHttpRequest;s.open("POST",a.HOST+t,!0),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Authorization","Bearer "+u.profile.userToken),s.responseType="json",s.timeout=3e3,s.onreadystatechange=function(){4==s.readyState&&(s.status>=200&&s.status<400?e&&e(s.response):e&&e(null))},s.send(JSON.stringify(r))})));case 4:return e.abrupt("return",new Promise((function(e,n){s.request(o.sendCloudMessage,{path:t,body:r}).then((function(t){e&&e(t?t.response:null)}))})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.requestHeader=function(){var e=t(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new XMLHttpRequest;r.open("HEAD",t,!0),r.onload=function(){var t=r.getResponseHeader("Content-Type");e(t)},r.onerror=function(t){e("image/png")},r.timeout=3e3,r.send()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/PerformanceTracking.ts",["cc","./GlobalDefine.ts","./Api.ts","./NetworkMgr.ts"],(function(e){"use strict";var r,o,n,t;return{setters:[function(e){r=e.cclegacy},function(e){o=e.globalDefine},function(e){n=e.Api},function(e){t=e.networkMgr}],execute:function(){r._RF.push({},"16ccfiMVyROF6MR8XwCKutx","PerformanceTracking",void 0);e("performanceTracking",new(function(){function e(){this.APPVARZ_FPS="/varz/v2/fps",this.APPVARZ_API_ERROR="/varz/v2/error"}var r=e.prototype;return r.appVazFps=function(e,r){var a=[{appVersion:o.deviceInfo.appVersion,osPlatform:o.osPlatform,env:o.env,flow:"home",step:e,api:"fps",serviceName:o.featureID,value:r}];return console.log("[PerformanceTracking] FPS: ",a),t.postRequest(n.HOST+this.APPVARZ_FPS,a)},r.appVazError=function(e,r,a){var s=[{appVersion:o.deviceInfo.appVersion,osPlatform:o.osPlatform,env:o.env,flow:"home",step:e,api:"error",serviceName:o.featureID,errorMessage:a,errorCode:r}];return console.log("[PerformanceTracking] Error: ",s),t.postRequest(n.HOST+this.APPVARZ_API_ERROR,s)},e}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalDefine.ts","./Utils.ts","./GameDefine.ts"],(function(e){"use strict";var i,t,n,a,r,o,s,l,p,m,u,c,d,h,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Label,l=e.Sprite,p=e.SpriteFrame,m=e.Animation,u=e.Color,c=e.Component},function(e){d=e.globalDefine},function(e){h=e.utils},function(e){f=e.GameDefine}],execute:function(){var y,b,g,N,S,v,A,P,D,F,I,w;r._RF.push({},"3cf3cxlE2JBk7q8lnYs49hP","Player",void 0);var z=o.ccclass,L=o.property;e("Player",(y=z("Player"),b=L(s),g=L(l),N=L(p),S=L(m),y(((w=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,n(i,"displayName",P,a(i)),n(i,"modelSprite",D,a(i)),n(i,"modelSpriteFrames",F,a(i)),n(i,"animation",I,a(i)),i.speed=0,i.boatIndex=0,i.animationName="",i}t(i,e);var r=i.prototype;return r.getAnimationName=function(){var e=i.boatToAnimation.get(this.boatIndex),t="";return 0==this.speed?t="idle":this.speed>0&&(t="run"),e+"-"+t},r.setInfo=function(e,i,t){this.node.name=e.uid,this.displayName.string=h.trimName(e.displayName,2);var n=f.PLAYER_Y[i];this.node.setPosition(0,n),this.modelSprite.spriteFrame=this.modelSpriteFrames[t],this.boatIndex=t,this.setSpeedAnimation(),e.uid==d.profile.userId?this.displayName.color=u.YELLOW:this.displayName.color=u.WHITE},r.netUpdate=function(e){this.speed!=e.speed&&(this.speed=e.speed,this.setSpeedAnimation())},r.setSpeedAnimation=function(){var e=this.getAnimationName();0!=this.speed&&(this.animation.getState(e).speed=2*this.speed),this.animationName!=e&&(this.animationName=e,this.animation.play(this.animationName))},i}(c)).boatToAnimation=(new Map).set(0,"blue").set(1,"green").set(2,"red"),P=i((A=w).prototype,"displayName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(A.prototype,"modelSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(A.prototype,"modelSpriteFrames",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=i(A.prototype,"animation",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=A))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerEndGameGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalDefine.ts","./GamePlay.ts"],(function(e){"use strict";var r,i,a,t,n,l,o,s,u,p,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,o=e.Label,s=e.Color,u=e.Component},function(e){p=e.globalDefine},function(e){c=e.GamePlay}],execute:function(){var y,m,f,b,h,d,g,G,P,N,L;n._RF.push({},"bd27fKa849G1p+5pa8wJ1KK","PlayerEndGameGroup",void 0);var v=l.ccclass,F=l.property;e("PlayerEndGameGroup",(y=v("PlayerEndGameGroup"),m=F(o),f=F(o),b=F(o),h=F(o),y((G=r((g=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return r=e.call.apply(e,[this].concat(n))||this,a(r,"timer",G,t(r)),a(r,"playerName1",P,t(r)),a(r,"playerName2",N,t(r)),a(r,"playerName3",L,t(r)),r}i(r,e);var n=r.prototype;return n.setInfo=function(e){var r=e.players;this.setLabelForMainPlayer(this.playerName1,r[0]),this.setLabelForMainPlayer(this.playerName2,r[1]),this.setLabelForMainPlayer(this.playerName3,r[2]),e.isFinish?this.timer.string=((e.finishTime-c.instance.startTime)/1e3).toFixed(2)+"s":this.timer.string="Chưa hoàn thành"},n.setLabelForMainPlayer=function(e,r){r.uid==p.profile.userId?e.color=s.YELLOW:e.color=s.WHITE,e.string=r.displayName},r}(u)).prototype,"timer",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=r(g.prototype,"playerName1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=r(g.prototype,"playerName2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(g.prototype,"playerName3",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/Popup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,o,r,s,c,l,a,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,c=t.Button,l=t.Node,a=t.Vec3,u=t.tween,p=t.Component}],execute:function(){var h,f,d,v,b,y,C;r._RF.push({},"8f361kJtmhHtZkJqTzh3frO","Popup",void 0);var m=s.ccclass,g=s.property;t("Popup",(h=m("Popup"),f=g(c),d=g(l),h((y=e((b=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"btnClose",y,o(e)),i(e,"container",C,o(e)),e.onClose=null,e}n(e,t);var r=e.prototype;return r.start=function(){this.btnClose.node.on("click",this.OnCloseClick.bind(this))},r.OnCloseClick=function(){var t;null==(t=this.onClose)||t.call(this),this.hide()},r.show=function(t){var e=this;void 0===t&&(t=!1),this.node.active=!0,this.container.setScale(a.ZERO),u(this.container).to(.5,{scale:new a(1,1,1)},{easing:"bounceInOut"}).start(),t&&setTimeout((function(){e.hide()}),3e3)},r.hide=function(t){void 0===t&&(t=!0),this.node.active=!1,t&&(this.node.removeFromParent(),this.node.destroy())},e}(p)).prototype,"btnClose",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(b.prototype,"container",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=b))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./define.ts","./Popup.ts"],(function(e){"use strict";var n,o,t,r,i,a,c,u,s,p,f,l,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,c=e._decorator,u=e.Prefab,s=e.instantiate,p=e.resources,f=e.Component},function(e){l=e.PopupName},function(e){d=e.Popup}],execute:function(){var h,g,P,b,v,m;a._RF.push({},"8203bcYBqBDwZg65M1oBkCP","PopupMgr",void 0);var y=c.ccclass,C=c.property;e("PopupMgr",(h=y("PopupMgr"),g=C(u),h(((m=function(e){function n(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,t(n,"prefabs",v,r(n)),n}o(n,e);var a=n.prototype;return a.onLoad=function(){n.instance=this},a.show=function(e,n){if(void 0===n&&(n=null),!this.node.getChildByName(e)){var o=this.getPrefab(e);if(o){var t=s(o).getComponent(d);return n&&(t.onClose=n),t.node.setParent(this.node),t.node.name=e,t.show(),t}}},a.hide=function(e){this.node.children.forEach((function(n){n.name==e&&n.getComponent(d).hide()}))},a.hideAll=function(){this.node.children.forEach((function(e){e.active&&e.getComponent(d).hide()}))},a.getPrefab=function(e){return this.prefabs.find((function(n){return n.data.name==e}))},a.load=function(){var e=this;Object.keys(l).forEach((function(n){e.getPrefab(n)||p.load("prefabs/popups/"+n,(function(o,t){t?(e.prefabs.push(t),console.log("Popup loaded: "+n)):console.error("Popup loade fail: "+n)}))}))},a.isShow=function(){for(var e,n=i(this.node.children);!(e=n()).done;){if(e.value.active)return!0}return!1},n}(f)).instance=null,v=n((b=m).prototype,"prefabs",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=b))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/Profile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MaxApiUtils.ts"],(function(e){"use strict";var t,i,n,r,s,o;return{setters:[function(e){t=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){n=e.cclegacy,r=e.log},function(e){s=e.maxApiUtils,o=e.MaxApiName}],execute:function(){n._RF.push({},"a294f7m3ZhJL5sqSxj8VgN4","Profile",void 0);e("Profile",function(){function e(){this.devToken="0362984381",this.userId=void 0,this.userToken=void 0,this.name=void 0,this.isOk=!1}return e.prototype.init=function(){var e=t(i().mark((function e(){var t,n,u,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.request(o.getProfile);case 2:t=e.sent,u=(n=t||{}).userId,a=n.token,c=n.name,this.userId=u||this.devToken,this.userToken=a||this.devToken,this.name=c||"Dev Player",this.isOk=!0,r("[Profile] init: ",t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Random.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"8a65cCV06FPWo5PbXWEeOu6","Random",void 0);t("Random",function(){function t(){this.seed=123456789,this.x=123456789,this.y=362436069,this.z=521288629,this.max_int=2147483647,this.int_to_float=1/2147483647}var n=t.prototype;return n.random=function(){var t=this,n={nextFloat:null,nextInt:null,rangeFloat:null,rangeInt:null},r=function(){t.x=t.x^t.x<<16,t.x=t.x^t.x>>5,t.x=t.x^t.x<<1;var n=t.x;return t.x=t.y,t.y=t.z,t.z=n^t.x^t.y,t.z};return n.nextFloat=function(){var n=(r()&t.max_int)*t.int_to_float;return n>0?n:-n},n.nextInt=function(){var t=r();return t>0?t:-t},n.rangeFloat=function(t,r){var e=r-t;return t+n.nextFloat()*e},n.rangeInt=function(t,r){var e=r-t;return t+n.nextInt()%e},n},n.getRandomMap=function(t,n,r){this.seed=t,this.x=this.seed;for(var e=this.random(),u=n*r,a=Math.round(.25*u),o=[],i=0;i<r;i++){for(var x=[],s=0;s<n;s++)x.push(1);o.push(x)}for(var f=function(t,n){return{x:t-1,y:n}},c=function(t,n){return{x:t+1,y:n}},h=function(t,n){return{x:t,y:n+1}},v=function(t,n){return{x:t,y:n-1}};a>0;)for(var l=[{x:e.nextInt()%n,y:e.nextInt()%r}];l.length>0&&a>0;){var y=l.shift(),p=y.x%n;p<0&&(p+=n);var d=y.y%r;if(d<0&&(d+=r),1==o[d][p]&&(o[d][p]=0,a-=1),e.nextInt()<536870912){var I=f(p,d);l.push(I)}if(e.nextInt()<536870912){var m=v(p,d);l.push(m)}if(e.nextInt()<536870912){var _=c(p,d);l.push(_)}if(e.nextInt()<536870912){var g=h(p,d);l.push(g)}}return o},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/RemoteImage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalDefine.ts","./ImageCache.ts"],(function(e){"use strict";var t,r,n,i,o,l,a,u,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Sprite,u=e.log},function(e){c=e.globalDefine},function(e){s=e.default}],execute:function(){var p,f,g,m,d,h,b,y;o._RF.push({},"cae799u15NAhb4aNJ7KkvYX","RemoteImage",void 0);var v=l.ccclass,I=l.property,R=l.executeInEditMode;e("RemoteImage",(p=v("RemoteImage"),f=R(!0),g=I(String),m=I(String),p(d=f((b=t((h=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"url",b,i(t)),n(t,"cloudUrl",y,i(t)),t}return r(t,e),t.prototype.start=function(){var e=this.url;c.useCloud&&(e=this.cloudUrl||e),s.bindSprite(this.getComponent(a),e).then((function(e){})),u("[RemoteImage] "+this.node.name+" load "+e)},t}(a)).prototype,"url",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(h.prototype,"cloudUrl",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d)||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/Reward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./define.ts","./GameMgr.ts"],(function(t){"use strict";var n,e,i,o,r,u,c,a,l,s,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,c=t.Button,a=t.Component},function(t){l=t.default},function(t){s=t.EventName},function(t){f=t.GameMgr}],execute:function(){var p,b,d,h,k,B,m;r._RF.push({},"7c23dV5hRBKbJX09ybmasNa","Reward",void 0);var y=u.ccclass,C=u.property;t("Reward",(p=y("Reward"),b=C(c),d=C(c),p((B=n((k=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r))||this,i(n,"buttonContinute",B,o(n)),i(n,"buttonBack",m,o(n)),n}e(n,t);var r=n.prototype;return r.start=function(){this.buttonContinute.node.on("click",this.onButtonContinuteClick,this),this.buttonBack.node.on("click",this.onButtonBackClick,this)},r.onButtonContinuteClick=function(){l.emit(s.onReset)},r.onButtonBackClick=function(){f.instance.closeGame()},r.update=function(t){},n}(a)).prototype,"buttonContinute",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(k.prototype,"buttonBack",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=k))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/Screen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,o,c,r;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,c=e.log,r=e.Component}],execute:function(){var i;t._RF.push({},"ef121KIw5RCYp5xIXtW1PZ6","Screen",void 0);var s=o.ccclass;o.property,e("Screen",s("Screen")(i=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.show=function(){this.node.active=!0},o.hide=function(){this.node.active=!1},o.onBack=function(){c("[Screen] "+this.node.name+" onBack not implemented")},t}(r))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MaxApiUtils.ts","./define.ts","./PopupMgr.ts","./Screen.ts"],(function(n){"use strict";var e,t,i,r,s,a,o,c,u,f,l,h,p,d,v,b,g;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){s=n.cclegacy,a=n._decorator,o=n.Node,c=n.Prefab,u=n.input,f=n.Input,l=n.resources,h=n.KeyCode,p=n.Component},function(n){d=n.maxApiUtils},function(n){v=n.ScreenName},function(n){b=n.PopupMgr},function(n){g=n.Screen}],execute:function(){var m,k,y,w,B,P,S,C,D,L;s._RF.push({},"5bd31koSOhMa6X+466ujhHt","ScreenMgr",void 0);var E=a.ccclass,M=a.property;n("ScreenMgr",(m=E("ScreenMgr"),k=M(o),y=M(o),w=M(c),m(((L=function(n){function e(){for(var e,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e=n.call.apply(n,[this].concat(s))||this,i(e,"container",S,r(e)),i(e,"screens",C,r(e)),i(e,"prefabs",D,r(e)),e.stack=[],e.isOnListeningBackKey=!1,e}t(e,n);var s=e.prototype;return s.onLoad=function(){e.instance=this,u.on(f.EventType.KEY_DOWN,this.OnKeyDown,this),window.addEventListener("message",this.onBackDevicePress.bind(this)),this.setListenDeviceBackBtn(!0)},s.start=function(){},s.isShow=function(n){var e=this.screens.find((function(e){return e.name==n}));return e&&e.active},s.isLoaded=function(n){return this.screens.find((function(e){return e.name==n}))},s.show=function(n){var e=this.screens.find((function(e){return e.name==n}));return e&&!e.active&&e.getComponent(g).show(),e},s.hide=function(n){var e=this.screens.find((function(e){return e.name==n}));e&&e.getComponent(g).hide()},s.hideAll=function(){this.screens.forEach((function(n){n.active&&n.getComponent(g).hide()}))},s.isContain=function(n){var e=!1;return this.screens.forEach((function(t){t.name!=n||(e=!0)})),e},s.load=function(){for(var n=0,e=Object.keys(v);n<e.length;n++){var t=e[n];this.loadPrefab(v[t])}},s.loadPrefab=function(n){var e=this;l.load("prefabs/screens/"+n,(function(n,t){t&&e.prefabs.push(t)}))},s.getPrefab=function(n){return this.prefabs.find((function(e){return e.data.name==n}))},s.back=function(){var n;if(this.stack.length<=1)this.quitGame();else{var e=this.stack.pop().getComponent(g);null==e||e.onBack(),null==e||e.hide(),null==(n=this.stack[this.stack.length-1].getComponent(g))||n.show()}},s.setListenDeviceBackBtn=function(n){this.isOnListeningBackKey=n},s.onBackDevicePress=function(n){var e;!this.isOnListeningBackKey||"onBackPress"!=(null==n?void 0:n.data)&&"onBackPress"!=(null==n||null==(e=n.detail)?void 0:e.data)||b.instance.isShow()||this.back()},s.OnKeyDown=function(n){switch(n.keyCode){case h.ESCAPE:var e=new CustomEvent("message",{bubbles:!0,detail:{data:"onBackPress"}});window.dispatchEvent(e)}},s.quitGame=function(){d.request("quitGame")},e}(p)).instance=null,S=e((P=L).prototype,"container",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(P.prototype,"screens",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(P.prototype,"prefabs",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=P))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/SpineRemote.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,a,i,o,s,l,u,c,p,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,u=e._decorator,c=e.sp,p=e.assetManager,f=e.Texture2D,m=e.Component}],execute:function(){var g,h,d,k,b,y,v,x,S,w,D;l._RF.push({},"ff50e7YUK9LFa+1yRHA5AVJ","SpineRemote",void 0);var R=u.ccclass,z=u.property;e("SpineRemote",(g=R("SpineRemote"),h=z(String),d=z(String),k=z(String),b=z(String),g((x=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"images",x,a(t)),r(t,"ske",S,a(t)),r(t,"atlas",w,a(t)),r(t,"animDefault",D,a(t)),t.skeleton=void 0,t}n(t,e);var l=t.prototype;return l.start=function(){this.skeleton=this.getComponent(c.Skeleton)||this.addComponent(c.Skeleton),this.load()},l.update=function(e){},l.load=function(){var e=i(o().mark((function e(){var t,n,r,a,i,l,u=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=[],r=s(this.images);case 3:if((a=r()).done){e.next=12;break}return i=a.value,e.next=7,this.loadImg(i);case 7:l=e.sent,t.push(l),n.push(i.split("/").pop());case 10:e.next=3;break;case 12:return e.abrupt("return",new Promise((function(e,r){p.loadAny([{url:u.atlas,ext:".txt"},{url:u.ske,ext:".txt"}],(function(r,a){var i=new c.SkeletonData;i.skeletonJson=a[1],i.atlasText=a[0],i.textures=t,i.textureNames=n,u.skeleton.skeletonData=i,u.skeleton.animation=u.animDefault,e(u.skeleton)}))})));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.loadImg=function(e){return new Promise((function(t,n){p.loadRemote(e,(function(e,n){if(e)t(null);else{var r=new f;r.image=n,t(r)}}))}))},t}(m)).prototype,"images",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=t(v.prototype,"ske",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(v.prototype,"atlas",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(v.prototype,"animDefault",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),y=v))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/TimeMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./Api.ts","./define.ts","./GameMgr.ts"],(function(e){"use strict";var t,i,n,s,r,c,o,a,m;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,s=e._decorator,r=e.Component},function(e){c=e.default},function(e){o=e.SocketDefine},function(e){a=e.EventName},function(e){m=e.GameMgr}],execute:function(){var u,l;n._RF.push({},"4f706WF3iVIyYTMeP8gPqgg","TimeMgr",void 0);var h=s.ccclass;s.property,e("TimeMgr",h("TimeMgr")(((l=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).syncTimeDuration=1,t.syncPeriod=2,t.syncTimeBound=0,t.localTimeSyncDuration=0,t.serverTimeSyncDuration=0,t.lastSyncTime=0,t.lastServerTime=0,t.timeBeforeSync=0,t.elapsedTimeFromLastRequest=Number.MAX_VALUE,t.startupTime=Date.now(),t}t(n,e);var s=n.prototype;return s.onLoad=function(){n.instance=this},s.start=function(){c.on(a.onPing,this.synchronize,this)},s.reset=function(){this.syncTimeBound=0,this.localTimeSyncDuration=0,this.serverTimeSyncDuration=0,this.lastSyncTime=0,this.realtimeSinceStartup(),this.lastServerTime=0,this.timeBeforeSync=0,this.elapsedTimeFromLastRequest=Number.MAX_VALUE},s.update=function(e){m.instance.isPingReady&&(this.elapsedTimeFromLastRequest>this.syncPeriod?(this.elapsedTimeFromLastRequest=0,this.timeBeforeSync=this.realtimeSinceStartup(),m.instance.requestServerTime()):this.elapsedTimeFromLastRequest+=e,0!=this.lastSyncTime&&this.realtimeSinceStartup()-this.lastSyncTime>o.lostConnectionTime&&console.log("Lost connection"))},s.synchronize=function(e,t){var i=this.realtimeSinceStartup();if(this.lastServerTime>0){var n=i-this.timeBeforeSync,s=this.serverTime,r=e+n/2;this.syncTimeBound=r>s?r+this.syncTimeDuration:s+this.syncTimeDuration,this.localTimeSyncDuration=this.syncTimeBound-s,this.serverTimeSyncDuration=this.syncTimeBound-r,this.lastServerTime=r}else this.lastServerTime=e;this.lastSyncTime=i},s.realtimeSinceStartup=function(){return Date.now()-this.startupTime},i(n,[{key:"serverTime",get:function(){var e=this.localTime;return e>=this.syncTimeBound?e:this.syncTimeBound-this.localTimeSyncDuration*((this.syncTimeBound-e)/this.serverTimeSyncDuration)}},{key:"localTime",get:function(){return this.lastServerTime+this.realtimeSinceStartup()-this.lastSyncTime}}]),n}(r)).instance=null,u=l))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/TimePicker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimeMgr.ts","./GameDefine.ts","./GamePlayUI.ts"],(function(e){"use strict";var i,t,r,n,o,s,c,p,a,l,u,h,P,f,E,T;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,c=e.UITransformComponent,p=e.Node,a=e.Sprite,l=e.Size,u=e.Color,h=e.tween,P=e.Component},function(e){f=e.TimeMgr},function(e){E=e.GameDefine},function(e){T=e.GamePlayUI}],execute:function(){var m,I,k,_,R,w,M,d,v,b,g,U,y,C;o._RF.push({},"13d41+BXvxBh6awQ1WMed20","TimePicker",void 0);var S=s.ccclass,A=s.property;e("TimePicker",(m=S("TimePicker"),I=A(c),k=A(c),_=A(c),R=A(p),w=A(a),m(((C=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o))||this,r(i,"perfectUI",v,n(i)),r(i,"coolUI",b,n(i)),r(i,"pickerUI",g,n(i)),r(i,"picker",U,n(i)),r(i,"pickerSprite",y,n(i)),i.startTime=0,i.endTime=0,i.perfectTime=0,i.tweenMove=null,i.pickerPosition=0,i.currentPickerPosition=0,i.perfectPosition=0,i}t(i,e);var o=i.prototype;return o.setInfo=function(e){this.startTime=e.startTime,this.endTime=e.endTime,this.perfectTime=e.perfectTime;var t=this.perfectTime/E.TIME_PICKER_PHASE_RANGE*i.with;this.perfectPosition=t,this.perfectUI.node.setPosition(t,0,0),this.coolUI.node.setPosition(t,0,0);var r=2*E.PERFECT_TIME_RANGE/E.TIME_PICKER_PHASE_RANGE*i.with;this.perfectUI.setContentSize(new l(r,i.height));var n=2*(E.COOL_TIME_RANGE+E.PERFECT_TIME_RANGE)/E.TIME_PICKER_PHASE_RANGE*i.with;this.coolUI.setContentSize(new l(n,i.height))},o.update=function(e){0!=this.startTime&&(f.instance.serverTime>=this.endTime&&this.reset());this.currentPickerPosition>=this.perfectPosition-E.PERFECT_TIME_RANGE&&this.currentPickerPosition<=this.perfectPosition+E.PERFECT_TIME_RANGE?this.pickerSprite.color=u.GREEN:this.pickerSprite.color=u.RED},o.updatePickerPosition=function(e){var t=this;this.pickerPosition!=e&&(this.pickerPosition=e,this.tweenMove&&this.tweenMove.stop(),this.tweenMove=h({position:this.currentPickerPosition}).to(E.SERVER_TIME_PER_FRAME,{position:this.pickerPosition},{onUpdate:function(e,r){t.currentPickerPosition=e.position,t.pickerUI.setContentSize(new l(e.position,i.height))}}).call((function(){t.tweenMove=null})).start())},o.reset=function(){this.startTime=0,this.endTime=0,this.perfectTime=0,T.instance.nextTimePicker(),this.currentPickerPosition=0,this.pickerPosition=0,this.pickerUI.setContentSize(new l(0,i.height))},i}(P)).with=600,C.height=29,v=i((d=C).prototype,"perfectUI",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=i(d.prototype,"coolUI",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=i(d.prototype,"pickerUI",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(d.prototype,"picker",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(d.prototype,"pickerSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=d))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/TrimBase64.ts",["cc"],(function(t){"use strict";var e,a;return{setters:[function(t){e=t.cclegacy,a=t._decorator}],execute:function(){var n;e._RF.push({},"9ec58QKtIZA8IXWjqzQ4DKQ","TrimBase64",void 0);var r=a.ccclass;a.property,t("TrimBase64",r("TrimBase64")(n=function(){function t(){}return t.trimCanvas=function(t){var e,a,n,r=t.getContext("2d"),o=document.createElement("canvas").getContext("2d"),l=r.getImageData(0,0,t.width,t.height),i=l.data.length,c={top:null,left:null,right:null,bottom:null};for(e=0;e<i;e+=4)0!==l.data[e+3]&&(a=e/4%t.width,n=~~(e/4/t.width),null===c.top&&(c.top=n),(null===c.left||a<c.left)&&(c.left=a),(null===c.right||c.right<a)&&(c.right=a),(null===c.bottom||c.bottom<n)&&(c.bottom=n));var u=c.bottom-c.top+1,s=c.right-c.left+1,g=r.getImageData(c.left,c.top,s,u);return o.canvas.width=s,o.canvas.height=u,o.putImageData(g,0,0),o.canvas},t}())||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,r,o,i,u,c,a;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,r=t.ParticleSystem,o=t.UITransform,i=t.Sprite,u=t.Quat,c=t.Vec3,a=t.math}],execute:function(){e._RF.push({},"10e5ec48SRIkIMCKunjzFih","Utils",void 0);t("utils",new(function(){function t(){this.getAngleFrom2Vec=function(t,n){var e=Math.atan2(n.y-t.y,n.x-t.x);return e<0&&(e=2*Math.PI+e),180*e/Math.PI}}var e=t.prototype;return e.PlayParticle=function(t){t.play(),t.getComponentsInChildren(r).forEach((function(t){t.play()}))},e.StopParticle=function(t){t.stop(),t.getComponentsInChildren(r).forEach((function(t){t.stop()}))},e.toLocalString=function(t){return(t=Math.round(t)).toLocaleString().replace(/","/g,".")},e.formatScore=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},e.cloneObject=function(t){for(var n=Object.keys(t),e=Object.create(null),r=0,o=n.length;r<o;r++)e[n[r]]=t[n[r]];return e},e.setSpriteFrame=function(t,n){var e=t.node.getComponent(o).contentSize;t.spriteFrame.texture=n,t.sizeMode=i.SizeMode.RAW,t.node.getComponent(o).setContentSize(e)},e.getTime=function(t){var n=function(t){return t<10?"0"+t:t};return n(t.getHours())+":"+n(t.getMinutes())+":"+n(t.getSeconds())},e.getDateTimeVN=function(t){var n=function(t){return t<10?"0"+t:t};return""+[n(t.getDate()),n(t.getMonth()+1),t.getFullYear()].join("/")},e.destroyAllChild=function(t){t.children.forEach((function(t){t.destroy()})),t.removeAllChildren()},e.putChildToPool=function(t,n,e){if(void 0===e&&(e=null),0!=t.length)for(;t.length>0;){var r=t[0];e&&e(r),n.put(r)}},e.truncate=function(t,n){var e=t.split(" ");return e.length>n?e.splice(0,n).join(" ")+"...":t},e.rotationAroundNode=function(t,n,e,r){var o=new u,i=new c,l=new c,s=t.position,f=a.toRadian(r);return u.fromAxisAngle(o,e,f),c.subtract(i,s,n),c.transformQuat(l,i,o),t.position=c.add(l,n,l),u.rotateAround(o,t.rotation,e,f),o},e.trimName=function(t,n){return t.split(" ").splice(-n).join(" ")},n(t,[{key:"uuid",get:function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var e=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==n?e:3&e|8).toString(16)}))}}]),t}()));e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});